<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q-moren9</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#Macroprogramming">Macro programming</a> &gt; <a href="index.html#ldquoGenericrdquomacrosandtechniques">&ldquo;Generic&rdquo; macros and techniques</a> &gt; <a href="index.html#Q-moren9">How to break the 9-argument limit</a><h1>How to break the 9-argument limit</h1>


<p>

<p>
If you think about it, you will realise that Knuth&rsquo;s command
definition syntax:
<blockquote>
<pre>
\def\blah#1#2 ... #9{<macro body>}
</pre>
</blockquote>
is intrinsically limited to just 9 arguments.  There&rsquo;s no direct way
round this: how would you express a 10th argument?&nbsp;&mdash; and ensure that
the syntax didn&rsquo;t gobble some other valid usage?

<p>
If you really must have more than 9 arguments, the way to go is:
<blockquote>
<pre>
\def\blah#1#2 ... #9{%
  \def\ArgI{{#1}}%
  \def\ArgII{{#2}}%
  ...
  \def\ArgIX{{#9}}%
  \BlahRelay
}
\def\BlahRelay#1#2#3{%
  % arguments 1-9 are now in
  %   \ArgI-\ArgIX
  % arguments 10-12 are in
  %   #1-#3
  <macro body>%
}
</pre>
</blockquote>
This technique is easily extendible by concert pianists of the TeX
keyboard, but is really hard to recommend.

<p>
LaTeX users have the small convenience of merely giving a number of
arguments in the <code>&#x5c;newcommand</code> that defines each part of the
relaying mechanism: Knuth&rsquo;s restriction applies to <code>&#x5c;newcommand</code>
just as it does to <code>&#x5c;def</code>.  However, LaTeX users also have the
way out of such barbarous command syntax: the <i class="package">keyval</i>
package.  With <i class="package">keyval</i>, and a bit of programming, one can
write really quite sophisticated commands, whose invocation might look
like:
<blockquote>
<pre>
\flowerinstance{species=Primula veris,
  family=Primulaceae,
  location=Coldham's Common,
  locationtype=Common grazing land,
  date=1995/04/24,
  numplants=50,
  soiltype=alkaline
}
</pre>
</blockquote>
The merit of such verbosity is that it is self-explanatory: the typist
doesn&rsquo;t have to remember that argument twelve is <code class="verb">soiltype</code>, and so
on: the commands may be copied from field notes quickly and
accurately.
<dl>
<dt class="ctanref">keyval.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/keyval">graphics</a>
</dl>

<p>
        * faq-mac-prog.tex (q-keyval): tweak words about getoptk

<p>
