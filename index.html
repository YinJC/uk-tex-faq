<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>UKTUG FAQ</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<h1>Welcome to the UK List of<br>
TeX Frequently Asked Questions</h1>
<script>  (function() {var cx = '012439869432470945129:rdb1e0hqrou';var gcse = document.createElement('script');gcse.type = 'text/javascript';gcse.async = true;gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +'//cse.google.com/cse.js?cx=' + cx;var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(gcse, s);})();
</script>
<div class="gcse-search"></div>
<p>

 
<h2>Introduction</h2>

<p>
This is a set of Frequently Asked Questions (FAQ) for
English-speaking users of TeX.

<p>
The questions answered here cover a wide range of topics, but
typesetting issues are mostly covered from the viewpoint of a LaTeX
user.  Some of the questions answered have little relevance to today&rsquo;s
users; this is inevitable&nbsp;&mdash; it&rsquo;s easier to add information than it
is to decide that information is no longer needed.  The set of
answered questions is therefore in a state of slow flux: new questions
are answered, while old questions are deleted&nbsp;&hellip;&nbsp;but the whole
process depends on the time available for FAQ maintenance.

<p>
 You may use the FAQ
<ul>
<li> by reading a printed document,
<li> by viewing a PDF file, with hyperlinks to assist
  browsing: copies are available formatted so that they could be
  printed on <a href="http://www.ctan.org/tex-archive/help/uk-tex-faq/newfaq.pdf">A4 paper</a> or on 
  <a href="http://www.ctan.org/tex-archive/help/uk-tex-faq/letterfaq.pdf">North American &ldquo;letter&rdquo; paper</a>, or






<li> via Scott Pakin&rsquo;s <a href="http://www.ctan.org/tex-archive/info/visualFAQ/visualFAQ.pdf">Visual FAQ</a>, which shows
  LaTeX constructions with links to FAQ explanations of how
  they may be created.
</ul>

<p>
<h3>Licence of the FAQ</h3>

<p>
The source of the FAQ, available in the 
<a href="http://www.ctan.org/pkg/uk-tex-faq">FAQ's CTAN directory</a>, and its derived
representations (currently, the HTML found at
<a href="http://www.tex.ac.uk/faq">http://www.tex.ac.uk/faq</a> and PDF copies, also in the

<a href="http://www.ctan.org/pkg/uk-tex-faq">FAQ's CTAN directory</a>) are all placed in the
public domain.

<p>
<h3>Finding the Files</h3>





















Almost all files suggested in any answer in these FAQs are
available from <a href="FAQ-archives.html">CTAN archives</a>, and may be
reached via links in the file list at the end of the answer.  In
particular, documentation (when available) is linked from the
CTAN Catalogue entry, which is also listed in the file list.

<p>
Unless doing so is unavoidable, the answers do not mention things that
are not on the CTAN archives.  An obvious exception is web
resources such as supplementary documents, etc.


<p>




  <b>Origins</b>

The FAQ was originated by the Committee of the UK
TeX Users&rsquo; Group (UK&nbsp;TUG), in 1994, as a development of a
regular posting to the <em>Usenet</em> newsgroup
<i class="newsgroup">comp.text.tex</i> that was maintained for some time by Bobby
Bodenheimer.  The first UK version was much re-arranged and
corrected from the original, and little of Bodenheimer&rsquo;s work now
remains.

<p>












































































































<div class="toc">
<ul>
  <li class="tocsec" id="TheBackground"><span>The Background</span>
      <li class="tocqn" id="Q-startup"><a href="FAQ-startup.html">Getting started</a></li>
      <li class="tocqn" id="Q-whatTeX"><a href="FAQ-whatTeX.html">What is TeX?</a></li>
      <li class="tocqn" id="Q-plaintex"><a href="FAQ-plaintex.html">What&rsquo;s &ldquo;writing in TeX&rdquo;?</a></li>
      <li class="tocqn" id="Q-TeXpronounce"><a href="FAQ-TeXpronounce.html">How should I pronounce &ldquo;TeX&rdquo;?</a></li>
      <li class="tocqn" id="Q-MF"><a href="FAQ-MF.html">What is MetaFont?</a></li>
      <li class="tocqn" id="Q-MP"><a href="FAQ-MP.html">What is MetaPost?</a></li>
      <li class="tocqn" id="Q-texthings"><a href="FAQ-texthings.html">Things with &ldquo;TeX&rdquo; in the name</a></li>
      <li class="tocqn" id="Q-ctan"><a href="FAQ-ctan.html">What is CTAN?</a></li>
      <li class="tocqn" id="Q-catalogue"><a href="FAQ-catalogue.html">The (CTAN) catalogue</a></li>
      <li class="tocqn" id="Q-triptrap"><a href="FAQ-triptrap.html">How can I be sure it&rsquo;s really TeX?</a></li>
      <li class="tocqn" id="Q-etex"><a href="FAQ-etex.html">What is e-TeX?</a></li>
      <li class="tocqn" id="Q-whatpdftex"><a href="FAQ-whatpdftex.html">What is PDFTeX?</a></li>
      <li class="tocqn" id="Q-latex"><a href="FAQ-latex.html">What is LaTeX?</a></li>
      <li class="tocqn" id="Q-latex2e"><a href="FAQ-latex2e.html">What is LaTeX 2e?</a></li>
      <li class="tocqn" id="Q-latexpronounce"><a href="FAQ-latexpronounce.html">How should I pronounce &ldquo;LaTeX(2<sub>&epsilon;</sub>)&rdquo;?</a></li>
      <li class="tocqn" id="Q-plainvltx"><a href="FAQ-plainvltx.html">Should I use Plain TeX or LaTeX?</a></li>
      <li class="tocqn" id="Q-LaTeXandPlain"><a href="FAQ-LaTeXandPlain.html">How does LaTeX relate to Plain TeX?</a></li>
      <li class="tocqn" id="Q-context"><a href="FAQ-context.html">What is Context?</a></li>
      <li class="tocqn" id="Q-AMSpkg"><a href="FAQ-AMSpkg.html">What are the AMS packages (AMSTeX, <em>etc</em>.)?</a></li>
      <li class="tocqn" id="Q-eplain"><a href="FAQ-eplain.html">What is Eplain?</a></li>
      <li class="tocqn" id="Q-texinfo"><a href="FAQ-texinfo.html">What is Texinfo?</a></li>
      <li class="tocqn" id="Q-lollipop"><a href="FAQ-lollipop.html">Lollipop</a></li>
      <li class="tocqn" id="Q-whyfree"><a href="FAQ-whyfree.html">If TeX is so good, how come it&rsquo;s free?</a></li>
      <li class="tocqn" id="Q-TeXfuture"><a href="FAQ-TeXfuture.html">What is the future of TeX?</a></li>
      <li class="tocqn" id="Q-readtex"><a href="FAQ-readtex.html">Reading (La)TeX files</a></li>
      <li class="tocqn" id="Q-notWYSIWYG"><a href="FAQ-notWYSIWYG.html">Why is TeX not a WYSIWYG system?</a></li>
      <li class="tocqn" id="Q-TUGstar"><a href="FAQ-TUGstar.html">TeX User Groups</a></li>
  <li class="tocsec" id="DocumentationandHelp"><span>Documentation and Help</span>
      <li class="tocqn" id="Q-book-lists"><a href="FAQ-book-lists.html">Books relevant to TeX and friends</a></li>
      <li class="tocqn" id="Q-tex-books"><a href="FAQ-tex-books.html">Books on TeX, Plain TeX and relations</a></li>
      <li class="tocqn" id="Q-latex-books"><a href="FAQ-latex-books.html">Books on LaTeX</a></li>
      <li class="tocqn" id="Q-other-books"><a href="FAQ-other-books.html">Books on other TeX-related matters</a></li>
      <li class="tocqn" id="Q-type-books"><a href="FAQ-type-books.html">Books on Type</a></li>
      <li class="tocqn" id="Q-whereFAQ"><a href="FAQ-whereFAQ.html">Where to find FAQs</a></li>
      <li class="tocqn" id="Q-gethelp"><a href="FAQ-gethelp.html">Getting help online</a></li>
      <li class="tocqn" id="Q-maillistsstar"><a href="FAQ-maillistsstar.html">Specialist mailing lists</a></li>
      <li class="tocqn" id="Q-askquestion"><a href="FAQ-askquestion.html">How to ask a question</a></li>
      <li class="tocqn" id="Q-minxampl"><a href="FAQ-minxampl.html">How to make a &ldquo;minimum example&rdquo;</a></li>
      <li class="tocqn" id="Q-tutorialsstar"><a href="FAQ-tutorialsstar.html">Tutorials, etc., for TeX-based systems</a></li>
      <li class="tocqn" id="Q-man-tex"><a href="FAQ-man-tex.html">Online introductions: Plain TeX</a></li>
      <li class="tocqn" id="Q-man-latex"><a href="FAQ-man-latex.html">Online introductions: LaTeX</a></li>
      <li class="tocqn" id="Q-tutbitslatex"><a href="FAQ-tutbitslatex.html">(La)TeX tutorials</a></li>
      <li class="tocqn" id="Q-ref-doc"><a href="FAQ-ref-doc.html">Reference documents</a></li>
      <li class="tocqn" id="Q-doc-wiki"><a href="FAQ-doc-wiki.html">WIKI books for TeX and friends</a></li>
      <li class="tocqn" id="Q-typo-style"><a href="FAQ-typo-style.html">Typography tutorials</a></li>
      <li class="tocqn" id="Q-ol-books"><a href="FAQ-ol-books.html">Freely available (La)TeX books</a></li>
      <li class="tocqn" id="Q-pkgdoc"><a href="FAQ-pkgdoc.html">Documentation of packages</a></li>
      <li class="tocqn" id="Q-writecls"><a href="FAQ-writecls.html">Learning to write LaTeX classes and packages</a></li>
      <li class="tocqn" id="Q-latex3-prog"><a href="FAQ-latex3-prog.html">LaTeX3 programming</a></li>
      <li class="tocqn" id="Q-mfptutorials"><a href="FAQ-mfptutorials.html">MetaFont and MetaPost Tutorials</a></li>
      <li class="tocqn" id="Q-BibTeXing"><a href="FAQ-BibTeXing.html">BibTeX Documentation</a></li>
      <li class="tocqn" id="Q-symbols"><a href="FAQ-symbols.html">Where can I find the symbol for&thinsp;&hellip;</a></li>
      <li class="tocqn" id="Q-docpictex"><a href="FAQ-docpictex.html">The PicTeX manual</a></li>
  <li class="tocsec" id="BitsandpiecesofLaTeX"><span>Bits and pieces of (La)TeX</span>
      <li class="tocqn" id="Q-dvi"><a href="FAQ-dvi.html">What is a DVI file?</a></li>
      <li class="tocqn" id="Q-driver"><a href="FAQ-driver.html">What is a DVI driver?</a></li>
      <li class="tocqn" id="Q-pk"><a href="FAQ-pk.html">What are PK files?</a></li>
      <li class="tocqn" id="Q-tfm"><a href="FAQ-tfm.html">What are TFM files?</a></li>
      <li class="tocqn" id="Q-virtualfonts"><a href="FAQ-virtualfonts.html">What are virtual fonts?</a></li>
      <li class="tocqn" id="Q-whatmacros"><a href="FAQ-whatmacros.html">What are (TeX) macros</a></li>
      <li class="tocqn" id="Q-specials"><a href="FAQ-specials.html"><code>&#x5c;special</code> commands</a></li>
      <li class="tocqn" id="Q-write"><a href="FAQ-write.html">Writing (text) files from TeX</a></li>
      <li class="tocqn" id="Q-spawnprog"><a href="FAQ-spawnprog.html">Spawning programs from (La)TeX: <code>&#x5c;write18</code></a></li>
      <li class="tocqn" id="Q-hyphen"><a href="FAQ-hyphen.html">How does hyphenation work in TeX?</a></li>
      <li class="tocqn" id="Q-clsvpkg"><a href="FAQ-clsvpkg.html">What are LaTeX classes and packages?</a></li>
      <li class="tocqn" id="Q-whatenv"><a href="FAQ-whatenv.html">What are LaTeX &ldquo;environments&rdquo;</a></li>
      <li class="tocqn" id="Q-dtx"><a href="FAQ-dtx.html">Documented LaTeX sources (<code class="extension">dtx</code> files)</a></li>
      <li class="tocqn" id="Q-whatenc"><a href="FAQ-whatenc.html">What are encodings?</a></li>
      <li class="tocqn" id="Q-ECfonts"><a href="FAQ-ECfonts.html">What are the EC fonts?</a></li>
      <li class="tocqn" id="Q-unicode"><a href="FAQ-unicode.html">Unicode and TeX</a></li>
      <li class="tocqn" id="Q-tds"><a href="FAQ-tds.html">What is the TDS?</a></li>
      <li class="tocqn" id="Q-eps"><a href="FAQ-eps.html">What is &ldquo;Encapsulated PostScript&rdquo; (&ldquo;EPS&rdquo;)?</a></li>
      <li class="tocqn" id="Q-adobetypen"><a href="FAQ-adobetypen.html">Adobe font formats</a></li>
      <li class="tocqn" id="Q-resolns"><a href="FAQ-resolns.html">What are &ldquo;resolutions&rdquo;?</a></li>
      <li class="tocqn" id="Q-fontname"><a href="FAQ-fontname.html">What is the &ldquo;Berry naming scheme&rdquo;?</a></li>
  <li class="tocsec" id="AcquiringtheSoftware"><span>Acquiring the Software</span>
      <li class="tocqn" id="Q-archives"><a href="FAQ-archives.html">Repositories of TeX material</a></li>
      <li class="tocqn" id="Q-tds-zip"><a href="FAQ-tds-zip.html">Ready-built installation files on the archive</a></li>
      <li class="tocqn" id="Q-nonfree"><a href="FAQ-nonfree.html">What was the CTAN <tt>nonfree</tt> tree?</a></li>
      <li class="tocqn" id="Q-uploads"><a href="FAQ-uploads.html">Contributing a file to the archives</a></li>
      <li class="tocqn" id="Q-findfiles"><a href="FAQ-findfiles.html">Finding (La)TeX files</a></li>
      <li class="tocqn" id="Q-findfont"><a href="FAQ-findfont.html">Finding new fonts</a></li>
      <li class="tocqn" id="Q-CD"><a href="FAQ-CD.html">The TeX collection</a></li>
  <li class="tocsec" id="TeXSystems"><span>TeX Systems</span>
      <li class="tocqn" id="Q-TeXsystems"><a href="FAQ-TeXsystems.html">(La)TeX for different machines</a></li>
      <li class="tocqn" id="Q-sysunix"><a href="FAQ-sysunix.html">Unix and GNU Linux systems</a></li>
      <li class="tocqn" id="Q-syswin32"><a href="FAQ-syswin32.html">(Modern) Windows systems</a></li>
      <li class="tocqn" id="Q-sysmac"><a href="FAQ-sysmac.html">Macintosh systems</a></li>
      <li class="tocqn" id="Q-sysother"><a href="FAQ-sysother.html">Other systems&rsquo; TeX availability</a></li>
      <li class="tocqn" id="Q-editors"><a href="FAQ-editors.html">TeX-friendly editors and shells</a></li>
      <li class="tocqn" id="Q-commercial"><a href="FAQ-commercial.html">Commercial TeX implementations</a></li>
  <li class="tocsec" id="DVIDriversandPreviewers"><span>DVI Drivers and Previewers</span>
      <li class="tocqn" id="Q-dvips"><a href="FAQ-dvips.html">DVI to PostScript conversion programs</a></li>
      <li class="tocqn" id="Q-HPdrivers"><a href="FAQ-HPdrivers.html">DVI drivers for HP LaserJet</a></li>
      <li class="tocqn" id="Q-otherprinters"><a href="FAQ-otherprinters.html">Output to &ldquo;other&rdquo; printers</a></li>
      <li class="tocqn" id="Q-previewers"><a href="FAQ-previewers.html">DVI previewers</a></li>
      <li class="tocqn" id="Q-dvi-bmp"><a href="FAQ-dvi-bmp.html">Generating bitmaps from DVI</a></li>
  <li class="tocsec" id="SupportPackagesforTeX"><span>Support Packages for TeX</span>
      <li class="tocqn" id="Q-xfigetc"><a href="FAQ-xfigetc.html">(La)TeX-friendly drawing packages</a></li>
      <li class="tocqn" id="Q-texcad"><a href="FAQ-texcad.html">TeXCAD, a drawing package for LaTeX</a></li>
      <li class="tocqn" id="Q-spell"><a href="FAQ-spell.html">Spelling checkers for work with TeX</a></li>
      <li class="tocqn" id="Q-wordcount"><a href="FAQ-wordcount.html">How many words have you written?</a></li>
  <li class="tocsec" id="Literateprogramming"><span>Literate programming</span>
      <li class="tocqn" id="Q-lit"><a href="FAQ-lit.html">What is Literate Programming?</a></li>
      <li class="tocqn" id="Q-webpkgs"><a href="FAQ-webpkgs.html">WEB systems for various languages</a></li>
  <li class="tocsec" id="Formatconversions"><span>Format conversions</span>
      <li class="tocqn" id="Q-toascii"><a href="FAQ-toascii.html">Conversion from (La)TeX to plain text</a></li>
      <li class="tocqn" id="Q-SGML2TeX"><a href="FAQ-SGML2TeX.html">Conversion from SGML or HTML to TeX</a></li>
      <li class="tocqn" id="Q-LaTeX2HTML"><a href="FAQ-LaTeX2HTML.html">Conversion from (La)TeX to HTML</a></li>
      <li class="tocqn" id="Q-fmtconv"><a href="FAQ-fmtconv.html">Other conversions to and from (La)TeX</a></li>
      <li class="tocqn" id="Q-readML"><a href="FAQ-readML.html">Using TeX to read SGML or XML directly</a></li>
      <li class="tocqn" id="Q-recovertex"><a href="FAQ-recovertex.html">Retrieving (La)TeX from DVI, etc.</a></li>
      <li class="tocqn" id="Q-LaTeXtoPlain"><a href="FAQ-LaTeXtoPlain.html">Translating LaTeX to Plain TeX</a></li>
  <li class="tocsec" id="InstallingLaTeXfiles"><span>Installing (La)TeX files</span>
      <li class="tocqn" id="Q-installthings"><a href="FAQ-installthings.html">Installing things on a (La)TeX system</a></li>
      <li class="tocqn" id="Q-install-find"><a href="FAQ-install-find.html">Finding packages to install</a></li>
      <li class="tocqn" id="Q-install-unpack"><a href="FAQ-install-unpack.html">Unpacking LaTeX packages</a></li>
      <li class="tocqn" id="Q-install-doc"><a href="FAQ-install-doc.html">Generating package documentation</a></li>
      <li class="tocqn" id="Q-inst-wlcf"><a href="FAQ-inst-wlcf.html">Installing files &ldquo;where (La)TeX can find them&rdquo;</a></li>
      <li class="tocqn" id="Q-what-TDS"><a href="FAQ-what-TDS.html">Which tree to use</a></li>
      <li class="tocqn" id="Q-install-where"><a href="FAQ-install-where.html">Where to install packages</a></li>
      <li class="tocqn" id="Q-inst-tidy"><a href="FAQ-inst-tidy.html">Tidying up after installation</a></li>
      <li class="tocqn" id="Q-inst-scut"><a href="FAQ-inst-scut.html">Shortcuts to installing files</a></li>
      <li class="tocqn" id="Q-inst-miktexstar"><a href="FAQ-inst-miktexstar.html">Installation using MiKTeX package manager</a></li>
      <li class="tocqn" id="Q-inst-texlive"><a href="FAQ-inst-texlive.html">Installation using texlive manager</a></li>
      <li class="tocqn" id="Q-inst-tds-zip"><a href="FAQ-inst-tds-zip.html">Installing using ready-built ZIP files</a></li>
      <li class="tocqn" id="Q-tempinst"><a href="FAQ-tempinst.html">&ldquo;Temporary&rdquo; installation of (La)TeX files</a></li>
      <li class="tocqn" id="Q-privinst"><a href="FAQ-privinst.html">&ldquo;Private&rdquo; installations of files</a></li>
      <li class="tocqn" id="Q-instfont"><a href="FAQ-instfont.html">Installing a new font</a></li>
      <li class="tocqn" id="Q-instmffont"><a href="FAQ-instmffont.html">Installing a font provided as MetaFont source</a></li>
      <li class="tocqn" id="Q-instprinterfont"><a href="FAQ-instprinterfont.html">&lsquo;Installing&rsquo; a PostScript printer built-in font</a></li>
      <li class="tocqn" id="Q-prept1font"><a href="FAQ-prept1font.html">Preparing a Type&nbsp;1 font</a></li>
      <li class="tocqn" id="Q-instt1font"><a href="FAQ-instt1font.html">Installing a Type&nbsp;1 font</a></li>
      <li class="tocqn" id="Q-inst1cm"><a href="FAQ-inst1cm.html">Installing the Type&nbsp;1 versions of the CM&nbsp;fonts</a></li>
  <li class="tocsec" id="Fonts"><span>Fonts</span>
    <li class="tocsubsec" id="AdobeTypenbspldquoPostScriptrdquofonts"><span>Adobe Type&nbsp;1 (&ldquo;PostScript&rdquo;) fonts</span>
      <li class="tocqn" id="Q-usepsfont"><a href="FAQ-usepsfont.html">Using Adobe Type 1 fonts with TeX</a></li>
      <li class="tocqn" id="Q-PSpreview"><a href="FAQ-PSpreview.html">Previewing files using Type 1 fonts</a></li>
      <li class="tocqn" id="Q-metrics"><a href="FAQ-metrics.html">TeX font metric files for Type 1 fonts</a></li>
      <li class="tocqn" id="Q-psfontprob"><a href="FAQ-psfontprob.html">Deploying Type 1 fonts</a></li>
      <li class="tocqn" id="Q-psfchoice"><a href="FAQ-psfchoice.html">Choice of Type&nbsp;1 fonts for typesetting Maths</a></li>
      <li class="tocqn" id="Q-otf-maths"><a href="FAQ-otf-maths.html">Unicode Maths using OpenType fonts</a></li>
      <li class="tocqn" id="Q-charshift"><a href="FAQ-charshift.html">Weird characters in <i class="progname">dvips</i> output</a></li>
    <li class="tocsubsec" id="Macrosforusingfonts"><span>Macros for using fonts</span>
      <li class="tocqn" id="Q-fonts-pln"><a href="FAQ-fonts-pln.html">Using non-standard fonts in Plain TeX</a></li>
    <li class="tocsubsec" id="Particularfontfamilies"><span>Particular font families</span>
      <li class="tocqn" id="Q-concrete"><a href="FAQ-concrete.html">Using the &ldquo;Concrete&rdquo; fonts</a></li>
      <li class="tocqn" id="Q-uselmfonts"><a href="FAQ-uselmfonts.html">Using the Latin Modern fonts</a></li>
      <li class="tocqn" id="Q-getnff"><a href="FAQ-getnff.html">Getting &lsquo;free&rsquo; fonts not in your distribution</a></li>
    <li class="tocsubsec" id="MetaFontfonts"><span>MetaFont fonts</span>
      <li class="tocqn" id="Q-useMF"><a href="FAQ-useMF.html">Getting MetaFont to do what you want</a></li>
      <li class="tocqn" id="Q-keepfonts"><a href="FAQ-keepfonts.html">Which font files should be kept</a></li>
      <li class="tocqn" id="Q-getbitmap"><a href="FAQ-getbitmap.html">Acquiring bitmap fonts</a></li>
  <li class="tocsec" id="HypertextandPDF"><span>Hypertext and PDF</span>
      <li class="tocqn" id="Q-acrobat"><a href="FAQ-acrobat.html">Making PDF documents from (La)TeX</a></li>
      <li class="tocqn" id="Q-hyper"><a href="FAQ-hyper.html">Making hypertext documents from TeX</a></li>
      <li class="tocqn" id="Q-hypertex"><a href="FAQ-hypertex.html">The <em>hyperTeX</em> project</a></li>
      <li class="tocqn" id="Q-dvips-pdf"><a href="FAQ-dvips-pdf.html">Quality of PDF from PostScript</a></li>
      <li class="tocqn" id="Q-fuzzy-type3"><a href="FAQ-fuzzy-type3.html">The wrong type of fonts in PDF</a></li>
      <li class="tocqn" id="Q-fuzzy-gs"><a href="FAQ-fuzzy-gs.html">Fuzzy fonts because <i class="progname">Ghostscript</i> too old</a></li>
      <li class="tocqn" id="Q-fuzzy-T1"><a href="FAQ-fuzzy-T1.html">Fonts go fuzzy when you switch to T1</a></li>
      <li class="tocqn" id="Q-distill-prob"><a href="FAQ-distill-prob.html">Characters missing from PDF output</a></li>
      <li class="tocqn" id="Q-type1T1"><a href="FAQ-type1T1.html">Finding &lsquo;8-bit&rsquo; Type&nbsp;1 fonts</a></li>
      <li class="tocqn" id="Q-pkfix"><a href="FAQ-pkfix.html">Replacing Type 3 fonts in PostScript</a></li>
      <li class="tocqn" id="Q-pdfpagelabels"><a href="FAQ-pdfpagelabels.html"><i class="package">Hyperref</i> and repeated page numbers</a></li>
      <li class="tocqn" id="Q-cpy-srchpdf"><a href="FAQ-cpy-srchpdf.html">Copy-paste-able/searchable PDF files</a></li>
  <li class="tocsec" id="Graphics"><span>Graphics</span>
      <li class="tocqn" id="Q-impgraph"><a href="FAQ-impgraph.html">Importing graphics into (La)TeX documents</a></li>
      <li class="tocqn" id="Q-dvipsgraphics"><a href="FAQ-dvipsgraphics.html">Imported graphics in <i class="progname">dvips</i></a></li>
      <li class="tocqn" id="Q-pdftexgraphics"><a href="FAQ-pdftexgraphics.html">Imported graphics in PDFLaTeX</a></li>
      <li class="tocqn" id="Q-dvipdfmgraphics"><a href="FAQ-dvipdfmgraphics.html">Imported graphics in <i class="progname">dvipdfm</i></a></li>
      <li class="tocqn" id="Q-grffilenames"><a href="FAQ-grffilenames.html">&ldquo;Modern&rdquo; graphics file names</a></li>
      <li class="tocqn" id="Q-graphicspath"><a href="FAQ-graphicspath.html">Importing graphics from &ldquo;somewhere else&rdquo;</a></li>
      <li class="tocqn" id="Q-graph-pspdf"><a href="FAQ-graph-pspdf.html">Portable imported graphics</a></li>
      <li class="tocqn" id="Q-repeatgrf"><a href="FAQ-repeatgrf.html">Repeated graphics in a document</a></li>
      <li class="tocqn" id="Q-grmaxwidth"><a href="FAQ-grmaxwidth.html">Limit the width of imported graphics</a></li>
      <li class="tocqn" id="Q-topgraph"><a href="FAQ-topgraph.html">Top-aligning imported graphics</a></li>
      <li class="tocqn" id="Q-mpprologues"><a href="FAQ-mpprologues.html">Displaying MetaPost output in <i class="progname">ghostscript</i></a></li>
      <li class="tocqn" id="Q-drawing"><a href="FAQ-drawing.html">Drawing with TeX</a></li>
      <li class="tocqn" id="Q-inlgrphapp"><a href="FAQ-inlgrphapp.html">In-line source for graphics applications</a></li>
      <li class="tocqn" id="Q-drawFeyn"><a href="FAQ-drawFeyn.html">Drawing Feynman diagrams in LaTeX</a></li>
      <li class="tocqn" id="Q-labelfig"><a href="FAQ-labelfig.html">Labelling graphics</a></li>
  <li class="tocsec" id="Bibliographiesandcitations"><span>Bibliographies and citations</span>
    <li class="tocsubsec" id="Creatingbibliographies"><span>Creating bibliographies</span>
      <li class="tocqn" id="Q-buildbib"><a href="FAQ-buildbib.html">Creating a BibTeX bibliography file</a></li>
      <li class="tocqn" id="Q-custbib"><a href="FAQ-custbib.html">Creating a bibliography style</a></li>
      <li class="tocqn" id="Q-capbibtex"><a href="FAQ-capbibtex.html">Capitalisation in BibTeX</a></li>
      <li class="tocqn" id="Q-bibaccent"><a href="FAQ-bibaccent.html">Accents in bibliographies</a></li>
      <li class="tocqn" id="Q-bibstrtl"><a href="FAQ-bibstrtl.html">&lsquo;String too long&rsquo; in BibTeX</a></li>
      <li class="tocqn" id="Q-manyauthor"><a href="FAQ-manyauthor.html">BibTeX doesn&rsquo;t understand lists of names</a></li>
      <li class="tocqn" id="Q-citeURL"><a href="FAQ-citeURL.html">URLs in BibTeX bibliographies</a></li>
      <li class="tocqn" id="Q-bibplain"><a href="FAQ-bibplain.html">Using BibTeX with Plain TeX</a></li>
      <li class="tocqn" id="Q-makebib"><a href="FAQ-makebib.html">Reconstructing <code class="extension">bib</code> files</a></li>
      <li class="tocqn" id="Q-bibprefixsort"><a href="FAQ-bibprefixsort.html">BibTeX sorting and name prefixes</a></li>
      <li class="tocqn" id="Q-bibtranscinit"><a href="FAQ-bibtranscinit.html">&lsquo;Multi-letter&rsquo; initials in BibTeX</a></li>
    <li class="tocsubsec" id="Creatingcitations"><span>Creating citations</span>
      <li class="tocqn" id="Q-usebibtex"><a href="FAQ-usebibtex.html">&ldquo;Normal&rdquo; use of BibTeX from LaTeX</a></li>
      <li class="tocqn" id="Q-whatbst"><a href="FAQ-whatbst.html">Choosing a bibliography style</a></li>
      <li class="tocqn" id="Q-chapbib"><a href="FAQ-chapbib.html">Separate bibliographies per chapter?</a></li>
      <li class="tocqn" id="Q-multbib"><a href="FAQ-multbib.html">Multiple bibliographies?</a></li>
      <li class="tocqn" id="Q-bibinline"><a href="FAQ-bibinline.html">Putting bibliography entries in text</a></li>
      <li class="tocqn" id="Q-citesort"><a href="FAQ-citesort.html">Sorting and compressing citations</a></li>
      <li class="tocqn" id="Q-mcite"><a href="FAQ-mcite.html">Multiple citations</a></li>
      <li class="tocqn" id="Q-backref"><a href="FAQ-backref.html">References from the bibliography to the citation</a></li>
      <li class="tocqn" id="Q-sortbib"><a href="FAQ-sortbib.html">Sorting lists of citations</a></li>
      <li class="tocqn" id="Q-compactbib"><a href="FAQ-compactbib.html">Reducing spacing in the bibliography</a></li>
      <li class="tocqn" id="Q-bibtocorder"><a href="FAQ-bibtocorder.html">Table of contents rearranges &ldquo;<i class="package">unsrt</i>&rdquo; ordering</a></li>
      <li class="tocqn" id="Q-i18nbib"><a href="FAQ-i18nbib.html">Non-english bibliographies</a></li>
      <li class="tocqn" id="Q-formbiblabel"><a href="FAQ-formbiblabel.html">Format of numbers in the bibliography</a></li>
    <li class="tocsubsec" id="Manipulatingwholebibliographies"><span>Manipulating whole bibliographies</span>
      <li class="tocqn" id="Q-nocitestar"><a href="FAQ-nocitestar.html">Listing all your BibTeX entries</a></li>
      <li class="tocqn" id="Q-htmlbib"><a href="FAQ-htmlbib.html">Making HTML of your Bibliography</a></li>
  <li class="tocsec" id="Adjustingthetypesetting"><span>Adjusting the typesetting</span>
    <li class="tocsubsec" id="Alternativedocumentclasses"><span>Alternative document classes</span>
      <li class="tocqn" id="Q-replstdcls"><a href="FAQ-replstdcls.html">Replacing the standard classes</a></li>
      <li class="tocqn" id="Q-slidecls"><a href="FAQ-slidecls.html">Producing presentations (including slides)</a></li>
      <li class="tocqn" id="Q-poster"><a href="FAQ-poster.html">Creating posters with LaTeX</a></li>
      <li class="tocqn" id="Q-thesis"><a href="FAQ-thesis.html">Formatting a thesis in LaTeX</a></li>
      <li class="tocqn" id="Q-journalpaper"><a href="FAQ-journalpaper.html">Setting papers for journals</a></li>
      <li class="tocqn" id="Q-multidoc"><a href="FAQ-multidoc.html">A &lsquo;report&rsquo; from lots of &lsquo;article&rsquo;s</a></li>
      <li class="tocqn" id="Q-cv"><a href="FAQ-cv.html"><em>Curriculum Vitae</em> (R&eacute;sum&eacute;)</a></li>
      <li class="tocqn" id="Q-letterclass"><a href="FAQ-letterclass.html">Letters and the like</a></li>
      <li class="tocqn" id="Q-extsizes"><a href="FAQ-extsizes.html">Other &ldquo;document font&rdquo; sizes?</a></li>
    <li class="tocsubsec" id="Documentstructure"><span>Document structure</span>
      <li class="tocqn" id="Q-titlsty"><a href="FAQ-titlsty.html">The style of document titles</a></li>
      <li class="tocqn" id="Q-secthead"><a href="FAQ-secthead.html">The style of section headings</a></li>
      <li class="tocqn" id="Q-appendix"><a href="FAQ-appendix.html">Appendixes</a></li>
      <li class="tocqn" id="Q-secindent"><a href="FAQ-secindent.html">Indent after section headings</a></li>
      <li class="tocqn" id="Q-subsubsub"><a href="FAQ-subsubsub.html">How to create a <code>&#x5c;subsubsubsection</code></a></li>
      <li class="tocqn" id="Q-captsty"><a href="FAQ-captsty.html">The style of captions</a></li>
      <li class="tocqn" id="Q-fancyhdr"><a href="FAQ-fancyhdr.html">Alternative head- and footlines in LaTeX</a></li>
      <li class="tocqn" id="Q-widefigs"><a href="FAQ-widefigs.html">Wide figures in two-column documents</a></li>
      <li class="tocqn" id="Q-onecolabs"><a href="FAQ-onecolabs.html">1-column abstract in 2-column document</a></li>
      <li class="tocqn" id="Q-reallyblank"><a href="FAQ-reallyblank.html">Really blank pages between chapters</a></li>
      <li class="tocqn" id="Q-balance"><a href="FAQ-balance.html">Balancing columns at the end of a document</a></li>
      <li class="tocqn" id="Q-runheadtoobig"><a href="FAQ-runheadtoobig.html">My section title is too wide for the page header</a></li>
      <li class="tocqn" id="Q-nofm"><a href="FAQ-nofm.html">Page numbering &ldquo;&lsaquo;<i>n</i>&rsaquo; of &lsaquo;<i>m</i>&rsaquo;&rdquo;</a></li>
      <li class="tocqn" id="Q-pagebychap"><a href="FAQ-pagebychap.html">Page numbering by chapter</a></li>
    <li class="tocsubsec" id="Pagelayout"><span>Page layout</span>
      <li class="tocqn" id="Q-papersize"><a href="FAQ-papersize.html">The size of printed output</a></li>
      <li class="tocqn" id="Q-acroantics"><a href="FAQ-acroantics.html">Adobe <i class="progname">Reader</i> messing with print size</a></li>
      <li class="tocqn" id="Q-papergeom"><a href="FAQ-papergeom.html">Getting the right paper geometry from (La)TeX</a></li>
      <li class="tocqn" id="Q-changemargin"><a href="FAQ-changemargin.html">Changing the margins in LaTeX</a></li>
      <li class="tocqn" id="Q-marginpkgs"><a href="FAQ-marginpkgs.html">Packages to set up page designs</a></li>
      <li class="tocqn" id="Q-marginmanual"><a href="FAQ-marginmanual.html">How to set up page layout &ldquo;by hand&rdquo;</a></li>
      <li class="tocqn" id="Q-chngmargonfly"><a href="FAQ-chngmargonfly.html">Changing margins &ldquo;on the fly&rdquo;</a></li>
      <li class="tocqn" id="Q-nopageno"><a href="FAQ-nopageno.html">How to get rid of page numbers</a></li>
      <li class="tocqn" id="Q-crop"><a href="FAQ-crop.html">How to create crop marks</a></li>
      <li class="tocqn" id="Q-watermark"><a href="FAQ-watermark.html">&lsquo;Watermarks&rsquo; on every page</a></li>
      <li class="tocqn" id="Q-landscape"><a href="FAQ-landscape.html">Typesetting things in landscape orientation</a></li>
      <li class="tocqn" id="Q-abspos"><a href="FAQ-abspos.html">Putting things at fixed positions on the page</a></li>
      <li class="tocqn" id="Q-nopagebrk"><a href="FAQ-nopagebrk.html">Preventing page breaks between lines</a></li>
      <li class="tocqn" id="Q-parallel"><a href="FAQ-parallel.html">Parallel setting of text</a></li>
      <li class="tocqn" id="Q-epigraph"><a href="FAQ-epigraph.html">Typesetting epigraphs</a></li>
    <li class="tocsubsec" id="Spacingofcharactersandlines"><span>Spacing of characters and lines</span>
      <li class="tocqn" id="Q-linespace"><a href="FAQ-linespace.html">Double-spaced documents in LaTeX</a></li>
      <li class="tocqn" id="Q-letterspace"><a href="FAQ-letterspace.html">Changing the space between letters</a></li>
      <li class="tocqn" id="Q-ragright"><a href="FAQ-ragright.html">Setting text ragged right</a></li>
      <li class="tocqn" id="Q-flushboth"><a href="FAQ-flushboth.html">Cancelling <code>&#x5c;ragged</code> commands</a></li>
    <li class="tocsubsec" id="Typesettingspecialities"><span>Typesetting specialities</span>
      <li class="tocqn" id="Q-verbfile"><a href="FAQ-verbfile.html">Including a file verbatim in LaTeX</a></li>
      <li class="tocqn" id="Q-linenos"><a href="FAQ-linenos.html">Including line numbers in typeset output</a></li>
      <li class="tocqn" id="Q-codelist"><a href="FAQ-codelist.html">Code listings in LaTeX</a></li>
      <li class="tocqn" id="Q-algorithms"><a href="FAQ-algorithms.html">Typesetting pseudocode in LaTeX</a></li>
      <li class="tocqn" id="Q-makeindex"><a href="FAQ-makeindex.html">Generating an index in (La)TeX</a></li>
      <li class="tocqn" id="Q-setURL"><a href="FAQ-setURL.html">Typesetting URLs</a></li>
      <li class="tocqn" id="Q-music"><a href="FAQ-music.html">Typesetting music in TeX</a></li>
      <li class="tocqn" id="Q-parskip"><a href="FAQ-parskip.html">Zero paragraph indent</a></li>
      <li class="tocqn" id="Q-dropping"><a href="FAQ-dropping.html">Big letters at the start of a paragraph</a></li>
      <li class="tocqn" id="Q-dec_comma"><a href="FAQ-dec_comma.html">The comma as a decimal separator</a></li>
      <li class="tocqn" id="Q-breakbox"><a href="FAQ-breakbox.html">Breaking boxes of text</a></li>
      <li class="tocqn" id="Q-overstrike"><a href="FAQ-overstrike.html">Overstriking characters</a></li>
      <li class="tocqn" id="Q-upquot"><a href="FAQ-upquot.html">Realistic quotes for verbatim listings</a></li>
      <li class="tocqn" id="Q-time"><a href="FAQ-time.html">Printing the time</a></li>
      <li class="tocqn" id="Q-the-commands"><a href="FAQ-the-commands.html">Redefining counters&rsquo; <code>&#x5c;the-</code>commands</a></li>
    <li class="tocsubsec" id="Tablesofcontentsandindexes"><span>Tables of contents and indexes</span>
      <li class="tocqn" id="Q-tocloft"><a href="FAQ-tocloft.html">The format of the Table of Contents, etc.</a></li>
      <li class="tocqn" id="Q-secnumdep"><a href="FAQ-secnumdep.html">Unnumbered sections in the Table of Contents</a></li>
      <li class="tocqn" id="Q-tocbibind"><a href="FAQ-tocbibind.html">Bibliography, index, etc., in TOC</a></li>
      <li class="tocqn" id="Q-minitoc"><a href="FAQ-minitoc.html">Table of contents, etc., per chapter</a></li>
      <li class="tocqn" id="Q-multind"><a href="FAQ-multind.html">Multiple indexes</a></li>
    <li class="tocsubsec" id="Labelsandreferences"><span>Labels and references</span>
      <li class="tocqn" id="Q-nameref"><a href="FAQ-nameref.html">Referring to things by their name</a></li>
      <li class="tocqn" id="Q-extref"><a href="FAQ-extref.html">Referring to labels in other documents</a></li>
  <li class="tocsec" id="HowdoIdohellip"><span>How do I do&hellip;?</span>
    <li class="tocsubsec" id="Mathematics"><span>Mathematics</span>
      <li class="tocqn" id="Q-proof"><a href="FAQ-proof.html">Proof environment</a></li>
      <li class="tocqn" id="Q-theoremfmt"><a href="FAQ-theoremfmt.html">Theorem bodies printed in a roman font</a></li>
      <li class="tocqn" id="Q-newfunction"><a href="FAQ-newfunction.html">Defining a new log-like function in LaTeX</a></li>
      <li class="tocqn" id="Q-braket"><a href="FAQ-braket.html">Set specifications and Dirac brackets</a></li>
      <li class="tocqn" id="Q-cancellation"><a href="FAQ-cancellation.html">Cancelling terms in maths expressions</a></li>
      <li class="tocqn" id="Q-mathsize"><a href="FAQ-mathsize.html">Adjusting maths font sizes</a></li>
      <li class="tocqn" id="Q-mathlips"><a href="FAQ-mathlips.html">Ellipses</a></li>
      <li class="tocqn" id="Q-limits"><a href="FAQ-limits.html">Sub- and superscript positioning for operators</a></li>
      <li class="tocqn" id="Q-mathstext"><a href="FAQ-mathstext.html">Text inside maths</a></li>
      <li class="tocqn" id="Q-reuseq"><a href="FAQ-reuseq.html">Re-using an equation</a></li>
      <li class="tocqn" id="Q-brkinline"><a href="FAQ-brkinline.html">Line-breaking in in-line maths</a></li>
      <li class="tocqn" id="Q-mathonlyref"><a href="FAQ-mathonlyref.html">Numbers for referenced equations only</a></li>
      <li class="tocqn" id="Q-subheight"><a href="FAQ-subheight.html">Even subscript height</a></li>
    <li class="tocsubsec" id="Lists"><span>Lists</span>
      <li class="tocqn" id="Q-enumerate"><a href="FAQ-enumerate.html">Fancy enumeration lists</a></li>
      <li class="tocqn" id="Q-complist"><a href="FAQ-complist.html">How to adjust list spacing</a></li>
      <li class="tocqn" id="Q-interruptlist"><a href="FAQ-interruptlist.html">Interrupting enumerated lists</a></li>
    <li class="tocsubsec" id="Tablesfiguresanddiagrams"><span>Tables, figures and diagrams</span>
      <li class="tocqn" id="Q-destable"><a href="FAQ-destable.html">The design of tables</a></li>
      <li class="tocqn" id="Q-fixwidtab"><a href="FAQ-fixwidtab.html">Fixed-width tables</a></li>
      <li class="tocqn" id="Q-varwidcol"><a href="FAQ-varwidcol.html">Variable-width columns in tables</a></li>
      <li class="tocqn" id="Q-struttab"><a href="FAQ-struttab.html">Spacing lines in tables</a></li>
      <li class="tocqn" id="Q-longtab"><a href="FAQ-longtab.html">Tables longer than a single page</a></li>
      <li class="tocqn" id="Q-tabcellalign"><a href="FAQ-tabcellalign.html">How to alter the alignment of tabular cells</a></li>
      <li class="tocqn" id="Q-rulethk"><a href="FAQ-rulethk.html">The thickness of rules in LaTeX tables</a></li>
      <li class="tocqn" id="Q-textflow"><a href="FAQ-textflow.html">Flowing text around figures</a></li>
      <li class="tocqn" id="Q-slashbox"><a href="FAQ-slashbox.html">Diagonal separation in corner cells of tables</a></li>
      <li class="tocqn" id="Q-wholerow"><a href="FAQ-wholerow.html">How to change a whole row of a table</a></li>
      <li class="tocqn" id="Q-multirow"><a href="FAQ-multirow.html">Merging cells in a column of a table</a></li>
    <li class="tocsubsec" id="Floatingtablesfiguresetc"><span>Floating tables, figures, etc.</span>
      <li class="tocqn" id="Q-floatpages"><a href="FAQ-floatpages.html">Floats on their own on float pages</a></li>
      <li class="tocqn" id="Q-wideflt"><a href="FAQ-wideflt.html">Centring a very wide figure or table</a></li>
      <li class="tocqn" id="Q-2colfloat"><a href="FAQ-2colfloat.html">Placing two-column floats at bottom of page</a></li>
      <li class="tocqn" id="Q-mcfloat"><a href="FAQ-mcfloat.html">Floats in multicolumn setting</a></li>
      <li class="tocqn" id="Q-dpfloat"><a href="FAQ-dpfloat.html">Facing floats on 2-page spread</a></li>
      <li class="tocqn" id="Q-vertposfp"><a href="FAQ-vertposfp.html">Vertical layout of float pages</a></li>
      <li class="tocqn" id="Q-figurehere"><a href="FAQ-figurehere.html">Figure (or table) <em>exactly</em> where I want it</a></li>
    <li class="tocsubsec" id="Footnotes"><span>Footnotes</span>
      <li class="tocqn" id="Q-footintab"><a href="FAQ-footintab.html">Footnotes in tables</a></li>
      <li class="tocqn" id="Q-ftnsect"><a href="FAQ-ftnsect.html">Footnotes in LaTeX section headings</a></li>
      <li class="tocqn" id="Q-ftncapt"><a href="FAQ-ftncapt.html">Footnotes in captions</a></li>
      <li class="tocqn" id="Q-repfootnote"><a href="FAQ-repfootnote.html">Footnotes whose texts are identical</a></li>
      <li class="tocqn" id="Q-multfoot"><a href="FAQ-multfoot.html">More than one sequence of footnotes</a></li>
      <li class="tocqn" id="Q-footnpp"><a href="FAQ-footnpp.html">Footnotes numbered &ldquo;per page&rdquo;</a></li>
      <li class="tocqn" id="Q-run-fn-nos"><a href="FAQ-run-fn-nos.html">Not resetting footnote numbers per chapter</a></li>
    <li class="tocsubsec" id="Documentmanagement"><span>Document management</span>
      <li class="tocqn" id="Q-filename"><a href="FAQ-filename.html">What&rsquo;s the name of this file</a></li>
      <li class="tocqn" id="Q-filesused"><a href="FAQ-filesused.html">All the files used by this document</a></li>
      <li class="tocqn" id="Q-changebars"><a href="FAQ-changebars.html">Marking changed parts of your document</a></li>
      <li class="tocqn" id="Q-conditional"><a href="FAQ-conditional.html">Conditional compilation and &ldquo;comments&rdquo;</a></li>
      <li class="tocqn" id="Q-docotherdir"><a href="FAQ-docotherdir.html">Bits of document from other directories</a></li>
      <li class="tocqn" id="Q-RCS"><a href="FAQ-RCS.html">Version control using RCS, CVS or the like</a></li>
      <li class="tocqn" id="Q-make"><a href="FAQ-make.html">Makefiles for LaTeX documents</a></li>
      <li class="tocqn" id="Q-howmanypp"><a href="FAQ-howmanypp.html">How many pages are there in my document?</a></li>
      <li class="tocqn" id="Q-inclplain"><a href="FAQ-inclplain.html">Including Plain TeX files in LaTeX</a></li>
    <li class="tocsubsec" id="Hyphenation"><span>Hyphenation</span>
      <li class="tocqn" id="Q-nohyph"><a href="FAQ-nohyph.html">My words aren&rsquo;t being hyphenated</a></li>
      <li class="tocqn" id="Q-weirdhyphen"><a href="FAQ-weirdhyphen.html">Weird hyphenation of words</a></li>
      <li class="tocqn" id="Q-oddhyphen"><a href="FAQ-oddhyphen.html">(Merely) peculiar hyphenation</a></li>
      <li class="tocqn" id="Q-hyphenaccents"><a href="FAQ-hyphenaccents.html">Accented words aren&rsquo;t hyphenated</a></li>
      <li class="tocqn" id="Q-newlang"><a href="FAQ-newlang.html">Using a new language with Babel</a></li>
      <li class="tocqn" id="Q-hyphoff"><a href="FAQ-hyphoff.html">Stopping all hyphenation</a></li>
      <li class="tocqn" id="Q-wdnohyph"><a href="FAQ-wdnohyph.html">Preventing hyphenation of a particular word</a></li>
      <li class="tocqn" id="Q-hyphexcept"><a href="FAQ-hyphexcept.html">Hyphenation exceptions</a></li>
    <li class="tocsubsec" id="Oddsandends"><span>Odds and ends</span>
      <li class="tocqn" id="Q-logos"><a href="FAQ-logos.html">Typesetting all those TeX-related logos</a></li>
      <li class="tocqn" id="Q-bold-extras"><a href="FAQ-bold-extras.html">How to do bold-tt or bold-sc</a></li>
      <li class="tocqn" id="Q-varwidth"><a href="FAQ-varwidth.html">Automatic sizing of <code class="environment">minipage</code></a></li>
  <li class="tocsec" id="Symbolsetc"><span>Symbols, etc.</span>
      <li class="tocqn" id="Q-usesymb"><a href="FAQ-usesymb.html">Using symbols</a></li>
      <li class="tocqn" id="Q-numbersets"><a href="FAQ-numbersets.html">Symbols for the number sets</a></li>
      <li class="tocqn" id="Q-scriptfonts"><a href="FAQ-scriptfonts.html">Better script fonts for maths</a></li>
      <li class="tocqn" id="Q-boldgreek"><a href="FAQ-boldgreek.html">Setting bold Greek letters in LaTeX maths</a></li>
      <li class="tocqn" id="Q-prinvalint"><a href="FAQ-prinvalint.html">The Principal Value Integral symbol</a></li>
      <li class="tocqn" id="Q-underscore"><a href="FAQ-underscore.html">How to typeset an underscore character</a></li>
      <li class="tocqn" id="Q-atsign"><a href="FAQ-atsign.html">How to type an &lsquo;@&rsquo; sign?</a></li>
      <li class="tocqn" id="Q-euro"><a href="FAQ-euro.html">Typesetting the Euro sign</a></li>
      <li class="tocqn" id="Q-tradesyms"><a href="FAQ-tradesyms.html">How to get copyright, trademark, etc.</a></li>
      <li class="tocqn" id="Q-osf"><a href="FAQ-osf.html">Using &ldquo;old-style&rdquo; figures</a></li>
  <li class="tocsec" id="Macroprogramming"><span>Macro programming</span>
    <li class="tocsubsec" id="ldquoGenericrdquomacrosandtechniques"><span>&ldquo;Generic&rdquo; macros and techniques</span>
      <li class="tocqn" id="Q-linmacnames"><a href="FAQ-linmacnames.html">Non-letters in macro names</a></li>
      <li class="tocqn" id="Q-repeat-num"><a href="FAQ-repeat-num.html">Repeating a command <em>n</em> times</a></li>
      <li class="tocqn" id="Q-repeat-set"><a href="FAQ-repeat-set.html">Repeating something for each &lsquo;thing&rsquo; in a set</a></li>
      <li class="tocqn" id="Q-findwidth"><a href="FAQ-findwidth.html">Finding the width of a letter, word, or phrase</a></li>
      <li class="tocqn" id="Q-patch"><a href="FAQ-patch.html">Patching existing commands</a></li>
      <li class="tocqn" id="Q-compjobnam"><a href="FAQ-compjobnam.html">Comparing the &ldquo;job name&rdquo;</a></li>
      <li class="tocqn" id="Q-isitanum"><a href="FAQ-isitanum.html">Is the argument a number?</a></li>
      <li class="tocqn" id="Q-hash"><a href="FAQ-hash.html">Defining macros within macros</a></li>
      <li class="tocqn" id="Q-spinmacro"><a href="FAQ-spinmacro.html">Spaces in macros</a></li>
      <li class="tocqn" id="Q-moren9"><a href="FAQ-moren9.html">How to break the 9-argument limit</a></li>
      <li class="tocqn" id="Q-keyval"><a href="FAQ-keyval.html">Key-value input for macros and package options</a></li>
      <li class="tocqn" id="Q-activechars"><a href="FAQ-activechars.html">Defining characters as macros</a></li>
      <li class="tocqn" id="Q-actinarg"><a href="FAQ-actinarg.html">Active characters in command arguments</a></li>
      <li class="tocqn" id="Q-csname"><a href="FAQ-csname.html">Defining a macro from an argument</a></li>
      <li class="tocqn" id="Q-cvtlatex"><a href="FAQ-cvtlatex.html">Transcribing LaTeX command definitions</a></li>
      <li class="tocqn" id="Q-empty"><a href="FAQ-empty.html">Detecting that something is empty</a></li>
      <li class="tocqn" id="Q-whatengine"><a href="FAQ-whatengine.html">Am I using PDFTeX, XeTeX or LuaTeX?</a></li>
      <li class="tocqn" id="Q-subverttoks"><a href="FAQ-subverttoks.html">Subverting a token register</a></li>
      <li class="tocqn" id="Q-isdef"><a href="FAQ-isdef.html">Is this command defined?</a></li>
    <li class="tocsubsec" id="LaTeXmacrotoolsandtechniques"><span>LaTeX macro tools and techniques</span>
      <li class="tocqn" id="Q-plninltxstar"><a href="FAQ-plninltxstar.html">Using Plain or primitive commands in LaTeX</a></li>
      <li class="tocqn" id="Q-atsigns"><a href="FAQ-atsigns.html"><code>&#x5c;@</code> and <tt>@</tt> in macro names</a></li>
      <li class="tocqn" id="Q-protect"><a href="FAQ-protect.html">What&rsquo;s the reason for &lsquo;protection&rsquo;?</a></li>
      <li class="tocqn" id="Q-edef"><a href="FAQ-edef.html"><code>&#x5c;edef</code> does not work with <code>&#x5c;protect</code></a></li>
      <li class="tocqn" id="Q-ltxcmds"><a href="FAQ-ltxcmds.html">The definitions of LaTeX commands</a></li>
      <li class="tocqn" id="Q-oarglikesect"><a href="FAQ-oarglikesect.html">Optional arguments like <code>&#x5c;section</code></a></li>
      <li class="tocqn" id="Q-twooptarg"><a href="FAQ-twooptarg.html">More than one optional argument</a></li>
      <li class="tocqn" id="Q-cmdstar"><a href="FAQ-cmdstar.html">Commands defined with * options</a></li>
      <li class="tocqn" id="Q-ltxabbrv"><a href="FAQ-ltxabbrv.html">LaTeX internal &ldquo;abbreviations&rdquo;, etc.</a></li>
      <li class="tocqn" id="Q-ltxhash"><a href="FAQ-ltxhash.html">Defining LaTeX commands within other commands</a></li>
      <li class="tocqn" id="Q-printvar"><a href="FAQ-printvar.html">How to print contents of variables?</a></li>
      <li class="tocqn" id="Q-labelcount"><a href="FAQ-labelcount.html">Using labels as counter values</a></li>
    <li class="tocsubsec" id="LaTeXmacroprogramming"><span>LaTeX macro programming</span>
      <li class="tocqn" id="Q-fixnam"><a href="FAQ-fixnam.html">How to change LaTeX&rsquo;s &ldquo;fixed names&rdquo;</a></li>
      <li class="tocqn" id="Q-latexwords"><a href="FAQ-latexwords.html">Changing the words <i class="package">babel</i> uses</a></li>
      <li class="tocqn" id="Q-running-nos"><a href="FAQ-running-nos.html">Running equation, figure and table numbering</a></li>
      <li class="tocqn" id="Q-labelctr"><a href="FAQ-labelctr.html">Making labels from a counter</a></li>
      <li class="tocqn" id="Q-oddpage"><a href="FAQ-oddpage.html">Finding if you&rsquo;re on an odd or an even page</a></li>
      <li class="tocqn" id="Q-labelformat"><a href="FAQ-labelformat.html">How to change the format of labels</a></li>
      <li class="tocqn" id="Q-seccntfmt"><a href="FAQ-seccntfmt.html">Adjusting the presentation of section numbers</a></li>
      <li class="tocqn" id="Q-spaftend"><a href="FAQ-spaftend.html">There&rsquo;s a space added after my environment</a></li>
      <li class="tocqn" id="Q-labundef"><a href="FAQ-labundef.html">Finding if a label is undefined</a></li>
      <li class="tocqn" id="Q-addtoreset"><a href="FAQ-addtoreset.html">Master and slave counters</a></li>
      <li class="tocqn" id="Q-fontsize"><a href="FAQ-fontsize.html">Fonts at arbitrary sizes</a></li>
      <li class="tocqn" id="Q-latexqual"><a href="FAQ-latexqual.html">The quality of your LaTeX</a></li>
      <li class="tocqn" id="Q-ltx-csv"><a href="FAQ-ltx-csv.html">Process a CSV file in LaTeX</a></li>
  <li class="tocsec" id="ThingsareGoingWronghellip"><span>Things are Going Wrong&hellip;</span>
    <li class="tocsubsec" id="Gettingthingstofit"><span>Getting things to fit</span>
      <li class="tocqn" id="Q-enlarge"><a href="FAQ-enlarge.html">Enlarging TeX</a></li>
      <li class="tocqn" id="Q-usepictex"><a href="FAQ-usepictex.html">Why can&rsquo;t I load PicTeX?</a></li>
    <li class="tocsubsec" id="Makingthingsstaywhereyouwantthem"><span>Making things stay where you want them</span>
      <li class="tocqn" id="Q-floats"><a href="FAQ-floats.html">Moving tables and figures in LaTeX</a></li>
      <li class="tocqn" id="Q-underline"><a href="FAQ-underline.html">Underlined text won&rsquo;t break</a></li>
      <li class="tocqn" id="Q-widows"><a href="FAQ-widows.html">Controlling widows and orphans</a></li>
    <li class="tocsubsec" id="Thingshaveldquogoneawayrdquo"><span>Things have &ldquo;gone away&rdquo;</span>
      <li class="tocqn" id="Q-oldfontnames"><a href="FAQ-oldfontnames.html">Old LaTeX font references such as <code>&#x5c;tenrm</code></a></li>
      <li class="tocqn" id="Q-misssymb"><a href="FAQ-misssymb.html">Missing symbol commands</a></li>
      <li class="tocqn" id="Q-msxy"><a href="FAQ-msxy.html">Where are the <tt>msx</tt> and <tt>msy</tt> fonts?</a></li>
      <li class="tocqn" id="Q-amfonts"><a href="FAQ-amfonts.html">Where are the <tt>am</tt> fonts?</a></li>
      <li class="tocqn" id="Q-initex"><a href="FAQ-initex.html">What&rsquo;s happened to <i class="progname">initex</i>?</a></li>
  <li class="tocsec" id="Whydoesitemdoemthat"><span>Why does it <em>do</em> that?</span>
    <li class="tocsubsec" id="Commonerrors"><span>Common errors</span>
      <li class="tocqn" id="Q-crossref"><a href="FAQ-crossref.html">LaTeX gets cross-references wrong</a></li>
      <li class="tocqn" id="Q-newlineargs"><a href="FAQ-newlineargs.html">Start of line goes awry</a></li>
      <li class="tocqn" id="Q-verbwithin"><a href="FAQ-verbwithin.html">Why doesn&rsquo;t verbatim work within&thinsp;&hellip;?</a></li>
      <li class="tocqn" id="Q-noline"><a href="FAQ-noline.html">&ldquo;No line here to end&rdquo;</a></li>
      <li class="tocqn" id="Q-vertspacefloat"><a href="FAQ-vertspacefloat.html">Extra vertical space in floats</a></li>
      <li class="tocqn" id="Q-centre-flt"><a href="FAQ-centre-flt.html">Why is my table/figure/&hellip; not centred?</a></li>
      <li class="tocqn" id="Q-2colfltorder"><a href="FAQ-2colfltorder.html">Two-column float numbers out of order</a></li>
      <li class="tocqn" id="Q-tabacc"><a href="FAQ-tabacc.html">Accents misbehave in <code class="environment">tabbing</code></a></li>
      <li class="tocqn" id="Q-alreadydef"><a href="FAQ-alreadydef.html">Package reports &ldquo;command already defined&rdquo;</a></li>
      <li class="tocqn" id="Q-zerochap"><a href="FAQ-zerochap.html">Why are my sections numbered 0.1&thinsp;&hellip;?</a></li>
      <li class="tocqn" id="Q-breaklinks"><a href="FAQ-breaklinks.html">Link text doesn&rsquo;t break at end line</a></li>
      <li class="tocqn" id="Q-wrongpn"><a href="FAQ-wrongpn.html">Page number is wrong at start of page</a></li>
      <li class="tocqn" id="Q-matchbrak"><a href="FAQ-matchbrak.html">My brackets don&rsquo;t match</a></li>
      <li class="tocqn" id="Q-pdf-fig-chars"><a href="FAQ-pdf-fig-chars.html">Characters disappear from figures in PDFTeX</a></li>
      <li class="tocqn" id="Q-emptynum"><a href="FAQ-emptynum.html">I asked for &ldquo;empty&rdquo;, but the page is numbered</a></li>
    <li class="tocsubsec" id="Commonmisunderstandings"><span>Common misunderstandings</span>
      <li class="tocqn" id="Q-include"><a href="FAQ-include.html">What&rsquo;s going on in my <code>&#x5c;include</code> commands?</a></li>
      <li class="tocqn" id="Q-paraparam"><a href="FAQ-paraparam.html">Why does it ignore paragraph parameters?</a></li>
      <li class="tocqn" id="Q-casechange"><a href="FAQ-casechange.html">Case-changing oddities</a></li>
      <li class="tocqn" id="Q-splitfoot"><a href="FAQ-splitfoot.html">Why does LaTeX split footnotes across pages?</a></li>
      <li class="tocqn" id="Q-marginparside"><a href="FAQ-marginparside.html">Getting <code>&#x5c;marginpar</code> on the right side</a></li>
      <li class="tocqn" id="Q-misschar"><a href="FAQ-misschar.html">Where have my characters gone?</a></li>
      <li class="tocqn" id="Q-rerun"><a href="FAQ-rerun.html">&ldquo;Rerun&rdquo; messages won&rsquo;t go away</a></li>
      <li class="tocqn" id="Q-xspace"><a href="FAQ-xspace.html">Commands gobble following space</a></li>
      <li class="tocqn" id="Q-overfull"><a href="FAQ-overfull.html">(La)TeX makes overfull lines</a></li>
      <li class="tocqn" id="Q-exscale"><a href="FAQ-exscale.html">Maths symbols don&rsquo;t scale up</a></li>
      <li class="tocqn" id="Q-linespread"><a href="FAQ-linespread.html">Why doesn&rsquo;t <code>&#x5c;linespread</code> work?</a></li>
      <li class="tocqn" id="Q-baselinepar"><a href="FAQ-baselinepar.html">Only one <code>&#x5c;baselineskip</code> per paragraph</a></li>
      <li class="tocqn" id="Q-tocloftwrong"><a href="FAQ-tocloftwrong.html">Numbers too large in table of contents, etc.</a></li>
      <li class="tocqn" id="Q-gutter"><a href="FAQ-gutter.html">Why is the inside margin so narrow?</a></li>
    <li class="tocsubsec" id="WhyshouldnrsquotI"><span>Why shouldn&rsquo;t I?</span>
      <li class="tocqn" id="Q-t1enc"><a href="FAQ-t1enc.html">Why use <i class="package">fontenc</i> rather than <i class="package">t1enc</i>?</a></li>
      <li class="tocqn" id="Q-why-inp-font"><a href="FAQ-why-inp-font.html">Why bother with <i class="package">inputenc</i> and <i class="package">fontenc</i>?</a></li>
      <li class="tocqn" id="Q-eqnarray"><a href="FAQ-eqnarray.html">Why not use <code class="environment">eqnarray</code>?</a></li>
      <li class="tocqn" id="Q-dolldoll"><a href="FAQ-dolldoll.html">Why use <code>&#x5c;[</code>&thinsp;&hellip;<code>&#x5c;]</code> in place of <tt>&#x24;&#x24;</tt>&thinsp;&hellip;&thinsp;<tt>&#x24;&#x24;</tt>?</a></li>
      <li class="tocqn" id="Q-2letterfontcmd"><a href="FAQ-2letterfontcmd.html">What&rsquo;s wrong with <code>&#x5c;bf</code>, <code>&#x5c;it</code>, etc.?</a></li>
      <li class="tocqn" id="Q-newfontstar"><a href="FAQ-newfontstar.html">What&rsquo;s wrong with <code>&#x5c;newfont</code>?</a></li>
  <li class="tocsec" id="ThejoyofTeXerrors"><span>The joy of TeX errors</span>
      <li class="tocqn" id="Q-erroradvice"><a href="FAQ-erroradvice.html">How to approach errors</a></li>
      <li class="tocqn" id="Q-errstruct"><a href="FAQ-errstruct.html">The structure of TeX error messages</a></li>
      <li class="tocqn" id="Q-extrabrace"><a href="FAQ-extrabrace.html">An extra &lsquo;<tt>&#x7d;</tt>&rsquo;??</a></li>
      <li class="tocqn" id="Q-semanticnest"><a href="FAQ-semanticnest.html">Capacity exceeded [semantic nest&thinsp;&hellip;]</a></li>
      <li class="tocqn" id="Q-noroom"><a href="FAQ-noroom.html">No room for a new &lsquo;<em>thing</em>&rsquo;</a></li>
      <li class="tocqn" id="Q-epsf"><a href="FAQ-epsf.html"><tt>epsf</tt> gives up after a bit</a></li>
      <li class="tocqn" id="Q-badhyph"><a href="FAQ-badhyph.html">Improper <code>&#x5c;hyphenation</code> will be flushed</a></li>
      <li class="tocqn" id="Q-optionclash"><a href="FAQ-optionclash.html">Option clash for package</a></li>
      <li class="tocqn" id="Q-optclash"><a href="FAQ-optclash.html">Option clash for package</a></li>
      <li class="tocqn" id="Q-tmupfl"><a href="FAQ-tmupfl.html">&ldquo;Too many unprocessed floats&rdquo;</a></li>
      <li class="tocqn" id="Q-atvert"><a href="FAQ-atvert.html"><code>&#x5c;spacefactor</code> complaints</a></li>
      <li class="tocqn" id="Q-endingroup"><a href="FAQ-endingroup.html"><code>&#x5c;end</code> occurred inside a group</a></li>
      <li class="tocqn" id="Q-nonum"><a href="FAQ-nonum.html">&ldquo;Missing number, treated as zero&rdquo;</a></li>
      <li class="tocqn" id="Q-typend"><a href="FAQ-typend.html">&ldquo;Please type a command or say <code>&#x5c;end</code>&rdquo;</a></li>
      <li class="tocqn" id="Q-unkgrfextn"><a href="FAQ-unkgrfextn.html">&ldquo;Unknown graphics extension&rdquo;</a></li>
      <li class="tocqn" id="Q-nodollar"><a href="FAQ-nodollar.html">&ldquo;Missing <tt>&#x24;</tt> inserted&rdquo;</a></li>
      <li class="tocqn" id="Q-fontunavail"><a href="FAQ-fontunavail.html">Warning: &ldquo;Font shape &hellip; not available&rdquo;</a></li>
      <li class="tocqn" id="Q-buffovl"><a href="FAQ-buffovl.html">Unable to read an entire line</a></li>
      <li class="tocqn" id="Q-formatstymy"><a href="FAQ-formatstymy.html">&ldquo;Fatal format file error; I&rsquo;m stymied&rdquo;</a></li>
      <li class="tocqn" id="Q-nonpdfsp"><a href="FAQ-nonpdfsp.html">Non-PDF special ignored!</a></li>
      <li class="tocqn" id="Q-8000"><a href="FAQ-8000.html">Mismatched mode ljfour and resolution 8000</a></li>
      <li class="tocqn" id="Q-toodeep"><a href="FAQ-toodeep.html">&ldquo;Too deeply nested&rdquo;</a></li>
      <li class="tocqn" id="Q-inputlev"><a href="FAQ-inputlev.html">Capacity exceeded&nbsp;&mdash; input levels</a></li>
      <li class="tocqn" id="Q-hyperdupdest"><a href="FAQ-hyperdupdest.html">PDFTeX destination &hellip; ignored</a></li>
      <li class="tocqn" id="Q-altabcr"><a href="FAQ-altabcr.html">Alignment tab changed to <code>&#x5c;cr</code></a></li>
      <li class="tocqn" id="Q-divzero"><a href="FAQ-divzero.html">Graphics division by zero</a></li>
      <li class="tocqn" id="Q-missbegdoc"><a href="FAQ-missbegdoc.html">Missing <code>&#x5c;begin</code>&#x7b;document&#x7d;</a></li>
      <li class="tocqn" id="Q-normalszmiss"><a href="FAQ-normalszmiss.html"><code>&#x5c;normalsize</code> not defined</a></li>
      <li class="tocqn" id="Q-manymathalph"><a href="FAQ-manymathalph.html">Too many math alphabets</a></li>
      <li class="tocqn" id="Q-ouparmd"><a href="FAQ-ouparmd.html">Not in outer par mode</a></li>
      <li class="tocqn" id="Q-errmissitem"><a href="FAQ-errmissitem.html">Perhaps a missing <code>&#x5c;item</code>?</a></li>
      <li class="tocqn" id="Q-errparnum"><a href="FAQ-errparnum.html">Illegal parameter number in definition</a></li>
      <li class="tocqn" id="Q-fllost"><a href="FAQ-fllost.html">Float(s) lost</a></li>
      <li class="tocqn" id="Q-parmoderr"><a href="FAQ-parmoderr.html">Not in outer par mode</a></li>
      <li class="tocqn" id="Q-texorpdf"><a href="FAQ-texorpdf.html">Token not allowed in PDFDocEncoded string</a></li>
      <li class="tocqn" id="Q-checksum"><a href="FAQ-checksum.html">Checksum mismatch in font</a></li>
      <li class="tocqn" id="Q-entercompmode"><a href="FAQ-entercompmode.html">Entering compatibility mode</a></li>
      <li class="tocqn" id="Q-includeother"><a href="FAQ-includeother.html">LaTeX won&rsquo;t include from other directories</a></li>
      <li class="tocqn" id="Q-expl3-old"><a href="FAQ-expl3-old.html">Support package <i class="package">expl3</i> too old</a></li>
  <li class="tocsec" id="CurrentTeXrelatedprojects"><span>Current TeX-related projects</span>
      <li class="tocqn" id="Q-LaTeX3"><a href="FAQ-LaTeX3.html">The LaTeX project</a></li>
      <li class="tocqn" id="Q-mathml"><a href="FAQ-mathml.html">Future WWW technologies and (La)TeX</a></li>
      <li class="tocqn" id="Q-textrace"><a href="FAQ-textrace.html">Making outline fonts from MetaFont</a></li>
      <li class="tocqn" id="Q-WYGexpts"><a href="FAQ-WYGexpts.html">The TeX document preparation environment</a></li>
      <li class="tocqn" id="Q-omegaleph"><a href="FAQ-omegaleph.html">Omega and Aleph</a></li>
      <li class="tocqn" id="Q-xetex"><a href="FAQ-xetex.html">XeTeX</a></li>
      <li class="tocqn" id="Q-luatex"><a href="FAQ-luatex.html">PDFTeX and LuaTeX</a></li>
      <li class="tocqn" id="Q-ant"><a href="FAQ-ant.html">The <span class="sans">ANT</span> typesetting system</a></li>
      <li class="tocqn" id="Q-extex"><a href="FAQ-extex.html">The ExTeX project</a></li>
      <li class="tocqn" id="Q-biblatex"><a href="FAQ-biblatex.html">Replacing the BibTeX&ndash;LaTeX mechanism</a></li>
  <li class="tocsec" id="Yoursquorestillstuck"><span>You&rsquo;re still stuck?</span>
      <li class="tocqn" id="Q-noans"><a href="FAQ-noans.html">You don&rsquo;t understand the answer</a></li>
      <li class="tocqn" id="Q-newans"><a href="FAQ-newans.html">Submitting new material for the FAQ</a></li>
      <li class="tocqn" id="Q-bug"><a href="FAQ-bug.html">What to do if you find a bug</a></li>
      <li class="tocqn" id="Q-latexbug"><a href="FAQ-latexbug.html">Reporting a LaTeX bug</a></li>

</div>

<p>


<p>

<p>

<p>
[[[Question]]][Q-startup][[[LBRACE]]]Getting started[[[RBRACE]]]

<p>
(La)TeX offers a very large number of choices, and the beginner has
to navigate through that set before even taking his first steps.  The
aim here is to guide the beginner through a set of answers that may
help the process.  We assume the beginner &lsquo;knows&rsquo; that (La)TeX is
for them; if not, the discussion &ldquo;<a href="FAQ-whatTeX.html">what is TeX</a>&rdquo;
may help.

<p>
To start at the very beginning, then, the beginner may wish to know
what all those 
&ldquo;<a href="FAQ-texthings.html">things with TeX in their name are</a>&rdquo;.

<p>
Armed with that knowledge, the beginner needs to decide what macro
format she needs (always assuming someone hasn&rsquo;t already told her she
needs to use &ldquo;fooTeX&rdquo;.  Learn about the alternatives in answers
discussing common formats: look at 
<a href="FAQ-plaintex.html">writing Plain TeX</a>,
<a href="FAQ-latex.html">LaTeX</a> or
<a href="FAQ-context.html">Context</a>.

<p>
If no system has been provided, the beginner needs to acquire a TeX
distribution appropriate to their machine.  Available options are
available via the answer 
&ldquo;<a href="FAQ-TeXsystems.html">(La)TeX for various machines</a>&rdquo;; we assume
here that the beginner can install things for herself, or has access
to someone who can.

<p>
Finally, the beginner needs to get started in the chosen format.  For
Plain TeX, see &ldquo;<a class="FA.html" href="FAQ-man-tex.html">Online introductions: TeX</a>&rdquo;;
for LaTeX, see 
&ldquo;<a class="FA.html" href="FAQ-man-latex.html">Online introductions: LaTeX</a>&rdquo;; and for
Context, the place to start is the 
<a href="http://wiki.contextgarden.net/Main_Page">ConTeXt garden wiki</a>
(which is so good the present FAQs don&rsquo;t even try to compete).

<p class="lastedit">This answer last edited: 2011-03-04</p>

<p>

<p>
[[[Question]]][Q-whatTeX][[[LBRACE]]]What is TeX?[[[RBRACE]]]

<p>
TeX is a typesetting system written by
<a href="http://sunburn.stanford.edu/~knuth/">Donald E. Knuth</a>, who
says in the Preface to his book on TeX
(see <a class="FAquestion.html" href="FAQ-tex-books.html">books about TeX</a>) that it is

&ldquo;<em>intended for the creation of beautiful books&nbsp;&mdash;</em>
<em>and especially for books that contain a lot of mathematics</em>&rdquo;.
(If TeX were <em>only</em> good for mathematical books, much of its
use nowadays would not happen: it&rsquo;s actually a pretty good general
typesetting system.)

<p>
Knuth is Emeritus Professor of the Art of Computer Programming at
Stanford University in California, USA.  Knuth developed the
first version of TeX in 1978 to deal with revisions to his series
&ldquo;the Art of Computer Programming&rdquo;.  The idea proved popular and
Knuth produced a second version (in 1982) which is the basis of what
we use today.

<p>
Knuth developed a system of 
&lsquo;<a href="FAQ-lit.html">literate programming</a>&rsquo; to write TeX,
and he provides the literate (WEB) source of TeX free of charge,
together with tools for processing the <code class="verb">web</code> source into something
that can be compiled and something that can be printed; there is (in
principle) never any mystery about what TeX does.  Furthermore, the
WEB system provides mechanisms to port TeX to new operating
systems and computers; and in order that one may have some confidence
in the ports, Knuth supplied a <a href="FAQ-triptrap.html">test</a> by
means of which one may judge the fidelity of a TeX system.  TeX
and its documents are therefore highly portable.

<p>
For the interested programmer, the distribution of TeX has some
fascination: it&rsquo;s nothing like the way one would construct such a
program nowadays, yet it has lasted better than most, and has been
ported to many different computer architectures and operating
systems&nbsp;&mdash; the sorts of attributes that much modern programming
practice aims for.  The processed &lsquo;readable&rsquo; source of TeX the
program may be found in the 

  <a href="FAQ-tds.html">TDS structured</a> version of the distribution.





<dl>
<dt class="ctanref">Knuth&rsquo;s source distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/knuth-dist">knuth-dist</a>
<dt class="ctanref">Knuth&rsquo;s sources in TDS layout</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/knuth-tds">knuth-tds</a>
</dl>

<p class="lastedit">This answer last edited: 2013-11-27</p>

<p>
[[[Question]]][Q-plaintex][[[LBRACE]]]What&rsquo;s &ldquo;writing in TeX&rdquo;?[[[RBRACE]]]

<p>
TeX is a macro processor, and offers its users a powerful
programming capability.  To produce a document, you write macros and
text interleaved with each other.  The macros define an environment in
which the text is to be typeset.

<p>
However, the basic TeX engine is pretty
basic, and is a pretty difficult beast to deal with. Recognising this
(and not wanting to write the same things at the start of every
document, himself) Knuth provided a package of macros for use with
TeX, called Plain TeX; Plain TeX is a useful minimum set of
macros that can be used with TeX, together with some demonstration
versions of higher-level commands.  When people say they&rsquo;re &ldquo;writing
(or programming) in TeX&rdquo;, they usually mean they&rsquo;re programming in
Plain TeX.

<p>
[[[Question]]][Q-TeXpronounce][[[LBRACE]]]How should I pronounce &ldquo;TeX&rdquo;?[[[RBRACE]]]

<p>
The &lsquo;X&rsquo; is &ldquo;really&rdquo; the Greek letter 
Chi, and is pronounced by
English-speakers either a bit like the &lsquo;ch&rsquo; in the Scots word &lsquo;loch&rsquo;
([x] in the IPA) or (at a pinch, if you can&rsquo;t do the Greek sound) like
&lsquo;k&rsquo;.  It definitely is not pronounced &lsquo;ks&rsquo; (the Greek letter with that
sound doesn&rsquo;t look remotely like the Latin alphabet &lsquo;X&rsquo;).

<p>
This curious usage derives from Knuth&rsquo;s explanation in the TeXbook
that the name comes from the Greek word for &lsquo;art&rsquo; or &lsquo;craft&rsquo;
(&lsquo;<em>techni</em>&rsquo;),
which is the root of the English word &lsquo;technology&rsquo;.  Knuth&rsquo;s logo for TeX is
merely the uppercase version of the first three (Greek) letters of the
word, jiggled about a bit; we don&rsquo;t use that logo (and logos like it)
in this FAQ (see 
<a class="FAquestion.html" href="FAQ-logos.html">Typesetting TeX-related logos</a>).

<p>
[[[Question]]][Q-MF][[[LBRACE]]]What is MetaFont?[[[RBRACE]]]

<p>
MetaFont was written by Knuth as a companion to TeX; whereas TeX
defines the layout of glyphs on a page, MetaFont defines the shapes of
the glyphs and the relations between them.  MetaFont details the sizes of
glyphs, for TeX&rsquo;s benefit, and creates bitmaps that may be used to
represent the glyphs, for the benefit of programs that will produce
printed output as post processes after a run of TeX.

<p>
MetaFont&rsquo;s language for defining fonts permits the expression of several
classes of things: first (of course), the simple geometry of the
glyphs; second, the properties of the print engine for which the
output is intended; and third, &lsquo;meta&rsquo;-information which can
distinguish different design sizes of the same font, or the difference
between two fonts that belong to the same (or related) families.

<p>
Knuth (and others) have designed a fair range of fonts using MetaFont,
but font design using MetaFont is much more of a minority skill (even) than is
TeX macro-writing.
What is more, it is a dying art: few new TeX-related fonts are
produced using MetaFont, nowadays.  Indeed, several of the major font
families (that originated in MetaFont designs) are now seldom used in any
other way than their conversion to an outline font format.




<p class="lastedit">This answer last edited: 2011-07-03</p>

<p>
[[[Question]]][Q-MP][[[LBRACE]]]What is MetaPost?[[[RBRACE]]]

<p>
The MetaPost system (by John Hobby) implements a picture-drawing language
very much like that of MetaFont; the difference is that MetaPost outputs
vector graphic files instead of run-length-encoded bitmaps; output
formats available are PostScript or SVG
MetaPost
is a powerful language for producing figures for documents to be
printed on PostScript printers, either directly or embedded in (La)TeX
documents.  MetaPost is able to integrate text and mathematics, marked up
for use with TeX, within the graphics.  (Knuth tells us that he
uses nothing but MetaPost for diagrams in text that he is writing.)

<p>
Although PDFLaTeX cannot ordinarily handle PostScript graphics, the
output of MetaPost is sufficiently simple and regular that PDFLaTeX
can handle it direct, using code borrowed from

  <a href="FAQ-context.html">Context</a>&nbsp;&mdash;




see <a class="FAquestion.html" href="FAQ-pdftexgraphics.html">graphics in PDFLaTeX</a>.

<p>
Much of MetaPost&rsquo;s source code was copied from MetaFont&rsquo;s sources, with
Knuth&rsquo;s permission.

<p>
A mailing list discussing MetaPost is available;





  subscribe via the 
  <a href="http://lists.tug.org/metapost">TUG <i class="progname">mailman</i> interface</a>.

The TUG website also hosts a 
<a href="http://tug.org/metapost.html">MetaPost summary page</a>, and the
<i class="package">tex-overview</i> document gives you a lot more detail (and some
explanatory background material).
<dl>
<dt class="ctanref">tex-overview.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex-overview">tex-overview</a>
</dl>

<p class="lastedit">This answer last edited: 2013-12-10</p>

<p>
[[[Question]]][Q-texthings][[[LBRACE]]]Things with &ldquo;TeX&rdquo; in the name[[[RBRACE]]]

<p>
New TeX users are often baffled by the myriad terms with &ldquo;TeX&rdquo;
in the name.  The goal of this answer is to clarify some of the more
common such terms.

<p>
<b>TeX itself</b> 
TeX proper is a typesetting system based on a set of low-level
control sequences that instruct TeX how to lay out text on the
page.  For example, <code>&#x5c;hskip</code> inserts a given amount of horizontal
space into the document, and <code>&#x5c;font</code> makes a given font available
in a document.  TeX is fully programmable using an integrated macro
scripting language that supports variables, scoping, conditional
execution, control flow, and function (really, macro) definitions.
See 
<a class="FAquestion.html" href="FAQ-whatTeX.html">what is TeX?</a> for some background
information on TeX and 
<a class="FAquestion.html" href="FAQ-ref-doc.html">some reference documents</a> for pointers to
descriptions of TeX control sequences, data types, and other key
parts of TeX.

<p>
<b>TeX macro packages (a.k.a.&nbsp;TeX formats)</b> 
Some of TeX&rsquo;s control sequences are tedious to use directly; they are
intended primarily as building blocks for higher-level&nbsp;&mdash; and therefore
more user-friendly&nbsp;&mdash;  abstractions.  For example, there is no way in
base TeX to specify that a piece of text should be typeset in a
larger font.  Instead, one must keep track of the current size and
typeface, load a new font with the same typeface but a (specified)
larger size, and tell TeX to use that new font until instructed
otherwise.  Fortunately, because TeX is programmable, it is
possible to write a macro that hides this complexity behind a simple,
new control sequence.  (For example, it is possible to define
<code>&#x5c;larger</code><code>&#x7b;my text&#x7d;</code> to typeset &ldquo;my text&rdquo; in
at a font size next larger than the current one.)

<p>
While some users write their own, perfectly customized set of
macros&nbsp;&mdash; which they then typically reuse across many documents&nbsp;&mdash; it is
far more common to rely upon a <em>macro package</em>, a collection of
TeX macros written by experts.  For the user&rsquo;s convenience, these
macro packages are often combined with the base TeX engine into a
standalone executable.  The following are some of that macro packages
that you are likely to encounter:
<dl>
  <dt class="description">Plain TeX (executable: <i class="progname">tex</i>)</dt><dd>
  See
  <a class="FAquestions.html" href="FAQ-tex-books.html">Books on TeX and Plain TeX</a>,
  <a class="FA.html" href="FAQ-man-tex.html">Online introductions: TeX</a>,
  <a class="FA.html" href="FAQ-plainvltx.html">Should I use Plain TeX or LaTeX?</a> and
  <a class="FA.html" href="FAQ-ol-books.html">Freely available (La)TeX books</a>.
  Note that the Plain TeX executable is called <i class="progname">tex</i>; the
  base TeX engine is generally provided by a separate executable
  such as <i class="progname">initex</i> or as a <tt>-ini</tt> flag to
  <i class="progname">tex</i>.

<p>
  <dt class="description">LaTeX (executable: <i class="progname">latex</i>)</dt><dd>
  See
  <a class="FAquestions.html" href="FAQ-latex-books.html">Books on TeX and its relations</a>,
  <a class="FA.html" href="FAQ-tutorials*.html">(La)TeX Tutorials, etc.</a>,
  <a class="FA.html" href="FAQ-man-latex.html">Online introductions: LaTeX</a> and
  <a class="FA.html" href="FAQ-tutbitslatex.html">Specialized (La)TeX tutorials</a>.
  Note that there have been two major versions of LaTeX: LaTeX 2e
  refers to the current version of LaTeX while LaTeX 2.09 is the
  long-since-obsolete (since 1994) version (cf.&nbsp;
  <a class="FAquestion.html" href="FAQ-latex2e.html">What is LaTeX 2e?</a> for more information).

<p>
  <dt class="description">CONTeXT (executable: <i class="progname">texmfstart</i>)</dt><dd>
  See
  <a class="FAquestion.html" href="FAQ-context.html">What is CONTeXT?</a>.

<p>
  <dt class="description">Texinfo (executables: <i class="progname">tex</i>, <i class="progname">makeinfo</i>)</dt><dd>
  See
  <a class="FAquestion.html" href="FAQ-texinfo.html">What is Texinfo?</a>.  <i class="progname">makeinfo</i>
  converts Texinfo documents to HTML, DocBook, Emacs info,
  XML, and plain text.  <i class="progname">Tex</i> (or wrappers such as
  <i class="progname">texi2dvi</i> and <i class="progname">texi2pdf</i>) produce one of TeX&rsquo;s
  usual output formats such as DVI or PDF.  Because
  <i class="progname">tex</i> loads the Plain TeX macros, not the Texinfo ones,
  a Texinfo document must begin with
  <blockquote>
    <code>&#x5c;input</code><tt> texinfo</tt>
  </blockquote>
  explicitly load the Texinfo macro package.

<p>
  <dt class="description">Eplain&nbsp;&mdash; Extended Plain TeX (executable: <i class="progname">eplain</i>)</dt><dd>
  See
  <a class="FAquestion.html" href="FAQ-eplain.html">What is Eplain?</a>.
</dl>

<p>
<b>Modified <i class="progname">tex</i> executables</b> 
The original <i class="progname">tex</i> executable was produced in the late 1970s
(cf.&nbsp;<a class="FAquestion.html" href="FAQ-whatTeX.html">What is TeX?</a>) and consequently
lacked some features that users have come to expect from today&rsquo;s
software.  The following programs address these issues by augmenting
the TeX engine with some additional useful features:

<p>
<dl>
  <dt class="description">PDFTeX (executable: <i class="progname">pdftex</i>)</dt><dd>
  TeX, which predates the PDF file format by a decade,
  outputs files in a TeX-specific format called DVI
  (cf.&nbsp;<a class="FAquestion.html" href="FAQ-dvi.html">What is a DVI file?</a>).  In
  contrast, PDFTeX can output both DVI <em>and</em> PDF
  files.  In PDF mode, it lets documents exploit various
  PDF features such as hyperlinks, bookmarks, and annotations,
  PDFTeX additionally supports two sophisticated micro-typographic
  features: character protrusion and font expansion.  See
  <a class="FAquestion.html" href="FAQ-whatpdftex.html">What is PDFTeX?</a>.

<p>
  <dt class="description">XeTeX (executable: <i class="progname">xetex</i>)</dt><dd>
  XeTeX reads UTF-8 encoded Unicode input, and extends
  TeX&rsquo;s font support to include &lsquo;modern&rsquo; formats such as TrueType
  and OpenType; these extensions to its capabilities make it
  well-suited to multi-lingual texts covering different writing
  systems.  See <a class="FAquestion.html" href="FAQ-xetex.html">What is XeTeX?</a>.

<p>
  <dt class="description">LuaTeX (executable: <i class="progname">luatex</i>)</dt><dd>
  TeX is programmed in its own arcane, integrated, macro-based
  programming language.  LuaTeX adds a second programming engine
  using a modern scripting language, Lua, which is &lsquo;embedded&rsquo; in a
  TeX-alike engine; it too reads UTF-8 and uses TrueType
  OpenType fonts.  See 
  <a class="FAquestion.html" href="FAQ-luatex.html">What is LuaTeX?</a>.

<p>
  <dt class="description">e-TeX (executable: <i class="progname">etex</i>)</dt><dd>
  e-TeX is an extension of TeX&rsquo;s programming interface; as such
  it&rsquo;s only indirectly useful to end users, but it can be valuable to
  package developers; there is an increasing number of macro packages
  that require the use of e-TeX.  As well as existing in
  <i class="progname">etex</i>, e-TeX features are usually available in the
  <i class="progname">pdftex</i> executables provided in the standard
  distributions; XeTeX and LuaTeX also provide e-TeX&rsquo;s
  programming facilities.    See 
  <a class="FAquestion.html" href="FAQ-etex.html">What is e-TeX?</a>.

<p>
  (Note: e-TeX, which enhances the TeX engine, is not to be
  confused with Eplain, which enhances the Plain TeX macro
  package.)
</dl>

<p>
Because each of the above derive from a base TeX engine, it is in
principle possible to combine any of them with one of the TeX macro
packages listed earlier to produce &lsquo;extended&rsquo; executables.  For
example, the <i class="progname">pdflatex</i>, <i class="progname">xelatex</i> and
<i class="progname">lualatex</i> executables each combine LaTeX with an enhanced
TeX engine.  Indeed, most (if not all) of the development of
Context is now using LuaTeX.

<p>
Some executables combine the features of multiple enhanced TeX
engines: for example, <i class="progname">pdftex</i> now (in current distributions)
offers both PDFTeX and e-TeX extensions into a single executable
This executable may be offered with a LaTeX format (as
<i class="progname">latex</i> or <i class="progname">pdflatex</i>) or with a Plain TeX format
(as <i class="progname">pdftex</i>).  (<i class="progname">Tex</i> remains with an unadorned
TeX executable using Plain TeX, for people such as Knuth himself,
who want the certainty of the &ldquo;original&rdquo;.)

<p>
<b>TeX distributions</b> 
A <em>TeX distribution</em> provides a structured collection of
TeX-related software.  Generally, a TeX distribution includes a
set of &ldquo;core&rdquo; TeX executables such as <i class="progname">tex</i> and
<i class="progname">latex</i>; various fonts optimized for use with TeX; helper
programs such as the BibTeX bibliographic-database formatter,
editors, integrated development environments, file-format-conversion
programs; numerous LaTeX packages; configuration tools; and any
other goodies the distributor chooses to include.

<p>
Commonly encountered TeX distributions include texlive,
MiKTeX and MacTeX; older ones include ozTeX,
CMacTeX and teTeX.  MiKTeX is also available as the
basis of the ProTeXt bundle, distributed on the texlive
DVD mailing, as well as being available online.

<p>
Some TeX distributions target a specific operating system and/or
processor architecture; others run on multiple platforms.  Many TeX
distributions are free; a few require payment.  See 
<a class="FAquestion.html" href="FAQ-TeXsystems.html">(La)TeX for different machines</a> for a
list of free and shareware TeX distributions and 
<a class="FAquestion.html" href="FAQ-commercial.html">Commercial TeX implementations</a> for a
list of commercial TeX distributions.

<p>
<b>Summary</b> 
What does it all mean?&nbsp;&mdash; the simple lists of objects, alone, offer
no help for the beginner.  The FAQ team expects this answer
only to be of use for people who are seeking guidance elsewhere
(possibly within these FAQs) and coming across an unexpected
name like &ldquo;blahTeX&rdquo;.

<p>
The subject matter covered by this answer is also addressed in a page
on the TUG site, 
&ldquo;<a href="http://tug.org/levels.html">the Levels of TeX</a>&rdquo;.

<p class="lastedit">This answer last edited: 2011-09-26</p>

<p>
[[[Question]]][Q-ctan][[[LBRACE]]]What is CTAN?[[[RBRACE]]]

<p>
The acronym stands for &ldquo;Comprehensive TeX Archive Network&rdquo;, which
more-or-less specifies what it&rsquo;s <em>for</em>:
<ul>
<li> The archives offer a comprehensive collection of TeX resources.
<li> The content is made publicly accessible, via the internet.
<li> CTAN is a <em>network</em> of archives, which strive to
  stay in step with one another.
</ul>
The basic framework was developed by a TUG working group set up
to resolve the (then existing) requirement for users to <em>know</em> on
which archive site a particular package might be found.

<p>
Actual implementation offers three distinct types of host:
<dl>
<dt class="description"><em>Core</em> archives</dt><dd>Which form a small, tightly-coupled set of
  machines, which perform management functions as well as serving
  files;
<dt class="description"><em>Mirror</em> archives</dt><dd>Which do no more than take regular copies
  of core archives, and serve them; and
<dt class="description">Archive selector</dt><dd>Which is a meta-service, which routes requests
  to an apparently &ldquo;local&rdquo; mirror (&ldquo;local&rdquo; is determined by an
  algorithm that uses your net address to determine where you are, and
  then selects a mirror that&rsquo;s close).
</dl>
Note that there is nothing to prevent any archive from supporting
other functions, so a CTAN mirror may also operate as a
CPAN (Perl) mirror and as a SourceForge (general free software)
mirror, and &hellip;

<p>
Functions that distinguish core archives are:
<ul>
<li> Uploads: users may submit new (or updated) material via the
  <a href="FAQ-uploads.html">upload redirector</a>. Significant changes to the
  archive are reported via the mailing list <a href="mailto:ctan-ann@dante.de">ctan-ann@dante.de</a>
<li> Weak consistency: changes to the content of the archives are
  rapidly distributed to all core archives.  (Consistency is &lsquo;weak&rsquo;
  since changes can take several minutes to propagate.)
<li> Providing distribution (texlive and MiKTeX) support.
<li> Catalogue maintenance.
<li> Mirror monitoring.
</ul>

<p>
Users may make direct contact with the




  <a href="mailto:ctan@dante.de">CTAN management team</a>.


<p>
Users should ordinarily download material from CTAN via the
<a href="http://mirror.ctan.org/">archive selector</a>: this uses the
mirror monitor&rsquo;s database, and uses the caller&rsquo;s geographical location to
offer an efficient choice of &ldquo;sufficiently up-to-date&rdquo; mirror site for
you to connect to.  This procedure has the advantage of distributing
the load on CTAN mirrors.

<p>
Note that all the download links, given in the web representation of
these FAQs, are set up to use the mirror selector.

<p class="lastedit">This answer last edited: 2013-05-21</p>

<p>
[[[Question]]][Q-catalogue][[[LBRACE]]]The (CTAN) catalogue[[[RBRACE]]]

<p>
Finding stuff on networks used always to be difficult, but in recent years,
search engines have become amazingly good at digging out unconsidered
trifles from the myriad items of information available on the net.
However, for the (La)TeX user, confusion is added by the tendency to
index the same file at several CTAN mirror sites.

<p>
Further, the (La)TeX user usually needs the most recent version of a
package; it&rsquo;s a rare search result that describes itself as obsolete!

<p>
The CTAN catalogue, several years after it was introduced, has
developed into a powerful tool for dealing with these difficulties.
It provides an entry for each package to be found on CTAN;
users may search the catalogue for an entry, or they may browse its
contents, using the catalogue&rsquo;s lists of &ldquo;categories&rdquo; of item.

<p>
The basis of the catalogue is a collection of small, stylised,
articles; each shows basic information about a package on CTAN,
and includes pointers to download address (on a CTAN mirror),
documentation and home page if any, and related packages.

<p>
The <a href="http://www.ctan.org">CTAN central database machine</a>
offers a &ldquo;Browse CTAN&rdquo; area, with links to the list of
packages, to a list of &lsquo;topics&rsquo; (with packages that match each topic),
and to a list of authors (with their packages).

<p>
In addition, every CTAN mirror holds a copy of the catalogue,
presented as a series of web pages; one may scan the files in
alphabetic order, or use a category-based index.  Such access is not
as &ldquo;sophisticated&rdquo; as that on the central site, but it served for
years before the central site appeared.
<dl>
<dt class="ctanref">The CTAN catalogue (on CTAN)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/Catalogue">Catalogue</a>
</dl>

<p class="lastedit">This answer last edited: 2014-03-17</p>

<p>
[[[Question]]][Q-triptrap][[[LBRACE]]]How can I be sure it&rsquo;s really TeX?[[[RBRACE]]]

<p>
TeX (and MetaFont and MetaPost) are written in a




  <a href="FAQ-lit.html">&lsquo;literate&rsquo; programming</a> language called <i class="progname">Web</i>

which is designed to be portable across a wide range of computer
systems.  How, then, is a new version of TeX checked?

<p>
Of course, any sensible software implementor will have his own suite
of tests to check that his software runs: those who port TeX and
its friends to other platforms do indeed perform such tests.

<p>
Knuth, however, provides a &lsquo;conformance test&rsquo; for both TeX
(<i class="package">trip</i>) and MetaFont (<i class="package">trap</i>).

He characterises these as &lsquo;torture tests&rsquo;: they are designed not to
check the obvious things that ordinary typeset documents, or font
designs, will exercise, but rather to explore small alleyways off the
main path through the code of TeX.  They are, to the casual reader,
pretty incomprehensible!

<p>
Once an implementation of TeX has passed its <i class="package">trip</i> test, or
an implementation of MetaFont has passed its <i class="package">trap</i> test, then it
may in principle be distributed as a working version.  (In practice,
any distributor would test new versions against &ldquo;real&rdquo; documents or
fonts, too; while <i class="package">trip</i> and <i class="package">trap</i> test bits of
pathways within the program, they don&rsquo;t actually test for any real
world problem.)

<p class="lastedit">This answer last edited: 2011-05-28</p>

<p>


<p>




<p>






<p>







<p>











<p>




<p>





<p>







<p>


<p>







<p>
[[[Question]]][Q-etex][[[LBRACE]]]What is e-TeX?[[[RBRACE]]]

<p>
While Knuth has declared that TeX will never 
<a href="FAQ-TeXfuture.html">change in any substantial way</a>, there remain
things that one might wish had been done differently, or indeed
implemented at all.

<p>
The NTS project set out to produce an advanced replacement for
TeX, to provide a basis for developing such modifications: this
&ldquo;New Typesetting System&rdquo; would share Knuth&rsquo;s aims, but would
implement the work in a modern way taking account of the lessons
learned with TeX.  While a first demonstrator NTS did
appear, it wasn&rsquo;t practically useful, and the project seems no longer
active.

<p>
In parallel with its work on NTS itself, the project developed
a set of extensions that can be used with a (&ldquo;true&rdquo;) TeX system.
Such a modified system is known as an e-TeX system, and the concept
has proved widely successful.  Indeed, current TeX distributions
are delivered with most formats built with an e-TeX-based system (for
those who don&rsquo;t want them, e-TeX&rsquo;s extensions can be disabled, leaving
a functionally standard TeX system).

<p>
The extensions range from the seemingly simple (increasing the number
of available registers from 256 to 32768) through to extremely subtle
programming support.

<p>
<a href="FAQ-context.html">CONTeXT</a> has required e-TeX for its operation
for some time, though development is now focused on the use of
<a href="FAQ-luatex.html">LuaTeX</a>.

<p>
Some LaTeX packages already specify the use of e-TeX.  Some such
packages may not work at all on a non-e-TeX system; others will
work, but not as well as on an e-TeX system.  The 
<a href="FAQ-LaTeX3.html">LaTeX team</a> has announced that future LaTeX
packages (specifically those from the team, as opposed to those
individually contributed) may require e-TeX for optimum performance.
<dl>
<dt class="ctanref">e-TeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etex">etex</a>
</dl>

<p class="lastedit">This answer last edited: 2011-07-13</p>

<p>
[[[Question]]][Q-whatpdftex][[[LBRACE]]]What is PDFTeX?[[[RBRACE]]]

<p>
One can reasonably say that PDFTeX is (today) the main stream of
TeX distributions: most LaTeX and many CONTeXT users nowadays use
PDFTeX whether they know it or not (more precisely, they use
PDFTeX extended by

  <a href="FAQ-etex.html">e-TeX</a>).




So what is PDFTeX?

<p>
PDFTeX is a development of TeX that is capable of generating
typeset PDF output in place of DVI.  PDFTeX has
other capabilities, most notably in the area of fine typographic
detail (for example, its support for 

  <a href="FAQ-overfull.html">optimising line breaks</a>),





but its greatest impact to date has been in the area of
PDF output.

<p>
PDFTeX started as a topic for H&agrave;n Th&#x1ebf; Th&agrave;nh&rsquo;s Master&rsquo;s&nbsp;thesis,
and seems first to have been published in TUGboat 18(4), in 1997
(though it was certainly discussed at the TUG&rsquo;96 conference in
Russia).

<p>
While the world was making good use of &ldquo;pre-releases&rdquo; of PDFTeX,
Th&agrave;nh used it as a test-bed for the micro-typography which was the
prime subject of his Ph.D.&nbsp;research.  Since Th&agrave;nh was finally
awarded his Ph.D., day-to-day maintenance and development of
PDFTeX&nbsp;1.0 (and later) has been in the hands of a group of
PDFTeX maintainers (which includes Th&agrave;nh); the group has managed
to maintain a stable platform for general use.

<p>
Development of PDFTeX has mostly stopped (only bug fixes, and
occasional small development items are processed): future development
is focused on <a href="FAQ-luatex.html">LuaTeX</a>.

<p class="lastedit">This answer last edited: 2011-05-28</p>

<p>
[[[Question]]][Q-latex][[[LBRACE]]]What is LaTeX?[[[RBRACE]]]

<p>
LaTeX is a TeX macro package, originally written by Leslie Lamport, that
provides a document processing system.  LaTeX allows markup to
describe the structure of a document, so that the user
need not think about presentation. By using document classes and
add-on packages, the same document can be produced in a variety of
different layouts.

<p>
Lamport says that LaTeX
&ldquo;<em>represents a balance between functionality and ease of use</em>&rdquo;.
This shows itself as a continual conflict that leads to
the need for such things as FAQs: LaTeX <em>can</em> 
meet most user requirements, but finding out <em>how</em> is often
tricky.

<p>
[[[Question]]][Q-latex2e][[[LBRACE]]]What is LaTeX 2e?[[[RBRACE]]]

<p>
Lamport&rsquo;s last version of LaTeX (LaTeX 2.09, last updated in 1992)
was superseded in 1994 by a new version (LaTeX 2e) provided by
<a href="FAQ-LaTeX3.html">the LaTeX team</a>.
LaTeX 2e is now the only readily-available version of
LaTeX, and draws together several threads of LaTeX development
from the later days of LaTeX 2.09.  The &ldquo;e&rdquo; of the name is (in the

<a href="FAQ-logos.html">official logo</a>)

a single-stroke epsilon
(&amp;epsilon;, supposedly
indicative of no more than a small change).

<p>
LaTeX 2e has several enhancements over LaTeX 2.09, but they were all
rather minor, with a view to continuity and stability rather than the
&ldquo;big push&rdquo; that some had expected from the team.  LaTeX 2e
continues to this day to offer a compatibility mode in which most
files prepared for use with LaTeX 2.09 will run (albeit with somewhat
reduced performance, and subject to voluminous complaints in the log
file).  Differences between LaTeX 2e and LaTeX 2.09 are
outlined in a series of &lsquo;guide&rsquo; files that are available in every
LaTeX distribution (the same directory also contains &ldquo;news&rdquo; about
each new release of LaTeX 2e).

<p>
Note that, now, LaTeX 2e is &ldquo;feature frozen&rdquo; (the only allowed
changes come from bug reports); this, too, is in pursuit of stability,
and is a driving force for many of the efforts to contribute LaTeX
packages.
<dl>
<dt class="ctanref">LaTeX guides and news</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexdoc">latexdoc</a>
</dl>

<p class="lastedit">This answer last edited: 2011-08-19</p>

<p>
[[[Question]]][Q-latexpronounce][[[LBRACE]]]How should I pronounce &ldquo;LaTeX(2<sub>&epsilon;</sub>)&rdquo;?[[[RBRACE]]]

<p>
Lamport never recommended how one should pronounce LaTeX, but a lot
of people pronounce it &lsquo;Lay TeX&rsquo; or perhaps &lsquo;Lah TeX&rsquo; (with
TeX pronounced as the program itself; see
<a class="FAquestion.html" href="FAQ-TeXpronounce.html">the rules for TeX</a>).  It is definitely
<em>not</em> to be pronounced in the same way as the rubber-tree gum
(which would be &lsquo;lay teks&rsquo;).

<p>
The LaTeX 2e logo is supposed to end with an
&amp;epsilon;; nevertheless, most
people pronounce the name as &lsquo;LaTeX-two-ee&rsquo;.

<p class="lastedit">This answer last edited: 2009-06-08</p>

<p>
[[[Question]]][Q-plainvltx][[[LBRACE]]]Should I use Plain TeX or LaTeX?[[[RBRACE]]]

<p>
There&rsquo;s no straightforward answer to this question.  Many people swear
by Plain TeX, and produce highly respectable documents using it
(Knuth is an example of this, of course).  But equally, many people
are happy to let someone else take the design decisions for them,
accepting a small loss of flexibility in exchange for a saving of
(mental) effort.

<p>
The arguments around this topic can provoke huge amounts of noise and
heat, without offering much by way of light; your best bet may be to
find out what those around you are using, and to follow them in the
hope of some support.  Later on, you can always switch your
allegiance; don&rsquo;t bother about it.

<p>
If you are preparing a manuscript for a publisher or journal, ask them
what markup they want before you
develop your own; many big publishers have developed their own
(La)TeX styles for journals and books, and insist that authors stick
closely to their markup.

<p>
[[[Question]]][Q-LaTeXandPlain][[[LBRACE]]]How does LaTeX relate to Plain TeX?[[[RBRACE]]]

<p>
TeX provides a programming language (of sorts), and any document
more complex than the trivial &ldquo;hello world&rdquo; will need some
programming.

<p>
LaTeX and Plain TeX are both libraries written for use with
TeX; the user commands <i class="progname">tex</i> and <i class="progname">latex</i> invoke
TeX-the-program with a library incorporated.  Libraries that may be
loaded in this way are known as &lsquo;<em>formats</em>&rsquo;; when a user &ldquo;runs&rdquo;
Plain TeX or LaTeX, they are running TeX (the program) with an
appropriate format.  The documents are then programmed in Plain TeX
or LaTeX <em>language</em>.

<p>
Plain TeX and LaTeX exist because writing your documents in &lsquo;raw&rsquo;
TeX could involve much reinventing of wheels for every document.
Both languages serve as convenient aids to make document writing more
pleasant: LaTeX provides many more items to support &lsquo;common&rsquo;
requirements of documents.

<p>
As such, LaTeX is close to being a superset of Plain TeX, but
some Plain TeX commands don&rsquo;t work as expected when used in a
LaTeX document.  Using Plain TeX commands in a LaTeX document
is an occasional source of bugs: the output is <em>almost</em> right,
but some things are misplaced.

<p>
So, Plain TeX and LaTeX are related through a common parent, and
are designed for use in similar jobs; programming for one will often
not work correctly in the other.

<p class="lastedit">This answer last edited: 2014-03-18</p>

<p>
[[[Question]]][Q-context][[[LBRACE]]]What is Context?[[[RBRACE]]]

<p>
<a href="http://www.pragma-ade.com/">Context</a> is a macro package
created by Hans Hagen of Pragma-Ade; it started as a production tool
for Pragma (which is a publishing company).  CONTeXT is a
document-production system based, like LaTeX, on the TeX
typesetting system.  Whereas LaTeX insulates the writer from
typographical details, Context takes a complementary approach by
providing structured interfaces for handling typography, including
extensive support for colors, backgrounds, hyperlinks, presentations,
figure-text integration, and conditional compilation.  It gives the
user extensive control over formatting while making it easy to create
new layouts and styles without learning the TeX macro
language. CONTeXT&rsquo;s unified design avoids the package clashes that
can happen with LaTeX.

<p>
Context also integrates MetaFun, a superset of MetaPost and a powerful
system for vector graphics.  MetaFun can be used as a stand-alone
system to produce figures, but its strength lies in enhancing
Context documents with accurate graphic elements.

<p>
Context allows users to specify formatting commands in English,
Dutch, German, French, or Italian, and to use different typesetting
engines (PDFTeX, XeTeX, Aleph and LuaTeX) without
changing the user interface. Context continues to develop, often in
response to requests from the user community.

<p>
The development of <a href="FAQ-luatex.html">LuaTeX</a> was originally driven
by Context, almost from the start of its project.  Nowadays,
Context it is distributed in two versions&nbsp;&mdash; mark two (files with
extension <code class="extension">mkii</code>) which runs on PDFTeX but is not under
active development, and mark four (files with extension
<code class="extension">mkiv</code>) (which runs on LuaTeX and is where development
happens).

<p>
Context has a large developer community (though possibly not as
large as that of LaTeX), but those developers who are active seem to have
prodigious energy.  Support is available via a 
<a href="http://wiki.contextgarden.net/Main_Page">WIKI site</a> and via the
<a href="http://www.ntg.nl/mailman/listinfo/ntg-context">mailing list</a>.
A &ldquo;standalone&rdquo; distribution (a TeX distribution with no macros
other than Context-based ones) is available from
<a href="http://minimals.contextgarden.net/">http://minimals.contextgarden.net/</a> &mdash; it provides
a Context system on any of a number of platforms, executing either
mark&nbsp;ii or mark&nbsp;iv Context.

<p>
Note that CTAN does <em>not</em> hold the primary distribution of
Context&nbsp;&mdash; potential users should refer to
<a href="http://contextgarden.net">Context &lsquo;garden&rsquo; site</a> for details
of the
current distribution.  CTAN holds a copy of CONTeXT but
makes no claim about its &ldquo;up-to-date&rdquo;ness.  Likewise, CTAN
holds a few contributed Context packages, but many more are to be
found via the <a href="http://contextgarden.net">CONTeXT garden</a>.
<dl>
<dt class="ctanref">CONTeXT distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/context">context</a>
<dt class="ctanref">CONTeXT packages selection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/context-contrib">context-contrib</a>
</dl>

<p class="lastedit">This answer last edited: 2014-05-30</p>

<p>
[[[Question]]][Q-AMSpkg][[[LBRACE]]]What are the AMS packages (AMSTeX, <em>etc</em>.)?[[[RBRACE]]]

<p>
AMSTeX is a TeX macro package, originally written by Michael Spivak for
the American Mathematical Society (AMS) during 1983&ndash;1985 and
is described in the book &ldquo;<a href="FAQ-tex-books.html">The Joy of TeX</a>&rdquo;.
It is based on Plain TeX, and provides many
features for producing more professional-looking maths formulas with
less burden on authors.  It pays attention to the finer details of
sizing and positioning that mathematical publishers care about. The
aspects covered include multi-line displayed equations, equation
numbering, ellipsis dots, matrices, double accents, multi-line
subscripts, syntax checking (faster processing on initial
error-checking TeX runs), and other things.

<p>
As LaTeX increased in popularity, authors sought to submit papers to
the AMS in LaTeX, so AMSLaTeX was developed.  AMSLaTeX
is a collection of LaTeX packages and classes that offer authors most of
the functionality of AMSTeX.
The AMS no longer recommends the use of AMSTeX, and urges
its authors to use AMSLaTeX instead.
<dl>
<dt class="ctanref">AMSTeX distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amstex">amstex</a>
<dt class="ctanref">AMSLaTeX distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amslatex">amslatex</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-eplain][[[LBRACE]]]What is Eplain?[[[RBRACE]]]

<p>
The <a href="http://tug.org/eplain">Eplain</a>
macro package expands on and extends the definitions in Plain TeX.
Eplain is not intended to provide &ldquo;generic typesetting
capabilities&rdquo;, as do CONTeXT, LaTeX or
<a href="FAQ-texinfo.html">Texinfo</a>.  Instead, it defines macro tools that
should be useful whatever commands you choose to use when you prepare
your manuscript.

<p>
For example, Eplain does not have a command <code>&#x5c;section</code>,
which would format section headings in an &ldquo;appropriate&rdquo; way, as
LaTeX&rsquo;s <code>&#x5c;section</code> does.  The philosophy of Eplain is that
some people will always need or want to go beyond the macro designer&rsquo;s
idea of &ldquo;appropriate&rdquo;.  Canned sets of macros are fine&nbsp;&mdash; as long as you
are willing to accept the resulting output.  If you don&rsquo;t like the
results, or if you are trying to match a different format, you may
find that Eplain is for you.

<p>
On the other hand, almost everyone would like capabilities such as
cross-referencing by labels, so that you don&rsquo;t have to put actual page
numbers in the manuscript.  The authors of Eplain believe it is the
only generally available macro package that does not force its
typographic style on an author, and yet provides these capabilities.

<p>
Another useful feature of Eplain is the ability to create PDF files
with hyperlinks.  The cross-referencing macros can implicitly generate
hyperlinks for the cross-references, but you can also create explicit
hyperlinks, both internal (pointing to a destination within the
current document) and external (pointing to another local document or
a URL).

<p>
Several LaTeX packages provide capabilities which Plain TeX
users are lacking, most notably text colouring and rotation provided by
the <i class="package">graphics</i> bundle (packages <i class="package">color</i> and
<i class="package">graphics</i>).  Although the <i class="package">graphics</i> bundle provides
a Plain TeX &ldquo;loader&rdquo; for some of the packages, it is not a
trivial job to pass options to those packages under Plain TeX, and
much of the functionality of the packages is accessed through package
options.  Eplain extends the loader so that options can be passed
to the packages just as they are in LaTeX.  The following packages are
known to work with Eplain:  <i class="package">graphics</i>, <i class="package">graphicx</i>,
<i class="package">color</i>, <i class="package">autopict</i> (LaTeX picture environment),
<i class="package">psfrag</i>, and <i class="package">url</i>.

<p>
<a href="http://tug.org/docs/html/eplain">Eplain documentation</a> is
available online (there&rsquo;s a PDF copy in the CTAN
package as well), and there&rsquo;s also a mailing list&nbsp;&mdash; sign up, or
browse the list archives, via
<a href="http://tug.org/mailman/listinfo/tex-eplain">http://tug.org/mailman/listinfo/tex-eplain</a>
<dl>
<dt class="ctanref">Eplain distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eplain">eplain</a>
</dl>

<p class="lastedit">This answer last edited: 2013-06-25</p>

<p>
[[[Question]]][Q-texinfo][[[LBRACE]]]What is Texinfo?[[[RBRACE]]]

<p>
Texinfo is a documentation system that uses one source file to produce
both on-line information and printed output.  So instead of writing
two different documents, one for the on-line help and the other for a
typeset manual, you need write only one document source file.  When
the work is revised, you need only revise one document.  By
convention, Texinfo source file names end with a <code class="extension">texi</code> or
<code class="extension">texinfo</code> extension.

<p>
Texinfo is a macro language, somewhat similar to LaTeX, but with
slightly less expressive power.  Its appearance is of course rather
similar to any TeX-based macro language, except that its macros
start with <tt>@</tt> rather than the <code class="verb">&#x5c;</code> that&rsquo;s more commonly used in
TeX systems.

<p>
You can write and format Texinfo files into Info files within GNU
<i class="progname">emacs</i>, and read them using the <i class="progname">emacs</i> Info
reader.  You can also format Texinfo files into Info files using
<i class="progname">makeinfo</i> and read them using <i class="progname">info</i>, so you&rsquo;re not
dependent on <i class="progname">emacs</i>.  The distribution includes a
<i class="progname">Perl</i> script, <i class="progname">texi2html</i>, that will convert
Texinfo sources into HTML: the language is a far better fit to
HTML than is LaTeX, so that the breast-beating agonies of
<a href="FAQ-LaTeX2HTML.html">converting LaTeX to HTML</a> are largely
avoided.

<p>
Finally, of course, you can also print the files, or convert them to
PDF using PDFTeX.
<dl>
<dt class="ctanref">Texinfo distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texinfo">texinfo</a>
</dl>

<p>
[[[Question]]][Q-lollipop][[[LBRACE]]]Lollipop[[[RBRACE]]]

<p>
A long time ago (in the early 1990s), the Lollipop TeX format was
developed (originally to typeset the excellent book 
<a href="FAQ-tex-books.html">TeX by topic</a>).  Several people admired the
format, but no &ldquo;critical mass&rdquo; of users appeared, that could have
prompted maintenance of the format.

<p>
More than 20 years later, a new maintainer appeared: he hopes to build
Lollipop into an engine for rapid document style development.  (In
addition, he intends to add support for right-to-left languages such
as his own&nbsp;&mdash; Persian.)

<p>
We can only hope that, this time, Lollipop will &ldquo;catch on&rdquo;!
<dl>
<dt class="ctanref">lollipop</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lollipop">lollipop</a>
</dl>

<p>
[[[Question]]][Q-whyfree][[[LBRACE]]]If TeX is so good, how come it&rsquo;s free?[[[RBRACE]]]

<p>
It&rsquo;s free because Knuth chose to make it so (he makes money from
royalties on his TeX books, which still sell well).  He is
nevertheless apparently happy that others should earn money by selling
TeX-based services and products. While several valuable
TeX-related tools and packages are offered subject to restrictions
imposed by the GNU General Public Licence (GPL,
sometimes referred to as &lsquo;Copyleft&rsquo;), which denies the right to
commercial exploitation.  TeX itself is offered under a pretty
permissive licence of Knuth&rsquo;s own.

<p>
There are commercial versions of TeX available; for some users,
it&rsquo;s reassuring to have paid support.  What is more, some of the
commercial implementations
have features that are not available in free versions.  (The
reverse is also true: some free implementations have features
not available commercially.)

<p>
This FAQ concentrates on &lsquo;free&rsquo; distributions of TeX, but we
do at least list the <a href="FAQ-commercial.html">major vendors</a>.

<p class="lastedit">This answer last edited: 2013-06-25</p>

<p>
[[[Question]]][Q-TeXfuture][[[LBRACE]]]What is the future of TeX?[[[RBRACE]]]

<p>
Knuth has declared that he will do no further development of TeX;
he will continue to fix any bugs that are reported to him (though
bugs are rare).  This decision was made soon after
TeX version&nbsp;3.0 was released; at each bug-fix release
the version number acquires one more digit, so that it tends to the
limit&nbsp;&pi; (at the time of writing, Knuth&rsquo;s latest release
is version 3.1415926).  Knuth wants TeX to be frozen at
version&nbsp;&pi; when he dies; thereafter, no further changes
may be made to Knuth&rsquo;s source.  (A similar rule is applied to MetaFont;
its version number tends to the limit&nbsp;<em>e</em>, and currently
stands at 2.718281.)

<p>
Knuth explains his decision, and exhorts us all to respect it, in a
paper originally published in 
<a href="http://tug.org/TUGboat/Articles/tb11-4/tb30knut.pdf">TUGboat 11(4)</a>,
and reprinted in the 
<a href="http://www.ntg.nl/maps/pdf/5_34.pdf">NTG journal MAPS</a>.

<p>
There are projects (some of them long-term
projects: see, for example,
<a class="FAquestion.html" href="FAQ-LaTeX3.html">the LaTeX3 project</a>)

to build substantial new macro packages based on TeX.  There are
also various projects to build a <em>successor</em> to TeX.  The
<a href="FAQ-etex.html">e-TeX</a> extension to TeX itself arose from such a
project (NTS).  Another pair of projects, which have delivered
all the results they are likely to deliver, is the
related 
<a href="FAQ-omegaleph.html">Omega and Aleph</a>.  The 
<a href="FAQ-xetex.html">XeTeX system</a> is in principle still under
development, but is widely used, and the 
<a href="FAQ-luatex.html">LuaTeX project</a> (though not scheduled to produce
for some time) has already delivered a system that increasingly
accessible to &ldquo;ordinary users&rdquo;.

<p class="lastedit">This answer last edited: 2013-05-21</p>

<p>
[[[Question]]][Q-readtex][[[LBRACE]]]Reading (La)TeX files[[[RBRACE]]]

<p>
So you&rsquo;ve been sent an (La)TeX file: what are you going to do with
it?

<p>
You can, of course, &ldquo;just read it&rdquo;, since it&rsquo;s a plain text file;
the problem is that the markup tags in the document may prove
distracting.  Most of the time, even TeX <em>experts</em> will
typeset a (La)TeX file before attempting to read it&nbsp;&hellip;

<p>
So you shouldn&rsquo;t be too concerned if you can&rsquo;t make head nor tail of
the file: it is designed to be read by a (sort of) compiler, and
compilers don&rsquo;t have much in common with human readers.

<p>
A possible next step is to try an on-line LaTeX editor.  There are
many of these&nbsp;&mdash; a compilation of links may be found in 
<a href="http://texblog.net/latex-link-archive/online-compiler/">this blog post</a>

<p>
Of that long list, the present author has only dabbled with 
<a href="https://www.writelatex.com/">WriteLaTeX</a>; it seems well
suited to simple &lsquo;one-shot&rsquo; use in this way.

<p>
If no online compiler helps, you need to typeset the document
&ldquo;yourself&rdquo;.  The good news is that TeX systems are available,
free, for most sorts of computer; the bad news is that you need a
pretty complete TeX system even to read a single file, and complete
TeX systems are pretty large.

<p>
TeX is a typesetting system that arose from a publishing project (see
&ldquo;<a class="FAquestion.html" href="FAQ-whatTeX.html">what is TeX</a>&rdquo;),
and its basic source is available free from its author.  However, at
its root, it is <em>just</em> a typesetting engine: even to view or to
print the typeset output, you will need ancillary programs.  In short,
you need a TeX <em>distribution</em>&nbsp;&mdash; a collection of
TeX-related programs tailored to your operating system: for details
of the sorts of things that are available, see

&ldquo;<a class="FAquestion.html" href="FAQ-TeXsystems.html">TeX distributions</a>&rdquo;
or

&ldquo;<a href="FAQ-commercial.html">commercial TeX distributions</a>&rdquo;.

<p>
But beware&nbsp;&mdash; TeX makes no attempt to look like the sort of
WYSIWYG system you&rsquo;re probably used to (see

&ldquo;<a class="FAquestion.html" href="FAQ-notWYSIWYG.html">why is TeX not WYSIWYG</a>&rdquo;):
while many modern versions of TeX have a compile&ndash;view cycle that
rivals the best commercial word processors in its responsiveness, what
you type is usually <em>markup</em>, which typically defines a logical
(rather than a visual) view of what you want typeset.

<p>
So there&rsquo;s a balance between the simplicity of the original
(marked-up) document, which can more-or-less be read in <em>any</em>
editor, and the really rather large investment needed to install a
system to read a document &ldquo;as intended&rdquo;.

<p>
Are you &ldquo;put off&rdquo; by all this?&nbsp;&mdash; remember that TeX is good at
producing PDF: why not ask the person who sent the TeX file
to send an PDF copy?

<p class="lastedit">This answer last edited: 2014-05-21</p>

<p>
[[[Question]]][Q-notWYSIWYG][[[LBRACE]]]Why is TeX not a WYSIWYG system?[[[RBRACE]]]

<p>
WYSIWYG is a marketing term (&ldquo;What you see is what you get&rdquo;) for
a particular style of text processor.  WYSIWYG systems are
characterised by two principal claims: that you type what you want to
print, and that what you see on the screen as you type is a close
approximation to how your text will finally be printed.

<p>
The simple answer to the question is, of course, that TeX was
conceived long before the marketing term, at a time when the marketing
imperative wasn&rsquo;t perceived as significant.  (In fact, it appears that
the first experimental WYSIWYG systems were running in commercial
labs, near where Knuth was working on TeX.  At the time, of course,
TeX was only available on a mainframe, and getting it to run on the
small experimental machines would have distracted Knuth from his
mission to create a typesetting system that he could use when
preparing his books for publication.)

<p>
However, all that was a long time ago: why has nothing been done with
the &ldquo;wonder text processor&rdquo; to make it fit with modern perceptions?

<p>
There are two answers to this.  First, the simple &ldquo;things <em>have</em>
been done&rdquo; (but they&rsquo;ve not taken over the TeX world); and second,
&ldquo;there are philosophical reasons why the way TeX has developed is
ill-suited to the WYSIWYG style&rdquo;.

<p>
Indeed, there is a fundamental problem with applying WYSIWYG
techniques to TeX: the complexity of TeX makes it hard to get
the equivalent of TeX&rsquo;s output without actually running TeX over
the whole of the document being prepared.

<p>
A celebrated early system offering &ldquo;WYSIWYG using TeX&rdquo; came
from the VorTeX project: a pair of Sun workstations worked in
tandem, one handling the user interface while the other beavered away
in the background typesetting the result.  VorTeX was quite
impressive for its time, but the two workstations combined had hugely
less power than the average sub-thousand-dollar Personal Computer
nowadays, and its code has not proved portable (it never even made the
last &lsquo;great&rsquo; TeX version change, at the turn of the 1990s, to
TeX version 3).

<p>
Lightning Textures (an extension of Blue Sky&rsquo;s original TeX system
for the Macintosh), is sadly no longer available.

<p>
Thus&ldquo;<a href="FAQ-commercial.html">Scientific Word</a>&rdquo; (which can also interact
with a computer algebra system), is the only remaining TeX system
that even approximates to WYSIWYG operation.

<p>
The issue has of recent years started to attract attention
from TeX developers, and several interesting projects that address
the &ldquo;<a href="FAQ-WYGexpts.html">TeX document preparation environment</a>&rdquo;
are in progress.

<p>
All the same, it&rsquo;s clear that the TeX world has taken a long time
to latch onto the idea of WYSIWYG.
Apart from simple arrogance (&ldquo;we&rsquo;re better, and have no need to
consider the petty doings of the commercial word processor market&rdquo;),
there is a real conceptual difference between the word processor model
of the world and the model LaTeX and CONTeXT employ&nbsp;&mdash; the idea of
&ldquo;markup&rdquo;.  &ldquo;Pure&rdquo; markup expresses a logical model of a document,
where every object within the document is labelled according to what
it is rather than how it should appear: appearance is deduced from the
properties of the type of object.  Properly applied, markup can
provide valuable assistance when it comes to re-use of documents.

<p>
Established WYSIWYG systems find the expression of this sort of
structured markup difficult; however, markup <em>is</em> starting to
appear in the lists of the commercial world&rsquo;s requirements, for two
reasons.  First, an element of markup helps impose style on a
document, and commercial users are increasingly obsessed with
uniformity of style; and second, the increasingly pervasive use of
XML-derived document archival formats demands it.  The same
challenges must needs be addressed by TeX-based document
preparation support schemes, so we are
observing a degree of confluence of the needs of the two communities:
interesting times may be ahead of us.

<p class="lastedit">This answer last edited: 2013-06-03</p>

<p>
[[[Question]]][Q-TUG*][[[LBRACE]]]TeX User Groups[[[RBRACE]]]

<p>
There has been a TeX User Group since very near the time TeX
first appeared.  That first group, TUG, is still active and its
journal <i class="slanted">TUGboat</i> continues in regular publication
with articles about TeX, MetaFont and related technologies, and about
document design, processing and production.  TUG holds a yearly
conference, whose proceedings are published in <i class="slanted">TUGboat</i>.

<p>
TUG&rsquo;s <a href="http://www.tug.org">web site</a> is a valuable
resource for all sorts of
TeX-related matters, such as details of TeX software, and lists
of TeX vendors and TeX consultants.  Back articles from
<i class="slanted">TUGboat</i> are also available.

<p>
Some time ago, TUG established a &ldquo;technical council&rdquo;, whose
task was to oversee the development of TeXnical projects.  Most
such projects nowadays go on their way without any support from
TUG, but TUG&rsquo;s web site lists its

<p>

<a href="http://www.tug.org/twg.html">Technical Working Groups (TWGs)</a>.






<p>
TUG has a reasonable claim to be considered a world-wide
organisation, but there are many national and regional user groups,
too; TUG&rsquo;s web site maintains a list of

<a href="http://www.tug.org/lugs.html">&ldquo;Local User Groups&rdquo; (LUGs)</a>.






<p>
Contact TUG itself via <a href="http://tug.org/contact">http://tug.org/contact</a>

<p class="lastedit">This answer last edited: 2013-06-25</p>


<p>

<p>

<p>
[[[Question]]][Q-book-lists][[[LBRACE]]]Books relevant to TeX and friends[[[RBRACE]]]

<p>
There are too many books for them all to appear in a single list, so
the following answers aim to cover &ldquo;related&rdquo; books, with subject
matter as follows:
<ul>
<li> <a href="FAQ-tex-books.html">TeX itself and Plain TeX</a>
<li> <a href="FAQ-latex-books.html">LaTeX</a>
<li> <a href="FAQ-other-books.html">Books on other TeX-related matters</a>
<li> <a href="FAQ-type-books.html">Books on Type</a>
</ul>

<p>
These lists only cover books in English: notices of new books, or
warnings that books are now out of print are always welcome.  However,
these FAQs do <em>not</em> carry reviews of current published
material.

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-tex-books][[[LBRACE]]]Books on TeX, Plain TeX and relations[[[RBRACE]]]


<p>
While Knuth&rsquo;s book is the definitive reference for both TeX and
Plain TeX, there are many books covering these topics:
<dl>
<dt class="description">The TeXbook</dt><dd>by Donald Knuth (Addison-Wesley, 1984,
  <span class="isbn">ISBN-10 0-201-13447-0</span>, paperback <span class="isbn">ISBN-10 0-201-13448-9</span>)
<dt class="description">A Beginner&rsquo;s Book of TeX</dt><dd>by Raymond Seroul and Silvio Levy,
  (Springer Verlag, 1992, <span class="isbn">ISBN-10 0-387-97562-4</span>)
<dt class="description">TeX by Example: A Beginner&rsquo;s Guide</dt><dd>by Arvind Borde 
  (Academic Press, 1992, <span class="isbn">ISBN-10 0-12-117650-9</span>&nbsp;&mdash; now out of print)
<dt class="description">Introduction to TeX</dt><dd>by Norbert Schwarz (Addison-Wesley,
  1989, <span class="isbn">ISBN-10 0-201-51141-X</span>&nbsp;&mdash; now out of print)
<dt class="description">A Plain TeX Primer</dt><dd>by Malcolm Clark (Oxford University
  Press, 1993, ISBNs&nbsp;0-198-53724-7 (hardback) and&nbsp;0-198-53784-0
  (paperback))
<dt class="description">A TeX Primer for Scientists</dt><dd>by Stanley Sawyer and Steven
  Krantz (CRC Press, 1994, <span class="isbn">ISBN-10 0-849-37159-7</span>)
<dt class="description">TeX by Topic</dt><dd>by Victor Eijkhout (Addison-Wesley, 1992,
  <span class="isbn">ISBN-10 0-201-56882-9</span>&nbsp;&mdash; now out of print, but see
  <a class="FAquestion.html" href="FAQ-ol-books.html">online books</a>; you can also now buy a copy
  printed, on demand, by Lulu&nbsp;&mdash; see
  <a href="http://www.lulu.com/content/2555607">http://www.lulu.com/content/2555607</a>)
<dt class="description">TeX for the Beginner</dt><dd>by Wynter Snow (Addison-Wesley, 1992,
  <span class="isbn">ISBN-10 0-201-54799-6</span>)
<dt class="description">TeX for the Impatient</dt><dd>by Paul W.&nbsp;Abrahams, Karl Berry and
  Kathryn A.&nbsp;Hargreaves (Addison-Wesley, 1990,
  <span class="isbn">ISBN-10 0-201-51375-7</span>&nbsp;&mdash; now out of print, but see
  <a class="FAquestion.html" href="FAQ-ol-books.html">online books</a>)
<dt class="description">TeX in Practice</dt><dd>by Stephan von Bechtolsheim (Springer
  Verlag, 1993, 4 volumes, <span class="isbn">ISBN-10 3-540-97296-X</span> for the set, or

  Vol.&nbsp;1: <span class="isbn">ISBN-10 0-387-97595-0</span>, 
  Vol.&nbsp;2: <span class="isbn">ISBN-10 0-387-97596-9</span>, 
  Vol.&nbsp;3: <span class="isbn">ISBN-10 0-387-97597-7</span>, and 
  Vol.&nbsp;4: <span class="isbn">ISBN-10 0-387-97598-5</span>)





<dt class="description">TeX: Starting from Square One</dt><dd>

  by Michael Doob (Springer
  Verlag, 1993, <span class="isbn">ISBN-10 3-540-56441-1</span>&nbsp;&mdash; now out of print)
<dt class="description">The Joy of TeX</dt><dd>by Michael D.&nbsp;Spivak (second edition,
  AMS, 1990, <span class="isbn">ISBN-10 0-821-82997-1</span>)
<dt class="description">The Advanced TeXbook</dt><dd>by David Salomon (Springer Verlag, 1995,
  <span class="isbn">ISBN-10 0-387-94556-3</span>)
</dl>
A collection of Knuth&rsquo;s publications about typography is also available:
<dl>
<dt class="description">Digital Typography</dt><dd>by Donald Knuth (CSLI and Cambridge
  University Press, 1999, <span class="isbn">ISBN-10 1-57586-011-2</span>, paperback
  <span class="isbn">ISBN-10 1-57586-010-4</span>).
</dl>
and in late 2000, a &ldquo;Millennium Boxed Set&rdquo; of all
5 volumes of Knuth&rsquo;s &ldquo;Computers and Typesetting&rdquo; series (about
TeX and MetaFont) was published by Addison Wesley:
<dl>
<dt class="description">Computers &amp; Typesetting, Volumes A&ndash;E Boxed Set</dt><dd>by Donald Knuth
  (Addison-Wesley, 2001, <span class="isbn">ISBN-10 0-201-73416-8</span>).
</dl>


<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-latex-books][[[LBRACE]]]Books on LaTeX[[[RBRACE]]]

<p>
<dl>
<dt class="description">LaTeX, a Document Preparation System</dt><dd>by Leslie Lamport
  (second edition, Addison Wesley, 1994, <span class="isbn">ISBN-10 0-201-52983-1</span>)
<dt class="description">Guide to LaTeX</dt><dd>Helmut Kopka and Patrick W.&nbsp;Daly (fourth
  edition, Addison-Wesley, 2004, <span class="isbn">ISBN-10 0-321-17385-6</span>)
<dt class="description">LaTeX Beginner&rsquo;s Guide</dt><dd>by Stefan Kottwitz (Packt Publishing,
  2011, <span class="isbn">ISBN-10 1847199860</span>, <span class="isbn">ISBN-13 1847199860</span>)
<dt class="description">The LaTeX Companion</dt><dd>by Frank Mittelbach, Michel Goossens,
  Johannes Braams, David Carlisle and Chris Rowley (second edition,
  Addison-Wesley, 2004, <span class="isbn">ISBN-10 0-201-36299-6</span>, <span class="isbn">ISBN-13 0-201-36299-6</span>); the
  book as also available as a digital download (in EPUB,
  MOBI and PDF formats) from
  <a href="http://www.informit.com/store/latex-companion-9780133387667">http://www.informit.com/store/latex-companion-9780133387667</a>
<dt class="description">The LaTeX Graphics Companion:</dt><dd>
  <em>Illustrating documents with TeX and PostScript</em> by Michel
  Goossens, Sebastian Rahtz, Frank Mittelbach, Denis Roegel and
  Herbert Vo&szlig; (second edition, Addison-Wesley, 2007,
  <span class="isbn">ISBN-10 0-321-50892-0</span>, <span class="isbn">ISBN-13 0-321-50892-0</span>)
<dt class="description">The LaTeX Web Companion:</dt><dd>
  <em>Integrating TeX, HTML and XML</em> by Michel
  Goossens and Sebastian Rahtz (Addison-Wesley, 1999, <span class="isbn">ISBN-10 0-201-43311-7</span>)
<dt class="description">TeX Unbound:</dt><dd>
  <em>LaTeX and TeX strategies for fonts, graphics, and more</em>
  by Alan Hoenig (Oxford University Press, 1998, <span class="isbn">ISBN-10 0-19-509685-1</span>
  hardback, <span class="isbn">ISBN-10 0-19-509686-X</span> paperback)




<dt class="description">More Math into LaTeX:</dt><dd><em>An Introduction to</em> LaTeX
  <em>and</em> AMSLaTeX by George Gr\"atzer (fourth edition Springer Verlag,
  2007, <span class="isbn">ISBN-10 978-0-387-32289-6</span>


<dt class="description">Digital Typography Using LaTeX</dt><dd>Incorporating some
  multilingual aspects, and use of <a href="FAQ-omegaleph.html">Omega</a>, by
  Apostolos Syropoulos, Antonis Tsolomitis and Nick Sofroniou
  (Springer, 2003, <span class="isbn">ISBN-10 0-387-95217-9</span>).




<dt class="description">First Steps in LaTeX</dt><dd>by George Gr\"atzer (Birkh\"auser, 1999,
  <span class="isbn">ISBN-10 0-8176-4132-7</span>) 
<dt class="description">LaTeX: Line by Line:</dt><dd>
  <em>Tips and Techniques for Document Processing</em>
  by Antoni Diller (second edition, John Wiley &amp; Sons,
  1999, <span class="isbn">ISBN-10 0-471-97918-X</span>)
<dt class="description">LaTeX for Linux:</dt><dd><em>A Vade Mecum</em>
  by Bernice Sacks Lipkin (Springer-Verlag, 1999,
  <span class="isbn">ISBN-10 0-387-98708-8</span>, second printing)
<dt class="description">Typesetting Mathematics with LaTeX</dt><dd>by Herbert Vo&szlig; (UIT
  Cambridge, 2010, <span class="isbn">ISBN-10 978-1-906-86017-2</span>)

<dt class="description">Typesetting Tables with LaTeX</dt><dd>by Herbert Vo&szlig;, (UIT
  Cambridge, 2011, <span class="isbn">ISBN-10 978-1-906-86025-7</span>)

<dt class="description">PSTricks: Graphics and PostScript for TeX and LaTeX</dt><dd>by
  Herbert Vo&szlig;, (UIT Cambridge, 2011, <span class="isbn">ISBN-10 978-1-906-86013-4</span>)
</dl>
A sample of George Gr\"atzer&rsquo;s &ldquo;Math into LaTeX&rdquo;, in Adobe
Acrobat format, and example files
for the three LaTeX Companions, and for
Gr\"atzer&rsquo;s &ldquo;First Steps in LaTeX&rdquo;, are all available on
CTAN.
<dl>
<dt class="ctanref">Examples for First Steps in LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gfs">gfs</a>
<dt class="ctanref">Examples for LaTeX Companion</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tlc2">tlc2</a>
<dt class="ctanref">Examples for LaTeX Graphics Companion</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lgc">lgc</a>
<dt class="ctanref">Examples for LaTeX Web Companion</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lwc">lwc</a>

<dt class="ctanref">Sample of Math into LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mil">mil</a>
</dl>

<p class="lastedit">This answer last edited: 2014-03-14</p>

<p>
[[[Question]]][Q-other-books][[[LBRACE]]]Books on other TeX-related matters[[[RBRACE]]]

<p>
There&rsquo;s a nicely-presented list of of &ldquo;recommended books&rdquo; to be had
on the web: <a href="http://www.macrotex.net/texbooks/">http://www.macrotex.net/texbooks/</a>

<p>
The list of MetaFont books is rather short:
<dl>
<dt class="description">The MetaFontbook</dt><dd>by Donald Knuth (Addison Wesley, 1986,
  <span class="isbn">ISBN-10 0-201-13445-4</span>, <span class="isbn">ISBN-10 0-201-52983-1</span> paperback)
</dl>
Alan Hoenig&rsquo;s &lsquo;<i class="slanted">TeX Unbound</i>&rsquo; includes some discussion and
examples of using MetaFont.

<p>
A book covering a wide range of topics (including installation and
maintenance) is:
<dl>
<dt class="description">Making TeX Work</dt><dd>by Norman Walsh (O&rsquo;Reilly and Associates,
  Inc, 1994, <span class="isbn">ISBN-10 1-56592-051-1</span>)
</dl>
The book is decidedly dated, and is now out of print, but a copy is
available via <tt>sourceforge</tt> and on CTAN, 
and we list it under &ldquo;<a href="FAQ-ol-books.html">online books</a>&rdquo;.

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-type-books][[[LBRACE]]]Books on Type[[[RBRACE]]]

<p>
    The following is a partial listing of books on typography in general.
Of these, Bringhurst seems to be the one most often recommended.
<dl>
<dt class="description">The Elements of Typographic Style</dt><dd>by Robert Bringhurst
  (Hartley &amp; Marks, 1992, <span class="isbn">ISBN-10 0-88179-033-8</span>)
<dt class="description">Finer Points in the Spacing &amp; Arrangement of Type</dt><dd>by Geoffrey Dowding
  (Hartley &amp; Marks, 1996, <span class="isbn">ISBN-10 0-88179-119-9</span>)
<dt class="description">The Thames &amp; Hudson Manual of Typography</dt><dd>by Ruari McLean
  (Thames &amp; Hudson, 1980, <span class="isbn">ISBN-10 0-500-68022-1</span>)
<dt class="description">The Form of the Book</dt><dd>by Jan Tschichold
  (Lund Humphries, 1991, <span class="isbn">ISBN-10 0-85331-623-6</span>)
<dt class="description">Type &amp; Layout</dt><dd>by Colin Wheildon
  (Strathmore Press, 2006, <span class="isbn">ISBN-10 1-875750-22-3</span>)
<dt class="description">The Design of Books</dt><dd>by Adrian Wilson
  (Chronicle Books, 1993, <span class="isbn">ISBN-10 0-8118-0304-X</span>)
<dt class="description">Optical Letter Spacing</dt><dd>by David Kindersley and Lida Cardozo Kindersley 
  
  (<a href="http://www.kindersleyworkshop.co.uk/">The Cardozo Kindersley Workshop</a>
  2001, <span class="isbn">ISBN-10 1-874426-139</span>)
</dl>

<p>
    There are many catalogues of type specimens but the following books provide
a more interesting overall view of types in general and some of their history.
<dl>
<dt class="description">Alphabets Old &amp; New</dt><dd>by Lewis F.&nbsp;Day
  (Senate, 1995, <span class="isbn">ISBN-10 1-85958-160-9</span>)
<dt class="description">An Introduction to the History of Printing Types</dt><dd>by Geoffrey Dowding
  (British Library, 1998, UK <span class="isbn">ISBN-10 0-7123-4563-9</span>; USA <span class="isbn">ISBN-10 1-884718-44-2</span>)
<dt class="description">The Alphabet Abecedarium</dt><dd>by Richard A.&nbsp;Firmage
  (David R.&nbsp;Godine, 1993, <span class="isbn">ISBN-10 0-87923-998-0</span>)
<dt class="description">The Alphabet and Elements of Lettering</dt><dd>by Frederick Goudy
  (Dover, 1963, <span class="isbn">ISBN-10 0-486-20792-7</span>)
<dt class="description">Anatomy of a Typeface</dt><dd>by Alexander Lawson
  (David R.&nbsp;Godine, 1990, <span class="isbn">ISBN-10 0-87923-338-8</span>)
<dt class="description">A Tally of Types</dt><dd>by Stanley Morison
  (David R.&nbsp;Godine, 1999, <span class="isbn">ISBN-10 1-56792-004-7</span>)
<dt class="description">Counterpunch</dt><dd>by Fred Smeijers
  (Hyphen, 1996, <span class="isbn">ISBN-10 0-907259-06-5</span>)
<dt class="description">Treasury of Alphabets and Lettering</dt><dd>by Jan Tschichold
  (W.&nbsp;W.&nbsp;Norton, 1992, <span class="isbn">ISBN-10 0-393-70197-2</span>)
<dt class="description">A Short History of the Printed Word</dt><dd>by Warren Chappell and
  Robert Bringhurst (Hartley &amp; Marks, 1999, <span class="isbn">ISBN-10 0-88179-154-7</span>)
</dl>

<p>
    The above lists are limited to books published in English. Typographic 
styles are somewhat language-dependent, and similarly the &lsquo;interesting&rsquo; fonts
depend on the particular writing system involved.

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-whereFAQ][[[LBRACE]]]Where to find FAQs[[[RBRACE]]]

<p>
Bobby Bodenheimer&rsquo;s article, from which this FAQ was developed, used
to be posted (nominally monthly) to newsgroup
<i class="newsgroup">comp.text.tex</i>. The (long
obsolete) last posted copy of that article is kept on CTAN for
auld lang syne.

<p>









The sources of the present FAQ

are available from CTAN.

<p>
This FAQ and others are regularly mentioned, on
<i class="newsgroup">comp.text.tex</i> and elsewhere, in a &ldquo;pointer FAQ&rdquo;
which is also saved at <a href="http://tug.org/tex-ptr-faq">http://tug.org/tex-ptr-faq</a>

<p>
A 2006 innovation from Scott Pakin is the &ldquo;visual&rdquo; LaTeX FAQ.
This is a document with (mostly rubbish) text formatted so as to
highlight things we discuss here, and providing Acrobat hyper-links to
the relevant answers in this FAQ on the Web.  The visual
FAQ is provided in PDF format, on CTAN; it works
best using Adobe Acrobat Reader 7 (or later); some features are
missing with other readers, or with earlier versions of Acrobat Reader

<p>
Another excellent information source, available in English, is the
<a href="http://tex.loria.fr">(La)TeX navigator</a>.

<p>
Both the Francophone TeX user group Gutenberg and the Czech/Slovak
user group CS-TUG have published translations of this FAQ, with
extensions appropriate to their languages.

<p>






<p>
The Open Directory Project (ODP) maintains a list of sources of
(La)TeX help, including FAQs.  View the TeX area at
<a href="http://dmoz.org/Computers/Software/Typesetting/TeX/">http://dmoz.org/Computers/Software/Typesetting/TeX/</a>

<p>
Other non-English FAQs are available (off-CTAN):
<dl>
<dt class="description">German</dt><dd>Posted regularly to <i class="newsgroup">de.comp.tex</i>, and archived
  on CTAN; the FAQ also appears at
  <a href="http://www.dante.de/faq/de-tex-faq/">http://www.dante.de/faq/de-tex-faq/</a>
<dt class="description">French</dt><dd>



  A FAQ used to be posted regularly to
  <i class="newsgroup">fr.comp.text.tex</i>, and is archived on CTAN&nbsp;&mdash;
  sadly, that effort seems to have fallen by the wayside.

<dt class="description">Czech</dt><dd>See <a href="http://www.fi.muni.cz/cstug/csfaq/">http://www.fi.muni.cz/cstug/csfaq/</a>
</dl>

<p>
Resources available on CTAN are:
<dl>
<dt class="ctanref">Dante FAQ</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dante-faq">dante-faq</a>
<dt class="ctanref">French FAQ</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/french-faq">french-faq</a>
<dt class="ctanref">Sources of this FAQ</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/faq">faq</a>
<dt class="ctanref">Obsolete <tt>comp.text.tex</tt> FAQ</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/TeX-FAQ">TeX-FAQ</a>
<dt class="ctanref">The visual FAQ</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/visualFAQ">visualFAQ</a>
</dl>

<p class="lastedit">This answer last edited: 2013-07-02</p>

<p>
[[[Question]]][Q-gethelp][[[LBRACE]]]Getting help online[[[RBRACE]]]

<p>
We assume, here, that you have looked at all relevant
<a href="FAQ-whereFAQ.html">FAQ answers</a> you can find, you&rsquo;ve looked in
any <a href="FAQ-book-lists.html">books</a> you have, and scanned relevant
<a href="FAQ-tutorials*.html">tutorials</a>&hellip; and still you don&rsquo;t know what
to do.

<p>
There are two more steps you can take before formulating a question to
the TeX world at large.

<p>
First, (if you are seeking a particular package or program), start by
looking on your own system: you might already have what you seek&nbsp;&mdash;
the better TeX distributions provide a wide range of supporting
material.  The <a href="FAQ-catalogue.html">CTAN Catalogue</a> can also
identify packages that might help: you can 
<a href="http://www.tex.ac.uk/search">search it</a>, or you can browse it


&ldquo;<a href="http://mirrors.ctan.org/help/Catalogue/bytopic.html">by topic</a>&rdquo;.





Each catalogue entry has a brief description of the package, and links to
known documentation on the net.  In fact, a large proportion of
CTAN package directories now include documentation, so it&rsquo;s
often worth looking at the catalogue entry for a package you&rsquo;re considering
using (where possible, each package link in the main body of these
FAQs has a link to
the relevant catalogue entry).

<p>
Failing that, look to see if anyone has solved the problem before;
places where people ask are:
<ol>
<li> newsgroup <i class="newsgroup">comp.text.tex</i>, whose &ldquo;historical posts&rdquo;
  are accessible via
  <a href="http://groups.google.com/group/comp.text.tex">Google groups</a>,
  and
<li> the mailing list <tt>texhax</tt> via its
  <a href="http://tug.org/pipermail/texhax/">archive</a>, or via the &lsquo;Gmane&rsquo;
  newsgroup <i class="newsgroup">gmane.comp.tex.texhax</i>, which holds a
  <em>very</em> long history of the list.  A long shot would be to
  search the archives of the mailing list&rsquo;s ancient posts on
  CTAN, which go back to the days when it was a digest: in
  those days, a question asked in one issue would only ever be
  answered in the next one.
</ol>
If the &ldquo;back question&rdquo; searches fail, you must ask the world at
large.

<p>
So, how do you like to ask questions?&nbsp;&mdash; the three available
mechanisms are:
<ol>
<li> Mailing lists: there are various specialist mailing lists, but
  the place for &lsquo;general&rsquo; (La)TeX queries is the <tt>texhax</tt>
  mailing list.  Mail to <a href="mailto:texhax@tug.org">texhax@tug.org</a> to ask a question,
  but it&rsquo;s probably better to subscribe to the list
  (via <a href="http://tug.org/mailman/listinfo/texhax">http://tug.org/mailman/listinfo/texhax</a>) 
  first&nbsp;&mdash; not everyone will answer to you as well as to the list.
<li> Newsgroup: to ask a question on <i class="newsgroup">comp.text.tex</i>, you
  can use your own news client (if you have one), or use the &ldquo;+ new
  post&rdquo; button on
  <a href="http://groups.google.com/group/comp.text.tex">http://groups.google.com/group/comp.text.tex</a>.
<li> Web forum: alternatives are: the 
  <a href="http://www.latex-community.org/">&ldquo;LaTeX community&rdquo; site</a>,
  which offers a variety of &lsquo;categories&rsquo; to place your query, and the
  
  <a href="http://tex.stackexchange.com/">TeX, LaTeX and friends Q&amp;A site</a>
  (&ldquo;StackExchange&rdquo;).

<p>
  StackExchange has a scheme for voting on the quality of answers (and
  hence of those who offer support).  This arrangement is supposed to
  enable you to rank any answers that are posted.

<p>
  StackExchange offers
  <a href="http://meta.tex.stackexchange.com/questions/1436/welcome-to-tex-sx">hints about &ldquo;good behaviour&rdquo;</a>,
  which any user should at least scan before asking for help there.
  (The hints&rsquo; principal aim is to maximise the chance that you get useful
  advice from the first answer; for example, it suggests that you supply a
  <a href="FAQ-askquestion.html">minimal example of your problem</a>, just as
  these FAQs do.  There are people on the site who can be abrasive
  to those asking questions, who seem not to be following the
  guidelines for good behaviour)
</ol>
Do <b>not</b> try mailing the LaTeX project team, the maintainers
of the texlive or MiKTeX distributions or the maintainers of
these FAQs for help; while all these addresses reach
experienced (La)TeX users, no small group can possibly have
expertise in every area of usage so that the &ldquo;big&rdquo; lists and forums
are a far better bet.
<dl>
<dt class="ctanref">texhax &lsquo;back copies&rsquo;</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texhax">texhax</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-28</p>

<p>
[[[Question]]][Q-maillists*][[[LBRACE]]]Specialist mailing lists[[[RBRACE]]]

<p>
The previous question, &ldquo;<a href="FAQ-gethelp.html">getting help</a>&rdquo;, talked of
the two major forums in which (La)TeX, MetaFont and MetaPost are
discussed; however, these aren&rsquo;t the only ones available.

<p>
The TUG web site offers many mailing lists other than just
<tt>texhax</tt> via its 
<a href="http://tug.org/mailman/listinfo">mail list management page</a>.

<p>
The French national TeX user group, Gutenberg, offers a MetaFont (and,
de facto, MetaPost) mailing list, <a href="mailto:metafont@ens.fr">metafont@ens.fr</a>: subscribe to
it by sending a message
<blockquote>
<pre>
subscribe metafont
</pre>
</blockquote>
to <a href="mailto:sympa@ens.fr">sympa@ens.fr</a>

<p>
(Note that there&rsquo;s also a MetaPost-specific mailing list available via the
TUG list server; in fact there&rsquo;s little danger of becoming confused
by subscribing to both.)

<p>
Announcements of TeX-related installations on the CTAN
archives are sent to the mailing list <tt>ctan-ann</tt>.  Subscribe
to the list via its <i class="progname">MailMan</i> web-site
<a href="https://lists.dante.de/mailman/listinfo/ctan-ann">https://lists.dante.de/mailman/listinfo/ctan-ann</a>; list archives
are available at the same address.  The list archives may also be
browsed via <a href="http://www.mail-archive.com/ctan-ann@dante.de/">http://www.mail-archive.com/ctan-ann@dante.de/</a>, and
an RSS feed is also available:
<a href="http://www.mail-archive.com/ctan-ann@dante.de/maillist.xml">http://www.mail-archive.com/ctan-ann@dante.de/maillist.xml</a>

<p>
[[[Question]]][Q-askquestion][[[LBRACE]]]How to ask a question[[[RBRACE]]]

<p>
You want help from the community at large; you&rsquo;ve decided where you&rsquo;re
going to <a href="FAQ-gethelp.html">ask your question</a>, but how do you
phrase it?

<p>
Excellent &ldquo;general&rdquo; advice (how to ask questions of anyone) is
contained in

<a href="http://catb.org/~esr/faqs/smart-questions.html">Eric Raymond&rsquo;s article on the topic</a>.
Eric&rsquo;s an extremely self-confident person, and this comes through in
his advice; but his guidelines are very good, even for us in the
un-self-confident majority.  It&rsquo;s important to remember that you don&rsquo;t
have a right to advice from the world, but that if you express
yourself well, you will usually find someone who will be pleased to
help.

<p>
So how do you express yourself in the (La)TeX world?  There aren&rsquo;t
any comprehensive rules, but a few guidelines may help in the
application of your own common sense.
<ul>
<li> Make sure you&rsquo;re asking the right people.  Don&rsquo;t ask in a TeX
  forum about printer device drivers for the <i class="progname">Foobar</i>
  operating system.  Yes, TeX users need printers, but no, TeX
  users will typically <em>not</em> be <i class="progname">Foobar</i> systems
  managers.

<p>
  Similarly, avoid posing a question in a language that the majority
  of the group don&rsquo;t use: post in Ruritanian to
  <i class="newsgroup">de.comp.text.tex</i> and you may have a long wait before a
  German- and Ruritanian-speaking TeX expert notices your
  question.
<li> If your question is (or may be) TeX-system-specific, report
  what system you&rsquo;re using, or intend to use: &ldquo;I can&rsquo;t install
  TeX&rdquo; is as good as useless, whereas &ldquo;I&rsquo;m trying to install the
  <i class="progname">mumbleTeX</i> distribution on the <i class="progname">Grobble</i>
  operating system&rdquo; gives all the context a potential respondent
  might need.  Another common situation where this information is
  important is when you&rsquo;re having trouble installing something new in
  your system: &ldquo;I want to add the <i class="package">glugtheory</i> package to my
  <i class="progname">mumbleTeX v12.0</i> distribution on the <i class="progname">Grobble 2024</i>
  operating system&rdquo;.
<li> If you need to know how to do something, make clear what your
  environment is: &ldquo;I want to do <em>x</em> in Plain TeX&rdquo;, or &ldquo;I
  want to do <em>y</em> in LaTeX running the <i class="class">boggle</i>
  class&rdquo;.  If you thought you knew how, but your attempts are
  failing, tell us what you&rsquo;ve tried: &ldquo;I&rsquo;ve already tried installing
  the <i class="package">elephant</i> in the <i class="package">minicar</i> directory, and it
  didn&rsquo;t work, even after refreshing the filename database&rdquo;.
<li> If something&rsquo;s going wrong within (La)TeX, pretend you&rsquo;re
  <a href="FAQ-latexbug.html">submitting a LaTeX bug report</a>,
  and try to generate a <a href="FAQ-minxampl.html">minimum failing example</a>.
  If your example 
  needs your local <i class="class">xyzthesis</i> class, or some other resource
  not generally available, be sure to include a pointer to how the
  resource can be obtained.
<li> Figures are special, of course.  Sometimes the figure itself is
  <em>really</em> needed, but most problems may be demonstrated with a
  &ldquo;figure substitute&rdquo; in the form of a
  <code>&#x5c;rule</code><code>&#x7b;width&#x7d;</code></code><code>&#x7b;height&#x7d;</code> command, for some value of
  &lsaquo;<i>width</i>&rsaquo; and &lsaquo;<i>height</i>&rsaquo;.  If the (real) figure is needed,
  don&rsquo;t try posting it: far better to put it on the web somewhere.
<li> Be as succinct as possible.  Your helpers don&rsquo;t usually need to
  know <em>why</em> you&rsquo;re doing something, just <em>what</em> you&rsquo;re
  doing and where the problem is.
</ul>

<p>
[[[Question]]][Q-minxampl][[[LBRACE]]]How to make a &ldquo;minimum example&rdquo;[[[RBRACE]]]

<p>
<a class="FAQuestion.html" href="FAQ-askquestion.html">Our advice on asking questions</a>
suggests that you prepare a &ldquo;minimum example&rdquo; (also commonly known
as a &ldquo;<em>minimal</em> example&rdquo;) of failing behaviour,
as a sample to post with your question.  If you have a problem in a
two hundred page document, it may be unclear how to proceed from this
problem to a succinct demonstration of your problem.

<p>
There are two valid approaches to this task: building up, and hacking
down.

<p>

<b><em>Building up</em></b> starts
with a basic document structure
(for LaTeX, this would have <code>&#x5c;documentclass</code>,
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>, <code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>) and adds
things.  First to add is a paragraph or so around the actual point
where the problem occurs.  (It may prove difficult to find the actual
line that&rsquo;s provoking the problem.  If the original problem is an
error, reviewing 
<a class="FAthe answer to question.html" href="FAQ-errstruct.html">&ldquo;the structure of TeX errors&rdquo;</a>
may help.)

<p>
Note that there are things that can go wrong in one part of the
document as a result of something in another part: the commonest is
problems in the table of contents (from something in a section title,
or whatever), or the list of &lsaquo;<i>something</i>&rsaquo; (from something in a
<code>&#x5c;caption</code>).  In such a case, include the section title or caption
(the caption probably needs the <code class="environment">figure</code> or
<code class="environment">table</code> environment around it, but it <em>doesn&rsquo;t</em> need
the figure or table itself).

<p>
If this file you&rsquo;ve built up shows the problem already, then you&rsquo;re done.
Otherwise, try adding packages; the optimum is a file with only one
package in it, but you may find that the guilty package won&rsquo;t even load
properly unless another package has been loaded.  (Another common case
is that package <i class="package">A</i> only fails when package <i class="package">B</i> has been
loaded.)

<p>

<b><em>Hacking down</em></b> starts
with your entire document, and
removes bits until the file no longer fails (and then of course
restores the last thing removed).  Don&rsquo;t forget to hack out any
unnecessary packages, but mostly, the difficulty is choosing what to
hack out of the body of the document; this is the mirror of the
problem above, in the &ldquo;building up&rdquo; route.

<p>
If you&rsquo;ve added a package (or more than one), add <code>&#x5c;listfiles</code> to
the preamble too: that way, LaTeX will produce a list of the
packages you&rsquo;ve used and their version numbers.  This information may
be useful evidence for people trying to help you.

<p>
The process of &lsquo;building up&rsquo;, and to some extent that of &lsquo;hacking
down&rsquo;, can be helped by stuff available on CTAN:
<ul>
<li> the <i class="class">minimal</i> class (part of the LaTeX distribution)
  does what its name says: it provides nothing more than what is
  needed to get LaTeX code going, and
<li> the <i class="package">mwe</i> bundle provides a number of images in formats
  that (La)TeX documents can use, and a small package <i class="package">mwe</i>
  which loads other useful packages (such as <i class="package">blindtext</i> and
  <i class="package">lipsum</i>, both capable of producing dummy text in a
  document).
</ul>

<p>
What if none of of these cut-down derivatives of your document will
show your error?  Whatever you do, don&rsquo;t post the whole of the document: if
you can, it may be useful to make a copy available on the web
somewhere: people will probably understand if it&rsquo;s impossible&nbsp;&hellip; 
or inadvisable, in the case of something confidential.

<p>
If the whole document is indeed necessary, it could be that your
error is an overflow of some sort; the best you can do is to post the
code &ldquo;around&rdquo; the error, and (of course) the full text of the error.

<p>
It may seem that all this work is rather excessive for preparing a
simple post.  There are two responses to that, both based on the
relative inefficiency of asking a question on the internet.

<p>
First, preparing a minimum document very often leads <em>you</em> to the
answer, without all the fuss of posting and looking for responses.

<p>
Second, your prime aim is to get an answer as quickly as possible; a
well-prepared example stands a good chance of attracting an answer
&ldquo;in a single pass&rdquo;: if the person replying to your post finds she
needs more information, you have to find that request, post again, and
wait for your benefactor to produce a second response.

<p>
All things considered, a good example file can save you a day, for
perhaps half an hour&rsquo;s effort invested.

<p>
Much of the above advice, differently phrased, may also be read on the
web at <a href="http://www.minimalbeispiel.de/mini-en.html">http://www.minimalbeispiel.de/mini-en.html</a>; source of
that article may be found at <a href="http://www.minimalbeispiel.de/">http://www.minimalbeispiel.de/</a>, in
both German and English.
<dl>
<dt class="ctanref">blindtext.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/blindtext">blindtext</a>
<dt class="ctanref">lipsum.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lipsum">lipsum</a>
<dt class="ctanref">minimal.cls</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a>
<dt class="ctanref">mwe.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mwe">mwe</a>
</dl>

<p class="lastedit">This answer last edited: 2013-01-09</p>

<p>
[[[Question]]][Q-tutorials*][[[LBRACE]]]Tutorials, etc., for TeX-based systems[[[RBRACE]]]

<p>
From a situation where every (La)TeX user <em>had</em> to buy a book
if she was not to find herself groping blindly along, we now have what
almost amounts to an embarrassment of riches of online documentation.
The following answers attempt to create lists of sources &ldquo;by topic&rdquo;.

<p>
First we have introductory manuals, for
<a href="FAQ-man-tex.html">Plain TeX</a> and <a href="FAQ-man-latex.html">LaTeX</a>.

<p>
Next comes a selection of
<a href="FAQ-tutbitslatex.html">&ldquo;specialised&rdquo; (La)TeX tutorials</a>,
each of which concentrates on a single LaTeX topic.

<p>
A small selection of reference documents (it would be good to have
more) are listed in an <a href="FAQ-ref-doc.html">answer of their own</a>.

<p>
Next comes the (somewhat newer) field of 
<a href="FAQ-doc-wiki.html">TeX-related WIKIs</a>.

<p>
A rather short list gives us a 
<a href="FAQ-typo-style.html">Typography style tutorial</a>.

<p class="lastedit">This answer last edited: 2011-09-26</p>

<p>
[[[Question]]][Q-man-tex][[[LBRACE]]]Online introductions: Plain TeX[[[RBRACE]]]

<p>
Michael Doob&rsquo;s splendid &lsquo;Gentle Introduction&rsquo; to Plain TeX
(available on CTAN) has been stable for a very long time.

<p>
Another recommendable document is D. R.&nbsp;Wilkins&rsquo; &lsquo;Getting started with TeX&rsquo;,
available on the web at <a href="http://www.ntg.nl/doc/wilkins/pllong.pdf">http://www.ntg.nl/doc/wilkins/pllong.pdf</a>
<dl>
<dt class="ctanref">Gentle Introduction</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gentle">gentle</a>
</dl>

<p>
[[[Question]]][Q-man-latex][[[LBRACE]]]Online introductions: LaTeX[[[RBRACE]]]

<p>
A pleasing little document, &ldquo;Getting something out of LaTeX&rdquo; is
designed to give a feel of LaTeX to someone who&rsquo;s never used it at
all.  It&rsquo;s not a tutorial, merely helps the user to decide whether to
go on to a tutorial, and thence to &lsquo;real&rsquo; use of LaTeX.

<p>
Tobias Oetiker&rsquo;s &lsquo;(Not so) Short Introduction to LaTeX 2e&rsquo;, is
regularly updated, as people suggest better ways of explaining things,
etc.  The introduction is available on CTAN, together with
translations into a rather large set of languages.

<p>
Peter Flynn&rsquo;s &ldquo;Beginner&rsquo;s LaTeX&rdquo; (which started life as course
material) is a pleasing read.  A complete copy may be found on
CTAN, but it may also be browsed over the web
(<a href="http://mirrors.ctan.org/info/beginlatex/html/">http://mirrors.ctan.org/info/beginlatex/html/</a>).

<p>
Harvey Greenberg&rsquo;s &lsquo;Simplified Introduction to LaTeX&rsquo; was written
for a lecture course, and is also available on CTAN (in PostScript
only, unfortunately).

<p>
The fourth edition of George Gr\"atzer&rsquo;s book &ldquo;Math into LaTeX&rdquo;
contains a &ldquo;short course&rdquo; in LaTeX itself, and that course has
been made publicly available on CTAN.

<p>
Philip Hirschhorn&rsquo;s &ldquo;Getting up and running with AMSLaTeX&rdquo; has a
brief introduction to LaTeX itself, followed by a substantial
introduction to the use of the AMS classes and the
<i class="package">amsmath</i> package and other things that are potentially of
interest to those writing documents containing mathematics.

<p>
Edith Hodgen&rsquo;s 
<a href="http://www.mcs.vuw.ac.nz/~david/latex/notes.pdf">LaTeX, a Braindump</a>
starts you from the ground up&nbsp;&mdash; giving a basic tutorial in the use
of <i class="progname">Linux</i> to get you going (rather a large file&hellip;).
Its parent site, David Friggens&rsquo; 
<a href="http://www.mcs.vuw.ac.nz/~david/latex/">documentation page</a> is a
useful collection of links in itself.

<p>

<a href="http://www.andy-roberts.net/misc/latex/">Andy Roberts&rsquo; introductory material</a>
is a pleasing short introduction to the use of (La)TeX; some of the
slides for <em>actual</em> tutorials are to be found on the page, as
well.

<p>
D. R.&nbsp;Wilkins&rsquo; 
<a href="http://www.maths.tcd.ie/~dwilkins/LaTeXPrimer/">&lsquo;Getting started with LaTeX&rsquo;</a>
also looks good (it appears shorter&nbsp;&mdash; more of a primer&nbsp;&mdash; than some
of the other offerings).

<p>
Chris Harrison&rsquo;s 
<a href="http://xoph.co/20111024/latex-tutorial/">LaTeX tutorial</a>
presents basic LaTeX in a rather pleasing and straightforward way.

<p>
Nicola Talbot&rsquo;s 
<a href="http://www.dickimaw-books.com/latex/novices/">LaTeX for complete novices</a>
does what it claims: the author teaches LaTeX at the University of
East Anglia.  The &ldquo;Novices&rdquo; tutorial is one of several 
<a href="http://www.dickimaw-books.com/latex/">introductory tutorials</a>,
which include exercises (with solutions).  Other tutorials include
those for 
<a href="http://www.dickimaw-books.com/latex/thesis/">writing theses/dissertations with LaTeX</a>, and for 
<a href="http://www.dickimaw-books.com/latex/admin/">using LaTeX in administrative work</a>

<p>
Engelbert Buxbaum provides the &lsquo;slides&rsquo; for his LaTeX course &lsquo;The
LaTeX document preparation system&rsquo;; this seems to be a departmental
course at his university.

<p>
Mark van Dongen&rsquo;s 
<a href=""http://csweb.ucc.ie/~dongen/LaTeX-and-Friends.pdf">&lsquo;LaTeX and friends&rsquo;</a>
appeared as he was writing his book on the subject (soon to be published).

<p>
An interesting (and practical) tutorial about what <em>not</em> to do is
<i class="package">l2tabu</i>, or &ldquo;A list of sins of LaTeX 2e users&rdquo; by Mark
Trettin, translated into English by J\"urgen Fenn.  The
tutorial is available from CTAN as a PDF file (though
the source is also available).
<dl>
<dt class="ctanref">Beginner&rsquo;s LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beginlatex-pdf">beginlatex-pdf</a>

<dt class="ctanref">Getting something out of LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/first-latex-doc">first-latex-doc</a>

<dt class="ctanref">Getting up and running with AMSLaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amslatex-primer">amslatex-primer</a>
<dt class="ctanref">Slides for LaTeX course</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex-course">latex-course</a>
<dt class="ctanref">Not so Short Introduction</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lshort">lshort</a>
  (in English, you may browse for sources and other language versions at
  <a class="ctan" href="https://www.ctan.org/pkg/lshort-parent">lshort-parent</a>)
<dt class="ctanref">Simplified LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/simpl-latex">simpl-latex</a>
<dt class="ctanref">Short Course in LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mil-short">mil-short</a>

<dt class="ctanref">The sins of LaTeX users</dt><dd>Browse
  <a class="ctan" href="https://www.ctan.org/pkg/l2tabu">l2tabu</a> for a copy of the document in a language that is
  convenient for you
</dl>

<p class="lastedit">This answer last edited: 2012-11-29</p>

<p>
[[[Question]]][Q-tutbitslatex][[[LBRACE]]](La)TeX tutorials[[[RBRACE]]]


<p>
The AMS publishes a &ldquo;Short Math Guide for LaTeX&rdquo;, which is
available (in several formats) via
<a href="http://www.ams.org/tex/amslatex.html">http://www.ams.org/tex/amslatex.html</a> (the &ldquo;Additional
Documentation&rdquo; about half-way down the page.

<p>
Herbert Vo&szlig; has written an extensive guide to mathematics in
LaTeX, and a development of it has been 
<a href="FAQ-latex-books.html">published as a book</a>.

<p>
Two documents written more than ten years apart about font usage in
TeX are worth reading: 
<a href="http://www.tug.org/TUGboat/Articles/tb14-2/tb39rahtz-nfss.pdf">Essential NFSS</a>
by Sebastian Rahtz, and 
<a href="http://tug.org/pracjourn/2006-1/schmidt/schmidt.pdf">Font selection in LaTeX</a>,
cast in the form of an FAQ, by Walter Schmidt.  A general
compendium of font information (including the two above) may be found
on the <a href="http://www.tug.org/fonts/">TUG web site</a>.

<p>
TUG India is developing a series of online LaTeX tutorials
which can be strongly recommended: select single chapters at a time
from <a href="http://www.tug.org/tutorials/tugindia">http://www.tug.org/tutorials/tugindia</a>&nbsp;&mdash; there
are 17&nbsp;chapters in the series, two of which are mostly introductory.

<p>
Peter Smith&rsquo;s





  
  &ldquo;<a href="http://www.logicmatters.net/latex-for-logicians/">LaTeX for Logicians</a>&rdquo;

page covers a rather smaller subject area, but is similarly comprehensive
(mostly by links to documents on relevant topics, rather than as a
monolithic document).

<p>
Keith Reckdahl&rsquo;s &ldquo;Using Imported Graphics in LaTeX 2e&rdquo;
(<i class="package">epslatex</i>) is an
excellent introduction to graphics use.  It&rsquo;s available on
CTAN, but not in the texlive or MiKTeX distributions, for
lack of sources.

<p>
Stefan Kottwitz manages a web site devoted to the use of the drawing
packages 
<a href="FAQ-drawing.html">PGF and TikZ</a>, 
<a href="http://www.texample.net/">http://www.texample.net/</a>

<p>
Included is 
 <a href="http://www.texample.net/tikz/examples/">examples catalogue</a>
includes examples (with output) from the package documentation as well
as code written by the original site maintainer (Kjell Magne Fauske)
and others.

<p>
The compendious PGF/TikZ manual is clear, but is
bewildering for some beginners.  The 
<a href="http://cremeronline.com/LaTeX/minimaltikz.pdf">&lsquo;minimal&rsquo; introduction</a>
has helped at least the present author.

<p>
Vincent Zoonekynd provides a set of excellent (and graphic) tutorials
on the programming of 
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_title/0.html">title page styles</a>,
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_chapter/0.html">chapter heading styles</a>
and
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_section/0.html">section heading styles</a>.
In each file, there is a selection of graphics representing an output
style, and for each style, the code that produces it is shown.

<p>
An invaluable step-by-step setup guide for establishing a &ldquo;work
flow&rdquo; through your (La)TeX system, so that output appears at the
correct size and position on standard-sized paper, and that the print
quality is satisfactory, is Mike Shell&rsquo;s <i class="package">testflow</i>.  The
tutorial consists of a large plain text document, and there is a
supporting LaTeX file together with correct output, both in PostScript and
PDF, for each of A4 and &ldquo;letter&rdquo; paper sizes.  The
complete kit is available on CTAN (distributed with the
author&rsquo;s macros for papers submitted for IEEE publications).
The issues are also covered in a later 
<a href="FAQ-dvips-pdf.html">FAQ answer</a>.

<p>
Documentation of Japanese &Omega; use appears in
Haruhiko Okumura&rsquo;s page

<a href="http://oku.edu.mie-u.ac.jp/~okumura/texfaq/japanese/">typesetting Japanese with Omega</a>
(the parent page is in Japanese, so out of the scope of this
FAQ list).

<p>
Some university departments make their local documentation available
on the web.  Most straightforwardly, there&rsquo;s the simple translation of
existing documentation into HTML, for example the INFO
documentation of the (La)TeX installation, of which a sample is the
LaTeX documentation available at
<a href="http://www.tac.dk/cgi-bin/info2www?(latex)">http://www.tac.dk/cgi-bin/info2www?(latex)</a>

<p>
More ambitiously, some university departments have enthusiastic
documenters who 
make public record of their (La)TeX support.  For example, Tim Love
(of Cambridge University Engineering Department) maintains his
department&rsquo;s pages at
<a href="http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/">http://www-h.eng.cam.ac.uk/help/tpl/textprocessing/</a>





<dl>
<dt class="ctanref">Graphics in LaTeX 2e</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epslatex">epslatex</a>
<dt class="ctanref">testflow</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/testflow">testflow</a>
<dt class="ctanref">Herbert Vo&szlig;&rsquo;s Maths tutorial</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/voss-mathmode">voss-mathmode</a>
</dl>

<p>
[[[Question]]][Q-ref-doc][[[LBRACE]]]Reference documents[[[RBRACE]]]

<p>
For TeX primitive commands a rather nice 
<a href="http://www.nmt.edu/tcc/help/pubs/texcrib.pdf">quick reference booklet</a>,
by John W.&nbsp;Shipman, is available; it&rsquo;s arranged in the same way as the
TeXbook.  By contrast, you can view David Bausum&rsquo;s 
<a href="http://www.tug.org/utilities/plain/cseq.html">list of TeX primitives</a>
alphabetically or arranged by &ldquo;family&rdquo;.  Either way, the list has a
link for each control sequence, that leads you to a detailed
description, which includes page references to the TeXbook.

<p>
There doesn&rsquo;t seem to be a reference that takes in Plain TeX as
well as the primitive commands.

<p>
An interesting LaTeX &ldquo;cheat sheet&rdquo; is available from CTAN:
it&rsquo;s a list of (more or less) everything you &lsquo;ought to&rsquo; remember, for
basic LaTeX use. 
(It&rsquo;s laid out very compactly for printing on N. American &lsquo;letter&rsquo;;
printed on ISO A4, using Adobe Acrobat&rsquo;s &ldquo;shrink to
fit&rdquo;, it strains aged eyes&hellip;) 

<p>
For command organised references to LaTeX,  Karl Berry (et
al)&rsquo;s 
<a href="http://home.gna.org/latexrefman">LaTeX reference manual</a> is (to
an extent) work in progress, but is generally reliable (source is
available on the.archive as well).

<p>
Martin Scharrer&rsquo;s &ldquo;List of internal LaTeX macros&rdquo; is a help to
those aiming to write a class or package.

<p>
The reference provided by the Emerson Center of Emory
University), 
<a href="http://www.emerson.emory.edu/services/latex/latex2e/latex2e_toc.html">LaTeXe help</a>
also looks good.
<dl>
<dt class="ctanref">Cheat sheet</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexcheat">latexcheat</a>
<dt class="ctanref">LaTeX reference manual</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex2e-help-texinfo">latex2e-help-texinfo</a>
<dt class="ctanref">LaTeX internal macros</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/macros2e">macros2e</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-16</p>

<p>
[[[Question]]][Q-doc-wiki][[[LBRACE]]]WIKI books for TeX and friends[[[RBRACE]]]

<p>
The <em>WIKI</em> concept can be a boon to everyone, if used sensibly.
The &ldquo;general&rdquo; WIKI allows <em>anyone</em> to add stuff, or to edit
stuff that someone else has added: while there is obvious potential
for chaos, there is evidence that a strong user community can keep a
WIKI under control.

<p>
Following the encouraging performance of the 
<a href="http://contextgarden.net/">CONTeXT WIKI</a>, valiant
efforts have been made generating &ldquo;WIKI books&rdquo; for (La)TeX
users.  Thus we have 
<a href="http://en.wikibooks.org/wiki/TeX">(Plain) TeX WIKI book</a> and 
<a href="http://en.wikibooks.org/wiki/LaTeX">LaTeX WIKI book</a>&nbsp;&mdash;
both well established.  Both are highly rated as reference sources,
and even as introductory texts.

<p class="lastedit">This answer last edited: 2012-07-25</p>

<p>
[[[Question]]][Q-typo-style][[[LBRACE]]]Typography tutorials[[[RBRACE]]]

<p>
Peter Wilson&rsquo;s article <i class="package">memdesign</i> has a lengthy introductory
section on typographic considerations, which is a fine tutorial,
written by someone who is aware of the issues as they apply to
(La)TeX users.  (<i class="package">Memdesign</i> now distributed separately from
the manual for his <i class="class">memoir</i> class, but was originally part of
that manual)

<p>
There&rsquo;s also (at least one) typographic style tutorial available on
the Web, the excellent 
&ldquo;<a href="http://www.nbcs.rutgers.edu/~hedrick/typography/typography.janson-syntax.107514.pdf">Guidelines for Typography in NBCS</a>&rdquo;.
In fact, its 
<a href="http://www.nbcs.rutgers.edu/~hedrick/typography/index.html">parent page</a>
is also worth a read: among other things, it provides copies of the
&ldquo;guidelines&rdquo; document in a wide variety of primary fonts, for
comparison purposes.  The author is careful to explain that he has no
ambition to supplant such excellent books as
<a href="FAQ-type-books.html">Bringhurst&rsquo;s</a>, but the document (though it does
contain its Rutgers-local matter) is a fine introduction to the issues
of producing readable documents.
<dl>
<dt class="ctanref">memdesign</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memdesign">memdesign</a>
</dl>

<p>
[[[Question]]][Q-ol-books][[[LBRACE]]]Freely available (La)TeX books[[[RBRACE]]]

<p>
People have long argued for (La)TeX books to be made available on
the web, and until relatively recently this demand went un-answered.

<p>
The first to appear was Victor Eijkhout&rsquo;s excellent &ldquo;TeX by
Topic&rdquo; in 2001 (it had been published by Addison-Wesley, but was long
out of print).  The book is now available on CTAN; it&rsquo;s not a
beginner&rsquo;s tutorial but it&rsquo;s a fine reference.  It&rsquo;s also available,
as a printed copy, via the on-line publishers
<a href="http://www.lulu.com/content/2555607/">Lulu</a> (not quite free, of
course, but not a <em>bad</em> deal&hellip;).

<p>
Addison-Wesley have also released the copyright of &ldquo;TeX for the
Impatient&rdquo; by Paul W.&nbsp;Abrahams, Karl Berry and Kathryn A.&nbsp;Hargreaves,
another book whose unavailability many have lamented.  The authors
have re-released the book under the GNU Free Documentation
Licence, and it is available from CTAN.

<p>
Norm Walsh&rsquo;s &ldquo;Making TeX Work&rdquo; (originally published by O&rsquo;Reilly)
is also available (free) on the Web, at
<a href="http://makingtexwork.sourceforge.net/mtw/">http://makingtexwork.sourceforge.net/mtw/</a>; the sources of the
Web page are on CTAN.  The book was an excellent resource in
its day, but while it is now somewhat dated, it still has its uses,
and is a welcome addition to the list of on-line resources.  A project
to update it is believed to be under way.
<dl>
<dt class="ctanref">Making TeX Work</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mtw">mtw</a>
<dt class="ctanref">TeX by Topic</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texbytopic">texbytopic</a>
<dt class="ctanref">TeX for the Impatient</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/TftI">TftI</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-29</p>

<p>
[[[Question]]][Q-pkgdoc][[[LBRACE]]]Documentation of packages[[[RBRACE]]]

<p>
These FAQs regularly suggest packages that will &ldquo;solve&rdquo;
particular problems.  In some cases, the answer provides a recipe for
the job.  In other cases, or when the solution needs elaborating, how
is the poor user to find out what to do?

<p>
If you&rsquo;re lucky, the package you need is already in your installation.
If you&rsquo;re particularly lucky, you&rsquo;re using a distribution that gives
access to package documentation and the documentation is available in
a form that can easily be shown.

<p>
On texlive-based distributions, help should be available from the
<i class="progname">texdoc</i> command, as in:
<blockquote>
<pre>
texdoc footmisc
</pre>
</blockquote>
which opens a window showing documentation of the <i class="package">footmisc</i>
package.  (The window is tailored to the file type, in the way normal
for the system.)

<p>
If <i class="progname">texdoc</i> can&rsquo;t find any documentation, it may launch a Web
browser to look at the package&rsquo;s entry in the CTAN catalogue.
The catalogue has an entry for package documentation, and most authors
respond to the CTAN team&rsquo;s request for documentation of
packages, you will more often than not find documentation that way.

<p>
On MiKTeX systems, the same function is provided by the
<i class="progname">mthelp</i>.

<p>
Note that the site <a href="texdoc.net">texdoc.net</a> provides access to the
documentation you <em>would</em> have if you had a <em>full</em>
installation of texlive; on the site you can simply ask for a
package (as you would ask <i class="progname">texdoc</i>, or you can use the site&rsquo;s
index of documentation to find what you want.  (This is helpful for
some of us: many people don&rsquo;t have a full (La)TeX installation on
their mobile phone&nbsp;&hellip; yet.)

<p>
If your luck (as defined above) doesn&rsquo;t hold out, you&rsquo;ve got to find
documentation by other means.  That is, you have to find the
documentation for yourself.  The rest of this answer offers a range of
possible techniques.

<p>
The commonest form of documentation of LaTeX add-ons is within the
<code class="extension">dtx</code> file in which the code is distributed (see
<a class="FAanswer.html" href="FAQ-dtx.html">documented LaTeX sources</a>).  Such files
are supposedly processable by LaTeX itself, but there are
occasional hiccups on the way to readable documentation.  Common
problems are that the package itself is needed to process its own
documentation (so must be unpacked before processing), and that the
<code class="extension">dtx</code> file will <em>not</em> in fact process with LaTeX.  In the
latter case, the <code class="extension">ins</code> file will usually produce a
<code class="extension">drv</code> (or similarly-named) file, which you process with
LaTeX instead.  (Sometimes the package author even thinks to
mention this wrinkle in a package <tt>README</tt> file.)

<p>
Another common form is the separate documentation file; particularly
if a package is &ldquo;conceptually large&rdquo; (and therefore needs a lot of
documentation), the documentation would prove a cumbersome extension
to the <code class="extension">dtx</code> file.  Examples of such cases are the <i class="class">memoir</i>
class, the <i class="class">KOMA-script</i> bundle
(whose developers take the trouble to produce detailed documentation
in both German and English), the <i class="package">pgf</i> documentation (which
would make a substantial book in its own right)
and the <i class="package">fancyhdr</i> package (whose
documentation derives from a definitive tutorial in a mathematical
journal).  Even if the documentation is not separately identified in a
<tt>README</tt> file, it should not be too difficult to recognise its
existence.

<p>
Documentation within the package itself is the third common form.
Such documentation ordinarily appears in comments at the head of the
file, though at least one eminent author regularly places it after the
<code>&#x5c;endinput</code> command in the package.  (This is desirable, since
<code>&#x5c;endinput</code> is a &lsquo;logical&rsquo; end-of-file, and (La)TeX doesn&rsquo;t read
beyond it: thus such documentation does not &lsquo;cost&rsquo; any package loading time.)

<p>
The above suggestions cover most possible ways of finding
documentation.  If, despite your best efforts, you can&rsquo;t find
it in any of the above places, there&rsquo;s the awful possibility that the
author didn&rsquo;t bother to document his package (on the &ldquo;if it was hard
to write, it should be hard to use&rdquo; philosophy).  Most ordinary
mortals will seek support from some more experienced user at this
stage, though it <em>is</em> possible to proceed in the way that the original
author apparently expected&hellip;by reading his code.

<p class="lastedit">This answer last edited: 2012-11-09</p>

<p>
[[[Question]]][Q-writecls][[[LBRACE]]]Learning to write LaTeX classes and packages[[[RBRACE]]]

<p>
There&rsquo;s nothing particularly magic about the commands you use when
writing a package, so you can simply bundle up a set of LaTeX
<code>&#x5c;(re)newcommand</code> and <code>&#x5c;(re)newenvironment</code> commands, put them in
a file <i class="filename">package.sty</i> and you have a package.

<p>
However, any but the most trivial package will require rather more
sophistication.  Some details of LaTeX commands for the job are to
be found in &lsquo;LaTeX 2e for class and package writers&rsquo;
(<i class="filename">clsguide</i>, part of the LaTeX documentation distribution).
Beyond this, a good knowledge of TeX itself is valuable: thus books
such as the <a href="FAQ-tex-books.html">TeXbook</a> or 
<a href="FAQ-ol-books.html">TeX by topic</a> are relevant.  With good TeX
knowledge it is possible to use the documented source of LaTeX as
reference material (dedicated authors will acquaint themselves with the
source as a matter of course).  A complete set of the documented
source of LaTeX may be prepared by processing the file
<i class="filename">source2e.tex</i> in the LaTeX distribution.  Such processing is
noticeably tedious, but Heiko Oberdiek has prepared a well-linked
PDF version, which is in the file <i class="filename">base.tds.zip</i> of his
<i class="progname">latex-tds</i> distribution.  Individual files in the LaTeX
distribution may be processed separately with LaTeX, like any
well-constructed <a href="FAQ-dtx.html"><code class="extension">dtx</code> file</a>.

<p>
Writing good classes is not easy; it&rsquo;s a good idea to read some
established ones (<i class="filename">classes.dtx</i>, for example, is the documented
source of the standard classes other than <i class="class">Letter</i>, and may
itself be formatted with LaTeX).  Classes that are not part of the
distribution are commonly based on ones that are, and start by loading
the standard class with <code>&#x5c;LoadClass</code>&nbsp;&mdash; an example of this
technique may be seen in <i class="package">ltxguide.cls</i>

<p>
An 
<a href="http://tug.org/TUGboat/Articles/tb28-1/tb88flynn.pdf">annotated version of <i class="class">article</i></a>,
as it appears in <i class="filename">classes.dtx</i>, was published in
TUGboat 28(1).  The article, by Peter Flynn, is a good guide to
understanding <i class="filename">classes.dtx</i>
<dl>
<dt class="ctanref">classes.dtx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex-classes">latex-classes</a>
<dt class="ctanref">clsguide.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/clsguide">clsguide</a>
<dt class="ctanref">latex-tds collection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex-tds">latex-tds</a>
<dt class="ctanref">ltxguide.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ltxguide">ltxguide</a>
<dt class="ctanref">LaTeX documentation</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexdoc">latexdoc</a>
<dt class="ctanref">source2e.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex-source">latex-source</a>
</dl>

<p class="lastedit">This answer last edited: 2011-07-19</p>

<p>
[[[Question]]][Q-latex3-prog][[[LBRACE]]]LaTeX3 programming[[[RBRACE]]]
As yet, there is no book &ldquo;Programming in LaTeX3&rdquo;, and even if
such a thing existed there would be lots of gaps.  So there is no
<em>comprehensive</em> support.

<p>
However, there are some &lsquo;resources&rsquo;:
<ul>
<li> The &ldquo;introduction to LaTeX3 ideas&rdquo; in the <i class="package">expl3</i>
  documentation gives a broad-brush overview of the concepts.
<li> Joseph Wright has written a short series of 
  <a href="http://www.texdev.net/index.php?s=programming+latex3">blog posts</a>,
  which may help.
<li> There is also a complete command reference in the
  <i class="package">interface3</i> document.
</ul>

<p>
The documents are still subject to development; some of the broader
design issues are discussed on the LaTeX mailing list
<tt>latex-l</tt>&nbsp;&mdash; you may subscribe to that list by sending a
message by sending a message
<blockquote>
  &lsquo;<tt>subscribe latex-l <<em>your name</em>></tt>&rsquo;
</blockquote>
to <a href="mailto:listserv@urz.Uni-Heidelberg.de">listserv@urz.Uni-Heidelberg.de</a>
<dl>
<dt class="ctanref">expl3.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/expl3-doc">expl3-doc</a>
<dt class="ctanref">interface3.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/interface3-doc">interface3-doc</a>
</dl>

<p class="lastedit">This answer last edited: 2012-11-29</p>

<p>
[[[Question]]][Q-mfptutorials][[[LBRACE]]]MetaFont and MetaPost Tutorials[[[RBRACE]]]

<p>
Apart from Knuth&rsquo;s book, there seems to be only one publicly-available
<a href="http://metafont.tutorial.free.fr/">tutorial for MetaFont</a>, by
Christophe Grandsire (a copy in PDF form may be downloaded).
Geoffrey Tobin&rsquo;s <i>MetaFont for Beginners</i> 
(see <a class="FAquestion.html" href="FAQ-useMF.html">using MetaFont</a>) describes how the MetaFont
system works and how to avoid some of the potential pitfalls.

<p>
Peter Wilson&rsquo;s experience of running both MetaFont and MetaPost (the
programs), <i>Some Experiences in Running MetaFont and MetaPost</i>
(available on CTAN) offers the benefit of Peter&rsquo;s experience (he
has designed a 
number of &lsquo;historical&rsquo; fonts using MetaFont).  For MetaFont the article is
geared towards testing and installing new MetaFont fonts, while its MetaPost
section describes how to use MetaPost illustrations in LaTeX and
PDFLaTeX documents, with an emphasis on how to use appropriate
fonts for any text or mathematics.

<p>
Hans Hagen (of CONTeXT fame) offers a MetaPost tutorial called
MetaFun (which admittedly concentrates on the use of MetaPost within
CONTeXT).  It may be found on his company&rsquo;s 
<a href="http://www.pragma-ade.com/general/manuals/metafun-p.pdf">&lsquo;manuals&rsquo; page</a>.

<p>
Another MetaPost tutorial in English is: 
<a href="http://www.tlhiv.org/MetaPost/tutorial/">http://www.tlhiv.org/MetaPost/tutorial/</a> by Urs Oswald.
One in French (listed here because it&rsquo;s clearly enough written
that even this author understands it),
<a href="http://pauillac.inria.fr/~cheno/metapost/metapost.pdf">http://pauillac.inria.fr/&nbsp;cheno/metapost/metapost.pdf</a>
by Laurent Ch&eacute;no.

<p>
Urs Oswald&rsquo;s tutorial uses Troy Henderson&rsquo;s tool
(<a href="http://www.tlhiv.org/mppreview">http://www.tlhiv.org/mppreview</a>) for testing little bits of
MetaPost; it is an invaluable aid to the learner:
<a href="http://www.tlhiv.org/mppreview">http://www.tlhiv.org/mppreview</a>

<p>
A three-part introduction, by Mari Voipio, was published in
<a href="http://tug.org/TUGboat/intromp/tb106voipio-grid.pdf">TUGboat34(1) (Entry-level MetaPost: On the grid)</a>,
TUGboat34(2)
<a href="http://tug.org/TUGboat/intromp/tb107voipio-moveit.pdf">(Entry-level MetaPost: Move it!)</a>, and
<a href="http://tug.org/TUGboat/intromp/tb108voipio-color.pdf">TUGboat34(2) (Entry-level MetaPost: Color)</a>.

<p>
Vincent Zoonekynd&rsquo;s massive set of example MetaPost files is available on
CTAN; the set includes a <i class="progname">Perl</i> script to convert the
set to html, and the set may be 
<a href="http://zoonek.free.fr/LaTeX/Metapost/metapost.html">viewed on the web</a>.
While these examples don&rsquo;t exactly constitute a &ldquo;tutorial&rdquo;, they&rsquo;re
most certainly valuable learning material.  Urs Oswald presents a
<a href="http://www.ursoswald.ch/metapost/tutorial.pdf">similar document</a>,
written more as a document, and presented in PDF.
<dl>
<dt class="ctanref">Beginners&rsquo; guide</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mf-beginners">mf-beginners</a>
<dt class="ctanref">Peter Wilson&rsquo;s &ldquo;experiences&rdquo;</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/metafp-pdf">metafp-pdf</a>
<dt class="ctanref">Vincent Zoonekynd&rsquo;s examples</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/zoon-mp-eg">zoon-mp-eg</a>
</dl>

<p class="lastedit">This answer last edited: 2014-02-18</p>

<p>
[[[Question]]][Q-BibTeXing][[[LBRACE]]]BibTeX Documentation[[[RBRACE]]]

<p>
BibTeX, a program originally designed to produce bibliographies in
conjunction with LaTeX, is explained in Section&nbsp;4.3 and Appendix&nbsp;B
of Leslie Lamport&rsquo;s LaTeX manual.
The document &ldquo;BibTeXing&rdquo;, in the BibTeX distribution (look for
<i class="filename">btxdoc</i>),
expands on the chapter in Lamport&rsquo;s book.  <em>The LaTeX Companion</em>
also has information on BibTeX and writing BibTeX style files.
(See <a class="FAquestion.html" href="FAQ-latex-books.html">LaTeX books</a> for details of both
books.)

<p>
The web site &ldquo;<a href="http://www.bibtex.org">Your BibTeX resource</a>&rdquo;
offers a solid introduction, but doesn&rsquo;t go into very great detail.

<p>
The document &ldquo;Designing BibTeX Styles&rdquo;, also in the BibTeX
distribution (look for
<i class="filename">btxhak</i>), explains the postfix stack-based language used to
write BibTeX styles (<i class="filename">.bst</i> files). The file<i class="filename">btxbst.doc</i>,
also in the BibTeX distribution,
is the template for the four standard styles (<i class="package">plain</i>,
<i class="package">abbrv</i>, <i class="package">alpha</i>, and <i class="package">unsrt</i>); it also
contains their documentation.

<p>
A useful tutorial of the whole process of using BibTeX is Nicolas
Markey&rsquo;s &ldquo;<em>Tame the BeaST (The B to X of BibTeX)</em>&rdquo;, which
may also be found on CTAN.  A summary and FAQ by Michael
Shell and David Hoadley, is also to be recommended.
<dl>
<dt class="ctanref">BibTeX distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibtex">bibtex</a>
<dt class="ctanref">Shell and Hoadley&rsquo;s FAQ</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibtex-faq">bibtex-faq</a>
<dt class="ctanref">Tame the BeaST</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ttb-pdf">ttb-pdf</a>
</dl>

<p class="lastedit">This answer last edited: 2013-10-15</p>

<p>
[[[Question]]][Q-symbols][[[LBRACE]]]Where can I find the symbol for&thinsp;&hellip;[[[RBRACE]]]
<!-- assignment circular integral degrees diagonal dots Fourier transform -->
<!-- Laplace greater less complex integer natural real -->
<!-- cent euro -->

<p>
There is a wide range of symbols available for use with TeX, most
of which are not shown (or even mentioned) in (La)TeX books.
<em>The Comprehensive LaTeX Symbol List</em> (by Scott Pakin

<em>et al.</em>) illustrates over 2000 symbols, and details the
commands and the LaTeX packages needed to produce them.

<p>
However, while the symbol list is a wonderful resource, it is never
easy to find a particular symbol there.  A graphical 
<a href="http://detexify.kirelabs.org/classify.html">symbol search</a> is
available on the web.  The site provides you a scratch area on which
you draw the symbol you&rsquo;re thinking of, with your mouse; when you&rsquo;ve
finished drawing, the classifier tries to match your sketch with
symbols it knows about.  The matching process is pretty good, even for
the sketches of a <em>really</em> poor draughtsman (such as the present
author), and it&rsquo;s often worth trying more than once.  &lsquo;Detexify apps&rsquo;
are available for both Android and iPhone devices, you can use them to
draw the symbol with your fingertip&nbsp;&mdash; a less challenging procedure
than using your workstation&rsquo;s mouse, by all accounts!

<p>
If you are using Unicode maths in XeTeX or LuaTeX, your own
distribution ought to provide the Unicode maths symbol table
<i class="filename">unimath-symbols.pdf</i>; this lists the things available in the
commonly-used mathematics fonts.  (If the file isn&rsquo;t already available
on your system, you can download it from CTAN, where it live
with the <i class="package">unicode-math</i> package.

<p>
Other questions in this FAQ offer specific help on kinds of
symbols:
<ul>
<li> <a href="FAQ-scriptfonts.html">Script fonts for mathematics</a>
<li> <a href="FAQ-numbersets.html">Fonts for the number sets</a>
<li> <a href="FAQ-prinvalint.html">Typesetting the principal value integral</a>
</ul>
<dl>
<dt class="ctanref">Symbol List</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/symbols">symbols</a>; there
  are processed versions PDF form for both A4 and letter paper.
<dt class="ctanref">Unicode maths symbols</dt><dd>Distributed as part of
  <a class="ctan" href="https://www.ctan.org/pkg/unicode-math">unicode-math</a>
</dl>

<p class="lastedit">This answer last edited: 2012-09-03</p>

<p>
[[[Question]]][Q-docpictex][[[LBRACE]]]The PicTeX manual[[[RBRACE]]]

<p>
PicTeX is a set of macros by Michael Wichura for drawing diagrams
and pictures. The
macros are freely available; however, the
PicTeX manual itself is not free.
Unfortunately, TUG is no longer able to supply copies of the
manual (as it once did), and it is now available only through Personal
TeX Inc, the vendors of PCTeX (<a href="http://www.pctex.com/">http://www.pctex.com/</a>).  The
manual is <em>not</em> available electronically.

<p>
However, there <em>is</em> a summary of PicTeX commands available on
CTAN, which is a great aide-memoire for those who basically
know the package to start with.
<dl>
<dt class="ctanref">PicTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pictex">pictex</a>
<dt class="ctanref">PicTeX summary</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pictex-summary">pictex-summary</a>
</dl>


<p>

<p>

<p>
[[[Question]]][Q-dvi][[[LBRACE]]]What is a DVI file?[[[RBRACE]]]

<p>
&lsquo;DVI&rsquo; is supposed to be an acronym for
DeVice-Independent, meaning that the file may be
processed for printing or viewing on most kinds of typographic output
device or display.

<p>
A DVI file (that is, a file with the type or extension
<code class="extension">dvi</code>) is the main output file of &ldquo;original&rdquo; TeX (later
TeX-like systems, such as <a href="FAQ-whatpdftex.html">PDFTeX</a> may use
other formats).

<p>
A DVI file contains all the information that is needed for
printing or previewing, except for the actual bitmaps or outlines of
fonts, and any material to be introduced by means of 
<a href="FAQ-specials.html"><code>&#x5c;special</code> commands</a>.  Characters in the
DVI file (representing glyphs for printing or display) appear
in an encoding determined in the document.

<p>
Any TeX input file should produce the same DVI file
regardless of which implementation of TeX is used to produce it.

<p>
An DVI file may be processed by a <a href="FAQ-driver.html">DVI driver</a>
to produce further output designed specifically for a particular
printer, or for output in another format (for distribution), or it may
be used by a previewer for display on a computer screen.

<p>
Note that <a href="FAQ-xetex.html">XeTeX</a> (released some time after
PDFTeX) uses an &ldquo;extended DVI format&rdquo; (XDV) to send
its output to a close-coupled <a href="FAQ-driver.html">DVI driver</a>,
<i class="progname">xdvipdfmx</i>.

<p>
The canonical reference for the structure of a DVI file is the
source of Knuth&rsquo;s program <i class="progname">dvitype</i> (whose original purpose,
as its name implies, was to view the content of a DVI file).
A partially complete &ldquo;standard&rdquo; for the way they should be
processed may offer further enlightenment.
<dl>
<dt class="ctanref">DVI processing standard</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvistd">dvistd</a>
<dt class="ctanref">dvitype</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvitype">dvitype</a>
</dl>

<p class="lastedit">This answer last edited: 2013-03-15</p>

<p>
[[[Question]]][Q-driver][[[LBRACE]]]What is a DVI driver?[[[RBRACE]]]

<p>
A DVI driver is a program that takes as input a
<a href="FAQ-dvi.html">DVI file</a>
and (usually) produces a file in a format that something <em>other</em>
than a TeX-related program can process.

<p>
A driver may be designed for producing output for printing (e.g.,
PostScript), for later processing (e.g., PostScript for inclusion in a later
document), or for document exchange (e.g., PDF).

<p>
As well as the DVI file, the driver typically also needs font
information.  Font information may be held as bitmaps or as outlines,
or simply as a set of pointers into the fonts that a printer itself
provides.  Each driver will expect the font information in a particular
form.

<p>
For more information on the forms of font information, see
<a class="FAquestions.html" href="FAQ-pk.html">PK files</a>,

<a class="FA.html" href="FAQ-tfm.html">TFM files</a>,
<a class="FA.html" href="FAQ-virtualfonts.html">virtual fonts</a>
and <a class="FA.html" href="FAQ-usepsfont.html">Using PostScript fonts with TeX</a>.

<p class="lastedit">This answer last edited: 2011-10-10</p>

<p>
[[[Question]]][Q-pk][[[LBRACE]]]What are PK files?[[[RBRACE]]]

<p>
PK files (packed raster) are the canonical form of TeX font
bitmaps.  The output from <a href="FAQ-useMF.html">MetaFont</a> includes a generic
font (GF) file and the utility <i class="progname">gftopk</i> produces a
PK file from that.

<p>
There are potentially a lot of PK files, as one
is needed for each font: that is for each magnification of each
design (point) size for each weight for each font in each family.

<p>
Further, since the PK files for one printer do not necessarily
work well for another, the whole set needs to be duplicated for each
printer type at a site.

<p>
While this menagerie of bitmaps can (in principle) provide fonts that
are closely matched to the capabilities of each printer, the size of
the collection (and the resulting difficulty of maintaining it) has
been a potent driver to the move towards outline fonts such as
<a href="FAQ-adobetypen.html">Adobe Type 1 fonts</a>.

<p class="lastedit">This answer last edited: 2012-10-20</p>

<p>
[[[Question]]][Q-tfm][[[LBRACE]]]What are TFM files?[[[RBRACE]]]

<p>
TFM is an acronym for &lsquo;TeX Font Metrics&rsquo;; TFM files hold
information about the sizes of the characters of the font in question,
and about ligatures and kerns within that font.  One TFM file is
needed for each font used by TeX, that is for each design (point)
size for each weight for each family; each TFM file serves for all
magnifications of &lsquo;its&rsquo; font, so that there are (typically) fewer
TFM files than there are <a href="FAQ-pk.html">PK</a> files.  TeX,
LaTeX, etc.,\@
themselves need only know about the sizes of characters and their
interactions with each other, but not what characters look like.  By
contrast, TFM files are not, in principle, needed by the
DVI driver, which only needs to know about the glyphs that each
character selects, so as to print or display them.

<p>
Note that TrueType and OpenType fonts contain the necessary metrics,
so that <a href="FAQ-xetex.html">XeTeX</a> and <a href="FAQ-luatex.html">LuaTeX</a>, using
such fonts, have no need of TFM files.  A corollary of this is
that setting up fonts for use by these engines is far <em>easier</em>.

<p class="lastedit">This answer last edited: 2012-10-20</p>

<p>
[[[Question]]][Q-virtualfonts][[[LBRACE]]]What are virtual fonts?[[[RBRACE]]]

<p>
Virtual fonts provide a means of collecting bits and pieces together
to make the glyphs of a font: the bits and pieces may be glyphs from
&ldquo;other&rdquo; fonts, rules and other &ldquo;basic&rdquo; typesetting commands, and
the positioning information that specifies how everything comes
together.

<p>
An early instance of something like virtual fonts for TeX was
implemented by David Fuchs to use an unusual printer.  However, for
practical purposes for the rest of us, virtual fonts date from when Knuth
specified a format and wrote some support software, in 1989 (he
published an 
<a href="http://tug.org/TUGboat/tb11-1/tb27knut.pdf">article in <i class="slanted">TUGboat</i></a>
at the time; a plain text copy is available on CTAN).

<p>
Virtual fonts provide a way of telling TeX about something more
complicated than just a one-to-one character mapping.  TeX reads a
TFM file of the font, just as before, but the DVI
processor will read the VF and use its content to specify how
each glyph is to be processed.

<p>
The virtual font may contain commands:
<ul>
<li> to &lsquo;open&rsquo; one or more (real) fonts for subsequent use,
<li> to remap a glyph from one of the (real) fonts for use in the
  virtual font,
<li> to build up a more complicated effect (using DVI commands).
</ul>

<p>


In practice, the most common use of virtual fonts is to remap
Adobe Type 1 fonts (see <a class="FAquestion.html" href="FAQ-metrics.html">font metrics</a>),
though there has also been useful useful work building &lsquo;fake&rsquo; maths
fonts (by bundling glyphs from several fonts into a single virtual
font).  Virtual Computer Modern fonts, making a 
<a href="FAQ-ECfonts.html">Cork encoded</a> font from Knuth&rsquo;s originals by using
remapping and fragments of DVI for single-glyph &lsquo;accented
characters&rsquo;, were the first &ldquo;Type&nbsp;1 format&rdquo; Cork-encoded Computer
Modern fonts available.

<p>
Virtual fonts are normally created in a single ASCII VPL
(Virtual Property List) file, which includes two sets of information.
The <i class="progname">vptovf</i> utility will use the VPL file to create
the binary TFM and VF files.

<p>
A &ldquo;how-to&rdquo; document, explaining how to generate a VPL,
describes the endless hours of fun that may be had, doing the job by
hand.  Despite the pleasures to be had, the commonest way (nowadays)
of generating an VPL file is to use the 
<i class="progname">fontinst</i> package, which is described in more detail
together with the discussion of
<a class="FAin answer.html" href="FAQ-metrics.html">PostScript font metrics</a>.
<i class="package">Qdtexvpl</i> is another utility for creating ad-hoc virtual
fonts (it uses TeX to parse a description of the virtual font, and
<i class="progname">qdtexvpl</i> itself processes the resulting DVI file).
<dl>
<dt class="ctanref">fontinst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontinst">fontinst</a>
<dt class="ctanref">Knuth on virtual fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vf-knuth">vf-knuth</a>
<dt class="ctanref">Virtual fonts &ldquo;how to&rdquo;</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vf-howto">vf-howto</a>
<dt class="ctanref">qdtexvpl</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/qdtexvpl">qdtexvpl</a>
</dl>

<p class="lastedit">This answer last edited: 2012-10-20</p>

<p>
[[[Question]]][Q-whatmacros][[[LBRACE]]]What are (TeX) macros[[[RBRACE]]]

<p>
TeX is a <em>macro processor</em>: this is a computer-science-y term
meaning &ldquo;text expander&rdquo; (more or less); TeX typesets text as it
goes along, but <em>expands</em> each macro it finds.  TeX&rsquo;s macros
may include instructions to TeX itself, on top of the simple text
generation one might expect.

<p>
Macros are a <em>good thing</em>, since they allow the user to
manipulate documents according to context.  For example, the macro
<code>&#x5c;TeX</code> is usually defined to produce &ldquo;TEX&rdquo; with the &lsquo;E&rsquo; lowered
(the original idea was Knuth&rsquo;s),
but in these FAQs the default definition of the macro is
overridden, and it simply expands to the letters &ldquo;TeX&rdquo;.  (<em>You</em>
may not think this a good thing, but the author of the macros has his
reasons&nbsp;&ndash; see <a class="FAquestion.html" href="FAQ-logos.html">TeX-related logos</a>.)

<p>
Macro names are conventionally built from a <tt>&#x5c; </tt>
followed by a sequence of letters, which may be upper or lower case
(as in <code>&#x5c;TeX</code>, mentioned above).  They may also be 
<tt>&#x5c; &lsaquo;<i>any single character</i>&rsaquo;</tt>, which allows all
sorts of oddities (many built in to most TeX macro sets, all the
way up from the apparently simple &lsquo;<code>&#x5c; </code>&rsquo; meaning &ldquo;insert a space
here&rdquo;).

<p>
Macro programming can be a complicated business, but at their very
simplest they need little introduction&nbsp;&mdash; you&rsquo;ll hardly need to be
told that:
<blockquote>
<pre>
\def\foo{bar}
</pre>
</blockquote>
replaces each instance of <code>&#x5c;foo</code> with the text &ldquo;bar&rdquo;.  The
command <code>&#x5c;def</code> is Plain TeX syntax for defining commands;
LaTeX offers a macro <code>&#x5c;newcommand</code> that goes some way towards
protecting users from themselves, but basically does the same thing:
<blockquote>
<pre>
\newcommand{\foo}{bar}
</pre>
</blockquote>
Macros may have &ldquo;arguments&rdquo; , which are used to substitute for marked
bits of the macro expansion:
<blockquote>
<pre>
\def\foo#1{This is a #1 bar}
...
\foo{2/4}.
</pre>
</blockquote>
which produces:
<blockquote>
  This is a 2/4 bar.
</blockquote>
or, in LaTeX speak:
<blockquote>
<pre>
\newcommand{\foo}[1]{This is a #1 bar}
...
\foo{3/4}.
</pre>
</blockquote>
which produces:
<blockquote>
  This is 3/4 bar.
</blockquote>
(LaTeX users waltz through life, perhaps?)

<p>
You will have noticed that the arguments, above, were enclosed in
braces (<tt>&#x7b;&hellip;&#x7d;</tt>); this is the
normal way of typing arguments, though TeX is enormously flexible,
and you may find all sorts of other ways of passing arguments (if you
stick with it).

<p>
Macro writing can get very complicated, very quickly.  If you are a
beginner (La)TeX programmer, you are well advised to read something
along the lines of the <a href="FAQ-tex-books.html">TeXbook</a>; once you&rsquo;re under
way, <a href="FAQ-ol-books.html">TeX by Topic</a> is possibly a more satisfactory
choice.  Rather a lot of the answers in these FAQs tell you
about various issues of how to write macros.

<p class="lastedit">This answer last edited: 2011-10-12</p>

<p>
[[[Question]]][Q-specials][[[LBRACE]]]<code>&#x5c;special</code> commands[[[RBRACE]]]

<p>
TeX provides the means to express things that device drivers can
do, but about which TeX itself knows nothing.  For example, TeX
itself knows nothing about how to include PostScript figures into
documents, or how to set the colour of printed text; but some device
drivers do.

<p>
Instructions for such things are introduced to your document by means
of <code>&#x5c;special</code> commands; all that TeX does with these commands is
to expand their 
arguments and then pass the command to the DVI file.  In most
cases, there are macro packages provided (often with the driver) that
provide a human-friendly interface to the <code>&#x5c;special</code>; for example,
there&rsquo;s little point including a figure if you leave no gap for it in
your text, and changing colour proves to be a particularly fraught
operation that requires real wizardry.  LaTeX 2e
has standard graphics and colour packages that make figure inclusion,
rotation and scaling, and colour typesetting relatively
straightforward, despite the rather daunting <code>&#x5c;special</code> commands
involved.  (CONTeXT provides similar support, though not by way of
packages.)

<p>
The allowable arguments of <code>&#x5c;special</code> depend on the device driver
you&rsquo;re using.  Apart from the examples above, there are <code>&#x5c;special</code>
commands in the emTeX drivers (e.g., <i class="progname">dvihplj</i>, <i class="progname">dviscr</i>,
<em>etc</em>.)&nbsp;that will draw lines at arbitrary orientations, and
commands in <i class="progname">dvitoln03</i> that permit the page to be set in
landscape orientation.

<p>
Note that <code>&#x5c;special</code> behaves rather differently in PDFTeX, since
there is no device driver around.  There <em>is</em> a concept of
PDF specials, but in most cases <code>&#x5c;special</code> will provoke a
warning when used in PDFTeX.

<p class="lastedit">This answer last edited: 2011-10-15</p>

<p>
[[[Question]]][Q-write][[[LBRACE]]]Writing (text) files from TeX[[[RBRACE]]]

<p>
TeX allows you to write to output files from within your document.
The facility is handy in many circumstances, but it is vital for
several of the things LaTeX (and indeed almost any higher-level
TeX-based macro package) does for you.

<p>
The basic uses of writing to an external file are &ldquo;obvious&rdquo;&nbsp;&mdash;
remembering titles of sections for a table of contents, remembering
label names and corresponding section or figure numbers, all for a
later run of your document.  However, the &ldquo;non-obvious&rdquo; thing is
easy to forget: that page numbers, in TeX, are slippery beasts, and
have to be captured with some care.  The trick is that <code>&#x5c;write</code>
operations are only executed as the page is sent to the DVI
or PDF file.  Thus, if you arrange that your page-number macro
(<code>&#x5c;thepage</code>, in LaTeX) is not expanded until the page is
written, then the number written is correct, since that time is where
TeX guarantees the page number tallies with the page being sent
out.

<p>
Now, there are times when you want to write something straight away:
for example, to interact with the user.  TeX captures that
requirement, too, with the primitive command <code>&#x5c;immediate</code>:
<blockquote>
<pre>
\immediate\write\terminal{I'm waiting...}
</pre>
</blockquote>
writes a &ldquo;computer-irritates-user&rdquo; message, to the terminal.

<p>
Which brings us to the reason for that <code>&#x5c;terminal</code>.  TeX can
&ldquo;<code>&#x5c;write</code>&rdquo; up to 16 streams simultaneously, and that argument to
<code>&#x5c;write</code> says which is to be used.  Macro packages provide the
means of allocating streams for your use: Plain TeX provides a macro
<code>&#x5c;newwrite</code> (used as &ldquo;<code>&#x5c;newwrite</code><code>&#x5c;streamname</code>&rdquo;, which sets
<code>&#x5c;streamname</code> as the stream number).  In fact, <code>&#x5c;terminal</code> (or
its equivalent) is the first output stream ever set up (in most macro
packages): it is never attached to a file, and if TeX is asked to
write to <em>any</em> stream that isn&rsquo;t attached to a file it will send
the output to the terminal (and the log).

<p class="lastedit">This answer last edited: 2011-10-15</p>

<p>
[[[Question]]][Q-spawnprog][[[LBRACE]]]Spawning programs from (La)TeX: <code>&#x5c;write18</code>[[[RBRACE]]]

<p>
The TeX <a href="FAQ-write.html"><code>&#x5c;write</code> primitive instruction</a> is used
to write to different file &lsquo;streams&rsquo;; TeX refers to each open file by
a number, not by a file name (although most of the time we hide this).
Originally, TeX would write to a file connected to a stream
numbered 0&ndash;15.  More recently, a special &ldquo;stream 18&rdquo; has been
implemented: it is not writing to a file, but rather tells TeX to ask
the operating system to do something.  To run a command, we put it as
the argument to <code>&#x5c;write18</code>.  So to run the <i class="progname">epstopdf</i>
utility on a file with name stored as <code>&#x5c;epsfilename</code>, we would
write:
<blockquote>
<pre>
\write18{epstopdf \epsfilename}
</pre>
</blockquote>
When using something like the <i class="package">epstopdf</i> package, the &lsquo;stream&rsquo;
write operation is hidden away and you don&rsquo;t need to worry about the
exact way it&rsquo;s done.

<p>
However, there is a security issue. If you download some (La)TeX code from
the Internet, can you be sure that there is not some command in it
(perhaps in a hidden way) to do stuff that might be harmful to your
computer (let&rsquo;s say: delete everything on the hard disk!)?  In the
face of this problem, both MiKTeX and TeX&nbsp;Live have, for some
time, disabled <code>&#x5c;write18</code> by default.  To turn the facility on,
both distributions support an additional argument when starting TeX
from the command shell:
<blockquote>
<pre>
(pdf)(la)tex --shell-escape <file>
</pre>
</blockquote>
The problem with this is that many people use (La)TeX via a graphical
editor, so to use <code>&#x5c;write18</code> for a file the editor&rsquo;s settings must
be changed.  Of course, the settings need restoring after the file is
processed: you defeat the point of the original protection, that way.

<p>
The latest MiKTeX (version 2.9), and recent TeX&nbsp;Live (from the
2010 release) get
around this by having a special &ldquo;limited&rdquo; version of <code>&#x5c;write18</code>
enabled &lsquo;out of the box&rsquo;.  The idea is to allow only a pre-set list of
commands (for example, BibTeX, <i class="progname">epstopdf</i>, TeX itself,
and so on).  Those on the list are regarded as safe enough to allow,
whereas anything else (for example deleting files) still needs to be
authorised by the user. This seems to be a good balance: most people
most of the time will not need to worry about <code>&#x5c;write18</code> at all,
but it will be available for things like <i class="package">epstopdf</i>.

<p>
Note that the TeX system may tell you that the mechanism is in use:

<blockquote>
<pre>
This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010)
 restricted \write18 enabled.
</pre>
</blockquote>



<pre>
This is pdfTeX, Version 3.1415926-1.40.11
                              (TeX Live 2010)
 restricted \write18 enabled.
</pre>


when it starts.
<dl>
<dt class="ctanref">epstopdf.sty</dt><dd>Distributed with Heiko Oberdiek&rsquo;s packages
  <a class="ctan" href="https://www.ctan.org/pkg/epstopdf-pkg">oberdiek</a>
</dl>

<p class="lastedit">This answer last edited: 2012-12-03</p>

<p>
[[[Question]]][Q-hyphen][[[LBRACE]]]How does hyphenation work in TeX?[[[RBRACE]]]

<p>
Everyone knows what hyphenation is: we see it in most books we read,
and (if we&rsquo;re alert) will spot occasional ridiculous mis-hyphenation
(at one time, British newspapers were a fertile source).

<p>
Hyphenation styles are culturally-determined, and the same language
may be hyphenated differently in different countries&nbsp;&mdash; for example,
British and American styles of hyphenation of English are very
different.  As a result, a typesetting system that is not restricted
to a single language at a single locale needs to be able to change its
hyphenation rules from time to time.

<p>
TeX uses a pretty good system for hyphenation (originally designed
by Frank Liang&nbsp;&mdash; you may view his 
<a href="http://tug.org/docs/liang/">Ph.D. thesis</a> online) and while
it&rsquo;s capable of missing &ldquo;sensible&rdquo; hyphenation points, it seldom
selects grossly wrong ones.  The
algorithm matches candidates for hyphenation against a set of
&ldquo;hyphenation patterns&rdquo;.  The candidates for hyphenation must be
sequences of letters (or other single characters that TeX may be
persuaded to think of as letters).  Non-letters interrupt hyphenation;
this applies to TeX&rsquo;s <code>&#x5c;accent</code> primitive (as in &lsquo;syst&egrave;me&rsquo;)
just as much as the exclamation in&lsquo;syst!eme&rsquo;.

<p>
(Hyphenation takes place on the characters &ldquo;sent to the printer&rdquo;.
The problem with <code>&#x5c;accent</code> is avoided&nbsp;&mdash;in LaTeX&nbsp;&mdash; by the use
of the <i class="package">fontenc</i> package, as discussed in 
&ldquo;<a href="FAQ-hyphenaccents.html">Accented words aren t hyphenated</a>&rdquo;.)

<p>
Sets of hyphenation patterns are usually derived from analysis of
a list of valid hyphenations (the process of derivation, using a tool
called <i class="package">patgen</i>, is not ordinarily a sport to be played by
ordinary mortals).

<p>
The patterns for the languages a TeX system is going to deal with
may only be loaded when the system is installed.  To change the set of
hyphenation patterns recognised by a TeX-based or XeTeX system,
a <a href="FAQ-newlang.html">partial reinstallation</a> is necessary (note that 
<a href="FAQ-luatex.html">LuaTeX</a> relaxes this constraint).

<p>
TeX provides two &ldquo;user-level&rdquo; commands for control of
hyphenation: <code>&#x5c;language</code> (which selects a hyphenation style), and
<code>&#x5c;hyphenation</code> (which gives explicit instructions to the hyphenation
engine, overriding the effect of the patterns).

<p>
The ordinary LaTeX user need not worry about <code>&#x5c;language</code>, since
it is very thoroughly managed by the <i class="package">babel</i> package; use of
<code>&#x5c;hyphenation</code> is discussed in

  the context of


<a class="FAquestion.html" href="FAQ-nohyph.html">hyphenation failure</a>.

<p class="lastedit">This answer last edited: 2012-12-03</p>

<p>
[[[Question]]][Q-clsvpkg][[[LBRACE]]]What are LaTeX classes and packages?[[[RBRACE]]]

<p>
LaTeX aims to be a general-purpose document processor.  Such an aim
could be achieved by a selection of instructions which would enable
users to use TeX primitives, but such a procedure is considered too
inflexible (and probably too daunting for ordinary users).  Thus the
designers of LaTeX created a model which offered an
<em>abstraction</em> of the design of documents.  Obviously, not all
documents can look the same (even with the defocussed eye of
abstraction), so the model uses <em>classes</em> of document.  Base
LaTeX offers five classes of document: <i class="class">book</i>,
<i class="class">report</i>, <i class="class">article</i> and <i class="class">letter</i>.
For each class, LaTeX provides a <em>class file</em>; the user
arranges to use it via a <code>&#x5c;documentclass</code> command at the top of the
document.  So a document starting
<blockquote>
  <code>&#x5c;documentclass</code><code>&#x7b;article&#x7d;</code>
</blockquote>
may be called &ldquo;an <em>article</em> document&rdquo;.

<p>
This is a good scheme, but it has a glaring flaw: the actual
typographical designs provided by the LaTeX class files aren&rsquo;t
widely liked.  The way around this is to <em>refine</em> the class.  To
refine a class, a programmer may write a new class file that loads an
existing class, and then does its own thing with the document design.

<p>
If the user finds such a refined class, all is well, but if not, the
common way is to load a <em>package</em> (or several).

<p>
The LaTeX distribution, itself, provides rather few package files,
but there are lots of them, by a wide variety of authors, to be found
on the archives.  Several packages are designed just to adjust the
design of a document&nbsp;&mdash; using such packages achieves what the
programmer might have achieved by refining the class.

<p>
Other packages provide new facilities: for example, the
<i class="package">graphics</i> package (actually provided as part of any LaTeX
distribution) allows the user to load externally-provided graphics
into a document, and the <i class="package">hyperref</i> package enables the user
to construct hyper-references within a document.

<p>
On disc, class and package files only appear different by virtue of
their name &ldquo;extension&rdquo;&nbsp;&mdash; class files are called <i class="filename">*.cls</i> while
package files are called <i class="filename">*.sty</i>.  Thus we find that the LaTeX
standard <i class="class">article</i> class is represented on disc by a file called
<i class="filename">article.cls</i>, while the <i class="package">hyperref</i> package is
represented on disc by a file called <i class="filename">hyperref.sty</i>.

<p>
The class vs.&nbsp;package distinction was not clear in LaTeX 2.09&nbsp;&mdash;
everything was called a style (&ldquo;document style&rdquo; or &ldquo;document style
option&rdquo;).  It doesn&rsquo;t really matter that the nomenclature has
changed: the important requirement is to understand what other people
are talking about.

<p class="lastedit">This answer last edited: 2013-10-21</p>

<p>
[[[Question]]][Q-whatenv][[[LBRACE]]]What are LaTeX &ldquo;environments&rdquo;[[[RBRACE]]]

<p>
While TeX makes direct provision for commands, LaTeX adds a
concept of &ldquo;environment&rdquo;; environments perform an action on a block
(of something or other) rather than than just doing something at one
place in your document.

<p>
A totally trivial environment could change the font in use for a chunk
of text, as
<blockquote>
<pre>
\newenvironment{monoblock}%
  {\ttfamily}%
  {}
</pre>
</blockquote>
which defines a <code class="environment">monoblock</code> which may be used as
<blockquote>
<pre>
\begin{monoblock}
  some text set in monospace
\end{monoblock}
</pre>
</blockquote>
which will look like:
<blockquote>
  <tt>some text set in monospace</tt>
</blockquote>
so it is a particularly simple example.  A rather complicated
environment is introduced by <code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>; it looks
simple, but needs all sorts of special TeX code to make it work
&lsquo;transparently&rsquo;; most environments are more elaborate than
<code class="environment">monoblock</code> and <em>much</em> simpler than
<code class="environment">document</code>.

<p>
An environment puts its content inside a TeX <em>group</em>, so that
commands used inside the environment don&rsquo;t &lsquo;leak out&rsquo;&nbsp;&mdash; the
<code class="environment">monoblock</code> environment, above, restricts its effect to
its own contents (the stuff between the <code>&#x5c;begin</code><code>&#x7b;monoblock&#x7d;</code>
and <code>&#x5c;end</code><code>&#x7b;monoblock&#x7d;</code>), which is just what you need for this
sort of thing.

<p>
So that&rsquo;s &ldquo;simple&rdquo; environments; the <code class="environment">monoblock</code>, above
doesn&rsquo;t actually gain us much over
<blockquote>
<pre>
{\ttfamily some text set in monospace}
</pre>
</blockquote>
though in fact many useful environments are just as simple (to look
at).  Some, such as <code class="environment">verbatim</code>, look simple but are
actually very tricky inside.

<p>
LaTeX also allows arguments to an environment:
<blockquote>
<pre>
\newenvironment{fontblock}[1]%
  {#1\selectfont}%
  {}
</pre>
</blockquote>
and use of <code class="environment">fontblock</code> as:
<blockquote>
<pre>
\begin{fontblock}{\ttfamily}
</pre>
</blockquote>
would produce the same effect as the <code class="environment">monoblock</code>
environment.

<p>
Environments may also have optional arguments, in much the same way as
commands:
<blockquote>
<pre>
\newenvironment{normaltext}[1][\itshape]%
  {#1}%
  {}
</pre>
</blockquote>
which will ordinarily set its body in italic, but
<blockquote>
<pre>
\begin{normaltext}[\ttfamily]
  ...
\end{normaltext}
</pre>
</blockquote>
will observe its optional argument, and behave the same as the
<code class="environment">monoblock</code> we started with.

<p>
Note that an environments argument(s) (mandatory or optional) are
<em>not</em> passed to the &lsquo;<code>&#x5c;end</code>&rsquo; text of the environment&nbsp;&mdash; that
is specified as a macro with no arguments, so that
<blockquote>
<pre>
\newenvironment{normaltext}[1][\itshape]%
  {#1}%
  {\typeout{what was #1, again?}
</pre>
</blockquote>
produces an error message
<blockquote>
<pre>
! Illegal parameter number in definition of \endnormaltext.
</pre>
</blockquote>
So, if you need to pass an environment argument to the end-code, you
have to wrap it in a macro of its own:
<blockquote>
<pre>
\newenvironment{normaltext}[1][Intro]%
  {#1%
   \newcommand{\foo}{#1}}%
  {\typeout{what was \foo{}, again?}
</pre>
</blockquote>

<p class="lastedit">This answer last edited: 2013-02-20</p>

<p>
[[[Question]]][Q-dtx][[[LBRACE]]]Documented LaTeX sources (<code class="extension">dtx</code> files)[[[RBRACE]]]

<p>
LaTeX 2e, and many contributed LaTeX macro packages, are written
in a <a href="FAQ-lit.html">literate programming style</a>, with source and
documentation in the
same file.  This format in fact originated before the
days of the LaTeX project as one of the &ldquo;Mainz&rdquo; series of
packages.  A documented source file conventionally has the suffix
<code class="extension">dtx</code>, and will normally be &lsquo;stripped&rsquo; before use with
LaTeX; an installation (<code class="extension">ins</code>) file is normally provided,
to automate this process of removing comments for speed of loading.
If the <code class="extension">ins</code> file is available, you may process <em>it</em>
with LaTeX to produce the package (and, often, auxiliary files).

<p>
Output should look something like:
<blockquote>
<pre>
Generating file(s) ./foo.sty 

Processing file foo.dtx (package) -> foo.sty
File foo.dtx ended by \endinput.
Lines  processed: 2336
Comments removed: 1336
Comments  passed: 2
Codelines passed: 972
</pre>
</blockquote>
The lines &ldquo;<tt>Processing &hellip; ended by <code>&#x5c;endinput</code></tt>&rdquo; may
be repeated if the <code class="extension">dtx</code> file provides more than one
&lsquo;unpacked&rsquo; file.

<p>
To read the comments &ldquo;as a document&rdquo;, you can run LaTeX on the
<code class="extension">dtx</code> file to produce a nicely formatted version of the
documented code.  (Most LaTeX packages on CTAN, nowadays, already
have PDF of the result of processing the <code class="extension">dtx</code> file,
as &ldquo;documentation&rdquo;.)

<p>
Several packages may be included in one <code class="extension">dtx</code> file, with
conditional sections, and there are facilities for indexes of macros,
etc.  All of this m&eacute;lange is sorted out by directives in the
<code class="extension">ins</code> file; conventional indexing utilities may be necessary
for &ldquo;full&rdquo; output.

<p>
Anyone may write <code class="extension">dtx</code> files; the format is explained in
<a href="FAQ-latex-books.html">The LaTeX Companion</a>, and a tutorial is available
from CTAN (which comes with skeleton <code class="extension">dtx</code> and
<code class="extension">ins</code> files).

<p>
Composition of <code class="extension">dtx</code> files is supported in <i class="progname">emacs</i> by
<a href="FAQ-editors.html">AUC-TeX</a>.

<p>
The (unix-based) script <i class="progname">dtxgen</i> generates a proforma basic
<code class="extension">dtx</code> file, which could be useful when starting a new
project.

<p>
Another route to an <code class="extension">dtx</code> file is to write the
documentation and the code separately, and then to combine them using
the <i class="progname">makedtx</i> system.  This technique has particular value in
that the documentation file can be used separately to generate
HTML output; it is often quite difficult to make 
<a href="FAQ-LaTeX2HTML.html">LaTeX to HTML conversion</a> tools deal
with <code class="extension">dtx</code> files, since they use an unusual class file.

<p>
The <i class="progname">sty2dtx</i> system goes one step further: it attempts to
create a <code class="extension">dtx</code> file from a &lsquo;normal&rsquo; <code class="extension">sty</code> file
with comments.  It works well, in some circumstances, but can become
confused by comments that aspire to &ldquo;structure&rdquo; (e.g., tabular
material, as in many older packages&rsquo; file headers).

<p>
The <code class="extension">dtx</code> files are not used by LaTeX after they have been
processed to produce <code class="extension">sty</code> or <code class="extension">cls</code> (or whatever)
files.  They need not be kept with the working system; however, for
many packages the <code class="extension">dtx</code> file is the primary source of
documentation, so you may want to keep <code class="extension">dtx</code> files elsewhere.

<p>
An interesting sideline to the story of <code class="extension">dtx</code> files is the
<i class="package">docmfp</i> package, which extends the model of the <i class="package">doc</i>
package to




  <a href="FAQ-MF.html">MetaFont</a> and <a href="FAQ-MP.html">MetaPost</a>,

thus permitting documented distribution of bundles containing code for
MetaFont and MetaPost together with related LaTeX code.
<dl>
<dt class="ctanref">AUC-TeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/auctex">auctex</a>
<dt class="ctanref">clsguide.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/clsguide">clsguide</a>
<dt class="ctanref">docmfp.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/docmfp">docmfp</a>
<dt class="ctanref">docstrip.tex</dt><dd>Part of the LaTeX distribution
<dt class="ctanref">DTX tutorial</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dtxtut">dtxtut</a>
<dt class="ctanref">dtxgen</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dtxgen">dtxgen</a>
<dt class="ctanref">makedtx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/makedtx">makedtx</a>
<dt class="ctanref">sty2dtx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sty2dtx">sty2dtx</a>
</dl>

<p class="lastedit">This answer last edited: 2014-06-03</p>

<p>
[[[Question]]][Q-whatenc][[[LBRACE]]]What are encodings?[[[RBRACE]]]

<p>
Let&rsquo;s start by defining two concepts, the <em>character</em> and the
<em>glyph</em>.
The character is the abstract idea of the &lsquo;atom&rsquo; of a
language or other dialogue: so it might be a letter in an alphabetic
language, a syllable in a syllabic language, or an ideogram in an
ideographic language.  The glyph is the mark created on screen or
paper which represents a character.  Of
course, if reading is to be possible, there must be some agreed
relationship between the glyph and the character, so while the precise
shape of the glyph can be affected by many other factors, such as the
capabilities of the writing medium and the designer&rsquo;s style, the
essence of the underlying character must be retained.

<p>
Whenever a computer has to represent characters, someone has to define
the relationship between a set of numbers and the characters they
represent.  This is the essence of an encoding: it is a mapping
between a set of numbers and a set of things to be represented.

<p>
TeX of course deals in encoded characters all the time: the
characters presented to it in its input are encoded, and it emits
encoded characters in its DVI or PDF output.  These
encodings have rather different properties.

<p>
The TeX input stream was pretty unruly back in the days when Knuth
first implemented the language.  Knuth himself prepared documents on
terminals that produced all sorts of odd characters, and as a result
TeX contains some provision for translating its input (however
encoded) to something regular.  Nowadays, 
the operating system translates keystrokes into a code appropriate for
the user&rsquo;s language: the encoding used is usually a national or
international standard, though some operating systems use &ldquo;code
pages&rdquo; (as defined by Microsoft).  These standards and code pages often
contain characters that may not appear in the TeX system&rsquo;s input
stream.  Somehow, these characters have to be dealt with&nbsp;&mdash; so
an input character like &ldquo;&eacute;&rdquo; needs to be interpreted by TeX in
a way that that at least mimics the way it interprets &ldquo;<code>&#x5c;&rsquo;</code><tt>e</tt>&rdquo;.  

<p>
The TeX output stream is in a somewhat different situation:
characters in it are to be used to select glyphs from the fonts to be
used.  Thus the encoding of the output stream is notionally a font
encoding (though the font in question may be a


<a class="FAquestion.html" href="FAQ-virtualfonts.html">virtual font</a>).  In principle, a
fair bit of what appears in the output stream could be direct
transcription of what arrived in the input, but the output stream
also contains the product of commands in the input, and translations
of the input such as ligatures like 
<tt>fi</tt>.

<p>
Font encodings became a hot topic when the
<a href="FAQ-ECfonts.html">Cork encoding</a>
appeared, because of the possibility of suppressing
<code>&#x5c;accent</code> commands in the output stream (and hence improving the
quality of the hyphenation of text in inflected languages, which is
interrupted by the <code>&#x5c;accent</code> commands&nbsp;&mdash; see

<a class="FAquestion.html" href="FAQ-hyphen.html">&ldquo;how does hyphenation work&rdquo;</a>).
To take advantage of the diacriticised characters represented in the
fonts, it is necessary to arrange that whenever the
command sequence &ldquo;<code>&#x5c;&rsquo;</code><tt>e</tt>&rdquo; has been input
(explicitly, or implicitly via the sort of mapping of input mentioned
above), the character that codes the position of the &ldquo;&eacute;&rdquo; glyph is
used.

<p>
Thus we could have the odd arrangement that the diacriticised character in
the TeX input stream is translated into TeX commands that would
generate something looking like the input character; this sequence of
TeX commands is then translated back again into a single
diacriticised glyph as the output is created.  This is in fact
precisely what the LaTeX packages <i class="package">inputenc</i> and
<i class="package">fontenc</i> do, if operated in tandem on (most) characters in
the ISO&nbsp;Latin-1 input encoding and the T1 font encoding.
At first sight, it seems eccentric to have the first package do a thing, and
the second precisely undo it, but it doesn&rsquo;t always happen that way:
most font encodings can&rsquo;t match the corresponding input encoding
nearly so well, and the two packages provide the sort of symmetry the
LaTeX system needs.

<p>
[[[Question]]][Q-ECfonts][[[LBRACE]]]What are the EC fonts?[[[RBRACE]]]

<p>
A font provides a number of <em>glyphs</em>. In order that the glyphs
may be printed, they are <a href="FAQ-whatenc.html"><em>encoded</em></a>, and the
encoding is used as an index into tables within the font.  For various
reasons, Knuth chose deeply eccentric encodings for his Computer
Modern family of fonts; in particular, he chose different encodings
for different fonts, so that the application using the fonts has to
remember which font of the family it&rsquo;s using before selecting a
particular glyph.

<p>
When TeX version 3 arrived, most of the drivers for the
eccentricity of Knuth&rsquo;s encodings went away, and at TUG&rsquo;s Cork
meeting, an encoding for a set of 256 glyphs, for use in TeX text,
was defined.  The intention was that these glyphs should cover &lsquo;most&rsquo;
European languages that use Latin alphabets, in the sense of including
all accented letters needed.  (Knuth&rsquo;s CMR fonts missed things
necessary for Icelandic and Polish, for example, which the Cork fonts
do have, though even Cork encoding&rsquo;s coverage isn&rsquo;t complete.)
LaTeX refers to the Cork encoding as T1, and provides the
means to use fonts thus encoded to avoid problems with the interaction
of accents and hyphenation 
(see <a class="FAquestion.html" href="FAQ-hyphenaccents.html">hyphenation of accented words</a>).

<p>
The first MetaFont-fonts to conform to the Cork encoding were the EC
fonts. They look CM-like, though their metrics differ from CM-font
metrics in several areas.  They have long been regarded as &lsquo;stable&rsquo; (in
the same sense that the CM fonts are stable: their metrics are
unlikely ever to change).  Each EC font is, of course, roughly twice the
size of the corresponding CM font, and there are far more of them than
there are CM fonts.  The simple number of fonts proved problematic in
the production of Type&nbsp;1 versions of the fonts, but EC or
EC-equivalent fonts in Type&nbsp;1 or TrueType form (the latter only from

  <a href="FAQ-commercial.html">commercial suppliers</a>).





Free <a href="FAQ-textrace.html">auto-traced versions</a>&nbsp;&mdash; the CM-super and
the LGC fonts, and the Latin Modern series (rather directly generated
from Metafont sources), are available.

<p>
Note that the Cork encoding doesn&rsquo;t cover mathematics (so that no
&ldquo;T1-encoded&rdquo; font families can not support it).  If you&rsquo;re using
Computer-Modern-alike fonts, this doesn&rsquo;t actually matter: your system
will have the original Computer Modern mathematical fonts (or the
those distributed with the Latin Modern set), which cover &lsquo;basic&rsquo; TeX
mathematics; more advanced mathematics are likely to need separate
fonts anyway.  Suitable mathematics fonts for use with other font
families are discussed in 
&ldquo;<a href="FAQ-psfchoice.html">choice of scalable fonts</a>&rdquo;.

<p>
The EC fonts are distributed with a set of &lsquo;Text Companion&rsquo; (TC) fonts
that provide glyphs for symbols commonly used in text. The TC fonts
are encoded according to the LaTeX TS1 encoding, and are not
necessarily as &lsquo;stable&rsquo; are the EC fonts are.  Note that modern
distributions tend not to distribute the EC fonts in outline format, but
rather to provide Latin Modern for T1-encoded Computer Modern-style
fonts.  This can sometimes cause confusion when users are recompiling
old documents.

<p>
The Cork encoding is also implemented by virtual fonts provided in the
PSNFSS system, for Adobe Type 1 fonts, and also by most other such
fonts that have been developed (or otherwise made available) for use
with (La)TeX. 

<p>
Note that T1 (and other eight-bit font encodings) are superseded in
the developing TeX-family members <a href="FAQ-xetex.html">XeTeX</a> and
<a href="FAQ-luatex.html">LuaTeX</a>, which use Unicode as their base encoding,
and use Unicode-encoded fonts (typically in <code class="fontformat">ttf</code> or
<code class="fontformat">otf</code> formats).  The <i class="package">cm-unicode</i> fonts carry the
flag in this arena, along with the Latin Modern set.
<dl>
<dt class="ctanref">CM-super fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a>
<dt class="ctanref">CM-LGC fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-lgc">cm-lgc</a>
<dt class="ctanref">CM unicode fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-unicode">cm-unicode</a>
<dt class="ctanref">EC and TC fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ec">ec</a>
<dt class="ctanref">Latin Modern fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
</dl>

<p>
[[[Question]]][Q-unicode][[[LBRACE]]]Unicode and TeX[[[RBRACE]]]

<p>
Unicode is a character code scheme that has the capacity to express
the text of the languages of the world, as well as important symbols
(including mathematics).  Any coding scheme that is directly
applicable to TeX may be expressed in single bytes (expressing up
to 256 characters); Unicode characters may require several bytes, and
the scheme may express a very large number of characters.

<p>
For &ldquo;old-style&rdquo; applications (TeX or PDFTeX) to deal with
Unicode input, the sequence of bytes to make up Unicode character are
processed by a set of macros that deliver a glyph number in an
appropriate font.  The macros that read these bytes is complicated,
and manifests as <code class="pkgoption">utf8</code> option for the LaTeX distribution
<i class="package">inputenc</i> package; the coverage of that option is limited to
Unicode characters that can be represented using &ldquo;LaTeX standard
encodings&rdquo;.  The separate package <i class="package">ucs</i> provides wider, but
less robust, coverage via an <i class="package">inputenc</i> option
<code class="pkgoption">utf8x</code>.  As a general rule, you should never use
<code class="pkgoption">utf8x</code> until you have convinced yourself that
<code class="pkgoption">utf8</code> can not do the job for you.

<p>
&lsquo;Modern&rsquo; TeX-alike applications, <a href="FAQ-xetex.html">XeTeX</a> and
<a href="FAQ-luatex.html">LuaTeX</a> read their input using UTF-8
representations of Unicode as standard.  They also use TrueType or
OpenType fonts for output; each such font has tables that tell the
application which part(s) of the Unicode space it covers; the tables
enable the engines to decide which font to use for which character
(assuming there is any choice at all).
<dl>
<dt class="ctanref">inputenc.sty</dt><dd>Part of the <a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a> distribution
<dt class="ctanref">ucs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ucs">ucs</a>
</dl>

<p class="lastedit">This answer last edited: 2012-04-20</p>

<p>
[[[Question]]][Q-tds][[[LBRACE]]]What is the TDS?[[[RBRACE]]]

<p>
TDS is an acronym for &ldquo;TeX Directory Structure&rdquo;; it
specifies a standard way of organising all the TeX-related files on
a computer system.

<p>
Most modern distributions arrange their TeX files in conformance
with the TDS, using both a &lsquo;distribution&rsquo; directory tree and a
(set of) &lsquo;local&rsquo; directory trees, each containing TeX-related
files.  The TDS recommends the name <tt>texmf</tt> for the name
of the root directory (folder) of an hierarchy; in practice there are
typically several such trees, each of which has a name that compounds
that (e.g., <tt>texmf-dist</tt>, <tt>texmf-var</tt>).

<p>
Files supplied as part of the distribution are put into the
distribution&rsquo;s tree, but the location of the distribution&rsquo;s hierarchy is
system dependent.  (On a Unix system it might be at
<tt class="path">/usr/share/texmf</tt> or <tt class="path">/opt/texmf</tt>, or a similar location.)

<p>
There may be more than one &lsquo;local&rsquo; hierarchy in which additional files
can be stored.  An installation will also typically offer a local
hierarchy, while each user may have an individual local hierarchy.

<p>
The TDS itself is published as the output of a TUG 
<a href="FAQ-TUG*.html">Technical Working Group</a>.  You may browse an
<a href="http://tug.org/tds/">on-line version</a> of the standard, and
copies in several other formats (including source) are available on
CTAN.
<dl>
<dt class="ctanref">TDS specification</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tds">tds</a>
</dl>

<p>
[[[Question]]][Q-eps][[[LBRACE]]]What is &ldquo;Encapsulated PostScript&rdquo; (&ldquo;EPS&rdquo;)?[[[RBRACE]]]

<p>
PostScript has been for many years a <em>lingua franca</em> of powerful
printers (though modern high-quality printers now tend to require some
constrained form of Adobe Acrobat, instead); since PostScript is also a
powerful graphical programming language, it is commonly used as an
output medium for drawing (and other) packages.

<p>
However, since PostScript <em>is</em> such a powerful language, some
rules need to be imposed, so that the output drawing may be included
in a document as a figure without &ldquo;leaking&rdquo; (and thereby destroying
the surrounding document, or failing to draw at all).

<p>
Appendix H of the PostScript Language Reference Manual (second
and subsequent editions), specifies a set of rules for PostScript to
be used as figures in this way.  The important features are:
<ul>
<li> certain &ldquo;structured comments&rdquo; are required; important ones are
  the identification of the file type, and information about the
  &ldquo;bounding box&rdquo; of the figure (i.e., the minimum rectangle
  enclosing it);
<li> some commands are forbidden&nbsp;&mdash; for example, a <tt>showpage</tt>
  command will cause the image to disappear, in most TeX-output
  environments; and
<li> &ldquo;preview information&rdquo; is permitted, for the benefit of things
  such as word processors that don&rsquo;t have the ability to draw
  PostScript in their own right&nbsp;&mdash; this preview information may be in
  any one of a number of system-specific formats, and any viewing
  program may choose to ignore it.
</ul>
A PostScript figure that conforms to these rules is said to be in
&ldquo;Encapsulated PostScript&rdquo; (EPS) format.  Most (La)TeX packages for
including PostScript are structured to use Encapsulated PostScript;
which of course leads to much hilarity as exasperated (La)TeX users
struggle to cope with the output of drawing software whose authors
don&rsquo;t know the rules.

<p>
[[[Question]]][Q-adobetypen][[[LBRACE]]]Adobe font formats[[[RBRACE]]]
<!-- type1 type3 -->

<p>
Adobe has specified a number of formats for files to represent fonts
in PostScript files; this question doesn&rsquo;t attempt to be encyclopaedic, so
we only discuss the two formats most commonly encountered in the
(La)TeX context, types&nbsp;1 and 3.  In particular, we don&rsquo;t discuss the
OpenType format, whose many advantages now becoming accessible to most
(La)TeX users (by means of

  the widely-used <a href="FAQ-xetex.html">XeTeX</a> and the more experimental
  <a href="FAQ-luatex.html">LuaTeX</a>).






<p>
Adobe Type&nbsp;1 format specifies a means to represent outlines of the glyphs
in a font.  The &lsquo;language&rsquo; used is closely restricted, to ensure that
the font is rendered as quickly as possible.  (Or rather, as quickly
as possible with Adobe&rsquo;s technology at the time the specification was
written: the structure could well be different if it were specified
now.)  The format has long been the basis of the digital type-foundry
business, though nowadays most new fonts are released in OpenType format.

<p>





<p>
In the (La)TeX context, Type&nbsp;1 fonts are extremely important.  Apart
from their simple 
availability (there are thousands of commercial Type&nbsp;1 text fonts around), the
commonest reader for PDF files has long (in effect) <em>insisted</em> on
their use (see below).

<p>
Type&nbsp;3 fonts have a more forgiving specification.  A wide range of
PostScript operators is permissible, including bitmap specifiers.  Type&nbsp;3
is therefore the natural format to be used for programs such as
<i class="progname">dvips</i> when they auto-generate something to represent
MetaFont-generated fonts in a PostScript file.  It&rsquo;s Adobe Acrobat Viewer&rsquo;s
treatment of bitmap Type&nbsp;3 fonts that has made direct MetaFont output
increasingly unattractive, in recent years.  If you have a PDF
document in which the text looks fuzzy and uneven in Acrobat Reader,
ask Reader for the <tt>File</tt>&rarr;
<tt>Document Properties</tt>&rarr;
<tt>Fonts ...</tt>, and it will likely show some font or other as
&ldquo;Type&nbsp;3&rdquo; (usually with encoding &ldquo;Custom&rdquo;).  The problem has
disappeared with version 6 of Acrobat Reader.  See 
<a class="FAquestion.html" href="FAQ-dvips-pdf.html">PDF quality</a> for a discussion of
the issue, and for ways of addressing it.

<p>
Type&nbsp;3 fonts should not entirely be dismissed, however.  Acrobat
Reader&rsquo;s failure with them is entirely derived from its failure to use
the anti-aliasing techniques common in TeX-ware.  Choose a
different set of PostScript graphical operators, and you can make pleasing
Type&nbsp;3 fonts that don&rsquo;t &ldquo;annoy&rdquo; Reader.  For example, you may not
change colour within a Type&nbsp;1 font glyph, but there&rsquo;s no such
restriction on a Type&nbsp;3 font, which opens opportunities for some
startling effects.

<p>
[[[Question]]][Q-resolns][[[LBRACE]]]What are &ldquo;resolutions&rdquo;?[[[RBRACE]]]

<p>
&ldquo;Resolution&rdquo; is a word that is used with little concern for its
multiple meanings, in computer equipment marketing.  The word suggests
a measure of what an observer (perhaps the human eye) can resolve; yet
we regularly see advertisements for printers whose resolution is
1200dpi&nbsp;&mdash; far finer than the unaided human eye can distinguish.  The
advertisements are talking about the precision with which the printer
can place spots on the printed image, which affects the fineness of
the representation of fonts, and the accuracy of the placement of
glyphs and other marks on the page.

<p>
In fact, there are two sorts of &ldquo;resolution&rdquo; on the printed page
that we need to consider for (La)TeX&rsquo;s purposes:
<ul>
<li> the positioning accuracy, and
<li> the quality of the fonts.
</ul>
In the case where (La)TeX output is being sent direct to a printer,
in the printer&rsquo;s &ldquo;native&rdquo; language, it&rsquo;s plain that the DVI
processor must know all such details, and must take detailed account
of both types of resolution.

<p>
In the case where output is being sent to an intermediate distribution
format, that has potential for printing (or displaying) we know not
where, the final translator, that connects to directly to the printer
or display, has the knowledge of the device&rsquo;s properties: the
DVI processor need not know, and should not presume to guess.

<p>
Both PostScript and PDF output are in this category.  While PostScript is
used less frequently for document distribution nowadays, it is
regularly used as the source for distillation into PDF; and
PDF is the workhorse of an enormous explosion of document
distribution.

<p>
Therefore, we need DVI processors that will produce
&ldquo;resolution independent&rdquo; PostScript or PDF output; of course, the
independence needs to extend to both forms of independence outlined
above.

<p>
Resolution-independence of fonts was for a  long time forced upon the
world by the feebleness of Adobe&rsquo;s <i class="progname">Acrobat</i>
<i class="progname">Reader</i> at dealing with bitmap files: a sequence of answers
starting with one aiming at the 
<a href="FAQ-dvips-pdf.html">quality of PDF from PostScript</a> addresses
the problems that arise.

<p>
Resolution-independence of positioning is more troublesome:
<i class="progname">dvips</i> is somewhat notorious for insisting on positioning to
the accuracy of the declared resolution of the printer.
One commonly-used approach is to declare a resolution of 8000 (&ldquo;better
than any device&rdquo;), and this is reasonably successful though it does
have its <a href="FAQ-8000.html">problems</a>.

<p>
[[[Question]]][Q-fontname][[[LBRACE]]]What is the &ldquo;Berry naming scheme&rdquo;?[[[RBRACE]]]

<p>
In the olden days, (La)TeX distributions were limited by the
feebleness of file systems&rsquo; ability to represent long names.  (The
MSDOS file system was a particular bugbear: fortunately any current
Microsoft system allows rather more freedom to specify file names.
Sadly, the ISO&nbsp;9660 standard for the structure of CD-ROMs has a
similar failing, but that too has been modified by various extension
mechanisms.)

<p>
One area in which these short file names posed a particular problem
was that of file names for Type&nbsp;1 fonts.
These fonts are distributed by their vendors with
pretty meaningless short names, and there&rsquo;s a natural ambition to
change the name to something that identifies the font somewhat
precisely.  Unfortunately, names such as &ldquo;BaskervilleMT&rdquo; are
already far beyond the abilities of the typical feeble file system,
and add the specifier of a font shape or variant, and the difficulties
spiral out of control.  Font companies deal with the issue by
inventing silly names, and providing a map file to show what the
&ldquo;real&rdquo; names.  Thus the Monotype Corporation provides the
translations:
<blockquote>
  <tt>bas\_\_\_\_\_ BaskervilleMT</tt><br>
  <tt>basb\_\_\_\_ BaskervilleMT-Bold</tt><br>
  <tt>basbi\_\_\_ BaskervilleMT-BoldItalic</tt>
</blockquote>
and so on.  These names could be used within (La)TeX programs,
except that they are not unique: there&rsquo;s nothing to stop Adobe using
&lsquo;<tt>bas\_\_\_\_\_</tt>&rsquo; for <em>their</em> Baskerville font.

<p>
Thus arose the Berry naming scheme.

<p>
The basis of the scheme is to encode the meanings of the various parts
of the file&rsquo;s specification in an extremely terse way, so that enough
font names can be expressed even in impoverished file name-spaces.  The
encoding allocates one character to the font &ldquo;foundry&rdquo; (Adobe, Monotype,
and so on), two to the typeface name (Baskerville, Times Roman, and so
on), one to the weight, shape, and encoding and so on.  

<p>
The whole scheme is outlined in the <i class="package">fontname</i> distribution,
which includes extensive documentation and a set of tables of fonts
whose names have been systematised.
<dl>
<dt class="ctanref">fontname distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontname">fontname</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-archives][[[LBRACE]]]Repositories of TeX material[[[RBRACE]]]

<p>
To aid the archiving and retrieval of of TeX-related files, a
TUG working group developed the Comprehensive TeX Archive
Network (CTAN).  Each CTAN site has identical material,
and maintains authoritative versions of its material.  These
collections are extensive; in particular, almost everything mentioned
in this FAQ
is archived at the CTAN sites (see the lists of software at the
end of each answer).

<p>
There are two main CTAN sites (in Germany and the UK),
but users should ordinarily collect material via the 
<a href="http://mirror.ctan.org/">CTAN mirror redirector</a>
(which connects you to a mirror that is in some sense &ldquo;near&rdquo; to
you).

<p>
To access a particular thing through the <tt>mirror.ctan.org</tt>
mechanism, simply place the CTAN path after the base
URL; so
<a href="http://mirror.ctan.org/macros/latex/contrib/footmisc/">http://mirror.ctan.org/macros/latex/contrib/footmisc/</a> will
connect you to the <i class="package">footmisc</i> directory at some CTAN
mirror.

<p>
For details of how to find files at CTAN sites, see
&ldquo;<a href="FAQ-findfiles.html">finding (La)TeX files</a>&rdquo;.

<p>
The TeX user who has no access to any sort of
network may buy a copy of the archive as part of the
<a href="FAQ-CD.html">texlive distribution</a>; the disc is, necessarily, out
of date, but it is likely to be better than what (if anything) came
with your operating system.

<p class="lastedit">This answer last edited: 2012-12-14</p>

<p>
[[[Question]]][Q-tds-zip][[[LBRACE]]]Ready-built installation files on the archive[[[RBRACE]]]

<p>
The <a href="FAQ-tds.html">TDS</a> is a simple structure, and almost all
files can be installed simply by putting them in the &ldquo;right&rdquo; place,
and updating a single index.  (Note, this simple idea typically
doesn&rsquo;t work for fonts, unless they&rsquo;re distributed as MetaFont source.)

<p>
The CTAN network is therefore acquiring &ldquo;TDS-ZIP&rdquo; files,
which have a built-in directory structure that matches the TDS.
These files have to be built, and the CTAN team has asked that
package authors supply them (the team will advise, of course, if the
author has trouble).  The CTAN team hopes that the extra work
involved will contribute to happier lives for package users, which in
turn must surely help keep the TeX community lively and active.

<p>
At the time of writing, there are rather few <code class="extension">tds.zip</code>
files (by comparison with the huge number of packages that are
available).  As packages are updated, the number of files is
steadily increasing, but it will be a long time before the whole set
is covered.

<p>
Use of the files is discussed in 
&ldquo;<a href="FAQ-inst-tds-zip.html">installing using ready-built ZIP files</a>&rdquo;.

<p>
[[[Question]]][Q-nonfree][[[LBRACE]]]What was the CTAN <tt>nonfree</tt> tree?[[[RBRACE]]]

<p>
When CTAN was founded, in the 1990s, it was unusual to publish
the terms under which a TeX-related package was distributed (or, at
any rate, to publish those terms formally).

<p>
With the advent of the TeX <em>distributions</em>, however, people
started to realise the need for such information, to protect those who
create, distribute or sell the discs that hold the packages, etc.
With the licence information available, the distributors can decide
which packages may be distributed.

<p>
The CTAN team decided that it would be useful for users (and
distributors, not to say package authors) to separate packages that
were candidates for distribution, and those that were in some sense
&ldquo;not free&rdquo;.  Thus was the <tt>nonfree</tt> tree born.

<p>
From the start, the <tt>nonfree</tt> tree was controversial: the terms
under which a package would be placed on the tree were hotly
contested, and the CTAN team were only able slowly to populate
the tree.  It became obvious to the team that the project would never
have been completed.

<p>
The CTAN catalogue now records the nature of the licences of a
good proportion of the packages it describes (though there remain
several for which the licence is unknown, which is as good, for the
distributors, as a licence forbidding distribution).  Since the
catalogue&rsquo;s coverage of CTAN is good (and slowly improving),
the general rule for distributors has become
<blockquote>
&ldquo;if the package is listed in the catalogue, check there to see
whether you should distribute; if the package is not listed in the
catalogue, don&rsquo;t think of distributing it&rdquo;.
</blockquote>
(The catalogue only has a modest 
<a href="http://www.ctan.org/license/">list of licences</a>, but it covers the set used
by packages on CTAN, with a wild-card &ldquo;<tt>other-free</tt>&rdquo;
which covers packages that the CTAN administrators believe to
be free even though the authors haven&rsquo;t used a standard licence.)

<p>
There is a corollary to the &lsquo;general rule&rsquo;: if you notice something
that ought to be in the distributions, for which there is no catalogue
entry, please let the CTAN team (<a href="mailto:ctan@dante.de">ctan@dante.de</a>) know.
It may well be that the package has simply been missed, but some aren&rsquo;t
catalogued because there&rsquo;s no documentation and the team just doesn&rsquo;t
understand the package.

<p>
In the light of the above, the <tt>nonfree</tt> tree is being
dismantled, and its contents moved (or moved <em>back</em>) to the main
CTAN tree.  So the answer to the question is, now, &ldquo;the
nonfree tree was a part of CTAN, whose contents are now in
the main tree&rdquo;.

<p>
[[[Question]]][Q-uploads][[[LBRACE]]]Contributing a file to the archives[[[RBRACE]]]

<p>
You have something to submit to the archive&nbsp;&mdash; good news!

<p>
Before we even start, here&rsquo;s a check-list of things to sort out:
<ol>
<li> Licence: in the spirit of TeX, we hope for free software; in
  the spirit of today&rsquo;s lawyer-enthralled society, CTAN
  provides a 
  <a href="http://mirror.ctan.org/help/Catalogue/licenses.html">list of &ldquo;standard&rdquo; licence statements</a>.
  Make sure that there&rsquo;s a formal statement of the licence of your
  package, somewhere in the files you upload; beyond the CTAN
  installation, your package is a candidate for inclusion in (La)TeX
  distributions&nbsp;&hellip; and thereafter, also in operating system
  distributions&nbsp;&hellip; and the people who bundle all these things up
  need a clear statement of your intent. 
<li> Documentation: it&rsquo;s good for users to be able to browse
  documentation before downloading a package.  You need at least a
  plain text <i class="filename">README</i> file (possible names are
  &ldquo;README&rdquo;, &ldquo;README.txt&rdquo;, and &ldquo;README.md&rdquo;, but no other variants);
  in addition a
  PDF file of the package documentation, prepared for screen
  reading, is highly desirable.
<li> Name: endless confusion is caused by name clashes.  If your
  package has the same name as one already on CTAN, or if your
  package installation generates files of the same name as something
  in a &ldquo;normal&rdquo; distribution, the CTAN team will delay
  installation while they check that you&rsquo;re doing the right thing:
  they may nag you to change the name, or to negotiate a take-over
  with the author of the original package. 
  <a href="FAQ-findfiles.html">Browse the archive</a> to ensure uniqueness.

<p>
  The name you choose should also (as far as possible) be somewhat
  descriptive of what your submission actually <em>does</em>; while
  &ldquo;descriptiveness&rdquo; is to some extent in the eye of the beholder,
  it&rsquo;s clear that names such as <i class="filename">mypackage</i> or <i class="filename">jiffy</i>
  aren&rsquo;t suitable.
</ol>
You upload via the




  <a href="http://www.ctan.org/upload">CTAN upload redirector</a>

(the archive&rsquo;s main page has a link).  The upload page shows what it
needs to know, and allows you to enter the information.  The mechanism
can only accept one file per upload: if you had intended to upload
lots of files, you need to bundle them into an &lsquo;archive&rsquo; file of some
sort; acceptable formats are <code class="extension">zip</code> and <code class="extension">tar.gz</code>
(most uploads are packed in <code class="extension">zip</code> format).  Once you have
completed your upload, the redirector assigns it to a member of the
team for processing.

<p>
If you can&rsquo;t use this method, or if you find something confusing, ask
advice of the




  <a href="mailto:ctan@dante.de">CTAN management team</a>


<p>
If your package is large, or regularly updated, it may be appropriate
to &lsquo;mirror&rsquo; your contribution direct into CTAN.
Mirroring is only practical using <tt>ftp</tt> or <tt>rsync</tt>, so
this facility is limited to packages offered by a server that uses one
of those protocols.
<dl>
<dt class="ctanref">README.uploads</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/CTAN-uploads">CTAN-uploads</a>
</dl>

<p class="lastedit">This answer last edited: 2013-01-31</p>

<p>
[[[Question]]][Q-findfiles][[[LBRACE]]]Finding (La)TeX files[[[RBRACE]]]

<p>
Modern TeX distributions contain a huge array of various sorts of
files, but sooner or later most people need to find something that&rsquo;s
not in their present system (if nothing else, because they&rsquo;ve heard
that something has been updated).

<p>
But how to find the files?

<p>
Modern distributions (texlive and MiKTeX, at least) provide the
means to update your system &ldquo;over the net&rdquo;.  This is the minimum
effort route to getting a new file: &lsquo;simply&rsquo; find which of the
distribution&rsquo;s &lsquo;packages&rsquo; holds the file in question, and ask the
distribution to update itself.  The mechanisms are different (the two
distributions exhibit the signs of evolutionary divergence in their
different niches), but neither is difficult&nbsp;&mdash; see 
&ldquo;<a href="FAQ-inst-miktex*.html">using MiKTeX for installing</a>&rdquo; and 
&ldquo;<a href="FAQ-inst-texlive.html">using texlive for installing</a>&rdquo;.

<p>
There are packages, though, that aren&rsquo;t in the distribution you use
(or for which the distribution hasn&rsquo;t yet been updated to offer the
version you need).

<p>
Some sources, such as these FAQ answers, provide links to
files: so if you&rsquo;ve learnt about a package here, you should be able to
retrieve it without too much fuss.

<p>
Otherwise, CTAN provides a full-text search, at its
<a href="http://www.ctan.org/">&lsquo;central database&rsquo;</a> site, as well as
topic- and author-based indexes and a link to browse the archive
itself.

<p>





<p>




<p>
An alternative way to scan the catalogue is to use the catalogue&rsquo;s

<a href="http://mirrors.ctan.org/help/Catalogue/bytopic.html">&ldquo;by topic&rdquo; index</a>;
this is an older mechanism than the topic-based search (above), but is
well presented (even though its data has not been updated for some time).  

<p>
In fact, <i class="progname">Google</i>, and other search engines, can be useful
tools.  Enter your search keywords, and you may pick up a package that
the author hasn&rsquo;t bothered to submit to CTAN.

<p>
A user of <i class="progname">Google</i> can restrict the search to
CTAN by entering
<blockquote>
  <tt>site:ctan.org tex-archive &lsaquo;<i>search term(s)</i>&rsaquo;</tt>
</blockquote>
in <i class="progname">Google</i>&rsquo;s &ldquo;search box&rdquo;.  You can also enforce the
restriction using <i class="progname">Google</i>&rsquo;s &ldquo;advanced search&rdquo; mechanism;
other search engines (presumably) have similar facilities.

<p>
Many people avoid the need to go over the network at all, for their
searches, by downloading the file list that the archives&rsquo; web
file searches use.  This file, <i class="filename">FILES.byname</i>,
presents a unified listing of the archive (omitting directory names and
cross-links).  Its companion <i class="filename">FILES.last07days</i> is also useful, to
keep an eye on the changes on the archive.  Since these files are
updated only once a day, a nightly automatic download (using
<i class="progname">rsync</i>) makes good sense.
<dl>
<dt class="ctanref">FILES.byname</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/f-byname">f-byname</a>
<dt class="ctanref">FILES.last07days</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/f-last7">f-last7</a>

<p class="lastedit">This answer last edited: 2014-03-19</p>
</dl>

<p>
[[[Question]]][Q-findfont][[[LBRACE]]]Finding new fonts[[[RBRACE]]]

<p>
Nowadays, new fonts are seldom developed by industrious people using
MetaFont, but if such do appear, they will nowadays be distributed in
the same way as any other part of (La)TeX collections.  (An
historical review of Metafont fonts available is held on CTAN
as &ldquo;MetaFont font list&rdquo;.)

<p>
Nowadays, most new fonts that appear are only available in some
scalable outline form, and a large proportion is distributed under
commercial terms.  Such fonts will only make their way to the free
distributions (at least texlive and MiKTeX) if their licensing
is such that the distributions can accept them.  Commercial fonts
(those you have to pay for) do not get to distributions, though
support for some of them is held by CTAN.

<p>
Arranging for a new font to be usable by (La)TeX is very different,
depending on which type of font it is, and which TeX-alike engine
you are using; roughly speaking:
<ul>
<li> MetaFont fonts will work without much fuss (provided their
  sources are in the correct place in the installation&rsquo;s tree);
  TeX-with-<i class="progname">dvips</i>, and PDFTeX are &ldquo;happy&rdquo; with them.
  While a new font will need &lsquo;generating&rsquo; (by running MetaFont, etc.),
  distributions are set up to do that &ldquo;on the fly&rdquo; and to save the
  results (for next time).
<li> Adobe Type 1 fonts can be made to work, after <code class="extension">tfm</code>
  and (usually) <code class="extension">vf</code> files have been created from their
  metric (<code class="extension">afm</code>) files; <code class="extension">map</code> files also need to
  be created.  Such fonts will work with PDFTeX, and with the
  (&lsquo;vanilla&rsquo;)(La)TeX and <i class="progname">dvips</i> combination.
<li> TrueType fonts can be made to work with PDFTeX&nbsp;&mdash; see

<a href="http://www.radamir.com/tex/ttf-tex.htm">Using TrueType fonts with TeX&hellip;</a>
  (a rather dated document, dicsussing use with MiKTeX&nbsp;1.11).
<li> TrueType and OpenType fonts are the usual sort used by XeTeX
  and LuaTeX; while straightforward use is pretty easy, one is
  well-advised to use a package such as <i class="package">fontspec</i> to gain
  access to the full range of a font&rsquo;s capabilities.
</ul>

<p>
The answer &ldquo;<a href="FAQ-psfchoice.html">choice of scalable fonts</a>&rdquo; discusses
fonts that are configured for general (both textual and mathematical)
use with (La)TeX.  The list of such fonts is sufficiently short that
they <em>can</em> all be discussed in one answer.
<dl>
<dt class="ctanref">fontspec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontspec">fontspec</a>
<dt class="ctanref">MetaFont font list</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mf-list">mf-list</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-21</p>

<p>
[[[Question]]][Q-CD][[[LBRACE]]]The TeX collection[[[RBRACE]]]

<p>
If you don&rsquo;t have access to the Internet, there are obvious
attractions to TeX collections on a disc.  Even those with net
access will find large quantities of TeX-related files to hand a
great convenience.

<p>
The TeX collection provides this, together with
ready-to-run TeX systems for various architectures.  The collection
is distributed on DVD, and contains:
<ul>
<li> The texlive distribution, including the programs themselves
  compiled for a variety of architectures; texlive may be
  run from the DVD or installed on hard disc.
<li> MacTeX: an easy to install TeX system for MacOS/X, based
  on texlive; this distribution includes a native Mac installer,
  
  <a href="http://www.uoregon.edu/~koch/texshop/">the TeXShop front-end</a>
  and other Mac-specific tools;
<li> ProTeXt: an easy to install TeX system for Windows, based
  on MiKTeX, based on an &lsquo;active&rsquo; document that guides
  installation; and
<li> A snapshot of CTAN.
</ul>
A fair number of national TeX User Groups, as well as TUG,
distribute copies to their members at no extra charge.  Some user
groups are also able to sell additional copies:
contact your local user group or <a href="FAQ-TUG*.html">TUG</a>.

<p>
You may also download disc images from CTAN; the installation
disc, ProTeXt and MacTeX are all separately available.  Beware:
they are all pretty large downloads.  texlive, once installed, may
be updated online.

<p>
More details of the collection are available from

  <a href="http://www.tug.org/texcollection/">its own web page</a>
  on the TUG site.





<dl>
<dt class="ctanref">MacTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mactex">mactex</a>
<dt class="ctanref">ProTeXt</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/protext">protext</a>
<dt class="ctanref">texlive install image</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texlive">texlive</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-TeXsystems][[[LBRACE]]](La)TeX for different machines[[[RBRACE]]]

<p>
We list here the free or shareware packages;




  another question addresses
  <a href="FAQ-commercial.html">commercial TeX vendors&rsquo;</a> products.


<p>
The list is provided in four answers:
<ul>
<li> TeX systems for use with
  <a href="FAQ-sysunix.html">Unix and GNU Linux systems</a>
<li> TeX systems for use with 
  <a href="FAQ-syswin32.html">Modern Windows systems</a>
<li> TeX systems for use with 
  <a href="FAQ-sysmac.html">Macintosh systems</a>
<li> TeX systems for 
  <a href="FAQ-sysother.html">Other sorts of systems</a>
</ul>

<p>
[[[Question]]][Q-sysunix][[[LBRACE]]]Unix and GNU Linux systems[[[RBRACE]]]

<p>
<blockquote>
  Note that Mac OS/X, though it is also a Unix-based system, has
  different options; users should refer to the information in
  <a class="FAquestion.html" href="FAQ-sysmac.html">Mac systems</a>.
</blockquote>

<p>
The TeX distribution of choice, for Unix systems (including
GNU/Linux and most other free Unix-like systems) is texlive,
which is distributed as part of the <a href="FAQ-CD.html">TeX collection</a>.

<p>
texlive may also be installed &ldquo;over the network&rdquo;; a network
installer is provided, and once you have a system (whether installed
from the network or installed off-line from a disc) a manager
(<i class="progname">tlmgr</i>) can both keep your installation up-to-date and add
packages you didn&rsquo;t install at first.

<p>
texlive may be run with no installation at all; the web page 
<a href="http://www.tug.org/texlive/portable.html">texlive portable usage</a>
describes the options for installing texlive on a memory stick for
use on another computer, or for using the texlive DVD with
no installation at all.

<p>
TeX-gpc is a &ldquo;back-to-basics&rdquo; distribution of TeX utilities,
<em>only</em> (unlike texlive, no &lsquo;tailored&rsquo; package bundles are
provided).  It is distributed as source, and compiles with GNU
Pascal, thereby coming as close as you&rsquo;re likely to get to Knuth&rsquo;s original
distribution.  It is known to work well, but the omission of e-TeX
and PDFTeX will rule it out of many users&rsquo; choices.
<dl>
<dt class="ctanref">tex-gpc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex-gpc">tex-gpc</a>
<dt class="ctanref">texlive</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/texlive">texlive</a>
<dt class="ctanref">texlive installer (Unix)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texlive-unix">texlive-unix</a>
</dl>

<p class="lastedit">This answer last edited: 2013-07-18</p>

<p>
[[[Question]]][Q-syswin32][[[LBRACE]]](Modern) Windows systems[[[RBRACE]]]

<p>
Windows users nowadays have a real choice, between two excellent
distributions, MiKTeX and texlive.  texlive on windows has
only in recent years been a real challenger to the long-established
MiKTeX, and even now MiKTeX has features that texlive lacks.
Both are comprehensive
distributions, offering all the established TeX variants (TeX,
PDFTeX&nbsp;&mdash; both with e-TeX variants&nbsp;&mdash; as well as XeTeX and
LuaTeX), together with a wide range of support tools.

<p>
Both MiKTeX and texlive offer management tools, including the
means of keeping an installation &ldquo;up-to-date&rdquo;, by reinstalling
packages that have been updated on CTAN (the delay between a
package update appearing, and it being available to the distribution
users) can be as short as a day (and is never very long).

<p>
MiKTeX, by Christian Schenk, is the longer-established of the pair,
and has a large audience of satisfied users; texlive is the
dominant distribution in use in the world of Unix-like systems, and so
its Windows version may be expected to appeal to those who use both
Unix-like and Windows systems.  The latest release of MiKTeX&nbsp;&mdash;
version 2.9&nbsp;&mdash; requires Windows&nbsp;XP, or later (so it does not work on
Windows&nbsp;2000 or earlier).

<p>
Both distributions may be used in a configuration which involves no
installation at all.  MiKTeX&rsquo;s &ldquo;portable&rdquo; distribution may be
unpacked on a memory stick, and used on any windows computer without
making any direct use of the hard drive.  The web page 
<a href="http://www.tug.org/texlive/portable.html">texlive portable usage</a>
describes the options for installing texlive on a memory stick, or
for using the texlive DVD with no installation at all.

<p>
Both MiKTeX and texlive may be downloaded and installed, package
by package, over the net.  This is a mammoth undertaking, only to be
undertaken by those with a good network connection (and a patient
disposition!).

<p>
A ready-to-run copy of the MiKTeX distribution,
on DVD may be bought via the 
<a href="http://www.miktex.org/cd/">MiKTeX web site</a>.  MiKTeX may
also be installed using ProTeXt, on the 
<a href="FAQ-CD.html">TeX Collection DVD</a>.

<p>
The <a href="FAQ-CD.html">TeX Collection DVD</a> also provides an
offline installer for texlive.

<p>
























<p>
A further (free) option is available thanks to the
<a href="http://www.cygwin.com">CygWin bundle</a>, which presents a
Unix-like environment in Windows systems (and also provides an
X-windows server).  The (now obsolete) teTeX distribution is
provided as part of the CygWin distribution, but there is a CygWin
build of texlive so you can have a current TeX system.  TeX
under CygWin is reputedly somewhat slower than native Win32
implementations such as MiKTeX, and of course the TeX
applications behave like Unix-system applications.

<p>
BaKoMa TeX, by Basil Malyshev, is a comprehensive (shareware)
distribution, which focuses on support of Acrobat.  The distribution
comes with a bunch of Type&nbsp;1 fonts packaged to work with BaKoMa
TeX, which further the focus.
<dl>
<dt class="ctanref">bakoma</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bakoma-tex">bakoma-tex</a>
<dt class="ctanref">miktex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/miktex">miktex</a>; 
  acquire <a class="ctan" href="https://www.ctan.org/pkg/miktex-setup">miktex-setup</a> (also available from the MiKTeX
  web site), and read installation instructions from 
  <a href="http://www.miktex.org/2.9/setup">the MiKTeX installation page</a>
<dt class="ctanref">Portable miktex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/miktex-portable">miktex-portable</a> 
<dt class="ctanref">protext.exe</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/protext">protext</a>
<dt class="ctanref">texlive</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/texlive">texlive</a>
<dt class="ctanref">texlive installer (Windows)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texlive-windows">texlive-windows</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-11</p>

<p>
[[[Question]]][Q-sysmac][[[LBRACE]]]Macintosh systems[[[RBRACE]]]

<p>
The <a href="FAQ-CD.html">TeX collection</a> DVD includes MacTeX,
which is a Mac-tailored version of texlive; details may be found on
the <a href="http://tug.org/mactex">TUG web site</a>.  If you don&rsquo;t
have the disc, you can download the distribution from CTAN (but
note that it&rsquo;s pretty big).  MacTeX is an instance of texlive,
and has a Mac-tailored graphical texlive manager, so that you can
keep your distribution up-to-date.

<p>
Note that installing MacTeX requires <tt>root</tt> privilege.  This
is a pity, since it offers several extras that aren&rsquo;t available via a
standard texlive, which aren&rsquo;t therefore available to &ldquo;ordinary
folk&rdquo; at work.  For those who don&rsquo;t have <tt>root</tt> privilege, the
option is to install using the texlive <tt>tlinstall</tt> utility.

<p>
<a href="http://www.trevorrow.com/oztex/">OzTeX</a>, by Andrew Trevorrow,
is a shareware version of TeX for the Macintosh.  A DVI
previewer and PostScript driver are also included.
OzTeX is a Carbon app, so will run under Mac OS/X (see
<a href="http://www.trevorrow.com/oztex/ozosx.html">http://www.trevorrow.com/oztex/ozosx.html</a> for details), but it
is <em>not</em> a current version: it doesn&rsquo;t even offer PDFTeX.  A
mailing list is provided by TUG: sign up via
<a href="http://tug.org/mailman/listinfo/oztex">http://tug.org/mailman/listinfo/oztex</a>

<p>
Another partly shareware program is
<a href="http://www.kiffe.com/cmactex.html">CMacTeX</a>, put together by
Tom Kiffe.  CMacTeX is much closer than OzTeX to the Unix TeX
model of things (it uses <i class="progname">dvips</i>, for instance).  CMacTeX
runs natively under Mac OS/X; it includes a port of a version of
<a href="FAQ-omegaleph.html">Omega</a>.

<p>





  Further information may be available in the 
  <a href="http://mactex-wiki.tug.org/">MacTeX wiki</a>.

The MacTeX-on-OS&nbsp;X mailing list is another useful resource for
users; subscribe via the
<a href="http://mactex-wiki.tug.org/wiki/index.php?title=TeX_on_Mac_OS_X_mailing_list">list home page</a>
<dl>
<dt class="ctanref">cmactex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cmactex">cmactex</a>
<dt class="ctanref">mactex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mactex">mactex</a>
<dt class="ctanref">oztex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/oztex">oztex</a>
</dl>

<p>
[[[Question]]][Q-sysother][[[LBRACE]]]Other systems&rsquo; TeX availability[[[RBRACE]]]

<p>
For PCs, running MSDOS or OS/2, EmTeX (by Eberhard
Mattes) offers LaTeX, BibTeX, previewers, and drivers.  It is
available as a series of zip archives, with documentation in both
German and English.  Appropriate memory managers for using emTeX
with 386 (and better) processors and under pre-&rsquo;9x Windows, are
included in the distribution.  (EmTeX <em>can</em> be made to operate
under Windows, but even back when it was &ldquo;current&rdquo;, such use wasn&rsquo;t
very actively encouraged.)

<p>
A version of emTeX, packaged to use a 
<a href="FAQ-tds.html">TDS directory structure</a>, is separately available as an
emTeX &lsquo;contribution&rsquo;.  Note that neither emTeX itself, nor
emTeX-TDS, is maintained.  Users of Microsoft operating
systems, who want an up-to-date (La)TeX system, need Win32-based
systems.

<p>
For PCs, running MSDOS, a further option is a port of the
Web2C&nbsp;7.0 implementation, using the GNU <i class="progname">djgpp</i>
compiler.  While this package is more recent than emTeX, it
nevertheless also offers a rather old instance of (La)TeX.

<p>
For VAX systems running OpenVMS, a TeX distribution
is available CTAN, but is almost certainly not the latest (it
is more than 10 years old).  Whether a version is even available for
current VMS (which typically runs on Intel 64-bit processors)
is not clear, but it seems unlikely.

<p>
For the Atari ST and TT, CS-TeX is available
from CTAN; it&rsquo;s offered as a set of ZOO archives.

<p>
Amiga users have the option of a full implementations of TeX 3.1
(PasTeX) and MetaFont 2.7.

<p>
It&rsquo;s less likely that hobbyists would be running TOPS-20
machines, but since TeX was originally written on a DEC-10
under WAITS, the TOPS-20 port is another near approach
to Knuth&rsquo;s original environment. Sources are available by anonymous
<tt>ftp</tt> from <a href="ftp://ftp.math.utah.edu/pub/tex/pub/web">ftp://ftp.math.utah.edu/pub/tex/pub/web</a>
<dl>
<dt class="ctanref">Atari TeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/atari-cstex">atari-cstex</a>
<dt class="ctanref">djgpp</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/djgpp">djgpp</a>
<dt class="ctanref">emtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/emtex">emtex</a>
<dt class="ctanref">emtexTDS</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/emtextds">emtextds</a>
<dt class="ctanref">OpenVMS</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/OpenVMSTeX">OpenVMSTeX</a>
<dt class="ctanref">PasTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amiga">amiga</a>
</dl>

<p class="lastedit">This answer last edited: 2013-07-18</p>

<p>
[[[Question]]][Q-editors][[[LBRACE]]]TeX-friendly editors and shells[[[RBRACE]]]

<p>
There are good TeX-writing environments and editors for most
operating systems; some are described below, but this is only a
personal selection:
<dl>
<dt class="description">Unix</dt><dd> The commonest choices are <i class="progname">[X]Emacs</i> or
  <i class="progname">vim</i>, though several others are available.

<p>
  <a href="http://www.gnu.org/software/emacs/emacs.html">GNU&nbsp;<i class="progname">emacs</i></a>
  and <a href="http://www.xemacs.org/"><i class="progname">XEmacs</i></a> are supported
  by the AUC-TeX
  bundle (available from CTAN).  AUC-TeX provides menu
  items and control sequences for common constructs, checks syntax,
  lays out markup nicely, lets you call TeX and drivers from
  within the editor, and everything else like this that you can think
  of.  Complex, but very powerful.

<p>
  <a href="http://vim.sourceforge.net"><i class="progname">Vim</i></a> is also highly
  configurable (also available for Windows and Macintosh systems).
  Many plugins are available to support the needs of the (La)TeX user,
  including syntax highlighting, calling TeX programs,
  auto-insertion and -completion of common (La)TeX structures, and
  browsing LaTeX help.  The scripts <i class="filename">auctex.vim</i> and
  <i class="filename">bibtex.vim</i> seem to be the most common recommendations.

<p>
  The editor <a href="http://nedit.org/"><i class="progname">NEdit</i></a> is also free
  and programmable, and is available for Unix systems.  An
  AUC-TeX-alike set of extensions for <i class="progname">NEdit</i> is available
  from CTAN.

<p>
  <i class="progname">LaTeX4Jed</i> provides much enhanced LaTeX support for the
  <a href="http://www.jedsoft.org/jed/"><i class="progname">jed</i></a> editor.
  <i class="progname">LaTeX4Jed</i> is similar to AUC-TeX: menus,
  shortcuts, templates, syntax highlighting, document outline,
  integrated debugging, symbol completion, full integration with
  external programs, and more. It was designed with both the beginner
  and the advanced LaTeX user in mind.

<p>
  The <i class="progname">Kile</i> editor that is provided with the KDE
  window manager provides GUI &ldquo;shell-like&rdquo; facilities, in a
  similar way to the widely-praised <i class="progname">Winedt</i> (see below);
  details (and downloads) are available from the project&rsquo;s
  <a href="http://kile.sourceforge.net/">home on SourceForge</a>.

<p>
  TUG is sponsoring the development of a cross-platform editor
  and shell, modelled on the excellent TeXshop for the Macintosh.
  The result,
  <a href="http://www.tug.org/texworks/">TeXworks</a>, is recommended: if
  you&rsquo;re looking for a
  (La)TeX development environment, it may be for you.  (It is
  distributed with both texlive and MiKTeX.)

<p>
  A possible alternative is
  <a href="http://texstudio.sourceforge.net/">TeXstudio</a>
<dt class="description">Windows-32</dt><dd><i class="progname">TeXnicCenter</i> is a (free)
  TeX-oriented development system, uniting a powerful platform for
  executing (La)TeX and friends with a configurable editor.

<p>
  TeXworks (see above) is also available for Windows systems.

<p>
  <i class="progname">Winedt</i>, a shareware package, is also highly spoken of.
  It too provides a shell for the use of TeX and related programs,
  as well as a powerful and well-configured editor.  The editor can
  generate its output in UTF-8 (to some extent), which is
  useful when working with <a href="FAQ-xetex.html">XeTeX</a> (and other
  &ldquo;next-generation&rdquo; (La)TeX applications).

<p>
  Both <i class="progname">emacs</i> and <i class="progname">vim</i> are available in versions
  for Windows systems.
<dt class="description">Macintosh</dt><dd> For Mac OS/X users, the free tool of choice appears to be
  <a href="http://pages.uoregon.edu/koch/texshop/index.html">TeXshop</a>, which
  combines an editor and a shell with a coherent philosophy of dealing
  with (La)TeX in the OS&nbsp;X environment.  TeXShop is distributed as
  part of the MacTeX system, and will therefore be available out of
  the box on machines on which MacTeX has been installed.

<p>
  <i class="progname">Vim</i> is also available for use on Macintosh systems.

<p>
  The commercial Textures provides an excellent integrated Macintosh
  environment with its own editor.  More powerful still (as an editor)
  is the shareware <i class="progname">Alpha</i> which is extensible enough to let
  you perform almost any TeX-related job. It also works well with
  OzTeX.  From release 2.2.0 (at least), Textures works under Mac OS/X.
<dt class="description">OS/2</dt><dd> <i class="progname">epmtex</i> offers an OS/2-specific shell.
</dl>
Atari, Amiga and NeXT users also have nice
environments. LaTeX users looking for <i class="progname">make</i>-like
facilities should review the answer on
<a href="FAQ-make.html">Makefiles for LaTeX documents</a>.

<p>
While many (La)TeX-oriented editors can support work on BibTeX
files, there are many systems that provide specific &ldquo;database-like&rdquo;
access to your BibTeX files&nbsp;&mdash;

  see &ldquo;<a href="FAQ-buildbib.html">creating a bibliography file</a>&rdquo;.





<dl>
<dt class="ctanref">alpha</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/alpha">alpha</a>
<dt class="ctanref">auctex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/auctex">auctex</a>
<dt class="ctanref">epmtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epmtex">epmtex</a>
<dt class="ctanref">LaTeX4Jed</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex4jed">latex4jed</a>
<dt class="ctanref">Nedit LaTeX support</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nedit-latex">nedit-latex</a>
<dt class="ctanref">TeXnicCenter</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texniccenter">texniccenter</a>
<dt class="ctanref">TeXshell</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texshell">texshell</a>
<dt class="ctanref">TeXtelmExtel</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/TeXtelmExtel">TeXtelmExtel</a>
<dt class="ctanref">winedt</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/winedt">winedt</a>
</dl>

<p class="lastedit">This answer last edited: 2013-05-20</p>

<p>
[[[Question]]][Q-commercial][[[LBRACE]]]Commercial TeX implementations[[[RBRACE]]]
<!-- windows,macintosh,commercial -->

<p>
There are many commercial implementations of TeX. The first
appeared not long after TeX itself appeared.

<p>
What follows is probably an incomplete list.  Naturally, no warranty or
fitness for purpose is implied by the inclusion of any vendor in this
list.  The source of the information is given to provide some clues to
its currency.

<p>
In general, a commercial implementation will come &lsquo;complete&rsquo;, that is,
with suitable previewers and printer drivers.  They normally also have
extensive documentation (<em>i.e</em>., not just the TeXbook!) and some
sort of support service.  In some cases this is a toll free number
(probably applicable only within the USA and or Canada), but others
also have email, and normal telephone and fax support.
<dl>
<dt class="description">PC; TrueTeX</dt><dd> Runs on all versions of Windows.
  <blockquote>
    Richard J. Kinch<br>
    TrueTeX Software<br>
    7890 Pebble Beach Court<br>
    Lake Worth FL 33467<br>
    USA<br>
    Tel: +1 561-966-8400<br>
    Email: <a href="mailto:kinch@truetex.com">kinch@truetex.com</a><br>
    Web: <a href="http://www.truetex.com/">http://www.truetex.com/</a>
  </blockquote>
  Source: Mail from Richard Kinch, August 2004.
<dt class="description">pcTeX</dt><dd> Long-established: pcTeX32 is a Windows implementation.
  <blockquote>
    Personal TeX Inc<br>
    725 Greenwich Street, Suite 210 <br>
    San Francisco, CA 94133<br>
    USA<br>
    Tel: 800-808-7906 (within the USA)<br>
    Tel: +1 415-296-7550<br>
    Fax: +1 415-296-7501<br>
    Email: <a href="mailto:sales@pctex.com">sales@pctex.com</a><br>
    Web: <a href="http://www.pctex.com/">http://www.pctex.com/</a>
  </blockquote>
  Source: Personal TeX Inc web site, December 2004
<dt class="description">PC; Scientific Word</dt><dd> Scientific Word and Scientific Workplace
  offer a mechanism for near-WYSIWYG input of LaTeX documents; they
  ship with TrueTeX from Kinch (see above).  Queries within the UK
  and Ireland should be addressed to Scientific Word Ltd., others should be
  addressed directly to the publisher, MacKichan Software Inc.
  <blockquote>
    Dr Christopher Mabb<br>
    Scientific Word Ltd.<br>
    990 Anlaby Road,<br>
    Hull,<br>
    East Yorkshire,<br>
    HU4 6AT<br>
    UK<br>
    Tel: 0845 766&thinsp;0340 (within the UK) <br>
    Fax: 0845 603&thinsp;9443 (within the UK) <br>
    Email: <a href="mailto:christopher@sciword.demon.co.uk">christopher@sciword.demon.co.uk</a> <br>
    Web: <a href="http://www.sciword.demon.co.uk">http://www.sciword.demon.co.uk</a>
  </blockquote>
  <blockquote>
    MacKichan Software Inc.<br>
    19307 8th Avenue, Suite C<br>
    Poulsbo WA 98370-7370<br>
    USA<br>
    Tel: +1 360 394&thinsp;6033<br>
    Tel: 877 724&thinsp;9673 (within the USA)
    Fax: +1  360 394&thinsp;6039<br>
    Email: <a href="mailto:info@mackichan.com">info@mackichan.com</a><br>
    Web: <a href="http://www.mackichan.com">http://www.mackichan.com</a>
  </blockquote>
  Source: Mail from Christopher Mabb, August 2007


















<dt class="description">AmigaTeX</dt><dd> A full implementation for the Commodore Amiga,
  including full, on-screen and printing support for all PostScript
  graphics and fonts, IFF raster graphics, automatic font generation,
  and all of the standard macros and utilities.
  <blockquote>
    Radical Eye Software<br>
    PO Box 2081<br>
    Stanford, CA 94309<br>
    USA
  </blockquote>
  Source: Mail from Tom Rokicki, November 1994
</dl>



<p>
Note that the company Y&amp;Y has gone out of business, and Y&amp;Y
TeX (and support for it) is therefore no longer available.  Users
of Y&amp;Y systems may care to use the self-help
<a href="http://tug.org/pipermail/yandytex/">mailing list</a>
that was established in 2003; the remaining usable content of
Y&amp;Y&rsquo;s web site is available at <a href="http://www.tug.org/yandy/">http://www.tug.org/yandy/</a>

<p>


<p>

<p>

<p>
[[[Question]]][Q-dvips][[[LBRACE]]]DVI to PostScript conversion programs[[[RBRACE]]]

<p>
The best public domain DVI to PostScript conversion program, which
runs under many operating systems, is Tom Rokicki&rsquo;s <i class="progname">dvips</i>.
<i class="progname">dvips</i> is written in C and ports easily.  All current
development is in the context of Karl Berry&rsquo;s <i class="progname">kpathsea</i>
library, and sources are available from the texlive repository,
and versions are available in all TeX distributions that recognise
the use of PostScript.

<p>
An VMS versions is available as part of the CTAN
distribution of TeX for VMS.

<p>
A precompiled version to work with emTeX is available on CTAN.
<dl>
<dt class="ctanref">MSDOS and OS/2</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/dvips-pc">dvips-pc</a>
<dt class="ctanref">VMS distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/OpenVMSTeX">OpenVMSTeX</a>
</dl>

<p>
[[[Question]]][Q-HPdrivers][[[LBRACE]]]DVI drivers for HP LaserJet[[[RBRACE]]]

<p>
The emTeX distribution (see <a class="FAquestion.html" href="FAQ-TeXsystems.html">TeX systems</a>)
contains a driver for the LaserJet, <i class="progname">dvihplj</i>.

<p>
Version 2.10 of the Beebe drivers supports the LaserJet. These drivers
will compile under Unix, VMS, and on the Atari ST and
DEC-20s.

<p>
For Unix systems, Karl Berry&rsquo;s <i class="progname">dviljk</i> uses the same
path-searching library as <i class="progname">web2c</i>.
<dl>
<dt class="ctanref">Beebe drivers</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beebe">beebe</a>
<dt class="ctanref">dviljk</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dviljk">dviljk</a>
</dl>

<p>
[[[Question]]][Q-otherprinters][[[LBRACE]]]Output to &ldquo;other&rdquo; printers[[[RBRACE]]]

<p>
In the early years of TeX, there were masses of DVI drivers
for any (then) imaginable kind of printer, but the steam seems rather
to have gone out of the market for production of drivers for
printer-specific formats.  There are several reasons for this, but the
primary one is that few formats offer the flexibility available
through PostScript, and with
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> (and its
huge range of printer drivers) there is now little demand for new
printer driver development.

<p>
Thus, it is reasonable to <a href="FAQ-dvips.html">generate PostScript</a>, and
use <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> to send
the resulting PostScript output to the printer you actually have.

<p>
(If you are using a Unix system of some sort, it&rsquo;s generally quite
easy to insert
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> into the
print spooling process, which makes printing <em>really</em> simple.)

<p class="lastedit">This answer last edited: 2013-05-29</p>

<p>
[[[Question]]][Q-previewers][[[LBRACE]]]DVI previewers[[[RBRACE]]]

<p>
EmTeX for PCs running MSDOS or OS/2, MiKTeX and
XEmTeX for PCs running Windows and OzTeX for the Macintosh, all
come with previewers that can be used on those platforms. EmTeX&rsquo;s
previewer can also be run under Windows&nbsp;3.1.

<p>
Commercial PC TeX packages (see 
<a class="FAquestion.html" href="FAQ-commercial.html">commercial vendors</a>)
have good previewers for PCs running Windows, or for Macintoshes.

<p>
For Unix systems, there is one &lsquo;canonical&rsquo; viewer, <i class="progname">xdvi</i>.
<i class="progname">Xdvik</i> is a version of <i class="progname">xdvi</i> using the
<i class="progname">web2c</i> libraries; it is now built from the same distribution
as <i class="progname">xdvi</i>.  The texlive distributions for Unix systems
include a version of <i class="progname">xdvik</i>.

<p>
Alternatives to previewing include
<ul>
<li> conversion to &lsquo;similar&rsquo; ASCII text (see
  <a class="FAquestion.html" href="FAQ-toascii.html">converting to ASCII</a>) and using a
  conventional text viewer to look at that,
<li> generating a PostScript version of your document and viewing it
  with a
  <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>-based
  previewer (see 
  <a class="FAquestion.html" href="FAQ-PSpreview.html">previewing PostScript files</a>), and
<li> generating  PDF output, and viewing that with
  <i class="progname">Acrobat</i> <i class="progname">Reader</i> or one of the substitutes for that.
</ul>
<dl>
<dt class="ctanref">xdvi</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xdvi">xdvi</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-11</p>

<p>
[[[Question]]][Q-dvi-bmp][[[LBRACE]]]Generating bitmaps from DVI[[[RBRACE]]]

<p>
In the last analysis, any DVI driver or previewer is generating
bitmaps: bitmaps for placing tiny dots on paper via a laser- or
inkjet-printer, or bitmaps for filling some portion of your screen.
However, it&rsquo;s usually difficult to extract any of those bitmaps any
way other than by screen capture, and the resolution of <em>that</em> is
commonly lamentable.

<p>
Why would one want separate bitmaps?  Most often, the requirement is for
something that can be included in HTML generated from (La)TeX
source&nbsp;&mdash; not everything that you can write in (La)TeX can be
translated to HTML (at least, portable HTML that may be
viewed in &lsquo;most&rsquo; browsers), so the commonest avoiding action is to
generate a bitmap of the missing bit.  Examples are maths (a maths
extension to the &lsquo;<code class="verb">*</code>ML&rsquo; family is available but not
universally supported by browsers), and &lsquo;exotic&rsquo; typescripts (ones
that you cannot guarantee your readers will have available).  Other
common examples are generation of 
sample bitmaps, and generation for insertion into some other
application&rsquo;s display&nbsp;&mdash; to insert equations into Microsoft
PowerPoint, or to support the enhanced-<i class="progname">emacs</i> setup called
<a href="FAQ-WYGexpts.html"><i class="progname">preview</i>-<i class="progname">latex</i></a>.

<p>
In the past, the commonest way of generating bitmaps was to generate a
PostScript file of the DVI and then use
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> to
produce the required bitmap format (possibly by way of PNM
format or something similar).  This is an undesirable procedure (it is
tedious, involving requires two or three steps that run slowly) but it
served for a long time.

<p>
(La)TeX users may now take advantage of two bitmap &lsquo;drivers&rsquo;.  The
longer-established, <i class="progname">dvi2bitmap</i>, will generate XBM and
XPM formats, the long-deprecated GIF format (which is
now obsolescent, but has finally been relieved of the patent
protection of the LZW compression it uses), and also
the modern (ISO-standardised) PNG format.

<p>
<i class="progname">Dvipng</i> started out as a PNG renderer; from version 1.2 it can also
render to the GIF format. It is designed for speed, in environments that
generate large numbers of PNG files: the <i class="filename">README</i> mentions
<i class="progname">preview</i>-<i class="progname">latex</i>, <i class="progname">LyX</i>, and a few
web-oriented environments. Note that <i class="progname">dvipng</i> gives
high-quality output even though its internal operations are optimised
for speed.
<dl>
<dt class="ctanref">dvi2bitmap</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvi2bitmap">dvi2bitmap</a>
<dt class="ctanref">dvipng</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvipng">dvipng</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-19</p>


<p>

<p>

<p>
[[[Question]]][Q-xfigetc][[[LBRACE]]](La)TeX-friendly drawing packages[[[RBRACE]]]



<p>
<i class="progname">(X)Fig</i> is a menu driven tool that allows you to
draw objects on the screen of an X workstation; <i class="progname">transfig</i>
is a set of tools which translate the code <i class="progname">fig</i>.  The list
of export formats is very long, and includes MetaFont and MetaPost,
Encapsulated PostScript and PDF, as well as combinations that wrap
a graphics format in a LaTeX import file, which may include
LaTeX commands to place text (compiled by LaTeX itself) as
labels, etc., in the figures.

<p>
There&rsquo;s no explicit port of <i class="progname">xfig</i> to windows (although it is
believed to work under <i class="progname">cygwin</i> with its X-windows system).
However, the program 
<a href="http://tams-www.informatik.uni-hamburg.de/applets/jfig/"><i class="progname">jfig</i></a>
is thought by many to be an acceptable substitute, written in Java.

<p>
<i class="progname">Asymptote</i> is a widely-praised development of the MetaPost
language, which can draw 2D or 3D diagrams, and can also label
diagrams with LaTeX text; copious documentation is available via
<a href="http://asymptote.sourceforge.net"><i class="progname">asymptote</i>&rsquo;s web site</a>.
<dl>
<dt class="ctanref">asymptote</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/asymptote">asymptote</a>
<dt class="ctanref">xfig</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xfig">xfig</a>
<dt class="ctanref">transfig</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/transfig">transfig</a>
</dl>

<p class="lastedit">This answer last edited: 2011-05-02</p>

<p>
[[[Question]]][Q-texcad][[[LBRACE]]]TeXCAD, a drawing package for LaTeX[[[RBRACE]]]

<p>
TeXCAD is a program for the PC which enables the user to draw diagrams
on screen using a mouse or arrow keys, with an on-screen menu of available 
picture-elements. Its output is code for the LaTeX
<code class="environment">picture</code> environment. 
Optionally, it can be set to include lines at all angles using 
the emTeX driver-family




<a href="FAQ-specials.html"><code>&#x5c;special</code>s</a>.

TeXCAD is part of the emTeX distribution.

<p>
A Unix port of the program (<i class="progname">xtexcad</i>) has been made.
<dl>
<dt class="ctanref">emtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/emtex">emtex</a>
<dt class="ctanref">xtexcad</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xtexcad">xtexcad</a>
</dl>

<p>
[[[Question]]][Q-spell][[[LBRACE]]]Spelling checkers for work with TeX[[[RBRACE]]]

<p>
&lsquo;Traditional&rsquo; approaches to the problem (of checking your spelling) were
designed to work with a plain text file; in our case, we have an (La)TeX
source.  For the user, this is a simple-to-understand way to do the
job; but for the spell-checker programmer, it requires heuristic (and
hence fallible) analysis of (La)TeX macros and so on.  The
alternative, of viewing the text <em>after</em> (La)TeX has processed
the results, is covered below.

<p>
The user of an <a href="FAQ-editors.html">shell/editor</a> will usually find it
embeds a spelling checker.  For command-line use, there are several
choices, depending on the system you&rsquo;re using.

<p>
For Unix, <i class="progname">ispell</i> was long the program of choice; it is well
integrated with <i class="progname">emacs</i>, and deals with some TeX syntax.
However, it has more-or-less been replaced everywhere, by
<i class="progname">aspell</i>, which was designed as a successor, and certainly
performs better on most metrics; there remains some question as to its
performance with (La)TeX sources.  The most recent offering (which
is widely used in other open-source software projects) is

  <a href="http://hunspell.sourceforge.net/"><i class="progname">Hunspell</i></a>.




<i class="progname">Hunspell</i> is available for other architectures, too; a web
search shows versions available for Windows, at least.

<p>
For the Macintosh, <i class="progname">Excalibur</i> has long been used; its
distribution comes with dictionaries for several languages.
<i class="progname">Hunspell</i> (see above) is actually part of OS X from version 10.6.

<p>
The VMS Pascal program <i class="progname">spell</i> makes special cases of
some important features of LaTeX syntax.

<p>
For MSDOS, there are several programs.  <i class="progname">Amspell</i> can be
called from within an editor, and <i class="progname">jspell</i> is an extended
version of <i class="progname">ispell</i>.

<p>
An alternative approach takes (La)TeX output, and checks that.  A
straightforward approach is to produce PDF output, and process
it with <i class="progname">pdftotext</i>, using any plain text checker on the
result (the checkers listed above all work in this r\^ole).  For this
to work reasonably well, the user should disable hyphenation before
making the PDF output.

<p>
The (experimental) LuaTeX/LaTeX package <i class="package">spelling</i> goes
one step further: it uses <i class="progname">lua</i> code to extract words
<em>while typesetting is going on</em>, but before hyphenation is
applied.  Each word is looked up in a list of known bad spellings, and
the word highlighted if it appears there.  In parallel, a text file is
created, which can be processed by a &lsquo;normal&rsquo; spelling checker to
produce a revised &ldquo;bad spelling&rdquo; list.  (The package documentation
shows the end result; it includes words such as &lsquo;spellling&rsquo;, which are
duly highlighted.)
<dl>
<dt class="ctanref">4spell</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/4spell">4spell</a>
<dt class="ctanref">amspell</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amspell">amspell</a>
<dt class="ctanref">aspell</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/aspell">aspell</a>&nbsp;&mdash; choose just those language
  dictionaries (under subdirectory <i class="filename">dict/</i>) that you need.
<dt class="ctanref">excalibur</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/Excalibur">Excalibur</a>
<dt class="ctanref">ispell</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ispell">ispell</a>
<dt class="ctanref">jspell</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/jspell">jspell</a>
<dt class="ctanref">spelling.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/spelling">spelling</a>
<dt class="ctanref">VMS spell</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/vmspell">vmspell</a>
<dt class="ctanref">winedt</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/winedt">winedt</a>
</dl>

<p class="lastedit">This answer last edited: 2013-10-02</p>

<p>
[[[Question]]][Q-wordcount][[[LBRACE]]]How many words have you written?[[[RBRACE]]]

<p>
One often has to submit a document (e.g., a paper or a dissertation)
under some sort of constraint about its size.  Sensible people set a
constraint in terms of numbers of pages, but there are some that
persist in limiting the numbers of words you type.

<p>
A simple solution to the requirement can be achieved following a
simple observation: the powers that be are unlikely to count all the
words of a document submitted to them.  Therefore, a statistical
method can be employed: find how many words there are on a full page;
find how many full pages there are in the document (allowing for
displays of various sorts, this number will probably not be an
integer); multiply the two.  However, if the document to be submitted
is to determine the success of the rest of one&rsquo;s life, it takes a
brave person to thumb their nose at authority quite so
comprehensively&hellip;

<p>
The simplest method is to strip out the (La)TeX markup, and to count
what&rsquo;s left.  On a  Unix-like system, this may be done using
<i class="progname">detex</i> and the built-in <i class="progname">wc</i>:
<blockquote>
<pre>
detex <filename> | wc -w
</pre>
</blockquote>
The technique is beguilingly simple, but it&rsquo;s not terribly accurate

<p>
The <i class="progname">latexcount</i> script does the same sort of job, in one
&ldquo;step&rdquo;; being a <i class="progname">perl</i> script, it is in principle rather
easily configured (see documentation inside the script).
Several <a href="FAQ-editors.html">editors and shells</a> offer something similar.

<p>
<i class="progname">TeXcount</i> goes a long way with heuristics for counting,
starting from a LaTeX file; the documentation is comprehensive, and
you may try the script on-line via the 

  <a href="http://folk.uio.no/einarro/Comp/texwordcount.html">package home page</a>.






<p>
However, even quite sophisticated stripping of (La)TeX markup can
never be entirely reliable: markup itself may contribute typeset
words, or even consume words that appear in the text.

<p>
The <i class="package">wordcount</i> package
contains a Bourne shell (i.e., typically Unix) script for running a
LaTeX file with a special piece of supporting TeX code, and then
counting word indications in the log file.  This is probably as
accurate automatic counting as you can get, if it works for you.
<dl>
<dt class="ctanref">detex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/detex">detex</a>
<dt class="ctanref">latexcount.pl</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexcount">latexcount</a>
<dt class="ctanref">TeXcount</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texcount">texcount</a>
<dt class="ctanref">wordcount</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/wordcount">wordcount</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-lit][[[LBRACE]]]What is Literate Programming?[[[RBRACE]]]

<p>
Literate programming is the combination of documentation and source
together in a fashion suited for reading by human beings. 
In general, literate programs combine source
and documentation in a single file.  Literate programming tools then
parse the file to produce either readable documentation or compilable
source.  The WEB style of literate programming was created by
D.&nbsp;E.&nbsp;Knuth during the development of TeX.

<p>




  The &ldquo;<a href="FAQ-dtx.html">documented LaTeX</a>&rdquo; style of programming

is regarded by some as a form of literate programming, though it only
contains a subset of the constructs Knuth used.

<p>
Discussion of literate programming is conducted in the newsgroup
<i class="newsgroup">comp.programming.literate</i>, whose FAQ is stored on
CTAN.  Another good source of information is
<a href="http://www.literateprogramming.com/">http://www.literateprogramming.com/</a>
<dl>
<dt class="ctanref">Literate Programming FAQ</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/LitProg-FAQ">LitProg-FAQ</a>
</dl>

<p class="lastedit">This answer last edited: 2012-11-16</p>

<p>
[[[Question]]][Q-webpkgs][[[LBRACE]]]WEB systems for various languages[[[RBRACE]]]

<p>
TeX is written in the programming language WEB; WEB
is a tool to implement the concept of &ldquo;literate programming&rdquo;.
Knuth&rsquo;s original implementation will be in any respectable
distribution of TeX, but the sources of the two tools
(<i class="progname">tangle</i> and <i class="progname">weave</i>), together with a manual
outlining the programming techniques, may be had from CTAN.

<p>
<i class="progname">CWEB</i>, by Silvio Levy, is a WEB for C programs.

<p>
<i class="progname">FWEB</i>, by John Krommes, is a version for Fortran,
Ratfor,C, C++, working with LaTeX; it was derived
from <i class="progname">CWEB</i>.

<p>
Spidery WEB, by Norman Ramsey, supports many 
languages including Ada, <tt>awk</tt>, and C
and, while not in the public domain, is usable without charge.  It is
now superseded by <i class="progname">noweb</i> (also by Norman Ramsay) which
incorporates the lessons learned in implementing spidery WEB,
and which is a simpler, equally powerful, tool.

<p>
<i class="progname">Scheme</i><i class="progname">WEB</i>, by John Ramsdell, is a Unix filter that
translates SchemeWEB into LaTeX source or Scheme source.

<p>
<i class="progname">APLWEB</i> is a version of WEB for APL.

<p>
<i class="progname">FunnelWeb</i> is a version of WEB that is language independent.

<p>
Other language independent versions of WEB are <i class="progname">nuweb</i> (which
is written in ANSI C).

<p>
<i class="progname">Tweb</i> is a WEB for Plain TeX macro files, using
<i class="progname">noweb</i>.
<dl>
<dt class="ctanref">aplweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/aplweb">aplweb</a>
<dt class="ctanref">cweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cweb">cweb</a>
<dt class="ctanref">funnelweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/funnelweb">funnelweb</a>
<dt class="ctanref">fweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fweb">fweb</a>
<dt class="ctanref">noweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/noweb">noweb</a>
<dt class="ctanref">nuweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nuweb">nuweb</a>
<dt class="ctanref">schemeweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/schemeweb">schemeweb</a>
<dt class="ctanref">spiderweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/spiderweb">spiderweb</a>
<dt class="ctanref">tangle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/web">web</a>
<dt class="ctanref">tweb</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tweb">tweb</a>
<dt class="ctanref">weave</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/web">web</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-toascii][[[LBRACE]]]Conversion from (La)TeX to plain text[[[RBRACE]]]

<p>
The aim here is to emulate the Unix <i class="progname">nroff</i>, which formats
text as best it can for the screen, from the same
input as the Unix typesetting program <i class="progname">troff</i>.

<p>
Converting DVI to plain text is the basis of many of these
techniques; sometimes the simple conversion provides a good enough
response.  Options are:
<ul>
<li> <i class="progname">dvi2tty</i> (one of the earliest),
<li> <i class="progname">crudetype</i> and
<li> <i class="progname">catdvi</i>, which is capable of generating Latin-1
  (ISO&nbsp;8859-1) or UTF-8 encoded output.  <i class="progname">Catdvi</i> was
  conceived as a replacement for <i class="progname">dvi2tty</i>, but development
  seems to have stopped before the authors were willing to declare the
  work complete.
</ul>
A common problem is the hyphenation that TeX inserts when
typesetting something: since the output is inevitably viewed using
fonts that don&rsquo;t match the original, the hyphenation usually looks
silly.

<p>
Ralph Droms provides a <i class="package">txt</i> bundle of things in support of
ASCII generation,
but it doesn&rsquo;t do a good job with tables and mathematics.

<p>
Another possibility is to
use the LaTeX-to-ASCII conversion program, <i class="progname">l2a</i>,
although this is really more of a de-TeXing program.

<p>
The canonical de-TeXing program is <i class="progname">detex</i>, which removes
all comments and control sequences 
from its input before writing it to its output.  Its original purpose
was to prepare input for a dumb spelling checker, and it&rsquo;s only usable
for preparing useful ASCII versions of a document in highly
restricted circumstances.

<p>
<i class="progname">Tex2mail</i> is slightly more than a de-TeXer&nbsp;&mdash; it&rsquo;s a
<i class="progname">Perl</i> script that converts TeX files into
plain text files, expanding various mathematical symbols
(sums, products, integrals, sub/superscripts, fractions, square
roots, &hellip;) into &ldquo;ASCII art&rdquo; that spreads over
multiple lines if necessary. The result is more readable to human
beings than the flat-style TeX code.

<p>
Another significant possibility is to use one of the
<a href="FAQ-LaTeX2HTML.html">HTML-generation solutions</a>,
and then to use a browser such as <i class="progname">lynx</i> to dump the resulting
HTML as plain text.
<dl>
<dt class="ctanref">catdvi</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/catdvi">catdvi</a>
<dt class="ctanref">crudetype</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/crudetype">crudetype</a>
<dt class="ctanref">detex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/detex">detex</a>
<dt class="ctanref">dvi2tty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvi2tty">dvi2tty</a>
<dt class="ctanref">l2a</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l2a">l2a</a>
<dt class="ctanref">tex2mail</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2mail">tex2mail</a>
<dt class="ctanref">txt</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/txtdist">txtdist</a>
</dl>

<p class="lastedit">This answer last edited: 2011-07-21</p>

<p>
[[[Question]]][Q-SGML2TeX][[[LBRACE]]]Conversion from SGML or HTML to TeX[[[RBRACE]]]

<p>
SGML is a very important system for document storage and interchange,
but it has no formatting features; its companion ISO standard
DSSSL
(see <a href="http://www.jclark.com/dsssl/">http://www.jclark.com/dsssl/</a>) is designed for writing
transformations and formatting,
but this has not yet been widely implemented. Some SGML authoring
systems (e.g., SoftQuad <i class="progname">Author/Editor</i>) have formatting
abilities, and
there are high-end specialist SGML typesetting systems (e.g., Miles33&rsquo;s
<i class="progname">Genera</i>).  However, the majority of SGML users probably transform
the source to an existing typesetting system when they want to print. 
TeX is a good candidate for this. There are three approaches to writing a
translator:
<ol>
<li> Write a free-standing translator in the traditional way, with
  tools like <i class="progname">yacc</i> and <i class="progname">lex</i>; this is hard, in
  practice, because of the complexity of SGML.
<li> Use a specialist language designed for SGML transformations; the
  best known are probably <i class="progname">Omnimark</i> and <i class="progname">Balise</i>.
  They are expensive, but powerful, incorporating SGML query and
  transformation abilities as well as simple translation.
<li> Build a translator on top of an existing SGML parser.  By far
  the best-known (and free!) parser is James Clark&rsquo;s
  <i class="progname">nsgmls</i>, and this produces a much simpler output format,
  called ESIS, which can be parsed quite straightforwardly (one also
  has the benefit of an SGML parse against the DTD). Two
  good public domain packages use this method:
  <ul>
  <li>






      David Megginson&rsquo;s
      <a href="http://www.perl.com/CPAN/modules/by-module/SGMLS"><i class="progname">sgmlspm</i></a>,
      written in <i class="progname">Perl</i> 5.

    <li>






      Joachim Schrod and Christine Detig&rsquo;s
      <a href="ftp://ftp.tu-darmstadt.de/pub/text/sgml/stil"><i class="progname">STIL</i></a>,
       (&lsquo;SGML Transformations in Lisp&rsquo;).

  </ul>
  Both of these allow the user to write &lsquo;handlers&rsquo; for every SGML
  element, with plenty of access to attributes, entities, and
  information about the context within the document tree.

<p>
  If these packages don&rsquo;t meet your needs for an average SGML
  typesetting job, you need the big commercial stuff.
</ol>

<p>
Since HTML is simply an example of SGML, we do not need a specific
system for HTML.  However, Nathan Torkington developed

<i class="progname">html2latex</i> from the HTML parser in NCSA&rsquo;s
Xmosaic package.
The program takes an HTML file and generates a LaTeX file from it.
The conversion code is subject to NCSA restrictions, but the whole
source is available on CTAN.

<p>
Michel Goossens and Janne Saarela published a very useful summary of
SGML, and of public domain tools for writing and manipulating it, in
TUGboat 16(2).
<dl>
<dt class="ctanref">html2latex source</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/html2latex">html2latex</a>
</dl>

<p>
[[[Question]]][Q-LaTeX2HTML][[[LBRACE]]]Conversion from (La)TeX to HTML[[[RBRACE]]]

<p>
TeX and LaTeX are well suited to producing electronically publishable
documents. However, it is important to realize the difference
between page layout and functional markup. TeX is capable of
extremely detailed page layout; HTML is not, because HTML is a
functional markup language not a page layout language. HTML&rsquo;s exact
rendering is not specified by the document that is published but is, to
some degree, left to the discretion of the browser. If you require your
readers to see an exact replication of what your document looks like
to you, then you cannot use HTML and you must use some other
publishing format such as PDF. That is true for any HTML
authoring tool.

<p>
TeX&rsquo;s excellent mathematical capabilities remain a challenge in the
business of conversion to HTML.  There are only two generally
reliable techniques for generating mathematics on the web: creating
bitmaps of bits of typesetting that can&rsquo;t be translated, and using
symbols and table constructs.  Neither technique is entirely
satisfactory.  Bitmaps lead to a profusion of tiny files, are slow to
load, and are inaccessible to those with visual disabilities.  The
symbol fonts offer poor coverage of mathematics, and their use
requires configuration of the browser.  The future of mathematical
browsing may be brighter&nbsp;&mdash; see

<a class="FAquestion.html" href="FAQ-mathml.html">future Web technologies</a>.

<p>
For today, possible packages are:
<dl>
<dt class="description"><i class="progname">LaTeX2HTML</i></dt><dd>a <i class="progname">Perl</i> script package that
  supports LaTeX only, and generates mathematics (and other
  &ldquo;difficult&rdquo; things) using bitmaps.  The original version was
  written by Nikos Drakos for Unix systems, but the package now sports
  an illustrious list of co-authors and is also available for Windows
  systems.  Michel Goossens and Janne Saarela published a detailed
  discussion of <i class="progname">LaTeX2HTML</i>, and how to tailor it, in
  TUGboat 16(2).

<p>
  A mailing list for users may be found via
  <a href="http://tug.org/mailman/listinfo/latex2html">http://tug.org/mailman/listinfo/latex2html</a>
<dt class="description"><i class="progname">TtH</i></dt><dd>a compiled program that supports either LaTeX
  or Plain TeX, and uses the font/table technique for representing
  mathematics.  It is written by Ian Hutchinson, using
  <i class="progname">flex</i>.  The distribution consists of a single C
  source (or a compiled executable), which is easy to install and very
  fast-running.
<dt class="description"><i class="progname">TeX4ht</i></dt><dd>a compiled program that supports either
  LaTeX or Plain TeX, by processing a DVI file; it uses
  bitmaps for mathematics, but can also use other technologies where
  appropriate.  Written by Eitan Gurari, it parses the DVI
  file generated when you run (La)TeX over your file with
  <i class="progname">tex4ht</i>&rsquo;s macros included.  As a result, it&rsquo;s pretty
  robust against the macros you include in your document, and it&rsquo;s
  also pretty fast.
<dt class="description"><i class="progname">plasTeX</i></dt><dd>a Python-based LaTeX document processing
    framework.  It gives DOM-like access to a LaTeX document, as
    well as the ability to generate mulitple output formats
    (e.g. HTML, DocBook, tBook, etc.).
<dt class="description"><i class="progname">TeXpider</i></dt><dd>a commercial program from
  <a href="FAQ-commercial.html">Micropress</a>, which is
  described on <a href="http://www.micropress-inc.com/webb/wbstart.htm">http://www.micropress-inc.com/webb/wbstart.htm</a>;
  it uses bitmaps for equations.
<dt class="description"><i class="progname">Hevea</i></dt><dd> a compiled program that supports LaTeX
  only, and uses the font/table technique for equations (indeed its
  entire approach is very similar to <i class="progname">TtH</i>).  It is written
  in Objective CAML by Luc Maranget.  <i class="progname">Hevea</i> isn&rsquo;t
  archived on CTAN; details (including download points) are
  available via <a href="http://pauillac.inria.fr/~maranget/hevea/">http://pauillac.inria.fr/&nbsp;maranget/hevea/</a>
</dl>
An interesting set of samples, including conversion of the same text
by the four free programs listed above, is available at
<a href="http://www.mayer.dial.pipex.com/samples/example.htm">http://www.mayer.dial.pipex.com/samples/example.htm</a>; a linked
page gives lists of pros and cons, by way of comparison.

<p>
The World Wide Web Consortium maintains a list of &ldquo;filters&rdquo; to
HTML, with sections on (La)TeX and BibTeX&nbsp;&mdash; see
<a href="http://www.w3.org/Tools/Word_proc_filters.html">http://www.w3.org/Tools/Word_proc_filters.html</a>
<dl>
<dt class="ctanref">latex2html</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/latex2html">latex2html</a>
<dt class="ctanref">plasTeX</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/plastex">plastex</a>
<dt class="ctanref">tex4ht</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex4ht">tex4ht</a> (but see <a href="http://tug.org/tex4ht/">http://tug.org/tex4ht/</a>)
<dt class="ctanref">tth</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tth">tth</a>
</dl>

<p>
[[[Question]]][Q-fmtconv][[[LBRACE]]]Other conversions to and from (La)TeX[[[RBRACE]]]

<p>
<dl>
<dt class="description">troff</dt><dd><i class="progname">Tr2latex</i>, assists in the translation of a
  <i class="progname">troff</i> document into LaTeX 2.09 format.  It recognises most
  <code class="verb">-ms</code> and <code class="verb">-man</code> macros, plus most <i class="progname">eqn</i> and some
  <i class="progname">tbl</i> preprocessor commands.  Anything fancier needs to be
  done by hand. Two style files are provided. There is also a man page
  (which converts very well to LaTeX&hellip;).
  <i class="progname">Tr2latex</i> is an enhanced version of the earlier
  <i class="progname">troff-to-latex</i> (which is no longer available).

<p>




<p>






<p>
<dt class="description">WordPerfect</dt><dd> <i class="progname">wp2latex</i> is actively maintained, and is
  available either for MSDOS or for Unix systems.
<dt class="description">RTF</dt><dd> <i class="progname">Rtf2tex</i>, by Robert Lupton, is for
  converting Microsoft&rsquo;s Rich Text Format to TeX.  There is also a
  converter to LaTeX by Erwin Wechtl, called <i class="progname">rtf2latex</i>.
  The latest converter, by Ujwal Sathyam and Scott Prahl, is
  <i class="progname">rtf2latex2e</i> which seems rather good, though development
  of it seems to have stalled.

<p>
  Translation <em>to</em> RTF may be done (for a somewhat
  constrained set of LaTeX documents) by TeX2RTF, which
  can produce ordinary RTF, Windows Help RTF (as well as
  HTML, <a href="FAQ-LaTeX2HTML.html">conversion to HTML</a>).
  TeX2RTF is supported on various Unix platforms and under
  Windows&nbsp;3.1
<dt class="description">Microsoft Word</dt><dd> A rudimentary (free) program for converting
  MS-Word to LaTeX is <i class="progname">wd2latex</i>, which runs on MSDOS;
  it probably processes the output of an archaic version of
  MS-Word (the program itself was archived in 1991).

<p>
  For conversion in the other direction, the current preferred
  free-software method is a two-stage process:
  <ul>
  <li> Convert LaTeX to <i class="progname">OpenOffice</i> format, using the
    <i class="progname">tex4ht</i> command <i class="progname">oolatex</i>;
  <li> open the result in <i class="progname">OpenOffice</i> and &lsquo;save as&rsquo; a
    MS-Word document.
  </ul>
  (Note that <i class="progname">OpenOffice</i> itself is <em>not</em> on
  CTAN; see <a href="http://www.openoffice.org/">http://www.openoffice.org/</a>, though most
  <i class="progname">linux</i> systems offer it as a ready-to-install bundle.)

<p>
  <i class="progname">tex4ht</i> can also generate OpenOffice ODT
  format, which may be used as an intermediate to producing Word
  format files.

<p>
  <i class="progname">Word2</i><em>TeX</em> and <em>TeX</em><i class="progname">2Word</i> are 
  shareware translators from 
  <a href="http://www.chikrii.com/">Chikrii Softlab</a>; positive users&rsquo;
  reports have been noted (but not recently).

<p>
  If cost is a constraint, the best bet is probably to use an
  intermediate format such as RTF or HTML.
  <i class="progname">Word</i> outputs and reads both, so in principle this route
  may be useful.

<p>
  You can also use PDF as an intermediate format: Acrobat Reader
  for Windows (version 5.0 and later) will output rather feeble
  RTF that <i class="progname">Word</i> can read.
<dt class="description">Excel</dt><dd> <i class="progname">Excel2Latex</i> converts an <i class="progname">Excel</i> file
  into a LaTeX <code class="environment">tabular</code> environment; it comes as a
  <code class="extension">xls</code> file which defines some <i class="progname">Excel</i> macros to produce
  output in a new format.
<dt class="description">runoff</dt><dd> Peter Vanroose&rsquo;s <i class="progname">rnototex</i>
  conversion program is written in VMS Pascal.
  The sources are distributed with a VAX executable.
<dt class="description">refer/tib</dt><dd> There are a few programs for converting bibliographic
  data between BibTeX and <i class="progname">refer</i>/<i class="progname">tib</i> formats.
  The collection includes a shell script converter from BibTeX to
  <i class="progname">refer</i> format as well. The collection
  is not maintained.
<dt class="description">PC-Write</dt><dd><i class="progname">pcwritex.arc</i> is a
  print driver for PC-Write that &ldquo;prints&rdquo; a PC-Write
  V2.71 document to a TeX-compatible disk file.  It was written by Peter
  Flynn at University College, Cork, Republic of Ireland.
</dl>

<p>

<a href="http://www.tug.org/utilities/texconv/index.html">Wilfried Hennings&rsquo; FAQ</a>,
which deals specifically with conversions between TeX-based formats
and word processor formats, offers much detail as well as tables that
allow quick comparison of features.

<p>
A group at Ohio State University (USA) is working on
a common document format based on SGML, with the ambition that any
format could be
translated to or from this one.  <i class="progname">FrameMaker</i> provides
&ldquo;import filters&rdquo; to aid translation from alien formats
(presumably including TeX) to <i class="progname">FrameMaker</i>&rsquo;s own.
<dl>
<dt class="ctanref">excel2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/excel2latex">excel2latex</a>
<dt class="ctanref">pcwritex.arc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pcwritex">pcwritex</a>
<dt class="ctanref">refer and tib tools</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/refer-tools">refer-tools</a>
<dt class="ctanref">rnototex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rnototex">rnototex</a>
<dt class="ctanref">rtf2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rtf2latex">rtf2latex</a>
<dt class="ctanref">rtf2latex2e</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rtf2latex2e">rtf2latex2e</a>
<dt class="ctanref">rtf2tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rtf2tex">rtf2tex</a>
<dt class="ctanref">tex2rtf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2rtf">tex2rtf</a>
<dt class="ctanref">tex4ht</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex4ht">tex4ht</a> (but see <a href="http://tug.org/tex4ht/">http://tug.org/tex4ht/</a>)
<dt class="ctanref">tr2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tr2latex">tr2latex</a>
<dt class="ctanref">wd2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/wd2latex">wd2latex</a>
<dt class="ctanref">wp2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/wp2latex">wp2latex</a>
<dt class="ctanref">Word processor FAQ (source)</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/texcnvfaq">texcnvfaq</a>
</dl>

<p>
[[[Question]]][Q-readML][[[LBRACE]]]Using TeX to read SGML or XML directly[[[RBRACE]]]

<p>
<a href="FAQ-context.html">Context (mark IV)</a> can process some
*ML, to produce typeset output directly.  Details of what can
(and can not) be done, are discussed in 
<a href="http://wiki.contextgarden.net/XML">The Context WIKI</a>.
Context is probably the system of choice for (La)TeX users who
also need to work in XML (and friends).  (Note that Context
mark&nbsp;IV requires <a href="FAQ-luatex.html">LuaTeX</a>, and should
therefore be regarded as experimental, though many people <em>do</em>
use it successfully).

<p>
Older systems also manage, using no more than (La)TeX macro
programming, to process XML and the like.  David Carlisle&rsquo;s
<i class="package">xmltex</i> is the prime example; it offers a solution
for typesetting XML files, and is still in active (though not
very widespread) use.

<p>
One use of a TeX that can typeset XML files is as a backend
processor for XSL formatting objects, serialized as XML.
Sebastian Rahtz&rsquo;s PassiveTeX uses <i class="package">xmltex</i> to
achieve this end.

<p>
However, modern usage would proceed via XSL or XSLT2 to
produce a formattable version.
<dl>
<dt class="ctanref">Context</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/context">context</a>
<dt class="ctanref">xmltex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xmltex">xmltex</a>
<dt class="ctanref">passivetex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/passivetex">passivetex</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-11</p>

<p>
[[[Question]]][Q-recovertex][[[LBRACE]]]Retrieving (La)TeX from DVI, etc.[[[RBRACE]]]

<p>
The job just can&rsquo;t be done automatically: DVI, PostScript and
PDF are &ldquo;final&rdquo; formats, supposedly not susceptible to
further editing&nbsp;&mdash; information about where things came from has been
discarded.  So if you&rsquo;ve lost your (La)TeX source (or never
had the source of a document you need to work on) you&rsquo;ve a serious job
on your hands.  In many circumstances, the best strategy is to retype
the whole document, but this strategy is to be tempered by
consideration of the size of the document and the potential typists&rsquo;
skills.

<p>
If automatic assistance is necessary, it&rsquo;s unlikely that any more than
text retrieval is going to be possible; the (La)TeX markup that
creates the typographic effects of the document needs to be recreated
by editing.

<p>
If the file you have is in DVI format, many of the techniques
for <a href="FAQ-toascii.html">converting (La)TeX to ASCII</a> are
applicable.  Consider <i class="progname">dvi2tty</i>, <i class="progname">crudetype</i> and
<i class="progname">catdvi</i>.  Remember that there are likely to be problems
finding included material (such as included PostScript figures, that
don&rsquo;t appear in the DVI file itself), and mathematics is
unlikely to convert easily.

<p>
To retrieve text from PostScript files, the
<i class="progname">ps2ascii</i> tool (part of the
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
distribution) is available.  One could try applying this tool to
PostScript derived from an PDF file using <i class="progname">pdf2ps</i> (also
from the <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
distribution), or <i class="progname">Acrobat</i>
<i class="progname">Reader</i> itself; an alternative is <i class="progname">pdftotext</i>,
which is distributed with <i class="progname">xpdf</i>.

<p>
Another avenue available to those with a PDF file they want to
process is offered by Adobe <i class="progname">Acrobat</i> (version 5 or later):
you can tag the PDF file into an estructured document, output
thence to well-formed XHTML, and import the results into
Microsoft <i class="progname">Word</i> (2000 or later).  From there, one may
convert to (La)TeX using one of the techniques discussed in

&ldquo;<a class="FAquestion.html" href="FAQ-fmtconv.html">converting to and from (La)TeX</a>&rdquo;.

<p>
The result will typically (at best) be poorly marked-up.  Problems may
also arise from the oddity of typical TeX font encodings (notably
those of the maths fonts), which <i class="progname">Acrobat</i> doesn&rsquo;t know how
to map to its standard Unicode representation.
<dl>
<dt class="ctanref">catdvi</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/catdvi">catdvi</a>
<dt class="ctanref">crudetype</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/crudetype">crudetype</a>
<dt class="ctanref">dvi2tty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvi2tty">dvi2tty</a>
<dt class="ctanref">xpdf</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/xpdf">xpdf</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-16</p>

<p>
[[[Question]]][Q-LaTeXtoPlain][[[LBRACE]]]Translating LaTeX to Plain TeX[[[RBRACE]]]

<p>
Unfortunately, no &ldquo;general&rdquo;, simple, automatic process is likely to
succeed at this task.  See 
&ldquo;<a href="FAQ-LaTeXandPlain.html">How does LaTeX relate to Plain TeX</a>&rdquo;
for further details.

<p>
Obviously, trivial documents will translate in a trivial way.
Documents that use even relatively simple things, such as labels and
references, are likely to cause trouble (Plain TeX doesn&rsquo;t support
labels).  While graphics are in principle covered, by the Plain TeX

<p>
Translating a document designed to work with LaTeX into one
that will work with Plain TeX is likely to amount to carefully
including (or otherwise re-implementing) all those parts of LaTeX,
beyond the provisions of Plain TeX, which the document uses.

<p>
Some of this work has (in a sense) been done, in the port of the
LaTeX graphics package to Plain TeX.  However, while
<i class="package">graphics</i> is available, other complicated packages (notably
<i class="package">hyperref</i>) are not.  The aspiring translator may find the
<a href="FAQ-eplain.html">Eplain</a> system a useful source of code.  (In fact,
a light-weight system such as Eplain might reasonably be adopted as
an alternative target of translation, though it undoubtedly gives the
user more than the &ldquo;bare minimum&rdquo; that Plain TeX is designed to
offer.)
<dl>
<dt class="ctanref">The eplain system</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/eplain">eplain</a>
<dt class="ctanref">Plain TeX graphics</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/graphics-plain">graphics-plain</a>
</dl>

<p class="lastedit">This answer last edited: 2011-05-30</p>


<p>

<p>

<p>
[[[Question]]][Q-installthings][[[LBRACE]]]Installing things on a (La)TeX system[[[RBRACE]]]


<p>
Installing (or replacing) things on your (La)TeX system has the
potential to be rather complicated; the following questions attempt to
provide a step-by-step approach, starting from the point where you&rsquo;ve
decided what it is that you want to install:
<ul>
<li> You must <a href="FAQ-install-find.html">find the file you need</a>;
<li> If you are going to install a LaTeX package, you may need to
  <a href="FAQ-install-unpack.html">unpack the distributed files</a>;
<li> It may be necessary to 
  <a href="FAQ-install-doc.html">generate some documentation to read</a>;
<li> You need to 
  <a href="FAQ-install-where.html">decide where to install the files</a>;
<li> You must now <a href="FAQ-inst-wlcf.html">install the files</a>; and
  finally
<li> You may need to <a href="FAQ-inst-tidy.html">tidy up</a> after the installation.
</ul>

<p>
[[[Question]]][Q-install-find][[[LBRACE]]]Finding packages to install[[[RBRACE]]]

<p>
How did you learn about the package?

<p>
If the information came from these FAQs, you should already
have a link to the file (there are lists of packages at the end of
each answer).









  Click on one of the links associated with the package, and you can
  get the package (which may be one file or several).



<p>
If you heard about the file somewhere else, it&rsquo;s possible that the
source told you where to look; if not, try the CTAN searching
facilities, such as <a href="http://www.tex.ac.uk/search/">http://www.tex.ac.uk/search/</a>.  That (rather
simple) search engine can return data from a search of the CTAN
catalogue (which covers most useful packages), or data from a search
of the names of files on the archive.

<p>
Packages come in a variety of different styles of distribution; the
very simplest will actually offer just <i class="filename">package.sty</i>&nbsp;&mdash; in this
case, just download the file and 
<a href="FAQ-inst-wlcf.html">get on with installation</a>.

<p>
You will regularly find that the file you want (e.g., <i class="filename">foo.sty</i>)
is distributed in a LaTeX documented source file <i class="filename">foo.dtx</i>;
thus you should search just for <em>foo</em>&nbsp;&mdash; <i class="filename">foo.sty</i> won&rsquo;t be
visible anywhere on the archive or in the catalogue.

<p>
Since most packages are distributed in this
<code class="extension">dtx</code>/<code class="extension">ins</code> way, they usually occupy their own
directory on the archive.  Even if that directory contains other
packages, you should download everything in the directory: as often as
not, packages grouped in this way depend on each other, so that you
really <em>need</em> the other ones.

<p>
Having acquired the package distribution, 
&ldquo;<a href="FAQ-install-unpack.html">unpacking LaTeX packages</a>&rdquo; outlines
your next step.

<p>
[[[Question]]][Q-install-unpack][[[LBRACE]]]Unpacking LaTeX packages[[[RBRACE]]]

<p>
As discussed <a href="FAQ-dtx.html">elsewhere</a>, the &lsquo;ordinary&rsquo; way to
distribute a LaTeX package is as a pair of files <i class="filename">package.dtx</i>
and <i class="filename">package.ins</i>.  If you&rsquo;ve acquired such a pair, you simply
process <i class="filename">package.ins</i> with LaTeX, and the files will appear,
ready for installation.

<p>
Other sorts of provision should ordinarily be accompanied by a
<i class="filename">README</i> file, telling you what to do; we list a few example
configurations.

<p>
Sometimes, a directory comes with a bunch of <code class="extension">dtx</code> files, but
fewer (often only one) <code class="extension">ins</code> files (LaTeX itself comes
looking like this).  If there is more than one <code class="extension">ins</code> file,
and in the absence of any instruction in the <i class="filename">README</i> file, simply
process the <code class="extension">ins</code> file(s) one by one.

<p>
If you&rsquo;re missing the <i class="filename">package.ins</i> altogether, you need to play
around until something works.  Some <code class="extension">dtx</code> files are
&ldquo;self-extracting&rdquo;&nbsp;&mdash; they do without an <code class="extension">ins</code> file, and once
you&rsquo;ve processed the <i class="filename">package.dtx</i>, <i class="filename">package.sty</i> has
automagically appeared.  Various other oddities may appear, but the
archivists aim to have <i class="filename">README</i> file in every package, which
should document anything out of the ordinary with the distribution.

<p>
[[[Question]]][Q-install-doc][[[LBRACE]]]Generating package documentation[[[RBRACE]]]

<p>
We are faced with a range of &ldquo;normal&rdquo; provision, as well as several
oddities.  One should note that documentation of many packages is
available on CTAN, without the need of any further effort by
the user&nbsp;&mdash; such documentation can usually be browsed <em>in situ</em>.

<p>
However, if you find a package that does not offer documentation on
the archive, or if you need the documentation in some other format
than the archive offers, you can usually generate the documentation
yourself from what you download from the archive.

<p>
The standard mechanism, for LaTeX packages, is simply to run
LaTeX on the <i class="filename">package.dtx</i> file, as you would any ordinary
LaTeX file (i.e., repeatedly until the warnings go away).

<p>
A variant is that the unpacking process provides a file
<i class="filename">package.drv</i>; if such a thing appears, process it in preference
to the <i class="filename">package.dtx</i> (it seems that when the documented LaTeX
source mechanism was first discussed, the <i class="filename">.drv</i> mechanism was
suggested, but it&rsquo;s not widely used nowadays).

<p>
Sometimes, the LaTeX run will complain that it can&rsquo;t find
<i class="filename">package.ind</i> (the code line index) and/or <i class="filename">package.gls</i>
(the list of change records, not as you might imagine, a glossary).
Both types of file are processed with special <i class="progname">makeindex</i>
style files; appropriate commands are:
<blockquote>
<pre>
makeindex -s gind package
makeindex -s gglo -o package.gls package.glo
</pre>
</blockquote>
This author finds that the second (the change record) is generally of
limited utility when reading package documentation; it is, however,
valuable if you&rsquo;re part of the package development team.  If you don&rsquo;t
feel you need it, just leave out that step

<p>
Another common (and reasonable) trick performed by package authors is
to provide a separate file <i class="filename">package-doc.tex</i> or even simply
<i class="filename">manual.tex</i>; if the file <i class="filename">package.dtx</i> doesn&rsquo;t help, simply
look around for such alternatives.  The files are treated in the same
way as any &ldquo;ordinary&rdquo; LaTeX file.

<p>
[[[Question]]][Q-inst-wlcf][[[LBRACE]]]Installing files &ldquo;where (La)TeX can find them&rdquo;[[[RBRACE]]]


<p>
In the past, package documentation used always to tell you to put your
files &ldquo;where LaTeX can find them&rdquo;; this was always unhelpful&nbsp;&mdash;
if you knew where that <em>was</em>, you didn&rsquo;t need telling, but if you
<em>didn&rsquo;t</em> know, you were completely stuck.

<p>
It was from this issue that the whole idea of the TDS sprang;
&ldquo;where to put&rdquo; questions now come down to &ldquo;where&rsquo;s the TDS
tree?&rdquo;.

<p>
We therefore answer the question by considering:
<ul>
<li> <a href="FAQ-what-TDS.html">what tree to use</a>, and
<li> <a href="FAQ-install-where.html">where in the tree to put the files</a>.
</ul>

<p>
Once we know the answer to both questions, and we&rsquo;ve created any
directories that are needed, we simply copy files to their rightful
location.

<p>
This has done what the old requirement specified: LaTeX (or
whatever) <em>can</em> (in principle) find the files.  However, in order
that the software <em>will</em> find the files, we need to update an
index file.

<p>
On a MiKTeX system, open the window
  <tt>Start</tt>&rarr;
  <tt>All Programs</tt>&rarr;
  <tt>MiKTeX &lsaquo;<i>version</i>&rsaquo;</tt>&rarr;
  <tt>Settings</tt>,
and click on <tt>Refresh FNDB</tt>.
The job may also be done in a command window, using the command:
<blockquote>
<pre>
initexmf --update-fndb
</pre>
</blockquote>
The 
<a href="http://docs.miktex.org/manual/initexmf.html">MiKTeX documentation</a>
gives further details about <tt>initexmf</tt>.

<p>
On a texlive-based system (or its predecessor teTeX, use the command
<tt>texhash</tt> (or if that&rsquo;s not available, <tt>mktexlsr</tt>&nbsp;&mdash;
they ought to be different names for the same program).

<p>
Having done all this, the new package will be available for use.

<p>
[[[Question]]][Q-what-TDS][[[LBRACE]]]Which tree to use[[[RBRACE]]]

<p>
In almost all cases, new material that you install should go into the
&ldquo;local&rdquo; tree of your (La)TeX installation.  (A discussion of
reasons <em>not</em> to use the local tree appears below.)

<p>
On a Unix(-alike) system, using texlive or teTeX, the root
directory will be named something like <tt class="path">/usr/share/texmf-local/</tt>
or <tt class="path">/usr/local/share/texmf/</tt>
You can ask such a system where it believes a local tree should be:
<blockquote> 
<pre>
kpsewhich -var-value TEXMFLOCAL
</pre>
</blockquote>
the output being the actual path, for example (on the workstation this
author is using today):
<blockquote>
<pre>
/usr/local/share/texmf
</pre>
</blockquote>

<p>
In a MiKTeX installation, the location will in fact typically be
something you specified yourself when you installed MiKTeX in the
first place, but you may find you need to create one.  The MiKTeX
&ldquo;Settings&rdquo; window (
  <tt>Start</tt>&rarr;
  <tt>Programs</tt>&rarr;
  <tt>MiKTeX</tt>&rarr;
  <tt>Settings</tt>)
has a tab &ldquo;<tt>Roots</tt>&rdquo;; that tab gives a list of current
TDS roots (they&rsquo;re typically not called
<tt>texmf</tt>-anything).  If there&rsquo;s not one there with
&ldquo;<tt>local</tt>&rdquo; in its name, create an appropriate one (see below),
and register it using the window&rsquo;s
&ldquo;<tt>Add</tt>&rdquo; button.

<p>
The 
<a href="http://docs.miktex.org/faq/maintenance.html">MiKTeX FAQ</a>
suggests that you should create 
&ldquo;<tt>C:&#x5c; Local TeX Files</tt>&rdquo;, which is good if you
manage your own machine, but often not even possible in corporate, or
similar, environments&nbsp;&mdash; in such situations, the user may have no
control over the hard disc of the computer, at all.

<p>
So the real criterion is that your local tree should be somewhere that
<em>you</em>, rather than the system, control.  Restrictive systems often
provide a &ldquo;home directory&rdquo; for each user, mounted as a network
drive; this is a natural home for the user&rsquo;s local tree.  Other (often
academic) environments assume the user is going to provide a memory
stick, and will assign it a defined drive letter&nbsp;&mdash; another good
candidate location.  Note that the semantics of such a tree are
indistinguishable from those of a 
<a href="FAQ-privinst.html">&ldquo;home&rdquo; TEXMF tree</a>.

<p>
You might not wish to use the &lsquo;local&rsquo; tree:
<ul>
<li> if the package, or whatever, is &ldquo;personal&rdquo; (for example,
  something commercial that has been licensed to you alone, or
  something you&rsquo;re developing yourself), it should go in your
  <a href="FAQ-privinst.html">&ldquo;home&rdquo; TEXMF tree</a>;
<li> if you <em>know</em> that the package you are installing is a
  replacement for the copy on the TEXMF tree of your (La)TeX
  distribution; in this case it is reasonable to replace the existing
  copy in the TEXMF tree.
</ul>
If the system is upgraded (or otherwise re-installed), a copy made in
the TEXMF tree will probably be overwritten or deleted.  This
may be what you want, but otherwise it&rsquo;s a powerful incentive to use a
tree that is <em>not</em> &ldquo;part of the installed system&rdquo;.

<p>
The reason one might place upgrades the distribution&rsquo;s main tree is to
avoid confusion.  Suppose you were to place the file on the local
tree, and then install a new version of the distribution&nbsp;&mdash; you might
have an effect like:
<ul>
<li> distribution comes with package version n;
<li> you install package version n+1 on the local tree; and
<li> the updated distribution provides package version n+2.
</ul>
In such a situation, you could find yourself using version
n+1 (from the local tree) <em>after</em> the new
distribution has been installed.

<p>
If you install in the local tree, the only way to avoid such problems
is to carefully purge the local tree when installing a new
distribution.  This is tedious, if you&rsquo;re maintaining a large
installation.

<p>
[[[Question]]][Q-install-where][[[LBRACE]]]Where to install packages[[[RBRACE]]]

<p>
We assume here that you have decided what tree to put your files in,
after reading 
&ldquo;<a href="FAQ-what-TDS.html">choosing a TDS tree</a>&rdquo;.  We will therefore
write <tt>&#x24;TEXMF</tt> for it, and you need to substitute the tree
you decided on.

<p>
The basic idea is to imitate the directory structure in your
existing tree(s). Here are some examples of where various sorts of
files should go:
<pre>
.sty, .cls or .fd: $TEXMF/tex/<format>/<package>/
.mf:   $TEXMF/fonts/source/<supplier>/<font>/
.tfm:  $TEXMF/fonts/tfm/<supplier>/<font>/
.vf:   $TEXMF/fonts/vf/<supplier>/<font>/
.afm:  $TEXMF/fonts/afm/<supplier>/<font>/
.pfb:  $TEXMF/fonts/type1/<supplier>/<font>/
.ttf:  $TEXMF/fonts/truetype/<supplier>/<font>/
.otf:  $TEXMF/fonts/opentype/<supplier>/<font>/
.pool, .fmt, .base or .mem: $TEXMF/web2c
</pre>
and for modern systems (those distributed in 2005 or later, using TDS
v1.1 layouts):
<pre>
.map:  $TEXMF/fonts/map/<syntax>/<bundle>/
.enc:  $TEXMF/fonts/enc/<syntax>/<bundle>/
</pre>
(Map and encoding files went to directories under
<i class="filename">$TEXMF/dvips/</i>, 
in earlier distributions.)

<p>
In the lists above &lsaquo;<i>format</i>&rsaquo; identifies the format the macros
are designed for&nbsp;&mdash; it can be things such as <tt>plain</tt>,
<tt>generic</tt> (i.e., any format), <tt>latex</tt> or
<tt>context</tt> (or several less common formats).

<p>
For fonts, &lsaquo;<i>font</i>&rsaquo; refers to the font family (such as <tt>cm</tt>
for Knuth&rsquo;s Computer Modern, <tt>times</tt> for Adobe&rsquo;s Times Roman).
The supplier is usually obvious&nbsp;&mdash; the supplier
&ldquo;public&rdquo; is commonly used for free fonts.

<p>
The &lsaquo;<i>syntax</i>&rsaquo; (for <code class="extension">map</code> and <code class="extension">enc</code> files) is a
categorisation based on the way the files are written; candidates are
names of programs such as <i class="progname">dvips</i> or <i class="progname">pdftex</i>.

<p>
&ldquo;Straight&rdquo; (La)TeX input can take other forms than the
<code class="extension">sty</code>, <code class="extension">cls</code> or <code class="extension">fd</code> listed above, too
(apart from the &lsquo;obvious&rsquo; <code class="extension">tex</code>).  Examples are (the
obvious) <code class="extension">tex</code>, <code class="extension">lfd</code> for <i class="package">babel</i> language
definitions, <code class="extension">sto</code> and <code class="extension">clo</code> for package and class
options, <code class="extension">cfg</code> for configuration information,
<code class="extension">def</code> for variants (such as the types of devices
<i class="package">graphics</i> drives).  The <i class="filename">README</i> of the package should
tell you of any others, though sometimes that information is printed
when the package&rsquo;s <a href="FAQ-install-unpack.html">comments are stripped</a>.
All of these files should live together with the main package files.

<p>
Note that &lsaquo;<i>font</i>&rsaquo; may stand for a single font or an entire family:
for example, files for all of Knuth&rsquo;s Computer Modern fonts are to be
found in <tt>.../public/cm</tt>, with various prefixes as appropriate.

<p>
The font &ldquo;supplier&rdquo; <em>public</em> is a sort of hold-all for
&ldquo;free fonts produced for use with (La)TeX&rdquo;: as well as Knuth&rsquo;s
fonts, <em>public</em>&rsquo;s directory holds fonts designed by others
(originally, but no longer exclusively, in MetaFont).

<p>
Documentation for each package should all go, undifferentiated, into a
directory on the <tt class="path">doc/</tt> subtree of the TDS.  The layout of
the subtree is slightly different: <tt class="path">doc/latex</tt> hosts all
LaTeX documentation directories, but more fundamental things are
covered, e.g., by <tt class="path">doc/etex</tt> or <tt class="path">doc/xetex</tt>.

<p>
[[[Question]]][Q-inst-tidy][[[LBRACE]]]Tidying up after installation[[[RBRACE]]]

<p>
There&rsquo;s not usually a lot to do after you&rsquo;ve completed the steps
above&nbsp;&mdash; indeed, if you&rsquo;re merely installed files direct from the
archive, or whatever, there will be precisely nothing left, by way of
debris.

<p>
Things you might care to clean up are:
<ul>
<li> the archive file, if you retrieved your data from the archive
  as a <code class="extension">zip</code> file, or the like;
<li> the <code class="extension">dtx</code> and <code class="extension">ins</code> files, if you chose not
  to install them with the documentation; and
<li> the <code class="extension">aux</code>, <code class="extension">log</code>, <code class="extension">idx</code>, etc.,
  from building the documentation.
</ul>
A simple way of achieving all this is to download to a working
directory that was created for the purpose, and then to delete that
directory and all its contents after you&rsquo;ve finished installing.

<p>
[[[Question]]][Q-inst-scut][[[LBRACE]]]Shortcuts to installing files[[[RBRACE]]]

<p>
There are circumstances in which most of the fuss of installation can
be bypassed:
<ul>
<li> If you are a MiKTeX user, the 

  <a href="FAQ-inst-miktex*.html">MiKTeX package management system</a>
  can usually help;





<li> Similarly, if you are a texlive user, the 

  <a href="FAQ-inst-texlive.html">texlive manager</a>
  can usually help;





<li> The package you want may already exist as a ZIP file

  formatted for <a href="FAQ-inst-tds-zip.html">direct installation</a>.




</ul>

<p>
[[[Question]]][Q-inst-miktex*][[[LBRACE]]]Installation using MiKTeX package manager[[[RBRACE]]]


<p>
Packages for use with MiKTeX are maintained very efficiently by the
project managers (new packages and updates on CTAN ordinarily
make their way to the MiKTeX package repository within a week).
Thus it makes sense for the MiKTeX user to take advantage of the
system rather than grinding through the steps of installation.

<p>
MiKTeX maintains a database of packages it &ldquo;knows about&rdquo;,
together with (coded) installation instructions that enable it to
install the packages with minimal user intervention; you can update
the database over the internet.

<p>
If MiKTeX does know about a package you need installed, it&rsquo;s worth
using the system:
first, open the MiKTeX packages window: click on
  <tt>Start</tt>&rarr;
  <tt>Programs</tt>&rarr;
  <tt>MiKTeX</tt>&rarr;
  <tt>MiKTeX Options</tt>, and select the
  <tt>Packages</tt> tab.

<p>
On the tab, there is an Explorer-style display of packages.
Right-click on the root of the tree, &ldquo;<tt>MiKTeX Packages</tt>&rdquo;,
and select &ldquo;<tt>Search</tt>&rdquo;: enter the name of the package you&rsquo;re
interested in, and press the &ldquo;<tt>Search</tt>&rdquo; button.  If
MiKTeX knows about your package, it will open up the tree to show
you a tick box for your package: check that box.

<p>
If you prefer a command-line utility, there&rsquo;s <i class="progname">mpm</i>.  Open a
command shell, and type:
<blockquote>
<pre>
mpm --install=<package>
</pre>
</blockquote>
(which of course assumes you know the name by which MiKTeX refers to
your package).

<p>
[[[Question]]][Q-inst-texlive][[[LBRACE]]]Installation using texlive manager[[[RBRACE]]]

<p>
texlive manager (<i class="progname">tlmgr</i>) is, by default, a shell (or
Windows terminal window) command.  There is voluminous documentation
about it from the command
<blockquote>
  <tt>tldoc tlmgr</tt>
</blockquote>
but basic operation is pretty straightforward.  The manager needs to
know where to download stuff from; the canonical setup is
<blockquote>

<pre>
tlmgr option repository \
  http://mirror.ctan.org/systems/texlive/tlnet
</pre>



<pre>
tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
</pre>

</blockquote>
which passes the decision to the mirror selector.  You can (of course)
specify a particular archive or mirror that you &ldquo;trust&rdquo;, or even a
local disc copy that you keep up-to-date (disc space and bandwidth are
so cheap nowadays, that a &ldquo;home mirror&rdquo; of CTAN is a feasible
proposition).

<p>
To update a single package, use:
<blockquote>
<pre>
tlmgr update <package>
</pre>
</blockquote>

<p>
To update everything you already have in your installation, use:
<blockquote>
<pre>
tlmgr update --all
</pre>
</blockquote>

<p>
[[[Question]]][Q-inst-tds-zip][[[LBRACE]]]Installing using ready-built ZIP files[[[RBRACE]]]

<p>
Installing packages, as they (&ldquo;traditionally&rdquo;) appear on
CTAN, involves:
<ul>
<li> identifying where to put the various files on an TDS
  tree,
<li> installing them, and
<li> a few housekeeping operations.
</ul>
Most people, for most packages, find the first two steps onerous, the
last being easy (unless it is forgotten!).

<p>
Ready-built ZIP files&nbsp;&mdash; also known as 
<a href="FAQ-tds-zip.html">TDS-ZIP files</a>&nbsp;&mdash; are designed to lighten
the load of performing the first two steps of installation: they
contain all the files that are to be installed for a given
package, in their &ldquo;correct&rdquo; locations in a 
<a href="FAQ-tds.html">TDS tree</a>.

<p>
To install such a file on a Unix system (we assume that you&rsquo;ll install
into the local TEXMF tree, at <tt>&#x24;TEXMFLOCAL</tt>):
<blockquote>
<pre>
cd $TEXMFLOCAL
unzip $package.tds.zip
</pre>
</blockquote>

<p>
On a Windows system that is modern enough that it has a built-in
ZIP unpacker, simply double-click on the file, and browse to
where it&rsquo;s to be unpacked.  (We trust that those using earlier
versions of Windows will already have experience of using
<i class="progname">WinZIP</i> or the like.)

<p>
Having unpacked the <code class="extension">zip</code> archive, in most cases the only
remaining chore is to update the file indexes&nbsp;&mdash; as in 
<a href="FAQ-inst-wlcf.html">normal installation instructions</a>.  However, if
the package provides a font, you also need to enable the font&rsquo;s map,
which is discussed in 
&ldquo;<a href="FAQ-instt1font.html">Installing a Type&nbsp;1 font</a>&rdquo;

<p class="lastedit">This answer last edited: 2012-02-08</p>

<p>
[[[Question]]][Q-tempinst][[[LBRACE]]]&ldquo;Temporary&rdquo; installation of (La)TeX files[[[RBRACE]]]

<p>
Operating systems and applications need to know where to find files:
many files that they need are &ldquo;just named&rdquo;&nbsp;&mdash; the user doesn&rsquo;t
necessarily know <em>where</em> they are, but knows to ask for them.
The commonest case, of course, is the commands whose names you type to
a shell (yes, even Windows&rsquo; &ldquo;MSDOS prompt&rdquo;) are using a shell to read what
you type: many of the commands simply involve loading and executing a
file, and the <tt>PATH</tt> variable tells the shell where to find those files.

<p>
Modern TeX implementations come with a bunch of search paths
built in to them.  In most circumstances these paths are adequate, but
one sometimes needs to extend them to pick up files in strange
places: for example, we may wish to try a new bundle of packages
before <a href="FAQ-installthings.html">installing them &lsquo;properly&rsquo;</a>.  To do
this, we need to change the relevant path as TeX perceives it.
However, we don&rsquo;t want to throw away TeX&rsquo;s built-in path (all of a
sudden, TeX won&rsquo;t know how to deal with all sorts of things).

<p>
To <em>extend</em> a TeX path, we define an operating system
environment variable in &lsquo;path format&rsquo;, but leaving a gap which TeX
will fill with its built-in value for the path.  The commonest case is
that we want to place our extension in front of the path, so that our
new things will be chosen in preference, so we leave our &lsquo;gap to be
filled&rsquo; at the end of the environment variable.  The syntax is simple
(though it depends which shell you&rsquo;re actually using): so on a
Unix-like system, using the <i class="progname">bash</i> shell, the job might be
done like:
<blockquote>
<pre>
export TEXINPUTS=/tmp:
</pre>
</blockquote>
while in a Windows system, within a MSDOS window, it would be:
<blockquote>
<pre>
set TEXINPUTS=C:/temp;
</pre>
</blockquote>
In either case, we&rsquo;re asking TeX to load files from the root disc
temporary files directory; in the Unix case, the &ldquo;empty slot&rdquo; is
designated by putting the path separator &lsquo;<code class="verb">:</code>&rsquo; on its own at the end
of the line, while in the Windows case, the technique is the same, but
the path separator is &lsquo;<code class="verb">;</code>&rsquo;.

<p>
Note that in either sort of system, the change will only affect
instances of TeX that are started from the shell where the
environment variable was set.  If you run TeX from another window,
it will use the original input path.  To make a change of input path
that will &ldquo;stick&rdquo; for all windows, set the environment variable in
your login script or profile (or whatever) in a Unix system and log
out and in again, or in <i class="filename">autoexec.bat</i> in a Windows system, and
reboot the system.

<p>
While all of the above has talked about where TeX finds its macro
files, it&rsquo;s applicable to pretty much any sort of file any
TeX-related program reads&nbsp;&mdash; there are lots of these paths, and of
their corresponding environment variables.  In a
<i class="progname">web2c</i>-based system, the copious annotations in the
<i class="filename">texmf.cnf</i> system configuration file help you to learn which
path names correspond to which type of file.

<p>
[[[Question]]][Q-privinst][[[LBRACE]]]&ldquo;Private&rdquo; installations of files[[[RBRACE]]]

<p>
It sometimes happens that you need a new version of some macro package
or font, but that the machine you use is maintained by someone who&rsquo;s
unwilling to update and won&rsquo;t give you privileges to do the job
yourself.  A <a href="FAQ-tempinst.html">&ldquo;temporary&rdquo; installation</a> is
sometimes the correct approach, but if there&rsquo;s the slightest chance
that the installation will be needed on more than one project,
temporary installations aren&rsquo;t right.

<p>
In circumstances where you have plenty of quota on backed-up media, or
adequate local scratch space, the correct approach is to create a
private installation of (La)TeX which includes the new stuff you
need; this is the ideal, but is not generally possible.

<p>
So, since you can&rsquo;t install into the public <tt>texmf</tt> tree, you
have to install into a <i class="filename">texmf</i> tree of your own; fortunately, the
TDS standard allows for this, and modern distributions allow
you to do it.  The most modern distributions refer to the tree as
<tt>&#x24;TEXMFHOME</tt>, but it used to be called <tt>&#x24;HOMETEXMF</tt>;
so to check that your TeX system does indeed support the mechanism
you should start with
<blockquote>
<pre>
kpsewhich -var-value TEXMFHOME
</pre>
</blockquote>
(for example).  This will almost invariably return a pointer to a
subdirectory <i class="filename">texmf</i> of your home directory; the commonest
exception is Macintoshes, using MacTeX, where the diretory is
conventionally <i class="filename">Library/texmf</i> in your home directory.

<p>
If you can confirm that the technique does indeed work, install your
new package (or whatever) in the <a href="FAQ-install-where.html">correct place</a>
in a tree based on <i class="filename">$HOME/texmf</i>, 
and generate an index of that tree
<blockquote>
<pre>
texhash $HOME/texmf
</pre>
</blockquote>
(the argument specifies which tree you are indexing: it&rsquo;s necessary
since you don&rsquo;t, by hypothesis, have access to the main tree, and
<i class="progname">texhash</i> without the argument would try to write the main
tree.

<p>
There are two wrinkles to this simple formula: first, the installation
you&rsquo;re using may <em>not</em> define a home TEXMF directory, and second,
there may be some obstruction to using <i class="filename">$HOME/texmf</i> 
as the
default name.  In either case, a good solution is to have your own
<i class="filename">texmf.cnf</i>&nbsp;&mdash; an idea that sounds more frightening that it
actually is.  The installation&rsquo;s existing file may be located with the
command:
<blockquote>
<pre>
kpsewhich texmf.cnf
</pre>
</blockquote>
Take a copy of the file and put it into a directory of your own; this
could be any directory, but an obvious choice is the <i class="filename">web2c</i>
directory of the tree you want to create, i.e.,
<i class="filename">$HOME/texmf/web2c</i> 
or the like.  Make an environment variable to
point to this directory:
<blockquote>
<pre>
TEXMFCNF=$HOME/texmf/web2c
export TEXMFCNF
</pre>
</blockquote>
(for a Bourne shell style system), or
<blockquote>
<pre>
setenv TEXMFCNF $HOME/texmf/web2c
</pre>
</blockquote>
(for a C-shell style system).  Now edit the copy of <i class="filename">texmf.cnf</i>

<p>
There will be a line in the existing file that defines the tree where
everything searches; the simplest form of the line is:
<blockquote>
<pre>
TEXMF = !!$TEXMFMAIN
</pre>
</blockquote>
but, there are likely to be several alternative settings behind
comment markers (&ldquo;<tt>&#x25;</tt>&rdquo;), and the person who 
installed your system may have left them there.  Whatever, you need to
modify the line that&rsquo;s in effect: change the above to three lines:
<blockquote>
<pre>
HOMETEXMF = $HOME/texmf
TEXMF = {$HOMETEXMF,!!$TEXMFMAIN}
% TEXMF = !!$TEXMFMAIN
</pre>
</blockquote>
the important point being that <tt>&#x24;HOMETEXMF</tt> must come before
whatever was there before, inside the braces.  For example, if the
original was
<blockquote>
<pre>
TEXMF = {!!$LOCALTEXMF,!!$TEXMFMAIN}
</pre>
</blockquote>
it should be converted to:
<blockquote>

<pre>
HOMETEXMF = $HOME/texmf
TEXMF = {$HOMETEXMF,!!$LOCALTEXMF,
                     !!$TEXMFMAIN}
% TEXMF = {!!$LOCALTEXMF,!!$TEXMFMAIN}
</pre>






<pre>
HOMETEXMF = $HOME/texmf
TEXMF = {$HOMETEXMF,!!$LOCALTEXMF,!!$TEXMFMAIN}
% TEXMF = {!!$LOCALTEXMF,!!$TEXMFMAIN}
</pre>

</blockquote>
(retaining the original, as a comment, is merely an aide-memoir in
case you need to make another change, later).  The <tt>!!</tt> signs
tell the file-searching library that it should insist on a
<i class="progname">texhash</i>-ed directory tree; if you can count on yourself
remembering to run <i class="progname">texhash</i> on your new tree every time you
change it, then it&rsquo;s worth adding the marks to your tree:
<blockquote>

<pre>
TEXMF = {!!$HOMETEXMF,!!$LOCALTEXMF,
                       !!$TEXMFMAIN}
</pre>






<pre>
TEXMF = {!!$HOMETEXMF,!!$LOCALTEXMF,!!$TEXMFMAIN}
</pre>

</blockquote>
as this will make (La)TeX find its files marginally faster.

<p>
Having made all these changes, (La)TeX should &ldquo;just use&rdquo; files in
your new tree, in preference to anything in the main tree&nbsp;&mdash; you can
use it for updates to packages in the main tree, as well as for
installing new versions of things.

<p class="lastedit">This answer last edited: 2011-04-13</p>

<p>
[[[Question]]][Q-instfont][[[LBRACE]]]Installing a new font[[[RBRACE]]]

<p>
Fonts are really &ldquo;just another package&rdquo;, and so should be installed
in the same sort of way as packages.  However, fonts tend to be more
complicated than the average package, and as a result it&rsquo;s sometimes
difficult to see the overall structure.

<p>
Font files may appear in any of a large number of different formats;
each format has a different function in a TeX system, and each is
stored in a directory its own sub-tree in the installation&rsquo;s
TDS tree; all these sub-trees have the directory
<i class="filename">$TEXMF/fonts</i> 
as their root.  A sequence of answers describes the
installation of fonts:

follow the list through the &ldquo;next question&rdquo; links at the bottom of
this answer to view them all.

Other answers discuss specific font families&nbsp;&mdash; for example,

&ldquo;<a href="FAQ-concrete.html">using the concrete fonts</a>&rdquo;.

<p>
[[[Question]]][Q-instmffont][[[LBRACE]]]Installing a font provided as MetaFont source[[[RBRACE]]]

<p>
Installing Metafont fonts is (by comparison with other sorts of font) rather
pleasingly simple.  Nowadays, they are mostly distributed just as the
MetaFont source, since modern TeX distributions are able to produce
everything the user needs &ldquo;on the fly&rdquo;; however, if the distribution
<em>does</em> include TFM files, install them too, since they
save a little time and don&rsquo;t occupy much disc space.  Always distrust
distributions of PK font bitmap files: there&rsquo;s no way of
learning from them what printer they were generated for, and naming
schemes under different operating systems are another source of
confusion.

<p>
&ldquo;<a href="FAQ-install-where.html">Where to install files</a>&rdquo;
specifies where the files should go.

<p>
Further confusion is introduced by font families whose authors devise rules
for automatic generation of MetaFont sources for generating fonts at
particular sizes; the installation has to know about the rules, as
otherwise it cannot generate font files.  No general advice is
available, but most such font families are now obsolescent.

<p>
[[[Question]]][Q-instprinterfont][[[LBRACE]]]&lsquo;Installing&rsquo; a PostScript printer built-in font[[[RBRACE]]]

<p>
There is a &ldquo;standard&rdquo; set of fonts that has appeared in every PostScript
printer since the second generation of the type.  These fonts
(8&nbsp;families of four text fonts each, and three special-purpose fonts)
are of course widely used, because of their simple availability.  The
set consists of:
<ul>
<li> <i class="fontname">Times</i> family (4 fonts)
<li> <i class="fontname">Palatino</i> family (4 fonts)
<li> <i class="fontname">New</i> <i class="fontname">Century</i> <i class="fontname">Schoolbook</i> family (4 fonts)
<li> <i class="fontname">Bookman</i> family (4 fonts)
<li> <i class="fontname">Helvetica</i> family (4 fonts)
<li> <i class="fontname">Avant</i> <i class="fontname">Garde</i> (4 fonts)
<li> <i class="fontname">Courier</i> family (4 fonts)
<li> <i class="fontname">Utopia</i> family (4 fonts)
<li> Zapf <i class="fontname">Chancery</i> (1 font)
<li> Zapf <i class="fontname">Dingbats</i> (1 font)
<li> <i class="fontname">Symbol</i> (1 font)
</ul>
All these fonts are supported, for LaTeX users, by the
<i class="package">psnfss</i> set of metrics and support files in the file
<i class="filename">lw35nfss.zip</i> on CTAN.  Almost any remotely modern TeX
system will have some version of <i class="package">psnfss</i> installed, but
users should note that the most recent version has much improved
coverage of maths with <i class="fontname">Times</i> (see package
<i class="package">mathptmx</i>) and with <i class="fontname">Palatino</i> (see package
<i class="package">mathpazo</i>, as well as a more reliable set of font metrics.

<p>
The archive <i class="filename">lw35nfss.zip</i> is laid out according to the
TDS, so in principle, installation consists simply of
&ldquo;unzipping&rdquo; the file at the root of a <tt class="path">texmf</tt> tree.

<p>
Documentation of the <i class="package">psnfss</i> bundle is provided in
<i class="filename">psnfss2e.pdf</i> in the distribution.
<dl>
<dt class="ctanref">mathpazo.sty</dt><dd>Part of the <i class="package">psnfss</i> bundle
<dt class="ctanref">mathptmx.sty</dt><dd>Part of the <i class="package">psnfss</i> bundle
<dt class="ctanref">psnfss bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psnfss">psnfss</a>
</dl>

<p>
[[[Question]]][Q-prept1font][[[LBRACE]]]Preparing a Type&nbsp;1 font[[[RBRACE]]]

<p>
The process of installing a Type&nbsp;1 font set is rather convoluted, and
we will deal with it in two chunks: first (in the present answer)
preparing the font for installation, and second 
<a href="FAQ-instt1font.html">installing a Type&nbsp;1 font</a>).

<p>
Many fonts are supplied in (La)TeX ready form: such fonts need no
preparation, and may be installed immediately.

<p>
However, if you purchase a font from a Type foundry (either direct or
via one of the web stores), you are likely to need to &lsquo;prepare&rsquo; it for
use with (La)TeX.  The rest of this answer discusses this preparation.
<ul>
<li> Acquire the font.  A very small set of Type&nbsp;1 fonts is installed
  in most PostScript printers you will encounter.  For those few (whose use
  is covered by the basic PSNFSS package), you don&rsquo;t need the
  Type&nbsp;1 font itself, to be able to print using the font.

<p>
  For all the myriad other Type&nbsp;1 fonts, to be able to print using
  the font you need the Type&nbsp;1 file itself.  Some of these are
  available for free (they&rsquo;ve either been donated to the public
  domain, or were developed as part of a free software project), but
  the vast majority are commercial products, requiring you to spend
  real money.
<li> Acquire the fonts&rsquo; AFM files.  AFM files contain
  information from the font foundry, about the sizes of the characters
  in the font, and how they fit together.  One measure of the quality
  of a font-supplier is that they provide the AFM files by
  default: if the files are not available, you are unlikely to be able
  to use the font with (La)TeX.
<li> Rename the AFM files and the Type&nbsp;1 files to match the
  <a href="FAQ-fontname.html">Berry font naming scheme</a>.
<li> Generate TeX metric files from the AFM files.  The
  commonest tool for this task is <i class="package">fontinst</i>; the package
  documentation helps, but other guides are available (see below).
  The simplest possible script to pass to <i class="package">fontinst</i> is:
  <blockquote>
<pre>
\latinfamily{xyz}{}
\bye
</pre>
  </blockquote>
  where <tt>xyz</tt> is the Berry name of the font family.  This
  simple script is adequate for most purposes: its output covers the
  font family in both T1 and OT1 font encodings.  Nevertheless,
  with fancier fonts, more elaborate things are possible with
  <i class="package">fontinst</i>: see its documentation for details.

<p>
  <i class="package">Fontinst</i> also generates map files, and LaTeX font
  definition (<code class="extension">fd</code>) files.
</ul>
Having traversed this list, you have a set of font files ready for
installation.
<dl>
<dt class="ctanref">fontinst.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontinst">fontinst</a>
<dt class="ctanref">Type 1 installation guide</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/T1instguide">T1instguide</a>
</dl>

<p>

<p>
[[[Question]]][Q-instt1font][[[LBRACE]]]Installing a Type&nbsp;1 font[[[RBRACE]]]

<p>
Once you have a prepared Type&nbsp;1 font, either direct from CTAN
or the like, or having <a href="FAQ-prept1font.html">&lsquo;prepared&rsquo; it yourself</a>,
you can get on with installation.

<p>
The procedure is merely an extension of that for packages, etc., so
much of what follows will be familiar:
<ul>
<li> Install the files, in your local <tt>texmf</tt> tree (the advice
  about installing non-standard things applies here, too).  The
  following list gives reasonable destinations for the various files
  related to a font family &lsaquo;<i>fname</i>&rsaquo;:

<pre>
.pfb,
.pfa  .../fonts/type1/<foundry>/<fname>
.tfm  .../fonts/tfm/<foundry>/<fname>
.vf   .../fonts/vf/<foundry>/<fname>
.sty,
.fd   .../tex/latex/<fname>
.map  .../fonts/map/dvips/<foundry>
</pre>


<blockquote>
<pre>
.pfb,
.pfa  .../fonts/type1/<foundry>/<fname>
.tfm  .../fonts/tfm/<foundry>/<fname>
.vf   .../fonts/vf/<foundry>/<fname>
.sty,
.fd   .../tex/latex/<fname>
.map  .../fonts/map/dvips/<foundry>
</pre>
</blockquote>

  but if you are lucky, you will be starting from a distribution from
  CTAN and there is a corresponding <code class="extension">tds.zip</code> file:
  using this TDS-file saves the bother of deciding where to put
  your files in the TDS tree.
<li> Regenerate the file indexes (as described in
  <a class="FAquestion.html" href="FAQ-inst-wlcf.html">package installation</a>).
<li> Update the <i class="progname">dvips</i>, PDFTeX and other maps:
  <ul>
  <li> On any current texlive-based system, or a teTeX v3.0
    system, execute the command
<blockquote>
<pre>
updmap-sys --enable Map <fname>.map
</pre>
</blockquote>
    as root.  (If you <em>can</em> use <i class="progname">updmap-sys</i>&nbsp;&mdash; do; if
    not&nbsp;&mdash; presumably because your (La)TeX system was set up by
    someone else&nbsp;&mdash; you have to fall back on plain <i class="progname">updmap</i>,
    but be aware that it&rsquo;s a potent source of confusion, setting up
    map sets that might be changed behind your back.)
  <li> On a current MiKTeX system, update the system file
    <i class="filename">updmap.cfg</i>, using the shell command
<blockquote>
<pre>
initexmf --edit-config-file updmap
</pre>
</blockquote>
    adding a line at the end:
<blockquote>
<pre>
Map <fname>.map
</pre>
</blockquote>
    for each font family &lsaquo;<i>fname</i>&rsaquo; you are adding to the system.
    Now generate revised maps with the shell command
<blockquote>
<pre>
initexmf --mkmaps
</pre>
</blockquote>
    This, and other matters, are described in MiKTeX 
    <a href="http://docs.miktex.org/manual/advanced.html">&ldquo;advanced&rdquo; documentation</a>.
  </ul>
</ul>
Both processes (preparing and installing a font) are very well (and
thoroughly) described in Philipp Lehman&rsquo;s guide to font installation,
which may be found on CTAN.
<dl>
<dt class="ctanref">fontinst.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontinst">fontinst</a>
<dt class="ctanref">Type 1 installation guide</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/T1instguide">T1instguide</a>
</dl>

<p>
[[[Question]]][Q-inst1cm][[[LBRACE]]]Installing the Type&nbsp;1 versions of the CM&nbsp;fonts[[[RBRACE]]]

<p>
This is a specialised case of <a href="FAQ-instfont.html">installing a font</a>,
but it is almost never necessary&nbsp;&mdash; it&rsquo;s inconceivable that any (even
remotely) recent system will <em>not</em> have the fonts already
installed.  You can confirm this (near-inevitable) fact by trying the
fonts.  On a system that uses <i class="progname">dvips</i> (almost all do), try
the sequence:
<blockquote>
<pre>
latex sample2e
dvips -o sample2e.ps sample2e
</pre>
</blockquote>
at a &ldquo;command prompt&rdquo; (<i class="progname">shell</i>, in a Unix-style system,
&ldquo;DOS box&rdquo; in a Windows system).

<p>
If the command works at all, the console output of the command will
include a sequence of Type&nbsp;1 font file names, listed as
<tt><<em>path</em>/cmr10.pfb></tt> and so on; this is <i class="progname">dvips</i>
telling you it&rsquo;s copying information from the Type&nbsp;1 font, and you
need do no more.

<p>
If the test has failed, you need to install your own set of the fonts;
the distribution (including all the fonts the AMS designed and
produced themselves) is now described as <i class="package">amsfonts</i>.  The
bundle contains metric and map files&nbsp;&mdash; all you need to
<a href="FAQ-instt1font.html">install the fonts</a>.
<dl>
<dt class="ctanref">AMS and CM fonts, in Type 1 format</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
</dl>

<p>

<p>


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-usepsfont][[[LBRACE]]]Using Adobe Type 1 fonts with TeX[[[RBRACE]]]

<p>
In order to use any font, TeX needs a
<em>metric</em> file (TFM file).  Several sets of metrics for
common Adobe Type 1 fonts are
available from the archives; for mechanisms for generating new ones,
see <a class="FAquestion.html" href="FAQ-metrics.html">metrics for PostScript fonts</a>.  You
also need the fonts themselves; PostScript printers come with a set of
fonts built in, but to extend your repertoire you usually
need to buy from one of the many commercial font vendors (see, for
example, <a class="FAquestion.html" href="FAQ-psfchoice.html">&ldquo;choice of fonts&rdquo;</a>).

<p>
If you use LaTeX 2e, access to your printer&rsquo;s fonts is offered by the
PSNFSS package; the LaTeX3 project team declare that
PSNFSS is a &ldquo;required&rdquo; part of a LaTeX distribution, and
bug reports may be submitted via the 
<a href="FAQ-latexbug.html">LaTeX bugs system</a>. 
PSNFSS gives you a set of packages for changing the default
roman, sans-serif and typewriter fonts; <em>e.g</em>., the
<i class="package">mathptmx</i> package will set up <i class="fontname">Times</i>
<i class="fontname">Roman</i> as the main text font (and introduces mechanisms to
typeset mathematics using <i class="fontname">Times</i> and various more-or-less
matching fonts),  while package <i class="package">avant</i> changes the sans-serif
family to <i class="fontname">AvantGarde</i>, and <i class="package">courier</i> changes the
typewriter font to <i class="fontname">Courier</i>.  To go with these
packages, you need the font metric files
and font description (<i class="filename">.fd</i>) files for each font family you
want to use.  For convenience,
metrics for the &lsquo;common 35&rsquo; PostScript fonts found in most PostScript printers
are provided with PSNFSS, packaged as the &ldquo;Laserwriter set&rdquo;.

<p>
For older versions of LaTeX there are various schemes, of which the
simplest to use is probably the PSLaTeX macros distributed with
<i class="progname">dvips</i>.

<p>
For Plain TeX, you load whatever fonts you like; if the encoding of
the fonts is not the same as Computer Modern it will be up to you to
redefine various macros and accents, or you can use the font
re-encoding mechanisms available in many drivers and in
<i class="progname">ps2pk</i> and <i class="progname">afm2tfm</i>.

<p>
Some common problems encountered are discussed elsewhere
(see <a class="FAquestion.html" href="FAQ-psfontprob.html">problems with PS fonts</a>).
<dl>
<dt class="ctanref">Metrics for the &lsquo;Laserwriter&rsquo; set of 35 fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lw35nfss-zip">lw35nfss-zip</a>
<dt class="ctanref">psnfss</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psnfss">psnfss</a>
</dl>

<p>
[[[Question]]][Q-PSpreview][[[LBRACE]]]Previewing files using Type 1 fonts[[[RBRACE]]]

<p>
Originally, free TeX previewers were only capable of displaying
bitmap (PK) fonts, but free Type&nbsp;1 font rendering software has
been available for some time, and many previewers now use such
facilities.

<p>
The alternative, for previewers, is automatic generation of the
requisite PK files (using <i class="progname">gsftopk</i>, or similar,
behind the scenes).

<p>
In the unlikely event that your previewer isn&rsquo;t capable of either, you
have a couple options:
<ul>
<li> Convert the DVI file to PostScript and use a
  PostScript previewer.  Some systems offer this capability as
  standard, but most people will need to use a separate previewer such
  as <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> or
  <i class="progname">ghostscript</i>-based viewers
  such as (free) <i class="progname">gv</i> or (shareware)
  <a href="http://www.ghostgum.com.au/"><i class="progname">gsview</i></a>.














<li> If you have the PostScript fonts in Type&nbsp;1 format, use
  <i class="progname">ps2pk</i> or <i class="progname">gsftopk</i> (designed for use with the
  <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> fonts) to
  make PK bitmap fonts which
  your previewer will understand (a process similar to the way some
  browsers fo the job &lsquo;automatically&rsquo;) This can produce adequate results,
  also suitable for printing with non-PostScript devices.  (Note: if you
  purchased the fonts, it is advisable to check that their licence
  permits you to convert them, for private use, in this way.)
</ul>
<dl>
<dt class="ctanref">gsftopk</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gsftopk">gsftopk</a>
<dt class="ctanref">gv</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/gv">gv</a>
<dt class="ctanref">ps2pk</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ps2pk">ps2pk</a>
</dl>

<p>
[[[Question]]][Q-metrics][[[LBRACE]]]TeX font metric files for Type 1 fonts[[[RBRACE]]]

<p>
Reputable font vendors such as Adobe supply metric files for each
font, in AFM (Adobe Font Metric) form; these can be converted
to TFM (TeX Font Metric) form. Most modern distributions have
prebuilt metrics which will be more than enough for many people; but you may
need to do the conversion yourself if you have special needs or
acquire a new font. One important question is the <em>encoding</em> of
(Latin character) fonts; while we all more or less agree about the
position of about 96 characters in fonts (the basic ASCII set), the
rest of the (typically) 256 vary. The most obvious problems are with
floating accents and special characters such as the &lsquo;pounds sterling&rsquo;
sign. There are three ways of dealing with this: either you change the
TeX macros which reference the characters (not much fun, and
error-prone); or you change the encoding of the font (easier than you
might think); or you use <a href="FAQ-virtualfonts.html">virtual fonts</a> to
<em>pretend</em> to TeX that the encoding is the same as it is used to.
LaTeX 2e has facilities for dealing with fonts in different
encodings; read the <a href="FAQ-latex-books.html"><em>LaTeX Companion</em></a> for
more details.  In practice, if you do much non-English (but Latin
script) typesetting, you are strongly recommended to use the
<i class="package">fontenc</i> package with option &lsquo;<code class="pkgoption">T1</code>&rsquo; to select
<a href="FAQ-ECfonts.html">&lsquo;Cork&rsquo;</a> encoding.

<p>
An alternative favoured by some is Y&amp;Y&rsquo;s &ldquo;private&rdquo; LY1 encoding,
which is designed to sit well with &ldquo;Adobe standard&rdquo; encoded fonts.
Basic macro support of LY1 is available: note that the
&ldquo;relation with Adobe&rsquo;s encoding&rdquo; means that the LY1 user
needs no virtual fonts.

<p>
Alan Jeffrey&rsquo;s <i class="progname">fontinst</i> package is an AFM to
TFM converter written in TeX; it is used to generate the
files used by LaTeX 2e&rsquo;s PSNFSS package to support use of
PostScript fonts. It is a sophisticated package, not for the faint-hearted,
but is powerful enough to cope with most needs.  Much of its power
relies on the use of <a href="FAQ-virtualfonts.html">virtual fonts</a>.

<p>
For slightly simpler problems, Rokicki&rsquo;s <i class="progname">afm2tfm</i>,
distributed with <i class="progname">dvips</i>, is fast and
efficient; note that the metrics and styles that come with
<i class="progname">dvips</i> are <em>not</em> currently LaTeX 2e compatible.

<p>
For the Macintosh (classic), there is a program called
<i class="progname">EdMetrics</i> which does the job (and more).
<i class="progname">EdMetrics</i> comes with the (commercial)
<a href="FAQ-commercial.html">Textures</a> distribution, but is itself free
software, and is available on CTAN.




<dl>
<dt class="ctanref">dvips</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvips">dvips</a>
<dt class="ctanref">EdMetrics</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/edmetrics">edmetrics</a>
<dt class="ctanref">fontinst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontinst">fontinst</a>
<dt class="ctanref">LY1 support</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ly1">ly1</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-psfontprob][[[LBRACE]]]Deploying Type 1 fonts[[[RBRACE]]]

<p>
For the LaTeX user trying to use the
<a href="FAQ-usepsfont.html">PSNFSS</a> package, three questions may arise.

<p>
First, you have to declare to the DVI driver that you are using
PostScript fonts; in the case of <i class="progname">dvips</i>, this means adding
lines to the <i class="filename">psfonts.map</i> file, so that <i class="progname">dvips</i> will know
where the proper fonts are, and won&rsquo;t try to find PK 
files.  If the font isn&rsquo;t built into the printer, you have to acquire
it (which may mean that you need to purchase the font files).

<p>
Second, your previewer must know what to do with the fonts: see
<a class="FAquestion.html" href="FAQ-PSpreview.html">previewing type 1 fonts</a>.

<p>
Third, the stretch and shrink between words is a function of the
font metric; it is not specified in AFM files, so different converters
choose different values. The PostScript metrics that come with PSNFSS 
used to produce quite tight setting, but they were revised in mid 1995
to produce a compromise between American and European practice. 
Sophisticated users may not find even the new the values to their taste, and
want to override them. Even the casual user may find  more
hyphenation or overfull boxes than Computer Modern produces; but CM
is extremely generous. 

<p>
[[[Question]]][Q-psfchoice][[[LBRACE]]]Choice of Type&nbsp;1 fonts for typesetting Maths[[[RBRACE]]]

<p>
If you are interested in text alone, you can in principle use any of
the huge numbers of text fonts in Adobe Type&nbsp;1, TrueType or OpenType
formats.  The constraint is, of course, that your previewer and
printer driver should support such fonts (TeX itself <em>only</em>
cares about metrics, not the actual character programs).

<p>
If you also need mathematics, then your choice is more limited, in
particular  by the
demands that TeX makes of maths fonts (for details, see the papers
by


  <a href="http://tug.org/TUGboat/Articles/tb14-3/tb40horn.pdf">B.K.P. Horn in TUGboat 14(3)</a>,
  or by 
  <a href="http://tug.org/TUGboat/Articles/tb19-2/tb59bouc.pdf">Thierry Bouche in TUGboat 19(2)</a>).







There are several options available, which are
based on Knuth&rsquo;s original designs.  Others complement other
commercial and free text font designs; one set (MicroPress&rsquo;s &lsquo;informal math&rsquo;)
stands alone.

<p>
Users should also consider the possibilities of typesetting
<a href="FAQ-otf-maths.html">maths using OpenType fonts</a>.

<p>
&ldquo;Free&rdquo; font families that will support TeX mathematics include:
<dl>
<dt class="description">Computer Modern</dt><dd>(75 fonts&nbsp;&mdash; optical scaling) Donald E. Knuth<br>
  The CM fonts were originally designed in MetaFont, but are also
  now available in scalable outline form.  There are commercial as
  well as public domain versions, and there are both Adobe Type&nbsp;1 and
  TrueType versions.  A set of outline versions of the fonts was
  developed as a commercial venture by Y&amp;Y and Blue Sky Research;
  they have since assigned the copyright to the AMS, and the
  fonts are now freely available from CTAN.  Their quality is
  such that they have become the <em>de facto</em> standard for Type&nbsp;1
  versions of the fonts.

<p>
<dt class="description">AMS fonts</dt><dd>(52 fonts, optical scaling) The AMS<br>
  This set of fonts offers adjuncts to the CM set, including
  two sets of symbol fonts (<i class="fontname">msam</i> and <i class="fontname">msbm</i>) and
  Euler text fonts.
  These are not a self-standing family, but merit discussion here (not
  least because several other families mimic the symbol fonts).
  Freely-available Type&nbsp;1 versions of the fonts are available on
  CTAN.  The <i class="package">eulervm</i> package permits use
  of the Euler maths alphabet in conjunction with text fonts that do
  not provide maths alphabets of their own (for instance, Adobe
  Palatino or Minion).

<p>
<dt class="description">Mathpazo version 1.003</dt><dd>(5 fonts) Diego Puga<br>
  The Pazo Math fonts are a family of type&nbsp;1 fonts suitable for
  typesetting maths in combination with the Palatino family of text
  fonts.  Four of the five fonts of the distribution are maths
  alphabets, in upright and italic shapes, medium and bold weights;
  the fifth font contains a small selection of &ldquo;blackboard bold&rdquo;
  characters (chosen for their mathematical significance).  Support
  under LaTeX 2e is available in 
  <a href="FAQ-usepsfont.html">PSNFSS</a>; the fonts are
  licensed under the GPL, with legalese permitting the use of
  the fonts in published documents.

<p>
<dt class="description">Fourier/Utopia</dt><dd>(15 fonts) Michel Bovani<br>
  <i class="fontname">Fourier</i> is a family built on Adobe <i class="fontname">Utopia</i>
  (which has been released for usage free of charge by Adobe).  The
  fonts provide the basic Computer Modern set of mathematical symbols,
  and add many of the AMS mathematical symbols (though you are
  expected to use some from the AMS fonts themselves).  There
  are also several other mathematical and decorative symbols.  The
  fonts come with a <i class="package">fourier</i> package for use with LaTeX;
  text support of OT1 encoding is not provided&nbsp;&mdash; you are
  expected to use T1.

<p>
  For a sample, see <a href="http://www.tug.dk/FontCatalogue/utopia/">http://www.tug.dk/FontCatalogue/utopia/</a>

<p>
<dt class="description">Fourier/New Century Schoolbook</dt><dd>Michael Zedler<br>
  <i class="fontname">Fouriernc</i> is a configuration using the Fourier fonts in
  the context of New Century Schoolbook text fonts.

<p>
  For a sample, see <a href="http://www.tug.dk/FontCatalogue/newcent/">http://www.tug.dk/FontCatalogue/newcent/</a>

<p>
<dt class="description">KP-fonts</dt><dd>The Johannes Kepler project<br>
  The <i class="fontname">kp-fonts</i> family provides a comprehensive set of text
  and maths fonts.  The set includes replacement fixed-width and sans
  fonts (though some reports have suggested that these are less
  successful, and their use may be suppressed when loading the fonts&rsquo;
  <i class="package">kpfonts</i> LaTeX support package).

<p>
  For an example, see <a href="http://www.tug.dk/FontCatalogue/kpserif/">http://www.tug.dk/FontCatalogue/kpserif/</a>

<p>
<dt class="description">MathDesign</dt><dd>(3 free families, 3 commercial-based
  families&hellip;so far) Paul Pichaureau<br>
  This set so far offers mathematics fonts to match the free fonts
  Adobe Utopia, URW Garamond and Bitstream Charter (the text versions
  of all of which are separately available, on CTAN, in Type&nbsp;1
  format), and Adobe Garamond Pro, Adobe UtopiaStd and ITC Charter
  (which are commercial fonts, all available for purchase on the web).
  There has been a little comment on these fonts, but none
  from actual users posted to the public forums.  Users, particularly
  those who are willing to discuss their experiences, would obviously
  be welcome.  Browse the CTAN directory and see which you
  want: there is a wealth of documentation and examples.

<p>
  For samples of the free variants, see
  <a href="http://www.tug.dk/FontCatalogue/charter/">http://www.tug.dk/FontCatalogue/charter/</a> for URW Charter,
  <a href="http://www.tug.dk/FontCatalogue/garamond/">http://www.tug.dk/FontCatalogue/garamond/</a> for URW Garamond and
  <a href="http://www.tug.dk/FontCatalogue/utopia-md/">http://www.tug.dk/FontCatalogue/utopia-md/</a> for Adobe Utopia.

<p>
<dt class="description">Belleek</dt><dd>(3 fonts) Richard Kinch<br>
  Belleek is the upshot of Kinch&rsquo;s thoughts on how MetaFont might be used
  in the future: they were published simultaneously as MetaFont source,
  as Type&nbsp;1 fonts, and as TrueType fonts.  The fonts act as &ldquo;drop-in&rdquo;
  replacements for the basic MathTime set (as an example of &ldquo;what might
  be done&rdquo;).

<p>
  The paper outlining Kinch&rsquo;s thoughts, proceeding from considerations
  of the &lsquo;intellectual&rsquo; superiority of MetaFont to evaluations of why its
  adoption is so limited and what might be done about the problem, is
  to be found at <a href="http://truetex.com/belleek.pdf">http://truetex.com/belleek.pdf</a>

<p>
<dt class="description">MTPro2 Lite</dt><dd>Pubish or Perish (Michael Spivak)<br>
  A (functional) subset of the MathTime Pro 2 font set, that is made
  available, free, for general use.  While it does not offer the full
  power of the commercial product (see below), it is nevertheless a
  desirable font set.

<p>
<dt class="description">Mathptmx</dt><dd>Alan Jeffrey, Walter Schmidt and others.<br>
  This set contains maths italic, symbol, extension, and roman virtual
  fonts, built from Adobe Times, Symbol, Zapf Chancery, and the
  Computer Modern fonts.  The resulting mixture is not  entirely
  acceptable, but can pass in many circumstances.  The real advantage
  is that the mathptm fonts are (effectively) free, and the resulting
  PostScript files can be freely exchanged.  Support under LaTeX 2e
  is available in <a href="FAQ-usepsfont.html">PSNFSS</a>.

<p>
  For a sample, see <a href="http://www.tug.dk/FontCatalogue/times/">http://www.tug.dk/FontCatalogue/times/</a>

<p>
<dt class="description">Computer Modern Bright</dt><dd>Free scalable outline versions of these
  fonts do exist; they are covered below together with their
  commercial parallels.

<p>
<dt class="description">URW Classico</dt><dd>(4 fonts)  LaTeX support by Bob Tennent<br>
  These are clones of Zapf&rsquo;s Optima available from CTAN (for
  non-commercial use only).  Mathematics support can be provided by
  using packages <i class="package">eulervm</i> or <i class="package">sansmath</i>. As a
  sans-serif font family, Optima is especially suitable for
  presentations.
</dl>
The excellent <em>font catalogue</em> keeps an 
<a href="http://www.tug.dk/FontCatalogue/mathfonts.html">up-to-date list</a>
which describes the fonts by giving names and short examples, only.
(At the time of writing&nbsp;&mdash; June 2008&nbsp;&mdash; the list has several that
are only scheduled for inclusion here.

<p>
Another useful document is Stephen Hartke&rsquo;s &ldquo;Free maths font
survey&rdquo;, which is available on CTAN in both PDF and
HTML formats.  The survey covers most of the fonts mentioned in
the font catalogue, but also mentions some (such as <i class="package">Belleek</i>
that the catalogue omits.

<p>
Fonts capable of setting TeX mathematics, that are available
commercially, include:
<dl>
<dt class="description">BA Math</dt><dd>(13 fonts) MicroPress Inc.<br>
  BA Math is a family of serif fonts, inspired by the elegant
  and graphically perfect font design of John Baskerville.  BA
  Math comprises the fonts necessary for mathematical typesetting
  (maths italic, math symbols and extensions) in normal and bold
  weights.  The family also includes all OT1 and T1
  encoded text fonts of various shapes, as well as fonts with most
  useful glyphs of the TS1 encoding.  Macros for using the
  fonts with Plain TeX, LaTeX 2.09 and current LaTeX are
  provided.

<p>
  
  For further details (including samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/bamath/bamain.htm">http://www.micropress-inc.com/fonts/bamath/bamain.htm</a>
  
<dt class="description">CH Math</dt><dd>(15 fonts) MicroPress Inc.<br>
  CH Math is a family of slab serif fonts, designed as a maths
  companion for Bitstream Charter.  (The distribution includes
  four free Bitstream text fonts, in addition to the 15 hand-hinted
  MicroPress fonts.)
  
  For further details (including samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/chmath/chmain.htm">http://www.micropress-inc.com/fonts/chmath/chmain.htm</a>
  

<p>
<dt class="description">Computer Modern Bright</dt><dd>(62 fonts&nbsp;&mdash; optical scaling) Walter
  Schmidt<br>
  CM Bright is a family of sans serif fonts, based on Knuth&rsquo;s
  CM fonts.  It comprises the fonts necessary for mathematical
  typesetting, including AMS symbols, as well as text and text
  symbol fonts of various shapes.  The collection comes with its own
  set of files for use with LaTeX.  The CM Bright fonts are
  supplied in Type&nbsp;1 format by MicroPress, Inc.   The
  <i class="package">hfbright</i> bundle offers free Type&nbsp;1 fonts for text using
  the OT1 encoding&nbsp;&mdash; the <i class="package">cm-super</i> fonts provide the
  fonts in T1 text encoding but don&rsquo;t support CM bright
  mathematics.

<p>
  
  For further details of Micropress&rsquo; offering (including samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/brmath/brmain.htm">http://www.micropress-inc.com/fonts/brmath/brmain.htm</a>
  

<p>
<dt class="description">Concrete Math</dt><dd>(25 fonts&nbsp;&mdash; optical scaling) Ulrik Vieth<br>
  The Concrete Math font set was derived from the Concrete Roman
  typefaces designed by Knuth.  The set provides a collection of math
  italics, math symbol, and math extension fonts, and fonts of
  AMS symbols that fit with the Concrete set, so that Concrete
  may be used as a complete replacement for Computer Modern.  Since
  Concrete is considerably darker than CM, the family may
  particularly attractive for use in low-resolution printing or in
  applications such as posters or transparencies.  Concrete Math
  fonts, as well as Concrete Roman fonts, are supplied in Type 1
  format by MicroPress, Inc.

<p>
  
  For further information (including samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/ccmath/ccmain.htm">http://www.micropress-inc.com/fonts/ccmath/ccmain.htm</a>
  

<p>
<dt class="description">HV Math</dt><dd>(14 fonts) MicroPress Inc.<br>
  HV Math is a family of sans serif fonts, inspired by the
  Helvetica (TM) typeface.  HV Math comprises the fonts
  necessary for mathematical typesetting (maths italic, maths symbols
  and extensions) in normal and bold weights.  The family also
  includes all OT1 and T1 encoded text fonts of various
  shapes, as well as fonts with most useful glyphs of the TS1
  encoding.  Macros for using the fonts with Plain TeX, LaTeX 2.09
  and current LaTeX are provided.  Bitmapped copies of the fonts
  are available free, on CTAN.

<p>
  
  For further details (and samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/hvmath/hvmain.htm">http://www.micropress-inc.com/fonts/hvmath/hvmain.htm</a>
  

<p>
<dt class="description">Informal Math</dt><dd>(7 outline fonts) MicroPress Inc.<br>
  Informal Math is a family of fanciful fonts loosely based on the
  Adobe&rsquo;s Tekton (TM) family, fonts which imitate handwritten
  text.  Informal Math comprises the fonts necessary for
  mathematical typesetting (maths italic, maths symbols and extensions)
  in normal weight, as well as OT1 encoded text fonts in
  upright and oblique shapes.  Macros for using the fonts with
  Plain TeX, LaTeX 2.09 and current LaTeX are provided.

<p>
  
  For further details (including samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/ifmath/ifmain.htm">http://www.micropress-inc.com/fonts/ifmath/ifmain.htm</a>
  

<p>
<dt class="description">Lucida Bright <em>with</em> Lucida New Math</dt><dd>(25 fonts) Chuck Bigelow and
  Kris Holmes<br>
  Lucida is a family of related fonts including seriffed, sans serif,
  sans serif fixed width, calligraphic, blackletter, fax, Kris Holmes&rsquo;
  connected handwriting font, <em>etc</em>; they&rsquo;re not as &lsquo;spindly&rsquo; as
  Computer Modern, with a large x-height, and include a larger set of
  maths symbols, operators, relations and delimiters than CM
  (over 800 instead of 384: among others, it also includes the
  AMS <i class="fontname">msam</i> and <i class="fontname">msbm</i> symbol sets).  &lsquo;Lucida
  Bright Expert&rsquo; 
  (14 fonts) adds seriffed fixed width, another handwriting font,
  smallcaps, bold maths, upright &lsquo;maths italic&rsquo;, <em>etc</em>., to the
  set.  Support under LaTeX is available under the auspices of the
  PSNFSS, and pre-built metrics are also provided.

<p>
  
  TUG has the right to distribute these fonts; the web site




    &ldquo;<a href="http://tug.org/lucida/">Lucida and TUG</a>&rdquo;

  has details.
  

<p>
<dt class="description">Adobe Lucida, LucidaSans <em>and</em> LucidaMath</dt><dd>(12 fonts)<br>
  Lucida and LucidaMath are generally considered to be a bit heavy.
  The three maths fonts contain only the glyphs in the CM maths
  italic, symbol, and extension fonts.  Support for using LucidaMath
  with TeX is not very good; you will need to do some work
  reencoding fonts <em>etc</em>.  (In some sense this set is the
  ancestor of the LucidaBright plus LucidaNewMath font set, which are
  not currently available.)

<p>
<dt class="description">MathTime Pro2</dt><dd>Publish or Perish (Michael Spivak)<br>
  This latest instance of the MathTime family covers all the weights
  (medium, bold and heavy) and symbols of previous versions of
  MathTime.  In addition it has a much extended range of symbols, and
  many typographic improvements that make for high-quality documents.
  The fonts are supported under both Plain TeX and LaTeX 2e, and
  are exclusively available for purchase from
  <a href="FAQ-commercial.html">Personal TeX Inc</a>.
  
<p>
  
  For further details and samples and fliers, see
  <a href="http://www.pctex.com/mtpro2.html">http://www.pctex.com/mtpro2.html</a>
  

<p>
<dt class="description">Minion Pro and MnSymbol</dt><dd>Adobe, LaTeX support and packaging by
  Achim Blumensath <em>et al</em>.<br>
  <i class="fontname">Minion Pro</i> derives from the widely-available commercial
  OpenType font of the same name by Adobe; scripts are provided to
  convert relevant parts of it to Adobe Type&nbsp;1 format.  The
  <i class="package">MinionPro</i> package will set up text and maths support using
  <i class="fontname">Minion Pro</i>, but a separate (free) font set
  <i class="fontname">MnSymbol</i> greatly extends the symbol coverage.

<p>
<dt class="description">PA Math</dt><dd> PA&nbsp;Math is a family of serif fonts
  loosely based on the Palatino (TM) typeface.  PA&nbsp;Math
  comprises the fonts necessary for mathematical typesetting (maths
  italics, maths, calligraphic and oldstyle symbols, and extensions)
  in normal and bold weights. The family also includes all OT1,
  T1 encoded text fonts of various shapes, as well as fonts
  with the most useful glyphs of the TS1 encoding.  Macros for
  using the fonts with Plain TeX, LaTeX 2.09 and current LaTeX
  are provided.

<p>
  
  For further details (and samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/pamath/pamain.htm">http://www.micropress-inc.com/fonts/pamath/pamain.htm</a> 
  

<p>
<dt class="description">TM Math</dt><dd>(14 fonts) MicroPress Inc.<br>
  TM Math is a family of serif fonts, inspired by the Times
  (TM) typeface.  TM Math comprises the fonts necessary for
  mathematical typesetting (maths italic, maths symbols and extensions)
  in normal and bold weights. The family also includes all OT1
  and T1 encoded text fonts of various shapes, as well as fonts
  with most useful glyphs of the TS1 encoding.  Macros for
  using the fonts with Plain TeX, LaTeX 2.09 and current LaTeX
  are provided.  Bitmapped copies of the fonts are available free, on
  CTAN.

<p>
  
  For further details (and samples) see<br>
  <a href="http://www.micropress-inc.com/fonts/tmmath/tmmain.htm">http://www.micropress-inc.com/fonts/tmmath/tmmain.htm</a> 
  
</dl>
Two other font sets should be mentioned, even though they don&rsquo;t
currently produce satisfactory output&nbsp;&mdash; their author is no longer
working on them, and several problems have been identified:
<dl>
<dt class="description">Pxfonts set version 1.0</dt><dd>(26 fonts) by Young Ryu<br>
  The <i class="fontname">pxfonts</i> set consists of
  <ul>
  <li> virtual text fonts using <i class="fontname">Adobe</i> <i class="fontname">Palatino</i>
    (or its URW replacement, <i class="fontname">Palladio</i>)
    with modified plus, equal and slash symbols;
  <li> maths alphabets using <i class="fontname">Palatino</i> (or <i class="fontname">Palladio</i>;
  <li> maths fonts of all symbols in the computer modern maths fonts
    (<i class="fontname">cmsy</i>, <i class="fontname">cmmi</i>, <i class="fontname">cmex</i> and the Greek
    letters of <i class="fontname">cmr</i>) 
  <li> maths fonts of all symbols corresponding to the AMS
    fonts (<i class="fontname">msam</i> and <i class="fontname">msbm</i>);
  <li> additional maths fonts of various symbols.
  </ul>
  The text fonts are available in OT1, T1 and LY1
  encodings, and TS encoded symbols are also available.  The
  sans serif and monospaced fonts supplied with the <i class="fontname">txfonts</i>
  set (see below) may be used with <i class="fontname">pxfonts</i>; the
  <i class="fontname">txfonts</i> set should be installed whenever <i class="fontname">pxfonts</i>
  are.  LaTeX, <i class="progname">dvips</i> and PDFTeX support files are
  included.

<p>
  The fonts are not perfect; the widths assigned to the characters in
  the <code class="extension">tfm</code> file are wrong for some glyphs; this can cause
  sequences of characters to &ldquo;look wrong&rdquo;, or in some cases even to
  overlap; the <i class="fontname">newpx</i> fonts (noted above) aim to reduce
  these problems.

<p>
  The fonts are licensed under the GPL; use in published
  documents is permitted.

<p>
<dt class="description">Newpx</dt><dd>by Michael Sharpe from Young Ryu&rsquo;s <i class="progname">pxfonts</i><br>
  This collection is derived from <i class="progname">pxfonts</i>; the maths fonts
  metrics have been adjusted so that the output is less cramped than
  when <i class="progname">pxfonts</i> is used; the appearance of the output is
  much improved.  Two packages are provided, <i class="package">newpxtext</i> for
  using the associated text fonts, and <i class="package">newpxmath</i> for
  mathematics.

<p>
<dt class="description">Txfonts set version 3.1</dt><dd>(42 fonts) by Young Ryu<br>
  The <i class="fontname">txfonts</i> set consists of
  <ul>
  <li> virtual text fonts using <i class="fontname">Adobe</i> <i class="fontname">Times</i> (or
    the URW <i class="fontname">Nimbus Roman No9 L</i> font that
    substitutes for Times, which is distributed as part of the
    URW &ldquo;basic 35&rdquo; collection) with
    modified plus, equal and slash symbols;
  <li> matching sets of sans serif and monospace (&lsquo;typewriter&rsquo;)
    fonts (the sans serif set is based on <i class="fontname">Adobe</i> <i class="fontname">Helvetica</i>);
  <li> maths alphabets using Adobe <i class="fontname">Times</i>, or the URW
    equivalent <i class="fontname">NimbusRomanNo9</i>;
  <li> maths fonts of all symbols in the computer modern maths fonts
    (<i class="fontname">cmsy</i>, <i class="fontname">cmmi</i>, <i class="fontname">cmex</i> and the Greek
    letters of <i class="fontname">cmr</i>)
  <li> maths fonts of all symbols corresponding to the AMS
    fonts (<i class="fontname">msam</i> and <i class="fontname">msbm</i>);
  <li> additional maths fonts of various symbols.
  </ul>
  The text fonts are available in OT1, T1 and LY1
  encodings, and TS encoded symbols are also available.

<p>
  The fonts are not perfect; the widths assigned to the characters in
  the <code class="extension">tfm</code> file are wrong for some glyphs; this can cause
  sequences of characters to &ldquo;look wrong&rdquo;, or in some cases even to
  overlap; the <i class="fontname">newtx</i> fonts (noted above) aim to reduce
  these problems.

<p>
  The fonts are licensed under the GPL; use in published
  documents is permitted.
<dt class="description">Txfontsb set version 1.00</dt><dd> by Young Ryu and Antonis Tsolomitis<br>
  The <i class="progname">txfontsb</i> bundles <i class="progname">txfonts</i>, extended to
  provide a Small Caps set, Old-Style numbers and Greek text (from the
  GNU Freefont set).





  <a href="http://mirrors.ctan.org/fonts/txfontsb/doc/txfontsb.pdf">Documentation</a>

  is available for this variant, too.

<p>
<dt class="description">Newtx</dt><dd>by Michael Sharpe from Young Ryu&rsquo;s <i class="progname">txfonts</i><br>
  This collection is derived from <i class="progname">txfonts</i>; the maths fonts
  metrics have been adjusted so that the output is less cramped than
  when <i class="progname">txfonts</i> is used; the appearance of the output is
  much improved.  Two packages are provided, <i class="package">newtxtext</i> for
  using the associated text fonts, and <i class="package">newtxmath</i> for
  mathematics.  Options are provided to substitute
  letters and symbols from the <i class="fontname">Libertine</i> set, and from the
  Garamond extension font <i class="fontname">garamondx</i> (but note that
  <i class="fontname">garamondx</i>, which is an adaptation of URW Garamond,
  is not available via texlive).
</dl>
Finally, one must not forget:
<dl>
<dt class="description">Proprietary fonts</dt><dd>Various sources.<br>
  Since having a high quality font set in scalable outline form that
  works with TeX can give a publisher a real competitive advantage,
  there are some publishers that have paid (a lot) to have such font
  sets made for them.  Unfortunately, these sets are not available on
  the open market, despite the likelihood that they&rsquo;re more complete
  than those that are.
</dl>
We observe a very limited selection of commercial maths font sets; a
Type&nbsp;1 maths font has to be explicitly designed for use with TeX,
which is an expensive business, and is of little appeal in other
markets.  Furthermore, the TeX market for commercial fonts is
minute by comparison with the huge sales of other font sets.

<p>
Text fonts in Type&nbsp;1 format are available from many vendors including
Adobe, Monotype and Bitstream.  However, be careful with cheap font
&ldquo;collections&rdquo;; many of them dodge copyright restrictions by removing
(or crippling) parts of the font programs such as hinting.  Such
behaviour is both unethical and bad for the consumer.
The fonts may not render well (or at all, under ATM), may not have the
&lsquo;standard&rsquo; complement of 228 glyphs, or may not include metric files
(which you need to make TFM files).

<p>
TrueType was for a long time the &ldquo;native&rdquo; format for Windows, but
MicroSoft joined the development of the OpenType specification, and
&lsquo;modern&rsquo; windows will work happily with fonts in either format.  Some TeX
implementations such as <a href="FAQ-commercial.html">TrueTeX</a> use TrueType
versions of Computer Modern and Times Maths fonts to render TeX
documents in Windows without the need for additional system software like
ATM.  (When used on a system running Windows&nbsp;XP or later,
TrueTeX can also use Adobe Type&nbsp;1 fonts.)

<p>
When choosing fonts, your own system environment may not be the only one of
interest.  If you will be sending your finished documents to others for
further use, you should consider whether a given font format will introduce
compatibility problems.  Publishers may require TrueType exclusively because
their systems are Windows-based, or Type&nbsp;1 exclusively, because their systems
are based on the early popularity of that format in the publishing industry.
Many service bureaus don&rsquo;t care as long as you present them with a finished
print file (PostScript or PDF) for their output device.
<dl>
<dt class="ctanref">CM family collection</dt><dd>
  Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">AMS font collection</dt><dd>
  Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">Belleek fonts</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/belleek">belleek</a>
<dt class="ctanref"> URW Classico fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/classico">classico</a>
<dt class="ctanref">CM-super collection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a>
<dt class="ctanref">eulervm.sty and supporting metrics</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/eulervm">eulervm</a>
<dt class="ctanref">fourier (including metrics and other support for utopia</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/fourier">fourier</a>
<dt class="ctanref">fouriernc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fouriernc">fouriernc</a>
<dt class="ctanref">garamondx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/garamondx">garamondx</a>
<dt class="ctanref">hfbright collection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hfbright">hfbright</a>
<dt class="ctanref">hvmath (free bitmapped version)</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/hvmath">hvmath</a>
<dt class="ctanref">kpfonts family</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/kpfonts">kpfonts</a>
<dt class="ctanref">Libertine family</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/libertine">libertine</a>
<dt class="ctanref">Lucida Bright/Math metrics</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lucida">lucida</a>
<dt class="ctanref">Lucida PSNFSS support</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lucida-psnfss">lucida-psnfss</a>
<dt class="ctanref">MathDesign collection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathdesign">mathdesign</a>
<dt class="ctanref">Maths Font Survey</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathsurvey.pdf">mathsurvey.pdf</a>
  (PDF) or <a class="ctan" href="https://www.ctan.org/pkg/mathsurvey.html">mathsurvey.html</a> (HTML)
<dt class="ctanref">MathTime Pro 2 Lite</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mtp2lite">mtp2lite</a>
<dt class="ctanref">Minion Pro support</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/minionpro">minionpro</a>
<dt class="ctanref">MnSymbol family</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mnsymbol">mnsymbol</a>
<dt class="ctanref">Newtx fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newtx">newtx</a>
<dt class="ctanref">NimbusRomanNo9 fonts</dt><dd>distributed in <a class="ctan" href="https://www.ctan.org/pkg/urw-base35">urw-base35</a>
<dt class="ctanref">Palladio fonts</dt><dd>distributed in <a class="ctan" href="https://www.ctan.org/pkg/urw-base35">urw-base35</a>
<dt class="ctanref">pxfonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pxfonts">pxfonts</a>
<dt class="ctanref">sansmath.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sansmath">sansmath</a>
<dt class="ctanref">tmmath (free bitmapped version)</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/tmmath">tmmath</a>
<dt class="ctanref">txfonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/txfonts">txfonts</a>
<dt class="ctanref">URW &ldquo;35 fonts&rdquo; collection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/urw-base35">urw-base35</a>
<dt class="ctanref">utopia fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/utopia">utopia</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-22</p>

<p>
[[[Question]]][Q-otf-maths][[[LBRACE]]]Unicode Maths using OpenType fonts[[[RBRACE]]]

<p>
The ISO standard Universal Coding Scheme (UCS), which is
commonly known as Unicode, was adopted early by the designers of
TrueType (TTF) and OpenType (OTF) fonts.  The
flexibility of the fonts offers hope, for the first time, of a uniform
method for typesetting essentially any language.

<p>
TeX users have been eagerly adopting the fonts, for some time,
using XeTeX (now a rather stable system) and LuaTeX (which is,
at the time of writing, still being developed).

<p>
While TeX users were investigating the use of these text fonts,
ISO was extending Unicode to provide a means of expressing
mathematics.  As this work proceeded, MicroSoft and (separately) a
consortium of publishing companies were developing OpenType maths
fonts.  (Microsoft contributed on the development of the concepts,
within the ISO process.)  MicroSoft&rsquo;s OpenType Maths font,
<i class="fontname">Cambria Math</i> has been available for purchase for some time.

<p>
The first free OpenType Maths font to appear was 
<i class="fontname">Asana Math</i>, which was eventually followed by
the publishers&rsquo; consortium&rsquo;s offer of an interim version
of their font, <i class="fontname">STIX</i>, which has been
redeveloped to provide a more usable whole, <i class="fontname">XITS</i>, by a group
of TeX users.

<p>
Other fonts are appearing, including 
<i class="fontname">TeX Gyre Termes Math</i> (based on Times-like fonts) and
<i class="fontname">Tex Gyre Pagella Math</i> (based on Palatino-like fonts),
and <i class="fontname">LM Math</i> extending the OpenType version of the
<i class="fontname">Latin Modern</i> font family.

<p>
Actually using a unicode maths font is quite a complicated business,
but the LaTeX package <i class="package">unicode-math</i> (supported
by the <i class="package">fontspec</i> package) does the essential groundwork.
<dl>
<dt class="ctanref">Asana-Math font</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/asana-math">asana-math</a>
<dt class="ctanref">fontspec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontspec">fontspec</a>
<dt class="ctanref">lm-math fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm-math">lm-math</a>
<dt class="ctanref">STIX fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/stix">stix</a>
<dt class="ctanref">unicode-math.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/unicode-math">unicode-math</a>
<dt class="ctanref">tex-gyre-math-pagella font</dt><dd>distributed as
  part of <a class="ctan" href="https://www.ctan.org/pkg/tex-gyre-math-pagella">tex-gyre-math</a>
<dt class="ctanref">tex-gyre-math-termes font</dt><dd>distributed as part
  of <a class="ctan" href="https://www.ctan.org/pkg/tex-gyre-math-termes">tex-gyre-math</a>
<dt class="ctanref">XITS fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xits">xits</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-22</p>


<p>
[[[Question]]][Q-charshift][[[LBRACE]]]Weird characters in <i class="progname">dvips</i> output[[[RBRACE]]]
<!-- fi ligature pound pounds sterling elephants -->

<p>
You&rsquo;ve innocently generated output, using <i class="progname">dvips</i>, and there
are weird transpositions in it: for example, the <tt>fi</tt> ligature has
appeared as a &#xa3; symbol.
This is an unwanted side-effect of the precautions
outlined in <a href="FAQ-dvips-pdf.html">generating PostScript for PDF</a>.
The <tt>-G1</tt> switch discussed in that question is appropriate for
Knuth&rsquo;s text fonts, but doesn&rsquo;t work with text fonts that don&rsquo;t follow
Knuth&rsquo;s patterns (such as fonts supplied by Adobe).

<p>
If the problem arises, suppress the <tt>-G1</tt> switch: if you were using it
explicitly, <em>don&rsquo;t</em>; if you were using <tt>-Ppdf</tt>, add <tt>-G0</tt> to
suppress the implicit switch in the pseudo-printer file.

<p>
The problem has been corrected in <i class="progname">dvips</i> v&nbsp;5.90 (and later
versions); it is unlikely ever to recur&hellip;

<p class="lastedit">This answer last edited: 2012-10-24</p>

<p>

<p>

<p>
[[[Question]]][Q-fonts-pln][[[LBRACE]]]Using non-standard fonts in Plain TeX[[[RBRACE]]]

<p>
Plain TeX (in accordance with its description) doesn&rsquo;t do anything
fancy with fonts: it sets up the fonts that Knuth found he needed when
writing the package, and leaves you to do the rest.

<p>
To use something other than Knuth&rsquo;s default, you can use Knuth&rsquo;s
mechanism, the <code>&#x5c;font</code> primitive:
<blockquote>
<pre>
\font\foo=nonstdfont
...
\foo
Text set using nonstdfont ...
</pre>
</blockquote>
The name you use (<tt>nonstdfont</tt>, above) is the name of the
<code class="extension">tfm</code> file for the font you want.

<p>
If you want to use an italic version of <code>&#x5c;foo</code>, you need to use
<code>&#x5c;font</code> again:
<blockquote>
<pre>
\font\fooi=nonstdfont-italic
...
\fooi
Text set using nonstdfont italic...
</pre>
</blockquote>
This is all very elementary stuff, and serves for simple use of fonts.
However, there are wrinkles, the most important of which is the matter
of <a href="FAQ-whatenc.html">font encodings</a>.  One almost never sees new fonts
that use Knuth&rsquo;s eccentric font encodings&nbsp;&mdash; but those encodings are
built into Plain TeX, so that some macros of Plain TeX need to be
changed to use the fonts.  LaTeX gets around all these problems by
using a &ldquo;font selection scheme&rdquo;&nbsp;&mdash; this &lsquo;NFSS&rsquo; (&lsquo;N&rsquo;
for &lsquo;new&rsquo;, as opposed to what LaTeX 2.09 had) carries around with it
separate information about the fonts you use, so the changes to
encoding-specific commands happen automagically.

<p>
If you only want to use the <a href="FAQ-ECfonts.html">EC fonts</a>, you
can in principle use the <i class="package">ec-plain</i> bundle, which gives you a version
of Plain TeX which you can run in the same way that you run
Plain TeX using the original CM fonts, by invoking
<i class="progname">tex</i>.  (<i class="package">Ec-plain</i> also extends the EC fonts,
for reasons which aren&rsquo;t immediately clear, but which might cause
problems if you&rsquo;re hoping to use Type 1 versions of the fonts.)

<p>
The <i class="package">font_selection</i> package provides a sort of halfway house:
it provides font face and size, but not family selection.  This gives
you considerable freedom, but leaves you stuck with the original
CM fonts.  It&rsquo;s a compact solution, within its restrictions.

<p>
Other Plain TeX approaches to the problem (packages
<i class="package">plnfss</i>, <i class="package">fontch</i> and <i class="package">ofs</i>) break out of the
Plain TeX model, towards the sort of font selection provided by
CONTeXT and LaTeX&nbsp;&mdash; font selection that allows you to change
family, as well as size and face.  The remaining packages all make
provision for using encodings other than Knuth&rsquo;s OT1.

<p>
<i class="package">Plnfss</i> has a rather basic set of font family details;
however, it is capable of using font description (<code class="extension">fd</code>) files
created for LaTeX.  (This is useful, since most modern mechanisms
for integrating outline fonts with TeX generate <code class="extension">fd</code> files
in their process.)

<p>
<i class="package">Fontch</i> has special provision for T1 and TS1
encodings, which you select by arcane commands, such as:
<blockquote>
<pre>
\let\LMTone\relax
\input fontch.tex
</pre>
</blockquote>
for T1.

<p>
<i class="package">Ofs</i> seems to be the most thoroughly thought-through of the
alternatives, and can select more than one encoding: as well as
T1 it covers the encoding IL2, which is favoured in the
Czech Republic and Slovakia.  <i class="package">Ofs</i> also covers mathematical fonts,
allowing you the dubious pleasure of using fonts such as the 
<a href="FAQ-psfchoice.html"><i class="fontname">pxfonts</i> and <i class="fontname">txfonts</i></a>.

<p>
The <i class="package">pdcmac</i> Plain TeX macro package aims to be a complete
document preparation environment, like <a href="FAQ-eplain.html">Eplain</a>.  One
of its components is a font selection scheme, <i class="package">pdcfsel</i>, which
is rather simple but adequately powerful for many uses.  The package
doesn&rsquo;t preload fonts: the user is required to declare the fonts the
document is going to use, and the package provides commands to select
fonts as they&rsquo;re needed.  The distribution includes a configuration to
use Adobe &lsquo;standard&rsquo; fonts for typesetting text.  (Eplain itself
seems not to offer a font selection scheme.)

<p>
The <i class="package">font-change</i> collection takes a rather different
approach&nbsp;&mdash; it supplies what are (in effect) a series of templates
that may be included in a document to change font usage.  The
package&rsquo;s documentation shows the effect rather well.

<p>
Simply to change font <em>size</em> in a document (i.e., not changing
the default font itself), may be done using the rather straightforward
<i class="package">varisize</i>, which offers font sizes ranging from 7&nbsp;points to
20&nbsp;points (nominal sizes, all).  Font size commands are generated when
any of the package files is loaded, so the <i class="filename">11pt.tex</i> defines a
command <code>&#x5c;elevenpoint</code>; each of the files ensures there&rsquo;s a &ldquo;way
back&rdquo;, by defining a <code>&#x5c;tenpoint</code> command.
<dl>
<dt class="ctanref">ec-plain</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ec-plain">ec-plain</a>
<dt class="ctanref">font-change</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/font-change">font-change</a>
<dt class="ctanref">fontch</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontch">fontch</a>
<dt class="ctanref">font_selection</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/font_selection">font_selection</a>
<dt class="ctanref">ofs</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ofs">ofs</a>
<dt class="ctanref">pdcmac</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdcmac">pdcmac</a>
<dt class="ctanref">plnfss</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/plnfss">plnfss</a>
<dt class="ctanref">varisize</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/varisize">varisize</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-concrete][[[LBRACE]]]Using the &ldquo;Concrete&rdquo; fonts[[[RBRACE]]]

<p>
The Concrete Roman fonts were designed by Don Knuth for a book called
&ldquo;Concrete Mathematics&rdquo;, which he wrote with Graham and Patashnik
(<em>the</em> Patashnik, of BibTeX fame).  Knuth
only designed text fonts, since the book used the Euler fonts for
mathematics.  The book was typeset using Plain TeX, of course, with
additional macros that may be viewed in a file <i class="filename">gkpmac.tex</i>,
which is available on CTAN.

<p>
The packages <i class="package">beton</i>, <i class="package">concmath</i>, and
<i class="package">ccfonts</i> are LaTeX packages that change the default text
fonts from Computer Modern to Concrete.  Packages <i class="package">beton</i> and
<i class="package">ccfonts</i> also slightly increase the default value of
<code>&#x5c;baselineskip</code> to account for the rather heavier weight of the
Concrete fonts.  If you wish to use the <i class="fontname">Euler</i> fonts for
mathematics, as Knuth did, there&rsquo;s the <i class="package">euler</i> package which
has been developed from Knuth&rsquo;s own Plain TeX-based set: these
macros are currently deprecated (they clash with many things, including
AMSLaTeX).  The independently-developed <i class="package">eulervm</i>
bundle is therefore preferred to the <i class="package">euler</i> package.  (Note
that installing the <i class="package">eulervm</i> bundle involves installing a
series of virtual fonts.  While most modern distributions seem to have
the requisite files installed by default, you may find you have to
install them.  If so, see the file <i class="filename">readme</i> in the
<i class="package">eulervm</i> distribution.)

<p>
A few years after Knuth&rsquo;s original design, Ulrik Vieth
designed the Concrete Math fonts.  Packages
<i class="package">concmath</i>, and <i class="package">ccfonts</i> also change the default math
fonts from Computer Modern to Concrete and use the Concrete versions
of the AMS fonts (this last behaviour is optional in the case
of the <i class="package">concmath</i> package).

<p>
There are no bold Concrete fonts, but it is generally accepted that
the Computer Modern Sans Serif demibold condensed fonts are an
adequate substitute.  If you are using <i class="package">concmath</i> or
<i class="package">ccfonts</i> and you want to follow this suggestion, then use the
package with <code class="pkgoption">boldsans</code> class option (in spite of the fact
that the <i class="package">concmath</i> documentation calls it
<code class="pkgoption">sansbold</code> class option). If you are using <i class="package">beton</i>,
add
<blockquote>
  <code>&#x5c;renewcommand</code><code>&#x7b;<code>&#x5c;bfdefault</code>&#x7d;</code></code><code>&#x7b;sbc&#x7d;</code>
</blockquote>
to the preamble of your document.

<p>
Type&nbsp;1 versions of the fonts are available.  For OT1 encoding,
they are available from <a href="FAQ-psfchoice.html">MicroPress</a>.  The
<a href="FAQ-textrace.html">CM-Super fonts</a> contain Type&nbsp;1 versions
of the Concrete fonts in T1 encoding.
<dl>
<dt class="ctanref">beton.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beton">beton</a>
<dt class="ctanref">ccfonts.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ccfonts">ccfonts</a>
<dt class="ctanref">CM-Super fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a>
<dt class="ctanref">concmath.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/concmath">concmath</a>
<dt class="ctanref">Concmath fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/concmath-f">concmath-f</a>
<dt class="ctanref">Concrete fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/concrete">concrete</a>
<dt class="ctanref">euler.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/euler-latex">euler-latex</a>
<dt class="ctanref">eulervm bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eulervm">eulervm</a>
<dt class="ctanref">gkpmac.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gkpmac">gkpmac</a>
</dl>

<p>
[[[Question]]][Q-uselmfonts][[[LBRACE]]]Using the Latin Modern fonts[[[RBRACE]]]

<p>
The <i class="package">lm</i> fonts are an exciting addition to
the armoury of the (La)TeX user: high quality outlines of fonts that
were until recently difficult to obtain, all in a free and
relatively compact package.  However, the spartan information file
that comes with the fonts remarks &ldquo;It is presumed that a potential
user knows what to do with all these files&rdquo;.  This answer aims to
fill in the requirements: the job is really not terribly difficult.

<p>
Note that teTeX distributions, from version&nbsp;3.0, already have the
<i class="package">lm</i> fonts: all you need do is use them.  The fonts may also
be installed via the package manager, in a current MiKTeX system.
The remainder of this answer, then, is for people who don&rsquo;t use such
systems.

<p>
The font (and related) files appear on CTAN as a set of
single-entry <a href="FAQ-tds.html">TDS trees</a>&nbsp;&mdash;
<i class="filename">fonts</i>, <i class="filename">dvips</i>, <i class="filename">tex</i> and <i class="filename">doc</i>.  The <i class="filename">doc</i>
subtree really need not be copied (it&rsquo;s really a pair of sample
files), but copy the other three into your existing Local
<tt>&#x24;TEXMF</tt> tree, and

<a href="FAQ-inst-wlcf.html">update the filename database</a>.

<p>
Now, incorporate the fonts in the set searched by PDFLaTeX,
<i class="progname">dvips</i>, <i class="progname">dvipdfm</i>/<i class="progname">dvipdfmx</i>, your
previewers and Type&nbsp;1-to-PK conversion programs, by
<ul>
<li> On a teTeX system earlier than version&nbsp;2.0, edit the file
  <i class="filename">$TEXMF/dvips/config/updmap</i> 
  and insert an absolute path for the <i class="filename">lm.map</i> just after the
  line that starts <tt>extra\_modules="</tt> (and before the closing
  quotes).
<li> On a teTeX version&nbsp;2.0 (or later), execute the command
<blockquote>
<pre>
updmap --enable Map lm.map
</pre>
</blockquote>
<li> On a MiKTeX system earlier than version&nbsp;2.2, the &ldquo;Refresh
  filename database&rdquo; operation, which you performed after installing
  files, also updates the system&rsquo;s &ldquo;PostScript resources database&rdquo;.
<li> On a MiKTeX system, version&nbsp;2.2 or later, update
  <i class="filename">updmap.cfg</i> as described in the MiKTeX 
  <a href="http://docs.miktex.org/manual/psfonts.html#chgupdmapcfg">online documentation</a>.
  Then execute the command <tt>initexmf --mkmaps</tt>, and the
  job is done.
</ul>

<p>
To use the fonts in a LaTeX document, you should
<blockquote>
  <code>&#x5c;usepackage</code><code>&#x7b;lmodern&#x7d;</code>
</blockquote>
this will make the fonts the default
for all three LaTeX font families (&ldquo;roman&rdquo;, &ldquo;sans-serif&rdquo; and
&ldquo;typewriter&rdquo;).  You also need 
<blockquote>
  <code>&#x5c;usepackage</code><code>[T1]</code></code><code>&#x7b;fontenc&#x7d;</code>
</blockquote>
for text, and 
<blockquote>
  <code>&#x5c;usepackage</code><code>&#x7b;textcomp&#x7d;</code>
</blockquote>
if you want to use any of the TS1-encoding symbols.  There is
no support for using fonts according to the OT1 encoding.
<dl>
<dt class="ctanref">Latin Modern fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
</dl>

<p>
[[[Question]]][Q-getnff][[[LBRACE]]]Getting &lsquo;free&rsquo; fonts not in your distribution[[[RBRACE]]]

<p>
Some fonts are free to use, but may not be sold.  This creates a
dilemma for distributions: users may want the fonts, but since the
distribution is also available on a DVD for sale, the fonts may
not be in the distribtution.

<p>
The CTAN archives hold such fonts, together with all the
necessary support files, but even with the support files ready-made,
installing a font is a tedious business.

<p>
For texlive users, this dilemma is solved by the
<i class="progname">getnonfreefonts</i> script.  Download the script installer from
<a href="http://tug.org/fonts/getnonfreefonts/">http://tug.org/fonts/getnonfreefonts/</a>; the web page tells you
how to run the installer to get the script, and what fonts are
currently available

<p>
Once the script is installed, you can ask it what it has available by
saying:
<blockquote>
<pre>
getnonfreefonts -l
</pre>
</blockquote>
and you can ask it to install a font (in your local texmf tree) by:
<blockquote>
<pre>
getnonfreefonts luximono
</pre>
</blockquote>
(for example; the printed version of the FAQ uses luximono, so
that the example was to hand&hellip;).

<p>
(System adminstrators may use <i class="progname">getnonfreefonts-sys</i>, which
will install the font in the &lsquo;public&rsquo; <tt>texmf</tt> tree, so that all
users of the system may use the new font.)

<p>
The script will download the relevant font files from CTAN,
extract them from their <code class="extension">zip</code> file, install them and update
the font maps.  It even goes so far as to apologise for how long it&rsquo;s
taking!

<p class="lastedit">This answer last edited: 2013-10-22</p>

<p>

<p>

<p>
[[[Question]]][Q-useMF][[[LBRACE]]]Getting MetaFont to do what you want[[[RBRACE]]]

<p>
MetaFont allows you to create your own fonts, and most TeX users
will never need to use it&nbsp;&mdash; modern (La)TeX systems contain
rather few MetaFont fonts of any significance, and when MetaFont output is
needed the font generation is done, automatically, &ldquo;on the fly&rdquo;.

<p>
If you find you have some special requirement that the system doesn&rsquo;t
satisfy, you need to know about MetaFont in rather more detail.  MetaFont,
unlike TeX, requires customisation for each output device: such
customisation is conventionally held in a &ldquo;mode&rdquo; associated with the
device.  Modes are commonly defined using the <tt>mode\_def</tt>
convention described on page&nbsp;94 of <em>The MetaFontbook</em> 
(see <a class="FAquestion.html" href="FAQ-other-books.html">TeX-related books</a>).  Your
distribution should provide
a file, conventionally called <i class="filename">local.mf</i>, containing all the
<tt>mode\_def</tt>s you will be using. In the unlikely event that
<i class="filename">local.mf</i> doesn&rsquo;t already exist, Karl Berry&rsquo;s collection of
modes (<i class="filename">modes.mf</i>) is a good starting point 
(it can be used as a &lsquo;<i class="filename">local.mf</i>&rsquo; without modification in a
modern implementation of MetaFont).  
Settings for new output devices are added to <i class="filename">modes.mf</i> as they
become available.

<p>
Now create
a <tt>plain</tt> base file using <i class="progname">mf</i> (in &ldquo;initialisation&rdquo;
mode), <tt>plain.mf</tt>, and <tt>local.mf</tt>: 
<blockquote>
<pre>
% mf -ini
This is METAFONT...
**plain # you type plain
(output)
*input local # you type this
(output)
*dump # you type this
Beginning to dump on file plain...
(output)
</pre>
</blockquote>
This will create a base file named <i class="filename">plain.base</i> (or something
similar; for example, it will be <i class="filename">PLAIN.BAS</i> on MSDOS
systems).  Move the file to the directory containing the base files on
your system, and run <i class="progname">texhash</i> as necessary.

<p>
Now you need to make sure MetaFont loads this new base when it starts up. If
MetaFont loads the <tt>plain</tt> base by default on your system, then you&rsquo;re
ready to go. Under Unix (using the default texlive (and earlier)
distributions this does indeed happen, but we could for instance
define a command <i class="progname">plainmf</i>
<sup class="fmk">&dagger;</sup><span class="footnote">&dagger; 
  On the grounds that a command <i class="progname">plain</i> could be misconstrued
  as a reference to Plain TeX
</span>
which executes &lsquo;<tt>mf -base=plain</tt>&rsquo; (or, in more traditional
style &lsquo;<tt>mf &amp;plain</tt>&rsquo;) which loads the <tt>plain</tt> base
file.

<p>
The usual way to create a font with MetaFont (with an appropriate base
file loaded) is to start MetaFont&rsquo;s input with the









line
<blockquote>
<pre>
\mode=<mode name>; mag=<magnification>; input <font file name>
</pre>
</blockquote>

in response to the &lsquo;<tt>**</tt>&rsquo; prompt or on the MetaFont command line. (If
<tt><mode name></tt> is unknown or omitted, the mode defaults to
&lsquo;proof&rsquo; mode and MetaFont will produce an output file called 
<i class="filename"><font file name>.2602gf</i>)
The <tt><magnification></tt> is a floating point number or a
&lsquo;magstep&rsquo; (magsteps define sizes by stating how many times you need to
multiply a base size by <tt>1.2</tt>, so for a base size of
<tt>10</tt>, <tt>magstep 1</tt> is <tt>12</tt>, <tt>magstep 2</tt> is
<tt>14.4</tt>
If <tt>mag=<magnification></tt> is omitted, then the default
is <tt>1</tt>&nbsp;(<tt>magstep 0</tt>).  For example, to generate
<i class="fontname">cmr10</i> at <tt>12pt</tt> for an Epson,
printer you might type
<blockquote>
<pre>
mf \mode=epson; mag=magstep 1; input cmr10
</pre>
</blockquote>
Note that under Unix the <tt>&#x5c; </tt> and <tt>;</tt>
characters must usually be quoted or escaped, so this would typically
look something like
<blockquote>
<pre>
 mf '\mode=epson; mag=magstep 1; input cmr10'
</pre>
</blockquote>
If you need a special mode that isn&rsquo;t in the base, you can put its
commands in a file (<em>e.g.</em>, <i class="filename">ln03.mf</i>) and invoke it on the
fly with the <code>&#x5c;smode</code> command.  For example, to create
<i class="filename">cmr10.300gf</i> for an LN03 printer, using the file
<blockquote>
<pre>
% This is ln03.mf as of 1990/02/27
% mode_def courtesy of John Sauter
proofing:=0;
fontmaking:=1;
tracingtitles:=0;
pixels_per_inch:=300;
blacker:=0.65;
fillin:=-0.1;
o_correction:=.5;
</pre>
</blockquote>
(note the absence of the <tt>mode\_def</tt> and <tt>enddef</tt>
commands), you would type
<blockquote>
<pre>
mf \smode="ln03"; input cmr10
</pre>
</blockquote>
This technique isn&rsquo;t one you should regularly use, but it may
prove useful if you acquire a new printer and want to experiment with
parameters, or for some other reason are regularly editing the
parameters you&rsquo;re using.  Once you&rsquo;ve settled on an appropriate set of
parameters, you should use them to rebuild the base file that you use.

<p>
Other sources of help are discussed in our list of 
<a href="FAQ-mfptutorials.html">MetaFont and MetaPost Tutorials</a>.
<dl>
<dt class="ctanref">modes.mf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/modes-file">modes-file</a>
</dl>

<p class="lastedit">This answer last edited: 2011-09-04</p>

<p>
[[[Question]]][Q-keepfonts][[[LBRACE]]]Which font files should be kept[[[RBRACE]]]

<p>
MetaFont produces from its run three files, a metrics (TFM) file, a
generic font (GF) file, and a log file; all of these files have the
same base name as does the input (<em>e.g.</em>, if the input file was
<i class="filename">cmr10.mf</i>, the outputs will be <i class="filename">cmr10.tfm</i>,
<i class="filename">cmr10.nnngf</i> (the file name may be mangled if you are using an
operating system which doesn&rsquo;t permit long file names)
and <i class="filename">cmr10.log</i>).

<p>
For TeX to use the font, you need a TFM file, so you need
to keep that.  However, you are likely to generate the same font
at more than one magnification, and each time you do so you&rsquo;ll
(incidentally) generate another TFM file; these files are
all the same, so you only need to keep one of them.

<p>
To preview or to produce printed output, the DVI processor will need a
font raster file; this is what the GF file provides.  However, while
there used (once upon a time) to be DVI processors that could use 
GF files, modern processors  use
packed raster (PK) files (incidentally, PDFTeX also uses
PK files if nothing &ldquo;better&rdquo; is available, but
see <a class="FA.html" href="FAQ-fuzzy-type3.html">fuzzy fonts in PDF</a>).
Therefore, you need to generate a PK file from the GF file; the
program <i class="progname">gftopk</i> does this for you, and once you&rsquo;ve done that you
may throw the GF file away.

<p>
The log file should never be needed again, unless there was some sort
of problem in the MetaFont run, and need not therefore be kept.

<p class="lastedit">This answer last edited: 2011-09-04</p>

<p>
[[[Question]]][Q-getbitmap][[[LBRACE]]]Acquiring bitmap fonts[[[RBRACE]]]

<p>
When CTAN was young, most people would start using TeX
with a 300 dots-per-inch (dpi) laser printer, and sets of Computer
Modern bitmap fonts for this resolution are available on CTAN.
(There are separate sets for write-black and write-white printers, as
well as sets at 120&nbsp;dpi and 240&nbsp;dpi.)

<p>
There used to regular requests that CTAN should hold
a wider range of resolutions, but they were resisted for two reasons:
<ul>
<li> The need to decide which printers to generate fonts for.  The
  broad-brush approach taken for 300&nbsp;dpi printers was (more or less)
  justified back then, given the dominance of certain printer
  &lsquo;engines&rsquo;, but nowadays one could not make any such assumption.
<li> Given the above, it has been near-impossible to justify the
  space that would be required by a huge array of bitmap fonts.
</ul>
Fortunately, (La)TeX distribution technology has put a stop to these
arguments: most (if not all) current distributions generate bitmap
fonts as needed, and cache them for later re-use.  The impatient
user, who is determined that all bitmap fonts should be created once
and for all, may be supported by scripts such as <i class="progname">allcm</i>
(distributed with texlive, at least; otherwise such a
person should consult &ldquo;<a href="FAQ-useMF.html">the use of MetaFont</a>)&rdquo;.

<p>
If your output is to a PostScript-capable device, or if your output is
destined to be converted to PDF, you should switch to
using Type&nbsp;1 versions of the CM fonts.  Two free
sets are available; the older (<i class="package">bakoma</i>) is
somewhat less well produced than the <i class="package">bluesky</i> fonts, which were
originally professionally produced and sold, but were then released
for general public use by their originators Y&amp;Y and Bluesky Research,
in association with the AMS and other scientific publishers
(they are nowadays available under the SIL&rsquo;s Open Fonts Licence).  The
two sets contain slightly different ranges of fonts, but you are
advised to use the <i class="package">bluesky</i> set except when <i class="package">bakoma</i>
is for some reason absolutely unavoidable.  In recent years, several
other &lsquo;MetaFont&rsquo; fonts have been converted to Type&nbsp;1 format; it&rsquo;s
uncommon ever to need to generate bitmap fonts for any purpose other
than previewing&nbsp;&mdash; see 
<a href="FAQ-PSpreview.html">&ldquo;previewing documents with Type&nbsp;1 fonts&rdquo;</a>&nbsp;&mdash;
if even then.

<p>
More modern fonts may be used in place of the Computer Modern set.  The
<a href="FAQ-ECfonts.html">EC fonts</a> and the 
<a href="FAQ-uselmfonts.html">Latin Modern fonts</a> are both close relatives with
wider ranges of glyphs to offer.
<dl>
<dt class="ctanref">BaKoMa fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bakoma">bakoma</a>
<dt class="ctanref">Bluesky fonts</dt><dd>Distributed as part of
  <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">CM fonts (write-black printers)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pk300">pk300</a>
<dt class="ctanref">CM fonts (write-white printers)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pk300w">pk300w</a>
<dt class="ctanref">EC fonts (Type 1 format)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a>
<dt class="ctanref">Latin Modern fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
</dl>

<p class="lastedit">This answer last edited: 2011-09-4</p>


<p>

<p>

<p>
[[[Question]]][Q-acrobat][[[LBRACE]]]Making PDF documents from (La)TeX[[[RBRACE]]]

<p>
There are three general routes to PDF output: Adobe&rsquo;s original
&lsquo;distillation&rsquo; route (via PostScript output), direct conversion of a
DVI file, and the use of a direct TeX-like PDF
generator such as <a href="FAQ-whatpdftex.html">PDFTeX</a>.

<p>
For simple documents (with no hyper-references), you can either
<ul>
<li> process the document in the normal way, produce PostScript
  output and distill it;
<li> (on a Windows or Macintosh machine with appropriate
  tools installed) pass the output through a PDFwriter in place
  of a printer driver.  This route is only appropriate for simple
  documents: PDF writers cannot create hyperlinks;
<li> process the document with &ldquo;vanilla&rdquo; LaTeX and generate PDF
  direct from the DVI using <i class="progname">dvipdfm</i>/<i class="progname">dvipdfmx</i>; or 
<li> process the document direct to PDF with PDFTeX,
  <a href="FAQ-luatex.html">LuaTeX</a>, or <a href="FAQ-xetex.html">XeTeX</a>.
</ul>

<p>
To translate all the LaTeX cross-referencing into Acrobat
links, you need a LaTeX package to redefine
the internal commands.  There are two of these for LaTeX, both
capable of conforming to the
<a href="FAQ-hyper.html">HyperTeX specification</a>:
Heiko Oberdiek&rsquo;s <i class="package">hyperref</i>, and Michael Mehlich&rsquo;s
<i class="package">hyper</i>.  (In practice, almost everyone uses
<i class="package">hyperref</i>; <i class="package">hyper</i> hasn&rsquo;t been updated since 2000.)
<i class="package">Hyperref</i> can often determine how it should generate
hypertext from its environment, but there is a wide set of
configuration options you can give via <code>&#x5c;usepackage</code>.  The package
can operate using PDFTeX primitives, the hyperTeX
<code>&#x5c;special</code>s, or DVI driver-specific <code>&#x5c;special</code> commands.
Both <i class="progname">dvips</i> and Y&amp;Y&rsquo;s <i class="progname">DVIPSONE</i> can
translate the DVI with these <code>&#x5c;special</code> commands into
PostScript acceptable to Distiller, and
<i class="progname">dvipdfm</i> and <i class="progname">dvipdfmx</i> have <code>&#x5c;special</code> commands of
their own.

<p>
If you use Plain TeX, the <a href="FAQ-eplain.html">Eplain macros</a> can
help you create PDF documents with hyper-references.
It can operate using PDFTeX primitives, or <code>&#x5c;special</code> commands
for the <i class="progname">dvipdfm</i>/<i class="progname">dvipdfmx</i> DVI drivers.

<p>
While there is no free implementation of all of <i class="progname">Adobe</i>
<i class="progname">Distiller</i>&rsquo;s
functionality, any but the implausibly old versions of
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
provide pretty reliable distillation (but beware of the problems with
<a href="FAQ-dvips-pdf.html"><i class="progname">dvips</i> output for distillation</a>).

<p>
For viewing (and printing) the resulting files, Adobe&rsquo;s
<i class="progname">Acrobat</i> <i class="progname">Reader</i> is available for a fair range of
platforms; for those for which Adobe&rsquo;s reader is unavailable, remotely
current versions of <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
combined with <i class="progname">gv</i> or
<a href="http://www.ghostgum.com.au/"><i class="progname">gsview</i></a> can display and
print PDF files, as can <i class="progname">xpdf</i>.

<p>
In some circumstances, a
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>-based viewer
application is actually preferable to Acrobat Reader.  For example, on
Windows Acrobat Reader locks the <code class="extension">pdf</code> file it&rsquo;s displaying: this
makes the traditional (and highly effective) (La)TeX development
cycle of &ldquo;Edit&rarr;Process&rarr;Preview&rdquo; become
rather clumsy&nbsp;&mdash; <a href="http://www.ghostgum.com.au/"><i class="progname">gsview</i></a>
doesn&rsquo;t make the same <mistake.
<dl>
<dt class="ctanref">Acrobat Reader</dt><dd>download from <a href="http://get.adobe.com/reader">http://get.adobe.com/reader</a>
<dt class="ctanref">dvipdfm</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvipdfm">dvipdfm</a>
<dt class="ctanref">dvipdfmx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvipdfmx">dvipdfmx</a>
<dt class="ctanref">gv</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/gv">gv</a>
<dt class="ctanref">hyper.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyper">hyper</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-22</p>

<p>
[[[Question]]][Q-hyper][[[LBRACE]]]Making hypertext documents from TeX[[[RBRACE]]]

<p>
If you want on-line hypertext with a (La)TeX source, probably on the
World Wide Web, there are four technologies to consider:
<ul>
<li> start from (La)TeX, and use one of a number of techniques to
  translate (more or less) directly to
  <a href="FAQ-LaTeX2HTML.html">HTML</a>;

<li> Start from <a href="FAQ-texinfo.html"><i class="package">texinfo</i></a> source,
  and use the <i class="progname">info</i> viewer, or convert the <i class="package">texinfo</i>
  source to HTML using <i class="progname">texi2html</i>;
<li> Start from (La)TeX; use PDFTeX, XeTeX or LuaTeX to
  produce PDF, using <i class="package">hyperref</i> to construct
  hyperlinks.
<li> Start from (unconventional) (La)TeX which use the 
  <a href="FAQ-hypertex.html">hyperTeX conventions</a>.
</ul>
<dl>
<dt class="ctanref">texinfo</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texinfo">texinfo</a>
</dl>

<p class="lastedit">This answer last edited: 2013-05-30</p>

<p>
[[[Question]]][Q-hypertex][[[LBRACE]]]The <em>hyperTeX</em> project[[[RBRACE]]]

<p>
The <em>hyperTeX</em> project extended the functionality of all the
LaTeX cross-referencing commands (including the table of contents)
to produce <code>&#x5c;special</code> commands which are parsed by DVI processors
conforming to the HyperTeX guidelines;
it provides general hypertext links, including those
to external documents.

<p>
The HyperTeX specification says that conformant viewers/translators
must recognize the following set of <code>&#x5c;special</code> commands:
<dl>
<dt class="description">href:</dt><dd> |html:<a href = "href_string">|
<dt class="description">name:</dt><dd> |html:<a name = "name_string">|
<dt class="description">end:</dt><dd> <code class="verb">html:</a></code>
<dt class="description">image:</dt><dd> |html:<img src = "href_string">|
<dt class="description">base\_name:</dt><dd> |html:<base href = "href_string">|
</dl>

<p>
The <em>href</em>, <em>name</em> and <em>end</em> commands are used to do
the basic hypertext operations of establishing links between sections
of documents. 

<p>
Further details are available on <a href="http://arXiv.org/hypertex/">http://arXiv.org/hypertex/</a>; there
are two commonly-used implementations of the specification, a
modified <i class="progname">xdvi</i> and (recent releases of)
<i class="progname">dvips</i>. Output from the latter may be used in recent
releases of <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
or Acrobat Distiller.

<p>
[[[Question]]][Q-dvips-pdf][[[LBRACE]]]Quality of PDF from PostScript[[[RBRACE]]]
<!-- blurry fuzzy crippled -->

<p>
Any reasonable PostScript, including any output of <i class="progname">dvips</i>, may be
converted to PDF, using (for example) a sufficiently recent
version of <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>,
Frank Siegert&rsquo;s (shareware)
<a href="http://www.pstill.com/"><i class="progname">PStill</i></a>, or Adobe&rsquo;s (commercial)
<i class="progname">Distiller</i>.

<p>
But, although the job may (almost always) be done, the results are
often not acceptable: the most frequent problem is bad presentation of
the character glyphs that make up the document.  The following answers
offer solutions to this (and other) problems of bad presentation.
Issues covered are:
<ul>
<li> <a href="FAQ-fuzzy-type3.html">Wrong type of fonts used</a>, which is
  the commonest cause of fuzzy text.
<li> <a href="FAQ-fuzzy-gs.html"><i class="progname">Ghostscript</i> too old</a>,
  which can also result in fuzzy text.

<li> <a href="FAQ-fuzzy-T1.html">Switching to font encoding T1 encoding</a>,
  which is yet another possible cause of fuzzy text.
<li> Another problem&nbsp;&mdash; missing characters&nbsp;&mdash; arises from an
  
  <a href="FAQ-distill-prob.html">aged version of <i class="progname">Adobe</i>&nbsp;<i class="progname">Distiller</i></a>.
<li> Finally, there&rsquo;s the common confusion that arises from using the
  <i class="progname">dvips</i> configuration file <tt>-Ppdf</tt>, the 
  <a href="FAQ-charshift.html">weird characters</a>.
</ul>
It should be noted that <i class="progname">Adobe</i> 
                                         
<i class="progname">Reader</i>&nbsp;6 (released in mid-2003, and later versions) does
not exhibit the &ldquo;fuzziness&rdquo; that so many of the answers below
address.  This is of course good news: however, it will inevitably be
a long time before every user in the world has this (or later)
versions, so the remedies below are going to remain for some time to
come.

<p>
The problems are also discussed, with practical examples, in Mike
Shell&rsquo;s <i class="package">testflow</i> package, which these FAQs recommend as a
&ldquo;<a href="FAQ-tutbitslatex.html">specialised tutorial</a>.
<dl>
<dt class="ctanref">testflow</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/testflow">testflow</a>
</dl>

<p>

<p>
[[[Question]]][Q-fuzzy-type3][[[LBRACE]]]The wrong type of fonts in PDF[[[RBRACE]]]
<!-- crippled blurry -->

<p>
This is far the commonest problem: the symptom is that text in the
document looks &ldquo;fuzzy&rdquo;.

<p>
Most people use <i class="progname">Adobe</i> <i class="progname">Acrobat</i> <i class="progname">Reader</i>
to view their PDF: <i class="progname">Reader</i> is distributed free of
charge, and is widely available, for all its faults.  One of those
faults is its failure to deal with bitmap fonts (at least, in all
versions earlier than version&nbsp;6, all of which copies are pretty old,
now&nbsp;&hellip; but some are occasionally found).

<p>
So we don&rsquo;t want bitmap fonts in our PostScript: with them, characters show
up in <i class="progname">Reader</i>&rsquo;s display as blurred blobs which are often not
even recognisable as the original letter, and are often not properly placed
on the line.  Nevertheless, even now, most TeX systems have
<i class="progname">dvips</i> configured to use
<a href="FAQ-pk.html"><code class="extension">pk</code> files</a> in its output.  Even
PDFTeX will use <code class="extension">pk</code> files if it can see no alternative for
a font in the document it is processing.

<p>
Our remedy is to use
&ldquo;<a href="FAQ-adobetypen.html">Adobe Type&nbsp;1</a>&rdquo;
versions of the fonts we need.  Since Adobe are in the
business of selling Type&nbsp;1 fonts, <i class="progname">Reader</i> was of course made
to deal with them really rather well, from the very beginning.

<p>
Of course, if your document uses nothing but fonts that came from
Adobe in the first place&nbsp;&mdash; fonts such as <i class="fontname">Times</i> that
appear in pretty much every PostScript printer, or such as Adobe
<i class="fontname">Sabon</i> that you pay extra for&nbsp;&mdash; then there&rsquo;s no problem.

<p>
But most people use <i class="fontname">Computer</i> <i class="fontname">Modern</i> to start
with, and even those relative sophisticates who use something as
exotic as <i class="progname">Sabon</i> often find themselves using odd characters
from CM without really intending to do so.  Fortunately, rather
good versions of the CM fonts are available from the AMS
(who have them courtesy of 
<a href="FAQ-commercial.html">Blue Sky Research</a> and Y&amp;Y).

<p>
Most modern systems have the fonts installed ready to use; and any
system installed less than 3&nbsp;years ago has a <i class="progname">dvips</i>
configuration file &lsquo;<tt>pdf</tt>&rsquo; that signals the use of the
CM fonts, and also sets a few other parameters to improve
<i class="progname">dvips</i>&rsquo; output.  Use this configuration as:
<blockquote>
<pre>
dvips -Ppdf myfile -o myfile.ps
</pre>
</blockquote>
This may produce a warning message about failing to find the
configuration file:
<blockquote>
<pre>
dvips: warning: no config file for `pdf'
</pre>
</blockquote>
or something similar, or about failing to find a font file:
<blockquote>
<pre>
dvips: ! Couldn't find header file cmr10.pfb
</pre>
</blockquote>
Either of these failures signals that your
system doesn&rsquo;t have the fonts in the first place.

<p>
A way of using the fonts that doesn&rsquo;t involve the sophistication of
the <tt>-Ppdf</tt> mechanism is simply to load maps:
<blockquote>
<pre>
dvips -Pcmz -Pamz myfile -o myfile.ps
</pre>
</blockquote>
You may encounter the same warning messages as listed above.

<p>
If your system does not have the fonts, it won&rsquo;t have the
configuration file either; however, it might have the configuration
file without the fonts.  In either case, you need to
<a href="FAQ-inst1cm.html">install the fonts</a>.

<p>

<p>
[[[Question]]][Q-fuzzy-gs][[[LBRACE]]]Fuzzy fonts because <i class="progname">Ghostscript</i> too old[[[RBRACE]]]
<!-- crippled blurry -->

<p>
So you&rsquo;ve done everything the FAQ has told you that you need,
correct fonts properly installed and appearing in the <i class="progname">dvips</i>
output, but <em>still</em> you get fuzzy character output after
distilling with <a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>.

<p>
The problem could arise from too old a version of
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>, which you
may be using directly, or via a
script such as <i class="progname">ps2pdf</i> (distributed with
<i class="progname">ghostscript</i> itself), <i class="progname">dvipdf</i>, or similar.
Though <i class="progname">ghostscript</i> was capable of distillation from
version&nbsp;5.50, that version could only produce bitmap Type&nbsp;3 output of
any font other than the fundamental 35&nbsp;fonts (<i class="fontname">Times</i>,
<i class="fontname">Helvetica</i>, etc.).  Later versions added &lsquo;complete&rsquo;
distillation, but it wasn&rsquo;t until version&nbsp;6.50 that one could rely on
it for everyday work.

<p>
So, if your PDF  output still looks fuzzy in <i class="progname">Acrobat</i>
<i class="progname">Reader</i>, upgrade <i class="progname">ghostscript</i>.  The new version
should be at least version&nbsp;6.50, of course, but it&rsquo;s usually good
policy to go to the most recent version (version&nbsp;8.12 at the time of
writing&nbsp;&mdash; 2003).

<p>
[[[Question]]][Q-fuzzy-T1][[[LBRACE]]]Fonts go fuzzy when you switch to T1[[[RBRACE]]]
<!-- crippled blurry -->

<p>
You&rsquo;ve been having problems with hyphenation, and someone has
suggested that you should use &ldquo;<code>&#x5c;usepackage</code><code>[T1]</code></code><code>&#x7b;fontenc&#x7d;</code>&rdquo;
to help sort them out.  Suddenly you find that your final PDF
has become fuzzy.  The problem may arise whether you are using PostScript
output and then distilling it, or you are using PDFTeX for the
whole job.

<p>
In fact, this is the same problem as most others about the
<a href="FAQ-dvips-pdf.html">quality of PDF</a>: you&rsquo;ve abandoned
your previous setup using Type&nbsp;1 versions of the CM fonts, and
<i class="progname">dvips</i> has inserted Type&nbsp;3 versions of the EC fonts
into your document output.  (See 
&ldquo;<a href="FAQ-adobetypen.html">Adobe font types</a>
for details of these font types; also, note that the font
<em>encoding</em>&nbsp;T1
has nothing directly to do with the font <em>format</em>&nbsp;Type&nbsp;1).

<p>
However, as noted in 
&ldquo;<a class="FAquestion.html" href="FAQ-type1T1.html">8-bit Type&nbsp;1 fonts</a>&rdquo;,
Type&nbsp;1 versions of CM-like fonts in T1 (or equivalent) encoding
are now available, both as &ldquo;real&rdquo; fonts, and as virtual font sets.
One solution, therefore, is to use one of these alternatives.

<p>
The alternative is to switch font family altogether, to something like
<i class="fontname">Times</i> (as a no-thought default) or one of the many more pleasing
Adobe-encoded fonts.  The default action of <i class="package">fontinst</i>, when
creating metrics for such a font, is to create settings for both OT1
and T1 encodings, so there&rsquo;s little change in what goes on (at the
user level) even if you have switched to T1&nbsp;encoding when using the
fonts.

<p>
[[[Question]]][Q-distill-prob][[[LBRACE]]]Characters missing from PDF output[[[RBRACE]]]

<p>
If you&rsquo;re using <i class="progname">Acrobat</i> <i class="progname">Distiller</i> to create your
PDF output, you may find
characters missing.  This may manifest
itself as messed-up maths equations (missing
&ldquo;-&rdquo; signs, for example), or bits missing
from large symbols.  Early versions of <i class="progname">Distiller</i> used to
ignore character positions 0&ndash;31 and 128&ndash;159 of every font: Adobe&rsquo;s
fonts never use such positions, so why should <i class="progname">Distiller</i>?

<p>
Well, the answer to this question is &ldquo;because Adobe don&rsquo;t produce all
the world&rsquo;s fonts&rdquo;&nbsp;&mdash; fonts like <i class="fontname">Computer</i>
<i class="fontname">Modern</i> were around before Adobe came on the scene, and
<em>they</em> use positions 0&ndash;31.  Adobe don&rsquo;t react to complaints like
that in the previous sentence, but they do release new versions of
their programs; and <i class="progname">Distiller</i>, since at least version&nbsp;4.0,
<em>has</em> recognised the font positions it used to shun.

<p>
Meanwhile, TeX users with old versions of <i class="progname">Distiller</i> need
to deal with their fonts.  <i class="progname">Dvips</i> comes to our aid: the
switch <tt>-G1</tt> (&ldquo;remap characters&rdquo;), which moves the offending
characters out of the way.  The PDF configuration file
(<tt>-Ppdf</tt>), recommended 
in &ldquo;<a href="FAQ-fuzzy-type3.html">the wrong type of fonts</a>&rdquo;,
includes the switch.

<p>
The switch is not without its problems; pre-2003 versions of
<i class="progname">dvips</i> will apply it to Adobe fonts as well, causing
<a href="FAQ-charshift.html">havoc</a>, but fortunately
that problem is usually soluble.  However, a document using both
CM and Adobe-specified fonts is stuck.  The only real solution
is either to upgrade <i class="progname">dvips</i>, or to spend money to upgrade
<i class="progname">Distiller</i>.

<p>
[[[Question]]][Q-type1T1][[[LBRACE]]]Finding &lsquo;8-bit&rsquo; Type&nbsp;1 fonts[[[RBRACE]]]
<!-- eight -->

<p>
Elsewhere, answers to these FAQs recommend that you use an
&lsquo;8-bit&rsquo; font to permit 
<a href="FAQ-hyphenaccents.html">accentuation of inflected languages</a>,
and also recommend the use of Type&nbsp;1 fonts to ensure that
you get <a href="FAQ-fuzzy-type3.html">good quality PDF</a>.  These
recommendations used to be contradictory: one could not just
&ldquo;switch&rdquo; from the free CM fonts to free Cork- (or similarly)
encoded Type&nbsp;1 fonts.  The first approach that started to alleviate
these problems, was the development of virtual fonts that make
a good approach to the Cork encoding (see below).  Now, however, we
have &ldquo;true&rdquo; Type&nbsp;1 fonts available: as always, we have an
embarrassment of riches with three free alternatives, and one
commercial and one shareware version.

<p>
<i class="package">CM-super</i> is an
auto-traced set which encompasses all of the T1 and TS1
encodings as well as the T2* series (the family of encodings
that cover languages based on Cyrillic alphabets).  These fonts are
pretty easy to install (the installation instructions are clear), but
they are huge: don&rsquo;t try to install them if you&rsquo;re short of disc
space.

<p>
<i class="package">CM-LGC</i> is a similar &ldquo;super-font&rdquo; set, but of much more
modest size; it covers T1, TS1 and T2A
encodings (as does <i class="package">CM-super</i>, and also covers the LGR
encoding (for typesetting Greek, based on Claudio Beccari&rsquo;s MetaFont
sources).  <i class="package">CM-LGC</i> manages to be small by going to the
opposite extreme from <i class="package">CM-super</i>, which includes fonts at all
the sizes supported by the original EC (a huge range);
<i class="package">CM-LGC</i> has one font per font shape, getting other sizes by
scaling.  There is an inevitable loss of quality inherent in this
approach, but for the disc-space-challenged machine, <i class="package">CM-LGC</i>
is an obvious choice.

<p>
<i class="package">Tt2001</i> is a simple scan of the EC and TC
fonts, and has some virtues&nbsp;&mdash; it&rsquo;s noticeably smaller than
<i class="package">CM-super</i> while being less stark than <i class="package">CM-LGC</i>.

<p>
<i class="package">Latin</i> <i class="package">Modern</i> is produced using the
program <a href="FAQ-textrace.html"><i class="progname">MetaType1</i></a>.  The
<i class="package">Latin</i> <i class="package">Modern</i> set comes with T1, TS1
LY1 encoded variants (as well as a variant using the Polish
QX encoding); for the glyph set it covers, its outlines seem
rather cleaner than those of <i class="package">CM-super</i>.  <i class="package">Latin</i>
<i class="package">Modern</i> is more modest in its disc space demands than is
<i class="package">CM-super</i>, while not being nearly as stark in its range of
design sizes as is <i class="package">CM-LGC</i>&nbsp;&mdash;  <i class="package">Latin</i>
<i class="package">Modern</i>&rsquo;s fonts are offered in the same set of sizes as the
original <i class="package">CM</i> fonts.  It&rsquo;s hard to argue with the choice:
Knuth&rsquo;s range of sizes has stood the test of time, and is one of the
bases on which the excellence of the TeX system rests.

<p>
<a href="FAQ-virtualfonts.html">Virtual fonts</a> help us deal with the problem,
since they allow us to map &ldquo;bits of DVI file&rdquo; to single
characters in the virtual font; so we can create an &ldquo;&eacute;&rdquo; character
by recreating the DVI commands that would result from the code
&ldquo;<code>&#x5c;&rsquo;</code><tt>e</tt>&rdquo;.  However, since this involves two characters being
selected from a font, the arrangement is sufficient to fool
<i class="progname">Acrobat</i> <i class="progname">Reader</i>: you can&rsquo;t use the program&rsquo;s
facilities for searching for text that contains inflected characters,
and if you <em>cut</em> text from a window that contains such a
character, you&rsquo;ll find something unexpected (typically the accent and
the &lsquo;base&rsquo; characters separated by a space) when you <i class="progname">paste</i>
the result.  However, if you can live with this difficulty, virtual
fonts are a useful and straightforward solution to the problem.

<p>
There are two virtual-font offerings of CM-based 8-bit
fonts&nbsp;&mdash; the <i class="package">ae</i> (&ldquo;almost EC&rdquo;) and
<i class="package">zefonts</i> sets; the <i class="package">zefonts</i> set has wider coverage
(though the <i class="package">ae</i> set may be extended to offer guillemets by
use of the <i class="package">aeguill</i> package).  Neither offers characters such
as <tt>eth</tt> and <tt>thorn</tt> (used in, for example, in
Icelandic), but the <i class="package">aecompl</i> package works with the
<i class="package">ae</i> fonts to provide the missing characters from the
EC fonts (i.e., as bitmaps).

<p>
The sole remaining commercial CM-like 8-bit font comes from
Micropress, who offer the complete EC set
in Type&nbsp;1 format, as part of their range of outline versions of fonts
that were originally distributed in MetaFont format.  See
<a class="FAquestion.html" href="FAQ-commercial.html">&ldquo;commercial distributions&rdquo;</a>.

<p>
The shareware 
<a href="FAQ-TeXsystems.html">BaKoMa TeX distribution</a> offers a
set of Type&nbsp;1 EC fonts, as an extra shareware option.  (As far
as the present author can tell, these fonts are <em>only</em> available
to users of BaKoMa TeX: they are stored in an archive format that
seems not to be publicly available.)

<p>
Finally, you can use one of the myriad text fonts available in Type&nbsp;1
format (with appropriate PSNFSS metrics for T1 encoding,
or metrics for some other 8-bit encoding such as LY1).  However,
if you use someone else&rsquo;s text font (even something as simple as
Adobe&rsquo;s Times family) you have to find a matching family of
mathematical fonts, which is a non-trivial undertaking&nbsp;&mdash;
see <a href="FAQ-psfchoice.html">&ldquo;choice of scalable fonts&rdquo;</a>.
<dl>
<dt class="ctanref">ae fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ae">ae</a>
<dt class="ctanref">aecompl.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/ae">ae</a>
<dt class="ctanref">aeguill.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/aeguill">aeguill</a>
<dt class="ctanref">BaKoMa fonts</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/bakoma-texfonts">bakoma-texfonts</a>
<dt class="ctanref">CM-LGC fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-lgc">cm-lgc</a>
<dt class="ctanref">CM-super fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a> (beware:
  very large download)
<dt class="ctanref">Latin Modern fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
<dt class="ctanref">tt2001 fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tt2001">tt2001</a>
<dt class="ctanref">zefonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/zefonts">zefonts</a>
</dl>

<p>
[[[Question]]][Q-pkfix][[[LBRACE]]]Replacing Type 3 fonts in PostScript[[[RBRACE]]]

<p>
One often comes across a PostScript file generated by
<i class="progname">dvips</i> which contains embedded PK fonts; if you try
to generate PDF from such a file, the quality will be poor.

<p>
Of course, the proper solution is to regenerate the PostScript file,
but if neither the sources nor the DVI file are available, one
must needs resort to some sort of patching to replace the bitmap fonts
in the file by outline fonts.

<p>
The program <i class="progname">pkfix</i> (by Heiko Oberdiek) will do this
patching, for files created by &ldquo;not too old versions&rdquo; of
<i class="progname">dvips</i>: it finds the fonts to be replaced by examining the
PostScript comments <i class="progname">dvips</i> has put in the file.  For each
font, <i class="progname">pkfix</i> puts appropriate TeX commands in a file,
which it then processes and runs through <i class="progname">dvips</i> (with switch
<tt>-Ppdf</tt>) to acquire an appropriate copy of the font; these copies are
then patched back into the original file.

<p>
If your source file is older than <i class="progname">pkfix</i> can deal with,
there&rsquo;s still a modicum of hope: <i class="progname">pkfix-helper</i> examines the
bitmap fonts in a document, compares them with the metric
(<code class="extension">tfm</code>) fonts on your system and comes to a view of which
font might be which.  The program reports on &ldquo;poor&rdquo; matches, and
there are options for confirming, or replacing, its guesses.  The
technique (which sounds implausible) is successful enough to be worth
a try.

<p>
A further option is Frank Siegert&rsquo;s (shareware)
<a href="http://www.pstill.com">PStill</a>, which is capable of processing
the PostScript it is distilling, and one option is to replace bitmap fonts
in the file with Type&nbsp;1 versions.
<dl>
<dt class="ctanref">pkfix</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pkfix">pkfix</a>
<dt class="ctanref">pkfix-helper</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pkfix-helper">pkfix-helper</a>
</dl>

<p>
[[[Question]]][Q-pdfpagelabels][[[LBRACE]]]<i class="package">Hyperref</i> and repeated page numbers[[[RBRACE]]]

<p>
The <i class="class">book</i> class (and its friends and relations) automatically
changes the display of page numbers in the frontmatter of the document
to lower-case roman.  This is fine for human readers, but if
<i class="package">hyperref</i> has been misconfigured, the existence of pages have
the same page number can cause problems.  Fortunately, the
configuration options to make <i class="package">hyperref</i> &ldquo;do the right
thing&rdquo; are (by default) set up to avoid problems.

<p>
The two options in question are:
<dl>
<dt class="description"><code class="pkgoption">plainpages=false</code></dt><dd> Make page anchors using the
  formatted form of the page number.  With this option,
  <i class="package">hyperref</i> writes different anchors for pages &lsquo;ii&rsquo; and &lsquo;2&rsquo;.
  (This is the default value for the option, which is a 
  <em>good thing</em>&hellip;)
  If the option is set &lsquo;<tt>true</tt>&rsquo; <i class="package">hyperref</i> writes page
  anchors as the arabic form of the page number, rather than the
  formatted form that gets printed; this is not usually appropriate.
<dt class="description"><code class="pkgoption">pdfpagelabels</code></dt><dd> Set PDF page labels; i.e.,
  write the value of <code>&#x5c;thepage</code> to the PDF file so that
  <i class="package">Acrobat Reader</i> can display the page number as (say) &lsquo;ii (4
  of 40)&rsquo; rather than simply &lsquo;4 of 40&rsquo;.
</dl>
The two should be used whenever page numbering is not just
&lsquo;1<tt>..</tt>n&rsquo;; they may be used independently, but
usually are not.

<p>
The recipe isn&rsquo;t perfect: it relies on <code>&#x5c;thepage</code> being different
for every page in the document.  A common problem arises when there is
an unnumbered title page, after which page numbers are reset: the
PDFTeX warning of &ldquo;<a href="FAQ-hyperdupdest.html">duplicate destinations</a>&rdquo;
will happen in this case, regardless of the options.
<dl>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
</dl>

<p>
[[[Question]]][Q-cpy-srchpdf][[[LBRACE]]]Copy-paste-able/searchable PDF files[[[RBRACE]]]

<p>
PDF files generated from TeX (and friends), will by default
hold their text in the encoding of the original TeX font used by
the document.

<p>
When PDF readers, etc., offer copy-paste or searching
functions, the operations take place on the glyph codes used for the
fonts selected by the document.  This is fine, for the simplest
documents (in English, at least); the problem comes when you&rsquo;re using
an inflected language (with accented letters, or composite glyphs
such as &lsquo;&aelig;&rsquo;)&nbsp;&mdash; TeX will typically use a non-standard
encoding, and there are likely be problems, since PDF readers
assume the text is presented in Unicode.

<p>
For PDF generated from LaTeX (the DVI being
converted, by whatever means), or from PDFLaTeX, the character
codes used in the PDF file are in fact those of the document&rsquo;s
<a href="FAQ-whatenc.html">font encoding</a>; if you&rsquo;re using OT1 or
T1, your document will be OK for almost all ASCII
characters, but it&rsquo;s likely that anything &ldquo;out of the ordinary&rdquo; will
not be represented properly.  (Of course, PDF generated from
XeTeX- or LuaTeX-based formats is going to be OK, since
those engines work in Unicode througout.)

<p>
The solution comes from the character-mapping facilities in the
PDF specification: the file may specify a table of translations
of characters present in the coding used in the file, to a Unicode
version of the characters.

<p>
Packages <i class="package">cmap</i> and <i class="package">mmap</i> both offer means of
generating such tables (<i class="package">mmap</i> has wider coverage, including
the various maths encodings); both work with PDFTeX and no other
engine.  Thus your document becomes something like:
<blockquote>
<pre>
\documentclass{article}
\usepackage{mmap} % (or cmap)
\usepackage[T1]{fontenc}
... % your other packages
\begin{document}
... % your actual text
</pre>
</blockquote>

<p>
Unfortunately, the packages only work with fonts that are directly
encoded, such as the default (Computer Modern, i.e., <i class="fontname">cm</i>
fonts, and things such as <i class="fontname">cm-super</i> or the <i class="fontname">Latin</i>
<i class="fontname">Modern</i> sets.  Fonts like Adobe
Times Roman (which are encoded for (La)TeX use via virtual fonts)
are not amenable to this treatment.
<dl>
<dt class="ctanref">cmap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cmap">cmap</a>
<dt class="ctanref">cm-super fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a>
<dt class="ctanref">Latin Modern fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
<dt class="ctanref">mmap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mmap">mmap</a>
</dl>

<p class="lastedit">This answer last edited: 2013-08-21</p>

<p>





























<p>

<p>


<p>

<p>

<p>
[[[Question]]][Q-impgraph][[[LBRACE]]]Importing graphics into (La)TeX documents[[[RBRACE]]]

<p>
Knuth, when designing the current version of TeX back in the early
1980s, could discern no &ldquo;standard&rdquo; way of expressing graphics in
documents.  He reasoned that this state could not persist for ever,
but that it would be foolish for him to define TeX primitives that
allowed the import of graphical image definitions.  He therefore
deferred the specification of the use of graphics to the writers of
DVI drivers; TeX documents would control the drivers by
means of 
<a href="FAQ-specials.html"><code>&#x5c;special</code> commands</a>.

<p>
There is therefore a straightforward way for anyone to import graphics
into their document: read the specification of the <code>&#x5c;special</code>
commands your driver uses, and &lsquo;just&rsquo; code them.  This is the
hair-shirt approach: it definitely works, but it&rsquo;s not for everyone.

<p>
Over the years, therefore, &ldquo;graphics inclusion&rdquo; packages have sprung
up; most were designed for inclusion of

<a href="FAQ-eps.html">Encapsulated PostScript graphics</a>&nbsp;&mdash;
which has become the <em>lingua franca</em> of graphics inclusion over
the last decade or so.

<p>
Notable examples are the <i class="package">epsf</i> package (distributed with
<i class="progname">dvips</i>) and the <i class="package">psfig</i> package.  (Both of these
packages were designed to work well with both Plain TeX and
LaTeX 2.09; they are both still available.)  All such packages were
tied to a particular DVI driver (<i class="progname">dvips</i>, in
the above two cases), but their code could be configured for others.

<p>
The obvious next step was to make the code configurable dynamically.
The LaTeX standard <i class="package">graphics</i> package and its derivatives
made this step: it is strongly preferred for all current work.

<p>
Users of Plain TeX have two options allowing them to use
<i class="package">graphicx</i>: the <i class="package">miniltx</i> &ldquo;LaTeX emulator&rdquo; and
the <i class="package">graphicx.tex</i> front-end allow you to load
<i class="package">graphicx</i>, and <a href="FAQ-eplain.html">Eplain</a> allows you to load
it (using the full LaTeX syntax) direct.

<p>
The <i class="package">graphics</i> package takes a variety of &ldquo;driver
options&rdquo;&nbsp;&mdash; package options that select code to generate the
commands appropriate to the DVI driver in use.  In most cases,
your (La)TeX distribution will provide a <i class="filename">graphics.cfg</i> file
that will select the correct driver for what you&rsquo;re doing (for
example, a distribution that provides both LaTeX and PDFLaTeX
will usually provide a configuration file that determines whether
PDFLaTeX is running, and selects the definitions for it if so).

<p>
The <i class="package">graphics</i> package provides a toolkit of commands (insert
graphics, scale a box, rotate a box), which may be composed to provide
most facilities you need; the basic command, <code>&#x5c;includegraphics</code>,
takes one optional argument, which specifies  the bounding box of the
graphics to be included.

<p>
The <i class="package">graphicx</i> package uses the facilities of of
<i class="package">graphics</i> behind a rather more sophisticated command syntax
to provide a very powerful version of the <code>&#x5c;includegraphics</code>
command.  <i class="package">graphicx</i>&rsquo;s version can combine scaling and
rotation, viewporting and clipping, and many other things.  While this
is all a convenience (at some cost of syntax), it is also capable of
producing noticeably more efficient PostScript, and some of its
combinations are simply not possible with the <i class="package">graphics</i>
package version.

<p>
The <i class="package">epsfig</i> package provides the same facilities as
<i class="package">graphicx</i>, but via a <code>&#x5c;psfig</code> command (also known as
<code>&#x5c;epsfig</code>), capable of emulating
the behaviour (if not the bugs) the old <i class="package">psfig</i> package.
<i class="package">Epsfig</i> also supplies homely support for former users of the
<i class="package">epsf</i> package.  However, there&rsquo;s a support issue: if you
declare you&rsquo;re using <i class="package">epsfig</i>, any potential mailing list or
usenet helper has to clear out of the equation the possibility that
you&rsquo;re using &ldquo;old&rdquo; <i class="package">epsfig</i>, so that support is slower
coming than it would otherwise be.

<p>
There is no rational reason to stick with the old packages, which have
never been entirely satisfactory in the LaTeX context. (One
irrational reason to leave them behind is that their replacement&rsquo;s
name tends not to imply that it&rsquo;s exclusively related to PostScript
graphics.  The reasoning also excludes <i class="package">epsfig</i>, of course.)

<p>
A wide variety of detailed techniques and tricks have been developed
over the years, and Keith Reckdahl&rsquo;s <i class="package">epslatex</i> outlines them
in compendious detail: this highly recommendable document is available
from CTAN.  An invaluable review of the practicalities of
exchanging graphics between sites,

 
&ldquo;<a href="http://silas.psfc.mit.edu/elec_fig/elec_figures.pdf">Graphics for Inclusion in Electronic Documents</a>&rdquo;





has been written by Ian Hutchinson; the document isn&rsquo;t on CTAN,
but may also be

<a href="http://silas.psfc.mit.edu/elec_fig/">browsed on the Web</a>.
<dl>
<dt class="ctanref">epsf.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epsf">epsf</a>
<dt class="ctanref">epsfig.sty</dt><dd>Part of the <a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a> bundle
<dt class="ctanref">epslatex.pdf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epslatex">epslatex</a>
<dt class="ctanref">graphics.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a>
<dt class="ctanref">graphicx.sty</dt><dd>Part of the <a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a> bundle
<dt class="ctanref">miniltx.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/graphics-plain">graphics-plain</a>
<dt class="ctanref">psfig.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psfig">psfig</a>
</dl>

<p>
[[[Question]]][Q-dvipsgraphics][[[LBRACE]]]Imported graphics in <i class="progname">dvips</i>[[[RBRACE]]]

<p>
<i class="progname">Dvips</i>, as originally conceived, can only import a single
graphics format: 
<a href="FAQ-eps.html">encapsulated PostScript</a> (<code class="extension">eps</code> files).
<i class="progname">Dvips</i> also deals with the slightly eccentric EPS that is
created by <a href="FAQ-MP.html">MetaPost</a>.

<p>
Apart from the fact that a depressing proportion of drawing
applications produce corrupt EPS when asked for such output,
this is pretty satisfactory for vector graphics work.

<p>
To include bitmap graphics, you need some means of converting them to
PostScript; in fact many standard image manipulators (such as
<i class="progname">ImageMagick</i>&rsquo;s <i class="progname">convert</i>) make a good job of
creating EPS files (but be sure to ask for output at PostScript
level&nbsp;2 or higher).  (<i class="progname">Unix</i> users should beware of
<i class="progname">xv</i>&rsquo;s claims: it has a tendency to downsample your bitmap to
your screen resolution.)

<p>
Special purpose applications <i class="progname">jpeg2ps</i> (which converts
JPEG files using PostScript level 2 functionality),
<i class="progname">bmeps</i> (which converts both JPEG and PNG
files) and <i class="progname">a2ping</i>/<i class="progname">sam2p</i> (which convert a
bewildering array of bitmap formats to EPS or PDF files;
<i class="progname">sam2p</i> is one of the engines that <i class="progname">a2ping</i> uses)
are also considered &ldquo;good bets&rdquo;.

<p>
<i class="progname">Bmeps</i> comes with patches to produce your own version of
<i class="progname">dvips</i> that can cope with JPEG and PNG direct,
using <i class="progname">bmeps</i>&rsquo;s conversion library.  <i class="progname">Dvips</i>, as
distributed by MiKTeX, comes with those patches built-in, but
assuming that capability destroys portability, and is only
recommendable if you are sure you will never want to share your
document.
<dl>
<dt class="ctanref">a2ping</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/a2ping">a2ping</a>
<dt class="ctanref">bmeps</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/bmeps">dktools</a>
<dt class="ctanref">jpeg2ps</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/jpeg2ps">jpeg2ps</a>
<dt class="ctanref">sam2p</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sam2p">sam2p</a>
</dl>

<p>
[[[Question]]][Q-pdftexgraphics][[[LBRACE]]]Imported graphics in PDFLaTeX[[[RBRACE]]]

<p>
PDFTeX itself has a rather wide range of formats that it can
&ldquo;natively&rdquo; incorporate into its output PDF stream:
JPEG (<code class="extension">jpg</code> files) for photographs and similar images,
PNG files for artificial bitmap images, and PDF for
vector drawings.  Old versions of PDFTeX (prior to version&nbsp;1.10a)
supported TIFF (<code class="extension">tif</code> files) format as an alternative
to PNG files; don&rsquo;t rely on this facility, even if you
<em>are</em> running an old enough version of PDFTeX&hellip;

<p>
In addition to the &lsquo;native&rsquo; formats, the standard PDFLaTeX
<i class="package">graphics</i> package setup causes Hans Hagen&rsquo;s <i class="filename">supp-pdf</i>
macros to be loaded: these macros are capable of translating the
output of MetaPost to PDF &ldquo;on the fly&rdquo;; thus MetaPost output
(<code class="extension">mps</code> files) may also be included in PDFLaTeX documents.

<p>
The commonest problem users encounter, when switching from TeX, is
that there is no straightforward way to include EPS files:
since PDFTeX is its own &ldquo;driver&rdquo;, and since it contains no means
of converting PostScript to PDF, there&rsquo;s no direct way the job can
be done.

<p>
The simple solution is to convert the EPS to an appropriate
PDF file.  The <i class="progname">epstopdf</i> program will do this: it&rsquo;s
available either as a Windows executable or as a <i class="progname">Perl</i>
script to run on Unix and other similar systems.  A LaTeX package,
<i class="package">epstopdf</i>, can be used to generate the requisite PDF
files &ldquo;on the fly&rdquo;; this is convenient, but requires that you
suppress one of TeX&rsquo;s security checks: don&rsquo;t allow its use in files
from sources you don&rsquo;t entirely trust.

<p>
The package <i class="package">pst-pdf</i> permits other things than &lsquo;mere&rsquo;
graphics files in its argument.  <i class="package">Pst-pdf</i> operates (the
authors suggest) &ldquo;like BibTeX&rdquo;&nbsp;&mdash; you process your file using
PDFLaTeX, then use LaTeX, <i class="progname">dvips</i> and <i class="progname">ps2pdf</i>
in succession, to produce a secondary file to input to your next
PDFLaTeX run.  (Scripts are provided to ease the production of the
secondary file.)

<p>
A further extension is <i class="package">auto-pst-pdf</i>, which generates
PDF (essentially) transparently, by spawning a job to process
output such as <i class="package">pst-pdf</i> uses.  If your PDFLaTeX
installation doesn&rsquo;t automatically allow it&nbsp;&mdash; see 
<a href="FAQ-spawnprog.html">spawning a process</a>&nbsp;&mdash; then you need to start
PDFLaTeX with:
<blockquote>
<pre>
pdflatex -shell-escape <file>
</pre>
</blockquote>
for complete &lsquo;automation&rsquo;.

<p>
An alternative solution is to use <i class="progname">purifyeps</i>, a
<i class="progname">Perl</i> script which uses the good offices of
<i class="progname">pstoedit</i> and of MetaPost to convert your Encapsulated PostScript to
&ldquo;Something that looks like the encapsulated PostScript that comes out of
MetaPost&rdquo;, and can therefore be included directly.  Sadly,
<i class="progname">purifyeps</i> doesn&rsquo;t work for all <code class="extension">eps</code> files.

<p>
Good coverage of the problem is to be found in Herbert Vo&szlig;&rsquo;s
<a href="http://pstricks.tug.org/main.cgi?file=pdf/pdfoutput">PDF support page</a>,
which is targeted at the use of <i class="package">pstricks</i> in
PDFLaTeX, and also covers the <i class="package">pstricks</i>-specific package
<i class="package">pdftricks</i>.  A recent alternative (not covered in 
Herbert Vo&szlig;&rsquo;s page) is <i class="package">pdftricks2</i>, which offers similar
facilities to <i class="package">pdftricks</i>, but with some useful variations.
<dl>
<dt class="ctanref">auto-pst-pdf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/auto-pst-pdf">auto-pst-pdf</a>
<dt class="ctanref">epstopdf</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/epstopdf">epstopdf</a>
<dt class="ctanref">epstopdf.sty</dt><dd>Distributed with Heiko Oberdiek&rsquo;s packages
  <a class="ctan" href="https://www.ctan.org/pkg/oberdiek">oberdiek</a>
<dt class="ctanref">pdftricks.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdftricks">pdftricks</a>
<dt class="ctanref">pdftricks2.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdftricks2">pdftricks2</a>
<dt class="ctanref">pst-pdf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pst-pdf">pst-pdf</a>
<dt class="ctanref">pstoedit</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pstoedit">pstoedit</a>
<dt class="ctanref">purifyeps</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/purifyeps">purifyeps</a>
</dl>

<p class="lastedit">This answer last edited: 2012-11-20</p>

<p>
[[[Question]]][Q-dvipdfmgraphics][[[LBRACE]]]Imported graphics in <i class="progname">dvipdfm</i>[[[RBRACE]]]

<p>
<i class="progname">Dvipdfm</i> (and <i class="progname">dvipdfmx</i>) translates direct from
DVI to PDF (all other available routes produce PostScript
output using <i class="progname">dvips</i> and then convert that to PDF with
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
or <i class="progname">Acrobat</i>&rsquo;s <i class="progname">Distiller</i>).

<p>
<i class="progname">Dvipdfm</i>/<i class="progname">Dvipdfmx</i> are particularly flexible
applications.  They permit the inclusion of bitmap and PDF
graphics (as does <a href="FAQ-pdftexgraphics.html">PDFTeX</a>), but are also
capable of employing
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> &ldquo;on the
fly&rdquo; to permit the inclusion of encapsulated PostScript (<code class="extension">eps</code>)
files by translating them to PDF.  In this way, they combine the good
qualities of <i class="progname">dvips</i> and of PDFTeX as a means of
processing illustrated documents.

<p>
Unfortunately, &ldquo;ordinary&rdquo; LaTeX can&rsquo;t deduce the bounding box of
a binary bitmap file (such as JPEG or PNG), so you have
to specify the bounding box.  This may be done explicitly, in the
document:
<blockquote>
<pre>
\usepackage[dvipdfm]{graphicx}
...
\includegraphics[bb=0 0 540 405]{photo.jpg}
</pre>
</blockquote>
It&rsquo;s usually not obvious what values to give the &ldquo;<tt>bb</tt>&rdquo; key,
but the program <i class="progname">ebb</i> will generate a file
containing the information; the above numbers came from an
<i class="progname">ebb</i> output file <i class="filename">photo.bb</i>:
<blockquote>
<pre>
%%Title: /home/gsm10/photo.jpg
%%Creator: ebb Version 0.5.2
%%BoundingBox: 0 0 540 405
%%CreationDate: Mon Mar  8 15:17:47 2004
</pre>
</blockquote>
If such a file is available, you may abbreviate the inclusion
code, above, to read:
<blockquote>
<pre>
\usepackage[dvipdfm]{graphicx}
...
\includegraphics{photo}
</pre>
</blockquote>
which makes the operation feel as simple as does including
<code class="extension">eps</code> images in a LaTeX file for processing with
<i class="progname">dvips</i>; the <i class="package">graphicx</i> package knows to look for a
<code class="extension">bb</code> file if no bounding box is provided in the
<code>&#x5c;includegraphics</code> command.

<p>
The one place where usage isn&rsquo;t quite so simple is the need to quote
<i class="progname">dvipdfm</i> explicitly, as an option when loading the
<i class="package">graphicx</i> package: if you are using <i class="progname">dvips</i>, you
don&rsquo;t ordinarily need to specify the fact, since the default graphics
configuration file (of most distributions) &ldquo;guesses&rdquo; the
<tt>dvips</tt> option if you&rsquo;re using TeX.
<dl>
<dt class="ctanref">dvipdfm</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvipdfm">dvipdfm</a>
<dt class="ctanref">dvipdfmx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dvipdfmx">dvipdfmx</a>
<dt class="ctanref">ebb</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/dvipdfm">dvipdfm</a>
</dl>

<p class="lastedit">This answer last edited: 2013-06-03</p>

<p>
[[[Question]]][Q-grffilenames][[[LBRACE]]]&ldquo;Modern&rdquo; graphics file names[[[RBRACE]]]

<p>
TeX was designed in a world where file names were very simple
indeed, typically strictly limited both in character set and length.
In modern systems, such restrictions have largely disappeared, which
leaves TeX rather at odds with its environment.  Particular
problems arise with spaces in file names, but things like multiple
period characters can seriously confuse the <i class="package">graphics</i>
package.

<p>
The specification of TeX leaves some leeway for distributions to
adopt file access appropriate to their operating system, but this
hasn&rsquo;t got us very far.  Many modern distributions allow you to
specify a file name as <tt>"file name.tex"</tt> (for example), which
helps somewhat, but while this allows us to say
<blockquote>
<pre>
\input "foo bar.tex"
</pre>
</blockquote>
the analogous usage
<blockquote>
<pre>
\includegraphics{"gappy graphics.eps"}
</pre>
</blockquote>
using &ldquo;ordinary&rdquo; LaTeX causes confusion in <i class="progname">xdvi</i> and
<i class="progname">dvips</i>, even though it works at compilation time.  Sadly,
even within such quotes, multiple dots give <code>&#x5c;includegraphics</code>
difficulties.  Note that
<blockquote>
<pre>
\includegraphics{"gappy graphics.pdf"}
</pre>
</blockquote>
works in a similar version of PDFTeX.

<p>
If you&rsquo;re using the <i class="package">graphics</i> package, the <i class="package">grffile</i>
package will help.  The package offers several options, the simplest
of which are <code class="pkgoption">multidot</code> (allowing more than one dot in a
file name) and <code class="pkgoption">space</code> (allowing space in a file name).  The
<code class="pkgoption">space</code> option requires that you&rsquo;re running on a
sufficiently recent version of PDFTeX, in PDF mode&nbsp;&mdash; and
even then it won&rsquo;t work for MetaPost files, which are read as TeX
input, and therefore use the standard input mechanism).
<dl>
<dt class="ctanref">grffile.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/grffile">oberdiek</a>
</dl>

<p>
[[[Question]]][Q-graphicspath][[[LBRACE]]]Importing graphics from &ldquo;somewhere else&rdquo;[[[RBRACE]]]

<p>
By default, graphics commands like <code>&#x5c;includegraphics</code> look
&ldquo;wherever TeX files are found&rdquo; for the graphic file they&rsquo;re being
asked to use.  This can reduce your flexibility if you choose to hold
your graphics files in a common directory, away from your (La)TeX
sources.

<p>
The simplest solution is to patch TeX&rsquo;s path, by changing the
default path.  On most systems, the default path is taken from the
environment variable <tt>TEXINPUTS</tt>, if it&rsquo;s present; you can adapt that
to take in the path it already has, by setting the variable to
<blockquote>
<pre>
TEXINPUTS=.:<graphics path(s)>:
</pre>
</blockquote>
on a Unix system; on a Windows system the separator will be &ldquo;<tt>;</tt>&rdquo;
rather than &ldquo;<tt>:</tt>&rdquo;.  The &ldquo;<tt>.</tt>&rdquo; is there to ensure
that the current directory is searched first; the trailing
&ldquo;<tt>:</tt>&rdquo; says &ldquo;patch in the value of <tt>TEXINPUTS</tt> from
your configuration file, here&rdquo;.

<p>
This method has the merit of efficiency ((La)TeX does <em>all</em> of
the searches, which is quick), but it&rsquo;s always clumsy and may prove
inconvenient to use in Windows setups (at least).

<p>
The alternative is to use the <i class="package">graphics</i> package command
<code>&#x5c;graphicspath</code>; this command is of course also available to users
of the <i class="package">graphicx</i> and the <i class="package">epsfig</i> packages.  The
syntax of <code>&#x5c;graphicspath</code>&rsquo;s one argument is slightly odd: it&rsquo;s a
sequence of paths (typically relative paths), each of which is
enclosed in braces.  A slightly odd example (slightly modified from one
given in the <i class="package">graphics</i> bundle documentation) is:
<blockquote>
<pre>
\graphicspath{{eps/}{png/}}
</pre>
</blockquote>
which will search for graphics files in subdirectories <i class="filename">eps</i> and
<i class="filename">png</i> of the directory in which LaTeX is running.  (Note that
the trailing &ldquo;<tt>/</tt>&rdquo; <em>is</em> required.)

<p>
(Note that some (La)TeX systems will only allow you to use files in
the current directory and its sub-directories, for security reasons.
However, <code>&#x5c;graphicspath</code> imposes no such restriction: as far as
<em>it</em> is concerned, you can access files anywhere.)

<p>
Be aware that <code>&#x5c;graphicspath</code> does not affect the operations of
graphics macros other than those from the graphics bundle&nbsp;&mdash; in
particular, those of the outdated <i class="package">epsf</i> and
<i class="package">psfig</i> packages are immune.

<p>
The slight disadvantage of the <code>&#x5c;graphicspath</code> method is
inefficiency.  The package will call (La)TeX once for each entry in
the list to look for a file, which of course slows things.  Further,
(La)TeX remembers the name of any file it&rsquo;s asked to look up, thus
effectively losing memory, so that in the limit a document that uses a
huge number of graphical inputs could be embarrassed by lack of
memory.  (Such &ldquo;memory starvation&rdquo; is pretty unlikely with any
ordinary document in a reasonably modern (La)TeX system, but it
should be borne in mind.)

<p>
If your document is split into a variety of directories, and each
directory has its associated graphics, the <i class="package">import</i> package
may well be the thing for you; see the discussion 
in the question &ldquo;
<a href="FAQ-docotherdir.html">bits of document in other directories</a>
&rdquo;.
<dl>
<dt class="ctanref">graphics bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a>
<dt class="ctanref">import.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/import">import</a>
</dl>

<p>
[[[Question]]][Q-graph-pspdf][[[LBRACE]]]Portable imported graphics[[[RBRACE]]]

<p>
A regular need is a document to be distributed in more than
one format: commonly both PostScript and PDF.  The
following advice is based on a post by one with much experience of
dealing with the problem of dealing with EPS graphics in this
case.
<ul>
<li> Don&rsquo;t specify a driver when loading loading whichever version of
  the <i class="package">graphics</i> package you use.  The scheme relies on the
  distribution&rsquo;s ability to decide which driver is going to be used:
  the choice is between <i class="progname">dvips</i> and PDFTeX, in this case.
  Be sure to exclude options <code class="pkgoption">dvips</code>, <code class="pkgoption">pdftex</code> and
  <code class="pkgoption">dvipdfm</code> (<i class="progname">dvipdfm</i> is not used in this scheme,
  but the aspirant PDF-maker may be using it for his output,
  before switching to the scheme).
<li> Use <code>&#x5c;includegraphics</code><code>[...]</code></code><code>&#x7b;filename&#x7d;</code> without
  specifying the extension (i.e., neither <code class="extension">eps</code> nor
  <code class="extension">pdf</code>).
<li> For every <code class="extension">eps</code> file you will be including, produce a
  <code class="extension">pdf</code> version, as described in 
  <a class="FAquestion.html" href="FAQ-pdftexgraphics.html">Graphics in PDFLaTeX</a>.  Having
  done this, you will have two copies of each graphic (a <code class="extension">eps</code>
  and a <code class="extension">pdf</code> file) in your directory.
<li> Use PDFLaTeX (rather than
  LaTeX&ndash;<i class="progname">dvips</i>&ndash;distillation or
  LaTeX&ndash;<i class="progname">dvipdfm</i>) to produce your PDF output.
</ul>
<i class="progname">Dvipdfm</i>&rsquo;s charms are less than attractive here: the
document itself needs to be altered from its default
(<i class="progname">dvips</i>) state, before <i class="progname">dvipdfm</i> will process it.

<p>
[[[Question]]][Q-repeatgrf][[[LBRACE]]]Repeated graphics in a document[[[RBRACE]]]

<p>
A logo or &ldquo;watermark&rdquo; image, or any other image that is repeated in
your document, has the potential to make the processed version of the
document unmanageably large.  The problem is, that the default
mechanisms of graphics usage add the image at every point it&rsquo;s to be
used, and when processed, the image appears in the output file at each
such point.

<p>
Huge PostScript files are embarrassing; explaining <em>why</em> such a file
is huge, is more embarrassing still.

<p>
The <a href="FAQ-tutbitslatex.html"><i class="filename">epslatex</i> graphics tutorial</a>
describes a technique for avoiding the problem: basically, one
converts the image that&rsquo;s to be repeated into a PostScript subroutine, and
load that as a <i class="progname">dvips</i> prologue file.  In place of the image,
you load a file (with the same bounding box as the image) containing
no more than an invocation of the subroutine defined in the prologue.

<p>
The <i class="filename">epslatex</i> technique is tricky, but does the job.  Trickier
still is the neat scheme of converting the figure to a one-character
Adobe Type&nbsp;3 outline font.  While this technique is for the &ldquo;real
experts&rdquo; only (the author of this answer has never even tried it), it has
potential for the same sort of space saving as the <i class="filename">epslatex</i>
technique, with greater flexibility in actual use.

<p>
More practical is Hendri Adriaens&rsquo; <i class="package">graphicx-psmin</i>; you load
this <em>in place</em> of <i class="package">graphicx</i>, so rather than:
<blockquote>
<pre>
\usepackage[<options>]{graphicx}
</pre>
</blockquote>
you will write:
<blockquote>
<pre>
\usepackage[<options>]{graphicx-psmin}
</pre>
</blockquote>
and at the start of your document, you write:
<blockquote>
<pre>
\loadgraphics[<bb>]{<list of graphics>}
</pre>
</blockquote>
and each of the graphics in the list is converted to an &ldquo;object&rdquo; for
use within the resulting PostScript output.  (This is, in essence, an
automated version of the <i class="filename">epslatex</i> technique described above.)

<p>
Having loaded the package as above, whenever you use
<code>&#x5c;includegraphics</code>, the command checks if the file you&rsquo;ve asked for
is one of the graphics in <code>&#x5c;loadgraphics</code>&rsquo; list.  If so, the
operation is converted into a call to the &ldquo;object&rdquo; rather than a new
copy of the file; the resulting PostScript can of course be <em>much</em> smaller.

<p>
Note that the package requires a recent <i class="progname">dvips</i>, version
5.95b (this version isn&rsquo;t&nbsp;&mdash; yet&nbsp;&mdash; widely distributed).

<p>
If your PostScript is destined for conversion to PDF, either by a
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>-based
mechanism such as <i class="progname">ps2pdf</i> or by
(for example) <i class="progname">Acrobat</i> <i class="progname">Distiller</i>, the issue isn&rsquo;t
so pressing, since the distillation mechanism will amalgamate graphics
objects whether or not the PostScript has them amalgamated.  PDFTeX does
the same job with graphics, automatically converting multiple uses
into references to graphics objects.
<dl>
<dt class="ctanref">graphicx-psmin.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/graphicx-psmin">graphicx-psmin</a>
</dl>

<p class="lastedit">This answer last edited: 2013-06-03</p>

<p>
[[[Question]]][Q-grmaxwidth][[[LBRACE]]]Limit the width of imported graphics[[[RBRACE]]]

<p>
Suppose you have graphics which may or may not be able to fit within
the width of the page; if they will fit, you want to set them at their
natural size, but otherwise you want to scale the whole picture so
that it fits within the page width.

<p>
You do this by delving into the innards of the graphics package (which
of course needs a little LaTeX internals programming):
<blockquote>
<pre>
\makeatletter
\def\maxwidth{%
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother
</pre>
</blockquote>
This defines a &ldquo;variable&rdquo; width which has the properties you want.
Replace <code>&#x5c;linewidth</code> if you have a different constraint on the width
of the graphic.

<p>
Use the command as follows:
<blockquote>
<pre>
\includegraphics[width=\maxwidth]{figure}
</pre>
</blockquote>

<p>
[[[Question]]][Q-topgraph][[[LBRACE]]]Top-aligning imported graphics[[[RBRACE]]]

<p>
When TeX sets a line of anything, it ensures that the base-line of
each object in the line is at the same level as the base-line of the
final object.  (Apart, of course, from <code>&#x5c;raisebox</code> commands&hellip;)

<p>
Most imported graphics have their base-line set at the bottom of the
picture.  When using packages such as <i class="package">subfig</i>, one often
wants to align figures by their tops.  The following odd little bit of
code does this:
<blockquote>
<pre>
\vtop{%
  \vskip0pt
  \hbox{%
    \includegraphics{figure}%
  }%
}
</pre>
</blockquote>
The <code>&#x5c;vtop</code> primitive sets the base-line of the resulting object to
that of the first &ldquo;line&rdquo; in it; the <code>&#x5c;vskip</code> creates the illusion
of an empty line, so <code>&#x5c;vtop</code> makes the very top of the box into the
base-line.

<p>
In cases where the graphics are to be aligned with text, there is a
case for making the base-line one ex-height below the top of the box,
as in:
<blockquote>
<pre>
\vtop{%
  \vskip-1ex
  \hbox{%
    \includegraphics{figure}%
  }%
}
</pre>
</blockquote>
A more LaTeX-y way of doing the job (somewhat inefficiently) uses
the <i class="package">calc</i> package:
<blockquote>
<pre>
\usepackage{calc}
...
\raisebox{1ex-\height}{\includegraphics{figure}}
</pre>
</blockquote>
(this has the same effect as the text-align version, above).

<p>
The fact is, <em>you</em> may choose where the base-line ends up.  This
answer merely shows you sensible choices you might make.

<p>
[[[Question]]][Q-mpprologues][[[LBRACE]]]Displaying MetaPost output in <i class="progname">ghostscript</i>[[[RBRACE]]]

<p>
MetaPost ordinarily expects its output to be included in some context
where the &lsquo;standard&rsquo; MetaFont fonts (that you&rsquo;ve specified) are already
defined&nbsp;&mdash; for example, as a figure in TeX document.  If you&rsquo;re
debugging your MetaPost code, you may want to view it in a
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>-based (or some
other PostScript) previewer, but note that viewers (even
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>)
<em>don&rsquo;t</em> ordinarily have the fonts loaded, and you&rsquo;ll experience
an error such as
<blockquote>
<pre>
Error: /undefined in cmmi10
</pre>
</blockquote>
There is provision in MetaPost for avoiding this problem: issue the
command <tt>prologues := 2;</tt> at the start of the <code class="extension">mp</code> file.

<p>
Unfortunately, the PostScript that MetaPost inserts in its output,
following this command, is incompatible with ordinary use of the
PostScript in inclusions into (La)TeX documents, so it&rsquo;s best to
make the <tt>prologues</tt> command optional.  Furthermore, MetaPost takes a
very simple-minded approach to font encoding: since TeX font
encodings are anything but simple, encoding of text in diagrams are
another source of problems.  If you&rsquo;re suffering such problems (the
symptom is that 
characters disappear, or are wrongly presented) the solution is
to view the &lsquo;original&rsquo; MetaPost output after processing through
LaTeX and <i class="progname">dvips</i>.

<p>
Conditional compilation may be done either
by inputting <i class="filename">MyFigure.mp</i> indirectly from a simple wrapper
<i class="filename">MyFigureDisplay.mp</i>:
<blockquote>
<pre>
prologues := 2;
input MyFigure
</pre>
</blockquote>
or by issuing a shell command such as
<blockquote>
<pre>
mp '\prologues:=2; input MyFigure'
</pre>
</blockquote>
(which will work without the quote marks if you&rsquo;re not using a Unix
shell).

<p>
A suitable LaTeX route would involve processing
<i class="filename">MyFigure.tex</i>, which contains:
<blockquote>
<pre>
\documentclass{article}
\usepackage{graphicx}
\begin{document}
\thispagestyle{empty}
\includegraphics{MyFigure.1}
\end{document}
</pre>
</blockquote>
Processing the resulting DVI file with the <i class="progname">dvips</i>
command
<blockquote>
<pre>
dvips -E -o MyFigure.eps MyFigure
</pre>
</blockquote>
would then give a satisfactory Encapsulated PostScript file.  This
procedure may be automated using the <i class="progname">Perl</i> script
<i class="progname">mps2eps</i>, thus saving a certain amount of tedium.

<p>
The Plain TeX user may use an adaptation, by
Dan Luecking, of a jiffy of Knuth&rsquo;s.  Dan&rsquo;s version
<i class="package">mpsproof.tex</i> will work under
TeX to produce a DVI file for use with <i class="progname">dvips</i>, or
under PDFTeX to produce a PDF file, direct.  The output is
set up to look like a proof sheet.

<p>
A script application, <i class="progname">mptopdf</i>, is available in recent
(La)TeX distributions: it seems fairly reliably to produce
PDF from MetaPost, so may reasonably be considered an answer to
the question&hellip;
<dl>
<dt class="ctanref">mps2eps</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mps2eps">mps2eps</a>
<dt class="ctanref">mpsproof.tex</dt><dd>Distributed as part of the MetaPost distribution <a class="ctan" href="https://www.ctan.org/pkg/metapost">metapost</a>
<dt class="ctanref">mptopdf</dt><dd>Part of <a class="ctan" href="https://www.ctan.org/pkg/pdftex-graphics">pdftex-graphics</a>
</dl>

<p class="lastedit">This answer last edited: 2013-04-23</p>

<p>
[[[Question]]][Q-drawing][[[LBRACE]]]Drawing with TeX[[[RBRACE]]]

<p>
There are many packages to do pictures in (La)TeX itself (rather than
importing graphics created externally), ranging from simple use of
LaTeX <code class="environment">picture</code> environment, through enhancements like
<i class="progname">eepic</i>, to 
sophisticated (but slow) drawing with PicTeX. Depending on your type
of drawing, and setup, here are a few systems you may consider:
<ul>
<li> The <code class="environment">picture</code> environment provides rather primitive
  drawing capabilities (anything requiring more than linear
  calculations is excluded, unless a font can come to your help).  The
  environment&rsquo;s tedious insistence on its own <code>&#x5c;unitlength</code>, as the
  basic measurement in a diagram, may be avoided by use of the
  <i class="package">picture</i> package, which detects whether a length is quoted
  as a number or as a length, and acts accordingly.
<li> <i class="package">epic</i> was designed to make use of the LaTeX
  <code class="environment">picture</code> environment somewhat less agonising;
  <i class="package">eepic</i> extends it, and is capable of using <i class="progname">tpic</i>
  <code>&#x5c;special</code> commands to improve printing performance.  (If the
  <code>&#x5c;special</code>s aren&rsquo;t available, the <i class="package">eepicemu</i> will do the
  business, far less efficiently.
<li> <i class="package">pict2e</i>; this was advertised in 
  <a href="FAQ-latex-books.html">the LaTeX manual</a>, but didn&rsquo;t appear for nearly
  ten years after publication of the book!  It removes all the petty
  restrictions that surround the use of the <code class="environment">picture</code>
  environment.  It therefore suffers <em>only</em> from the rather
  eccentric drawing language of the environment, and is a far more
  useful tool than the original environment has ever been.  (Note that
  <i class="package">pict2e</i> supersedes David Carlisle&rsquo;s stop-gap
  <i class="package">pspicture</i>.)
<li> PicTeX is a venerable, and very powerful, system, that draws
  by placing dots on the page to give the effect of a line or curve.  While
  this has the potential of great power, it is (of course) much slower
  than any of the other established packages.  What&rsquo;s more, there
  are problems with its <a href="FAQ-docpictex.html">documentation</a>.
<li> <i class="package">PSTricks</i> gives you access to the (considerable) power of
  PostScript via a set of TeX macros, which talk to PostScript using 
  <a href="FAQ-specials.html"><code>&#x5c;special</code> commands</a>.  Since PostScript is itself a
  pretty powerful programming language, many astounding things can in
  principle be achieved using <i class="package">PSTricks</i> (a wide range of
  contributed packages, ranging from world mapping to lens design
  diagrams, is available).
  <i class="package">Pstricks</i>&rsquo; <code>&#x5c;special</code>s are
  by default specific to <i class="progname">dvips</i>, but there is
  a <i class="package">Pstricks</i> &lsquo;driver&rsquo; that allow <i class="package">Pstricks</i> to
  operate under XeTeX.  PDFTeX users may use <i class="package">pst-pdf</i>,
  which (like <i class="package">epstopdf</i>&nbsp;&mdash; see 
  <a class="FAquestion.html" href="FAQ-pdftexgraphics.html">PDFLaTeX graphics</a>) generates
  PDF files using an auxiliary program, from <i class="package">PSTricks</i>
  commands (<i class="package">pst-pdf</i> also requires a recent installation of
  the <i class="package">preview</i> package).

<p>
  There is a <i class="package">PSTricks</i> mailing list
  (<a href="mailto:pstricks@tug.org">pstricks@tug.org</a>) which you may
  <a href="http://tug.org/mailman/listinfo/pstricks">join</a>, or you may
  just browse the 
  <a href="http://tug.org/pipermail/pstricks/">list archives</a>.
<li> <i class="package">pgf</i>: while <i class="package">pstricks</i> is very powerful and
  convenient from &lsquo;traditional&rsquo; TeX, using it with PDFLaTeX is
  pretty tiresome: if you 
  simply want the graphical capabilities, <i class="package">pgf</i>, together with
  its &ldquo;user-oriented&rdquo; interface <i class="package">tikz</i>, may be a good
  bet for you.  While PDF has (in essence) the same graphical
  capabilities as PostScript, it isn&rsquo;t programmable; <i class="package">pgf</i> provides
  LaTeX commands that will utilise the graphical capabilities of
  both PostScript and PDF equally.  <i class="package">Pgf</i> has extensive
  mathematical support, which allows it to rival <i class="package">PSTricks</i>&rsquo;
  use of the computation engine within PostScript.
  The <i class="package">pgf</i> manual is enormous, but a simple introduction which
  allows the user to get a feel for the capabilities of the system, is
  available at <a href="http://cremeronline.com/LaTeX/minimaltikz.pdf">http://cremeronline.com/LaTeX/minimaltikz.pdf</a>
<li> MetaPost; you liked MetaFont, but never got to grips with font files?
  Try <a href="FAQ-MP.html">MetaPost</a>&nbsp;&mdash;
  all the power of MetaFont, but it generates PostScript figures; MetaPost
  is nowadays part of most serious (La)TeX distributions.  Knuth
  uses it for all his work&hellip;

<p>
  Note that you can 
  <a href="FAQ-inlgrphapp.html">&ldquo;embed&rdquo; MetaPost source in your document</a> (i.e.,
  keep it in-line with your LaTeX code).
<li> You liked MetaFont (or MetaPost), but find the language difficult?
  <i class="progname">Mfpic</i> makes up MetaFont or MetaPost code for you using
  familiar-looking (La)TeX macros.  Not <em>quite</em> the full power
  of MetaFont or MetaPost, but a friendlier interface, and with MetaPost output
  the results can be used equally well in either LaTeX or PDFLaTeX.
<li> You liked PicTeX but don&rsquo;t have enough memory or time?  Look
  at the late Eitan Gurari&rsquo;s <i class="package">dratex</i>: it is just as powerful,
  but is an entirely new implementation which is not as hard on
  memory, is much more readable and is (admittedly sparsely) documented at
  <a href="http://www.cse.ohio-state.edu/~gurari/tpf/html/README.html">http://www.cse.ohio-state.edu/&nbsp;gurari/tpf/html/README.html</a>,
  as well as in the author&rsquo;s book &ldquo;TeX and LATeX: Drawing and
  Literate Programming&rdquo;, which remains available from on-line
  booksellers.
</ul>

<p>
In addition, there are several means of generating code for your
graphics application (<i class="progname">asymptote</i>, <i class="progname">gnuplot</i> and
MetaPost, at least) in-line in your document, and then have them
processed in a command spawned from your (La)TeX run.  For details,
see <a href="FAQ-inlgrphapp.html">question</a>.
<dl>
<dt class="ctanref">dratex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dratex">dratex</a>
<dt class="ctanref">epic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epic">epic</a>
<dt class="ctanref">eepic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eepic">eepic</a>
<dt class="ctanref">eepicemu.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eepic">eepic</a>
<dt class="ctanref">mfpic</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mfpic">mfpic</a>
<dt class="ctanref">preview.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/preview">preview</a>
<dt class="ctanref">pspicture.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pspicture">pspicture</a>
<dt class="ctanref">pst-pdf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pst-pdf">pst-pdf</a>
<dt class="ctanref">pgf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
<dt class="ctanref">pict2e.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pict2e">pict2e</a>
<dt class="ctanref">pictex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pictex">pictex</a>
<dt class="ctanref">picture.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/picture">oberdiek</a>
<dt class="ctanref">pstricks</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pstricks">pstricks</a>
<dt class="ctanref">tikz.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
</dl>

<p class="lastedit">This answer last edited: 2012-10-19</p>

<p>
[[[Question]]][Q-inlgrphapp][[[LBRACE]]]In-line source for graphics applications[[[RBRACE]]]

<p>
Some of the free-standing graphics applications may also be used
(effectively) in-line in LaTeX documents; examples are
<dl>
<dt class="description">asymptote</dt><dd>The package <i class="package">asymptote</i> (provided in the
  <i class="progname">asymptote</i> distribution) defines an environment
  <code class="environment">asy</code> which arranges that its contents are available for
  processing, and will therefore be typeset (after &ldquo;enough&rdquo; runs, in
  the &lsquo;usual&rsquo; LaTeX way).

<p>
  Basically, you write
  <blockquote>
    <code>&#x5c;begin</code><code>&#x7b;asy&#x7d;</code><br>
    &nbsp;&nbsp;<tt>&lsaquo;<i>asymptote code</i>&rsaquo;</tt><br>
    <code>&#x5c;end</code><code>&#x7b;asy&#x7d;</code>
  </blockquote>
  and then execute
<blockquote>
<pre>
latex document
asy document-*.asy
latex document
</pre>
</blockquote>
<dt class="description">egplot</dt><dd>Allows you to incorporate <i class="progname">GNUplot</i>
  instructions in your document, for processing outside of LaTeX.
  The package provides commands that enable the user to do calculation
  in <i class="progname">GNUplot</i>, feeding the results into the diagram
  to be drawn.
<dt class="description">gmp</dt><dd>Allows you to include the source of MetaPost diagrams, with
  parameters of the diagram passed from the environment call.
<dt class="description">emp</dt><dd>An earlier package providing facilities similar to those of
  <i class="package">gmp</i> (<i class="package">gmp</i>&rsquo;s author hopes that his package will
  support the facilities <i class="package">emp</i>, which he believes is in need
  of update.)
<dt class="description">mpgraphics</dt><dd>Again, allows you to program parameters of MetaPost
  diagrams from your LaTeX document, including the preamble details
  of the LaTeX code in any recursive call from MetaPost.
</dl>
In all cases (other than <i class="package">asymptote</i>), these packages require
that you can 
<a href="FAQ-spawnprog.html">run external programs from within your document</a>.
<dl>
<dt class="ctanref">asymptote.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/asymptote">asymptote</a>
<dt class="ctanref">egplot.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/egplot">egplot</a>
<dt class="ctanref">emp.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/emp">emp</a>
<dt class="ctanref">gmp.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gmp">gmp</a>
<dt class="ctanref">mpgraphics.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mpgraphics">mpgraphics</a>
</dl>

<p class="lastedit">This answer last edited: 2011-03-16</p>

<p>
[[[Question]]][Q-drawFeyn][[[LBRACE]]]Drawing Feynman diagrams in LaTeX[[[RBRACE]]]

<p>
Michael Levine&rsquo;s <i class="package">feynman</i> bundle for drawing the diagrams in
LaTeX 2.09 is still available.

<p>
Thorsten Ohl&rsquo;s <i class="package">feynmf</i> is designed for use with current
LaTeX, and works in
combination with MetaFont (or, in its <i class="package">feynmp</i> incarnation, with
MetaPost).  The <i class="progname">feynmf</i> or
<i class="progname">feynmp</i> package reads a description of the diagram written
in TeX, and writes out code.  MetaFont (or MetaPost) can then produce a
font (or PostScript file) for use in a subsequent LaTeX run.  For
new users, who have access to MetaPost, the PostScript version is
probably the better route, for document portability and other reasons.


<p>
Jos Vermaseren&rsquo;s <i class="package">axodraw</i> is mentioned as an alternative in
the documentation of <i class="package">feynmf</i>, but it is written entirely in
terms of <i class="progname">dvips</i> <code>&#x5c;special</code> commands, and is thus rather
imperfectly portable.

<p>
An alternative approach is implemented by Norman Gray&rsquo;s <i class="package">feyn</i>
package.  Rather than creating complete diagrams as postscript images,
<i class="package">feyn</i> provides a font (in a variety of sizes) containing
fragments, which you can compose to produce complete diagrams.  It
offers fairly simple diagrams which look good in equations, rather
than complicated ones more suitable for display in figures.
<dl>
<dt class="ctanref">axodraw</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/axodraw">axodraw</a>
<dt class="ctanref">feyn font bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/feyn">feyn</a>
<dt class="ctanref">feynman bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/feynman">feynman</a>
<dt class="ctanref">feynmf/feynmp bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/feynmf">feynmf</a>
</dl>

<p>
[[[Question]]][Q-labelfig][[[LBRACE]]]Labelling graphics[[[RBRACE]]]

<p>
&ldquo;Technical&rdquo; graphics (such as graphs and diagrams) are often
labelled with quite complex mathematical expressions: there are few
drawing or graphing tools that can do such things (the honourable
exception being MetaPost, which allows you to program the labels, in
(La)TeX, in the middle of specifying your graphic).

<p>
Placing &lsquo;labels&rsquo; on graphics produced by all those <em>other</em> tools is
what we discuss here.  (Note that the term &ldquo;label&rdquo; should be
liberally interpreted; many of the techniques <em>were</em> designed for
use when applying labels to figures, but they may be used equally well
to draw funny faces on a figure &hellip; or anything.

<p>
The time-honoured <i class="package">psfrag</i> package can help, if your image is
included as an (encapsulated) PostScript file.  Place an unique
text in your graphic, using the normal text features of your tool, and
you can ask <i class="package">psfrag</i> to replace the text with arbitrary
(La)TeX material.  <i class="package">Psfrag</i>&rsquo;s &ldquo;operative&rdquo; command is
<code>&#x5c;psfrag</code><code>&#x7b;<em>Orig text</em>&#x7d;</code></code><code>&#x7b;<em>Repl text</em>&#x7d;</code>, which
instructs the system to replace the original (&ldquo;unique&rdquo;) text with
the TeX-typeset replacement text.  Optional arguments permit
adjustment of position, scale and rotation; full details may be found
in <i class="filename">pfgguide</i> in the distribution.

<p>
Since <i class="package">psfrag</i> works in terms of (encapsulated) PostScript files,
it needs extra work for use with PDFLaTeX.  Two techniques are
available, using <a href="FAQ-pdftexgraphics.html"><i class="package">pst-pdf</i> package</a>
in a mode designed to do this work; and using <i class="package">pdfrack</i>.

<p>
The <a href="FAQ-pdftexgraphics.html"><i class="package">Pst-pdf</i> package</a> can support
this &ldquo;extra work&rdquo; usage.  In fact, the <i class="package">pst-pdf</i> support
package <i class="package">auto-pst-pdf</i> offers a configuration setting
precisely for use with <i class="package">psfrag</i>.

<p>
If you have the &lsquo;right&rsquo; environment (see below), you could try the
<i class="package">pdfrack</i> script bundle.  The script aims to cut each figure
out of your source, using it to produce a small LaTeX file with
nothing but the figure inclusion commands.  Each of these figure files
is then processed to PostScript, compiled using the <code>&#x5c;psfrag</code> commands,
and the resulting output converted to PDF again.

<p>
<i class="package">Pdfrack</i> is written to use the Unix Bourne shell (or
equivalent); thus your environment needs to be a Unix-based system, or
some equivalent such as <i class="progname">cygwin</i> under windows.  (What is
more, <i class="package">pdfrack</i>&rsquo;s author is rather disparaging about his
package; the present author has never tried it.)

<p>
The <i class="package">psfragx</i> package goes one step further than
<i class="package">psfrag</i>: it provides a means whereby you can put the
<i class="package">psfrag</i> commands into the preamble of your EPS file
itself.  <i class="package">Psfrag</i> has such a command itself, but deprecates
it; <i class="package">psfragx</i> has cleaned up the facility, and provides a
script <i class="progname">laprint</i> for use with <i class="progname">Matlab</i> to produce
appropriately tagged output.  (In principle, other graphics
applications could provide a similar facility, but apparently none does.)

<p>
<i class="progname">Emacs</i> users may find the embedded editor <i class="progname">iTe</i> a
useful tool for placing labels: it&rsquo;s a (La)TeX-oriented graphical
editor written in <i class="progname">Emacs Lisp</i>.  You create
<code class="environment">iteblock</code> environments containing graphics and text, and
may then invoke <i class="progname">iTe</i> to arrange the elements relative to one
another.

<p>
Another useful approach is <i class="package">overpic</i>, which overlays a
<code class="environment">picture</code> environment on a graphic included by use of
<code>&#x5c;includegraphics</code>.  This treatment lends itself to ready placement
of texts and the like on top of a graphic.  The package can draw a
grid for planning your &ldquo;attack&rdquo;; the distribution comes with simple
examples.

<p>
The <i class="package">lpic</i> package is somewhat similar to <i class="package">overpic</i>;
it defines an environment <code class="environment">lpic</code> (which places your
graphic for you): within the environment you may use the command
<code>&#x5c;lbl</code> to position LaTeX material at appropriate places over the
graphic.

<p>
<i class="package">Pinlabel</i> is another package whose author thought in the same
sort of way as that of <i class="package">overpic</i>; the documentation explains
in detail how to plan your &lsquo;labelling attack&rsquo;&nbsp;&mdash; in this case by
loading your figure into a viewer and taking measurements from it.
(The package discusses direct use of
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a> as well as
customised viewers such as
<a href="http://www.ghostgum.com.au/"><i class="progname">gsview</i></a> or
<i class="progname">gv</i>.)

<p>
<i class="package">Pstricks</i> can of course do everything
that <i class="package">overpic</i>, <i class="package">lpic</i> or <i class="package">pinlabel</i>
can, with all the flexibility of PostScript programming that it offers.
This capability is exemplified by the <i class="package">pst-layout</i> package,
which seems to be a superset of both <i class="package">overpic</i> and
<i class="package">lpic</i>.

<p>
Similarly, <i class="package">pgf/TikZ</i> has all the power needed, but no
explicit package has been released.

<p>
The <i class="package">pstricks</i> web site has a page with several 
<a href="http://pstricks.tug.org/main.cgi?file=Examples/overlay">examples of labelling</a>
which will get you started; if <i class="package">pstricks</i> is 
<a href="FAQ-drawing.html">an option for you</a>, this route is worth a try.

<p>
The confident user may, of course, do the whole job in a picture
environment which itself includes the graphic.  I would recommend
<i class="package">overpic</i> or the <i class="package">pstricks</i> approach, but such things
are plainly little more than a convenience over what is achievable
with the do-it-yourself approach.
<dl>
<dt class="ctanref">auto-pst-pdf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/auto-pst-pdf">auto-pst-pdf</a>
<dt class="ctanref">gv</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gv">gv</a>
<dt class="ctanref">iTe</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ite">ite</a>
<dt class="ctanref">laprint</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/psfragx">psfragx</a>
<dt class="ctanref">lpic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lpic">lpic</a>
<dt class="ctanref">overpic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/overpic">overpic</a>
<dt class="ctanref">pdfrack</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdfrack">pdfrack</a>
<dt class="ctanref">pinlabel.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pinlabel">pinlabel</a>
<dt class="ctanref">pgf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
<dt class="ctanref">psfrag.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psfrag">psfrag</a>
<dt class="ctanref">psfragx.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psfragx">psfragx</a>
<dt class="ctanref">pstricks.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pstricks">pstricks</a>
<dt class="ctanref">pst-layout.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pst-layout">pst-layout</a>
<dt class="ctanref">pst-pdf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pst-pdf">pst-pdf</a>
</dl>

<p class="lastedit">This answer last edited: 2013-06-03</p>


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-buildbib][[[LBRACE]]]Creating a BibTeX bibliography file[[[RBRACE]]]

<p>
A BibTeX bibliography file may reasonably be compared to a small
database, the entries in which are references to literature that may
be called up by citations in a document.

<p>
Each entry in the bibliography has a <em>type</em> and a unique
<em>key</em>.  The bibliography is read, by BibTeX, using the details
specified in a <em>bibliography style</em>.  From the style, BibTeX
finds what entry types are permissible, what <em>fields</em> each entry
type has, and how to format the whole entry.

<p>
The type specifies the type of document you&rsquo;re making reference to; it
may run all the way from things like &ldquo;<code class="environment">Book</code>&rdquo; and
&ldquo;<code class="environment">Proceedings</code>&rdquo; (which may even contain other citations
of type &ldquo;<code class="environment">InBook</code>&rdquo; or  &ldquo;<code class="environment">InProceedings</code>&rdquo;)
through dissertation styles like  &ldquo;<code class="environment">PhdThesis</code>&rdquo; to
otherwise-uncategorisable things such as &ldquo;<code class="environment">Misc</code>&rdquo;.  The
unique key is something you choose yourself: it&rsquo;s what you use when
you want to <a href="FAQ-usebibtex.html">cite an entry in the file</a>.  People
commonly create a key that combines the (primary) author&rsquo;s name and
the year of publication, possibly with a marker to distinguish
publications in the same year.  So, for example, the Dyson, Eddington,
Davidson paper about deflection of starlight appears in my
experimental <code class="extension">bib</code> file as <tt>Dyson20.1</tt>.

<p>
So, noting the rules of the style, you have &lsquo;simply&rsquo; to write a
bibliography database.  Fortunately, there are several tools to help
in this endeavour:
<ul>
<li> Most of the better <a href="FAQ-editors.html">(La)TeX-oriented editors</a>
  have &ldquo;BibTeX modes&rdquo;.
<li> If you have an existing <code class="environment">thebibliography</code>
  environment, the <i class="progname">Perl</i> script <i class="progname">tex2bib</i> will
  probably help.
<li> There are a number of BibTeX bibliography management systems
  available, some of which permit a graphical user interface to the
  task.  Sadly, none seems to be available with the ordinary TeX
  distributions.

<p>
  Tools such as <i class="progname">Xbibfile</i> (a graphical user interface),
  <i class="progname">ebib</i> (a database application written to run &lsquo;inside&rsquo;
  <i class="progname">emacs</i>) and 
  <i class="progname">btOOL</i> (a set of <i class="progname">perl</i> tools for building 
  BibTeX database handlers) are available from CTAN.

<p>
  Other systems, such as
  <a href="http://refdb.sourceforge.net/"><i class="progname">RefDB</i></a>,
  <a href="http://www.nongnu.org/biborb">BibORB</a>,
  <a href="http://bibdesk.sourceforge.net/"><i class="progname">BibDesk</i></a>,
  <a href="http://pybliographer.org"><i class="progname">pybliographer</i></a> and the
  <i class="progname">Java</i>-based
  <a href="http://freshmeat.net/projects/bibkeeper/"><i class="progname">Bibkeeper</i></a>
  and <a href="http://jabref.sourceforge.net"><i class="progname">JabRef</i></a> (which
  claims to supersede <i class="progname">Bibkeeper</i>)
  are only available from their development sites.

<li> Some commercial citation-management systems will export in
  BibTeX format; an example is
  <a href="http://www.endnote.com/">EndNote</a>.
<li> Data from on-line citation databases may often be translated to
  BibTeX format by utilities to be found on CTAN.  For
  example, the <i class="progname">Perl</i> script <i class="progname">isi2bibtex</i> will
  translate citations from ISI &ldquo;Web of knowledge&rdquo; (a
  subscription service, available to UK academics via
  BIDS).  UK academics may translate BIDS downloads
  using <i class="progname">bids.to.bibtex</i>
<li> <a href="http://scholar.google.com">Google Scholar</a> provides an
  &ldquo;Import into BibTeX&rdquo; tab for each reference it finds for you:
  that tab gives you a page containing a BibTeX entry for the
  reference.
</ul>
<dl>
<dt class="ctanref">bids.to.bibtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bidstobibtex">bidstobibtex</a>
<dt class="ctanref">btOOL</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/btOOL">btOOL</a>
<dt class="ctanref">ebib</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ebib">ebib</a>
<dt class="ctanref">isi2bibtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/isi2bibtex">isi2bibtex</a>
<dt class="ctanref">tex2bib</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2bib">tex2bib</a>
<dt class="ctanref">tex2bib.readme</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2bib-doc">tex2bib-doc</a>
<dt class="ctanref">xbibfile</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xbibfile">xbibfile</a>
</dl>

<p>
[[[Question]]][Q-custbib][[[LBRACE]]]Creating a bibliography style[[[RBRACE]]]

<p>
It <em>is</em> possible to write your own: the standard bibliography
styles are distributed in a form with many comments, and there is a description
of the language in the BibTeX distribution (see 
<a class="FAquestion.html" href="FAQ-BibTeXing.html">BibTeX documentation</a>).
However, it must be admitted that the language in which BibTeX
styles are written is pretty obscure, and one would not recommend
anyone who&rsquo;s not a confident programmer to write their own, though
minor changes to an existing style may be within the grasp of many.

<p>
If your style isn&rsquo;t too &lsquo;far out&rsquo;, you can probably avoid programming
it by using the facilities of the <i class="package">custom-bib</i> bundle.  The bundle
contains a file <i class="filename">makebst.tex</i>, which runs you through a text menu
to produce a file of instructions, which you can then use to generate your
own <code class="extension">bst</code> file.  This technique doesn&rsquo;t offer entirely new styles
of document, but the <i class="package">custom-bib</i>&rsquo;s &ldquo;master BibTeX
styles&rdquo; already offer significantly more than the BibTeX standard set.

<p>
An alternative, which is increasingly often recommended, to use
<a href="FAQ-biblatex.html"><i class="package">biblatex</i></a>.  <i class="package">Biblatex</i> offers
many hooks for adjusting the format of the output of your &lsquo;basic&rsquo;
BibTeX style, and a collection of &lsquo;contributed&rsquo; styles have also
started to appear.  Note.bowever There are not as many of
<i class="package">biblatex</i>&rsquo;s contributed styles as there are for BibTeX,
and there is no <i class="package">custom-biblatex</i>, both of which suggest that
beginners&rsquo; r\"ole models are hard to come by.  As a result, beginners
should probably resist the temptation to write their own contributed
<i class="package">biblatex</i> style.
<dl>
<dt class="ctanref">biblatex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex">biblatex</a>
<dt class="ctanref">biblatex contributed styles</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex-contrib">biblatex-contrib</a>
<dt class="ctanref">BibTeX documentation</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibtex">bibtex</a>
<dt class="ctanref">makebst.tex</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/custom-bib">custom-bib</a>
</dl>

<p>
[[[Question]]][Q-capbibtex][[[LBRACE]]]Capitalisation in BibTeX[[[RBRACE]]]

<p>
The standard BibTeX bibliography styles impose fixed ideas about
the capitalisation of titles of things in the bibliography.  While
this is not unreasonable by BibTeX&rsquo;s lights (the rules come from
the <em>Chicago Manual of Style</em>) it can be troublesome, since
BibTeX fails to recognise special uses (such as acronyms, chemical
formulae, etc.).

<p>
The solution is to enclose the letter or letters, whose capitalisation
BibTeX should not touch, in braces, as:
<blockquote>
<pre>
title = {The {THE} operating system},
</pre>
</blockquote>
Sometimes you find BibTeX changing the case of a single letter
inappropriately.  No matter: the technique can be applied to single
letters, as in:
<blockquote>
<pre>
title = {Te{X}niques and tips},
</pre>
</blockquote>
If your document design specification requires a different style of
capitalisation, you should acquire a bibliography style that doesn&rsquo;t
enforce BibTeX&rsquo;s default rules.  It is definitely <em>not</em> a good
idea to enclose an entire title in braces, as in
<blockquote>
<pre>
title = {{TeXniques and tips}},
</pre>
</blockquote>
though that does ensure that the capitalisation is not changed.  Your
BibTeX database should be a general-purpose thing, not something
tuned to the requirements of a particular document or bibliography
style, or to the way you are thinking today&nbsp;&mdash; for example, on a
future occasion, you might find yourself using a different BibTeX
style with different capitalisation rules.

<p>
There&rsquo;s more on the subject in the

<a href="FAQ-BibTeXing.html">BibTeX documentation</a>.

<p>
[[[Question]]][Q-bibaccent][[[LBRACE]]]Accents in bibliographies[[[RBRACE]]]

<p>
BibTeX not only has a tendency (by default) to mess about with the

<a href="FAQ-capbibtex.html">case of letters in your bibliography</a>,
also makes a hash of accent commands:
&ldquo;<tt>ma</tt><code>&#x5c;&#x7e;</code><tt>nana</tt>&rdquo; comes out as &ldquo;ma
nana&rdquo; (!).  The solution is similar that of the letter case problem:
enclose the troublesome sequence in braces, as
&ldquo;<tt>&#x7b;</tt><code>&#x5c;&#x7e;</code><tt>n&#x7d;</tt>&rdquo;, in this example.

<p>
[[[Question]]][Q-bibstrtl][[[LBRACE]]]&lsquo;String too long&rsquo; in BibTeX[[[RBRACE]]]

<p>
The BibTeX diagnostic &ldquo;Warning&ndash;you&rsquo;ve exceeded 1000, the
<tt>global-string-size</tt>, for entry <tt>foo</tt>&rdquo; usually arises
from a very large abstract or annotation included in the database.
The diagnostic usually arises because of an infelicity in the coding of
<i class="filename">abstract.bst</i>, or styles derived from it.  (One doesn&rsquo;t
ordinarily output annotations in other styles.)

<p>
The solution is to make a copy of the style file (or get a clean copy
from CTAN&nbsp;&mdash; <a class="ctan" href="https://www.ctan.org/pkg/abstract-bst">abstract-bst</a>), and rename it (e.g., on a
long file-name system, to <i class="filename">abstract-long.bst</i>).  Now edit it: find
function <tt>output.nonnull</tt> and
<ul>
<li> change its first line (line 60 in the version on CTAN)
  from
<blockquote>
<pre>
{ 's :=
</pre>
</blockquote>
to
<blockquote>
<pre>
{ swap$
</pre>
</blockquote>
Finally,
<li> delete the function&rsquo;s last line, which just says &ldquo;<tt>s</tt>
  (line 84 in the version on CTAN).
</ul>
Finally, change your <code>&#x5c;bibliographystyle</code> command to refer to the
name of the new file.

<p>
This technique applies equally to any bibliography style: the same
change can be made to any similar <tt>output.nonnull</tt> function.

<p>
If you&rsquo;re reluctant to make this sort of change, the only way forward
is to take the entry out of the database, so that you don&rsquo;t encounter
BibTeX&rsquo;s limit, but you may need to retain the entry because it
will be included in the typeset document.  In such cases, put the body
of the entry in a separate file:
<blockquote>
<pre>
@article{long.boring,
  author =    "Fred Verbose",
  ...
  abstract =  "{\input{abstracts/long.tex}}"
}
</pre>
</blockquote>
In this way, you arrange that all BibTeX has to deal with is the
file name, though it will tell TeX (when appropriate) to include
all the long text.

<p>
[[[Question]]][Q-manyauthor][[[LBRACE]]]BibTeX doesn&rsquo;t understand lists of names[[[RBRACE]]]

<p>
BibTeX has a strict syntax for lists of authors&rsquo; (or editors&rsquo;)
names in the BibTeX data file; if you write the list of names in a
&ldquo;natural&rdquo;-seeming way, the chances are you will confuse BibTeX,
and the output produced will be quite different from what you had
hoped.

<p>
Names should be expressed in one of the forms
<blockquote>
<pre>
First Last
Last, First
Last, Suffix, First
</pre>
</blockquote>
and lists of names should be separated with &ldquo;<tt>and</tt>&rdquo;.
For example:
<blockquote>
<pre>
AUTHOR = {Fred Q. Bloggs, John P. Doe \&amp;
          Another Idiot}
</pre>
</blockquote>
falls foul of two of the above rules: a syntactically significant
comma appears in an incorrect place, and &lsquo;<code>&#x5c;&amp;</code>&rsquo; is being used as a
name separator.  The output of the above might be something like:
<blockquote>

<pre>
John P. Doe \&amp; Another Idiot Fred Q. Bloggs
</pre>


<pre>
John P. Doe \&amp; Another Idiot
                        Fred Q. Bloggs
</pre>

</blockquote>
because &ldquo;John P. Doe &amp; Another Idiot has become the &lsquo;first name&rsquo;,
while &ldquo;Fred Q. Bloggs&rdquo; has become the &lsquo;last name&rsquo; of a single
person.  The example should have been written:
<blockquote>

<pre>
AUTHOR = {Fred Q. Bloggs and
          John P. Doe and
          Another Idiot}
</pre>


<pre>
AUTHOR = {Fred Q. Bloggs and John P. Doe and
          Another Idiot}
</pre>

</blockquote>
Some bibliography styles implement clever acrobatics with very long
author lists.  You can force truncation by using the pseudo-name
&ldquo;<tt>others</tt>&rdquo;, which will usually translate to something like
&ldquo;<em>et al</em>&rdquo; in the typeset output.  So, if Mr.&nbsp;Bloggs wanted to
distract attention from his co-authors, he would write:
<blockquote>
<pre>
AUTHOR = {Fred Q. Bloggs and others}
</pre>
</blockquote>

<p>
[[[Question]]][Q-citeURL][[[LBRACE]]]URLs in BibTeX bibliographies[[[RBRACE]]]

<p>
There is no citation type for URLs, <em>per se</em>, in the
standard BibTeX styles, though Oren Patashnik (the author of
BibTeX) is believed to be considering developing one such for use
with the long-awaited BibTeX version&nbsp;1.0.

<p>
The actual information that need be available in a citation of an
URL is discussed at some length in the publicly available
on-line 






<a href="http://www.nlc-bnc.ca/iso/tc46sc9/standard/690-2e.htm">extracts of ISO&nbsp;690&ndash;2</a>;

the techniques below do <em>not</em> satisfy all the requirements of
ISO&nbsp;690&ndash;2, but they offer a solution that is at least
available to users of today&rsquo;s tools.

<p>
Until the new version of BibTeX arrives, the simplest technique is
to use the <tt>howpublished</tt> field of the standard styles&rsquo; <tt>@misc</tt>
function.  Of course, the strictures
about <a href="FAQ-setURL.html">typesetting URLs</a> still apply, so the
entry will look like:
<blockquote>
<pre>
@misc{...,
  ...,
  howpublished = "\url{http://...}"
}
</pre>
</blockquote>
A possible alternative approach is to use BibTeX styles other than
the standard ones, that already have URL entry types.
Candidates are:
<ul>
<li> The <i class="package">natbib</i> styles (<i class="package">plainnat</i>,
  <i class="package">unsrtnat</i> and <i class="package">abbrevnat</i>), which are extensions of
  the standard styles, principally for use with <i class="package">natbib</i>
  itself.  However, they&rsquo;ve acquired URLs and other &ldquo;modern&rdquo;
  entries along the way.  The same author&rsquo;s <i class="package">custom-bib</i> is
  also capable of generating styles that honour URL entries.
<li> The <i class="package">babelbib</i> bundle, which offers 
  <a href="FAQ-i18nbib.html">multilingual bibliographies</a>, similarly provides a
  set of standard-style equivalents that have URL entries.
<li> More modern styles such as the <i class="package">harvard</i> package (if the
  citation styles are otherwise satisfactory for you).
  <i class="package">Harvard</i> bibliography styles all include a &ldquo;<tt>url</tt>&rdquo;
  field in their specification; however, the typesetting offered is
  somewhat feeble (though it does recognise and use
  <i class="progname">LaTeX2HTML</i> macros if they are available, to create
  hyperlinks).
</ul>
You can also acquire new BibTeX styles by use of Norman Gray&rsquo;s
<i class="package">urlbst</i> system, which is based on a <i class="progname">Perl</i> script
that edits an existing BibTeX style file to produce a new
style. The new style thus generated has a <tt>webpage</tt> entry type, and
also offers support for <tt>url</tt> and <tt>lastchecked</tt> fields
in the other entry types.  The <i class="progname">Perl</i> script comes with a set
of converted versions of the standard bibliography styles.

<p>
Another possibility is that some conventionally-published paper,
technical report (or even book) is also available on the Web.  In such
cases, a useful technique is something like:
<blockquote>

<pre>
@techreport{...,
  ...,
  note = "Also available as \url{http://...}"
}
</pre>


<pre>
@techreport{...,
  ...,
  note = "Also available as 
                       \url{http://...}"
}
</pre>

</blockquote>
There is good reason to use the <i class="package">url</i> or <i class="package">hyperref</i>
packages in this context: BibTeX has a habit of splitting
lines it considers excessively long, and if there are no space
characters for it to use as &lsquo;natural&rsquo; breakpoints, BibTeX will
insert a comment (&lsquo;<tt>&#x25;</tt>&rsquo;) character&nbsp;&hellip; which
is an acceptable character in an URL.  Any current version of
either of the <i class="package">url</i> or <i class="package">hyperref</i> packages detects this
&ldquo;<tt>&#x25;</tt>&ndash;end-of-line&rdquo; structure in its argument, and
removes it.
<dl>
<dt class="ctanref">babelbib bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/babelbib">babelbib</a>
<dt class="ctanref">custom-bib bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/custom-bib">custom-bib</a>
<dt class="ctanref">harvard.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/harvard">harvard</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">natbib styles</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
<dt class="ctanref">url.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/url">url</a>
<dt class="ctanref">urlbst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/urlbst">urlbst</a>
</dl>

<p>
[[[Question]]][Q-bibplain][[[LBRACE]]]Using BibTeX with Plain TeX[[[RBRACE]]]

<p>
The file <i class="filename">btxmac.tex</i> (which is part of the Eplain system)
contains macros and documentation for using BibTeX with
Plain TeX, either directly or with <a href="FAQ-eplain.html">Eplain</a>.  See
<a class="FAquestion.html" href="FAQ-BibTeXing.html">the use of BibTeX</a> for more
information about BibTeX itself.
<dl>
<dt class="ctanref">btxmac.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/btxmactex">btxmactex</a>
<dt class="ctanref">eplain system</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eplain">eplain</a>
</dl>

<p>
[[[Question]]][Q-makebib][[[LBRACE]]]Reconstructing <code class="extension">bib</code> files[[[RBRACE]]]

<p>
Perhaps you&rsquo;ve lost the <code class="extension">bib</code> file you generated your document from,
or have been sent a document without one.  Or even, you&rsquo;ve realised
the error of building a substantial document without the benefit of
BibTeX&hellip;

<p>
The <i class="progname">Perl</i> script, <i class="package">tex2bib</i> makes a reasonable job
of regenerating <code class="extension">bib</code> files from <code class="environment">thebibliography</code>
environments, provided that the original (whether automatically or
manually generated) doesn&rsquo;t deviate too far from the &ldquo;standard&rdquo;
styles.

<p>
You are well-advised to check the output of the script.  While it will
not usually destroy information, it can quite reasonably mislabel it.

<p>
Documentation of the script is to be found in the file <i class="filename">tex2bib.readme</i>
<dl>
<dt class="ctanref">tex2bib</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2bib">tex2bib</a>
<dt class="ctanref">tex2bib.readme</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex2bib-doc">tex2bib-doc</a>
</dl>

<p>
[[[Question]]][Q-bibprefixsort][[[LBRACE]]]BibTeX sorting and name prefixes[[[RBRACE]]]

<p>
BibTeX recognises a bewildering array of name prefixes (mostly
those deriving from European language names); it ignores the prefixes
when sorting the bibliography&nbsp;&mdash; you want &ldquo;Ludwig van Beethoven&rdquo;
sorted under &ldquo;Beethoven&rdquo;, not under &ldquo;van&rdquo;.  (Lamport made a witty
deliberate mistake with Beethoven&rsquo;s name, in the first edition of his
LaTeX manual.)

<p>
However, a recurring issue is the desire to quote Lord Rayleigh&rsquo;s
publications (&ldquo;Lord&rdquo; isn&rsquo;t an acceptable prefix), or names from
languages that weren&rsquo;t considered when BibTeX was designed such as
&ldquo;al-Wakil&rdquo; (transcribed from the Arabic).  What&rsquo;s needed is a
separate &ldquo;sort key&rdquo;, but BibTeX only allows such a thing in
citations of items that have no author or editor.

<p>
The solution is to embed the sort key in the author&rsquo;s name, but to
prevent it from being typeset.  Patashnik recommends a command
<code>&#x5c;noopsort</code> (no-output-sortkey), which is defined and used as
follows:
<blockquote>

<pre>
@PREAMBLE{ {\providecommand{\noopsort}[1]{}} }
...
@ARTICLE{Rayleigh1,
AUTHOR = "{\noopsort{Rayleigh}}{Lord Rayleigh}",
...
}
</pre>


<pre>
@PREAMBLE{
    {\providecommand{\noopsort}[1]{}}
}
...
@ARTICLE{Rayleigh1,
AUTHOR = 
   "\noopsort{Rayleigh}{Lord Rayleigh}",
...
}
</pre>

</blockquote>
Note that this <code>&#x5c;noopsort</code> applies to the last name in this kind of
construct, so an author with an Arabic name might be rendered:

<blockquote>
<pre>
...
AUTHOR = "Ali {\noopsort{Hadiidii}}{al-Hadiidii}",
...
</pre>
</blockquote>



<pre>
...
AUTHOR = 
   "Ali {\noopsort{Hadiidii}}{al-Hadiidii}",
...
</pre>


A further use might deal with word order games, as in the famous
Vietnamese name:

<blockquote>
<pre>
...
AUTHOR = "\noopsort{Thanh Han The}{Han The Thanh}",
...
</pre>
</blockquote>



<pre>
...
AUTHOR =
   "\noopsort{Thanh Han The}{Han The Thanh}",
...
</pre>


though that author seems well-acquainted with Western confusion about
the significance of the parts of his name (even to the extent of
missing out the accentuation, as above&hellip;).

<p>
[[[Question]]][Q-bibtranscinit][[[LBRACE]]]&lsquo;Multi-letter&rsquo; initials in BibTeX[[[RBRACE]]]
<!-- compound initials, transcribed initials -->

<p>
If your bibliographic style uses initials&nbsp;+ surname, you may encounter
a problem with some transcribed names (for example, Russian ones).
Consider the following example from the real world:
<blockquote>

<pre>
@article{epifanov1997,
   author = {Epifanov, S. Yu. and
             Vigasin, A. A.},
   title  = ...
}
</pre>


<pre>
@article{epifanov1997,
   author = {Epifanov, S. Yu. and Vigasin, A. A.},
   title  = ...
}
</pre>

</blockquote>
Note that the &ldquo;Yu&rdquo; is the initial, not a complete name. However,
BibTeX&rsquo;s algorithms will leave you with a citation&nbsp;&mdash; 
slightly depending on the bibliographic style&nbsp;&mdash; that reads:
&ldquo;S. Y. Epifanov and A. A. Vigasin, &hellip;&rdquo;. instead of the intended
&ldquo;S. Yu. Epifanov and A. A. Vigasin, &hellip;&rdquo;.

<p>
One solution is to replace each affected initial by a command that 
prints the correct combination.  To keep your bibliography portable,
you need to add that command to your bibliography with the
<tt>@preamble</tt> directive:
<blockquote>

<pre>
@preamble{ {\providecommand{\BIBYu}{Yu} } }

@article{epifanov1997,
   author   = {Epifanov, S. {\BIBYu}. and
               Vigasin, A. A.},
   title    = ...
}
</pre>


<pre>
@preamble{ {\providecommand{\BIBYu}{Yu} } }

@article{epifanov1997,
   author   = {Epifanov, S. {\BIBYu}. and Vigasin, A. A.},
   title    = ...
}
</pre>

</blockquote>
If you have many such commands, you may want to put them in a separate
file and <code>&#x5c;input</code> that LaTeX file in a <tt>@preamble</tt>
directive.

<p>
An alternative is to make the transcription look like an accent, from
BibTeX&rsquo;s point of view.  For this we need a control sequence that
does nothing:

<blockquote>
<pre>
@article{epifanov1997,
   author   = {Epifanov, S. {\relax Yu}. and Vigasin, A. A.},
   title    = ...
}
</pre>
</blockquote>



<pre>
@article{epifanov1997,
   author   = {Epifanov, S. {\relax Yu}. and
               Vigasin, A. A.},
   title    = ...
}
</pre>


Like the solution by generating extra commands, this involves tedious
extra typing; which of the two techniques is preferable for a given
bibliography will be determined by the names in it.  It should be
noted that a preamble that introduces lots of odd commands is usually
undesirable if the bibliography is a shared one.

<p>
&ldquo;Compound&rdquo; initials (for single names made up of two or more words)
may be treated in the same way, so one can enter Forster&rsquo;s rather
complicated name as:

<blockquote>
<pre>
@article{forster2006,
  author   = {Forster, P.M. {\relax de F.} and Collins, M.},
  title    = ...
</pre>
</blockquote>



<pre>
@article{forster2006,
  author   = {Forster, P.M. {\relax de F.} and
              Collins, M.},
  title    = ...
</pre>


The same trick can be played if you&rsquo;re entering whole names:
<blockquote>
<pre>
...
  author   = {Epifanov, Sasha {\relax Yu}ri and
...
</pre>
</blockquote>
(though no guarantee, that either of those names is right, is
offered!)
However, if you&rsquo;re typing the names in the &ldquo;natural&rdquo; (Western) way,
with given names first, the trick:
<blockquote>
<pre>
...
  author   = {P.M. {\relax de F.} Forster and
...
</pre>
</blockquote>
doesn&rsquo;t work&nbsp;&mdash; &ldquo;de F. Forster&rdquo; is treated as a compound family
names.

<p>

<p>

<p>

<p>
[[[Question]]][Q-usebibtex][[[LBRACE]]]&ldquo;Normal&rdquo; use of BibTeX from LaTeX[[[RBRACE]]]

<p>
To create a bibliography for your document, you need to perform a
sequence of steps, some of which seem a bit odd.  If you choose to use
BibTeX, the sequence is:

<p>
First: you need a BibTeX bibliography file (a <code class="extension">bib</code>
file)&nbsp;&mdash; see <a class="FAquestion.html" href="FAQ-buildbib.html">&ldquo;creating a BibTeX file&rdquo;</a>.

<p>
Second: you must write your LaTeX document to include a declaration
of the &lsquo;style&rsquo; of bibliography, citations, and a reference to the
bibliography file mentioned above.  So we may have a LaTeX
file containing:
<blockquote>
<pre>
\bibliographystyle{plain}
...
Pooh is heroic~\cite{Milne:1926}.
...
Alice struggles~\cite{Carroll:1865}.
...
\bibliography{mybooks}
</pre>
</blockquote>
Note: we have bibliography style <i class="package">plain</i>, above, which is
nearly the simplest of the lot: a sample text, showing the sorts of
style choices available, can be found on Ken Turner&rsquo;s web site:
<a href="http://www.cs.stir.ac.uk/~kjt/software/latex/showbst.html">http://www.cs.stir.ac.uk/&nbsp;kjt/software/latex/showbst.html</a>

<p>
Third: you must process the file.
<blockquote>
<pre>
latex myfile
</pre>
</blockquote>
As LaTeX processes the file, the <code>&#x5c;bibliographystyle</code> command
writes a note of the style to the <code class="extension">aux</code> file; each
<code>&#x5c;cite</code> command writes a note of the citation to the
<code class="extension">aux</code> file, and the <code>&#x5c;bibliography</code> command writes a note
of which <code class="extension">bib</code> file is to be used, to the <code class="extension">aux</code> file.

<p>
Note that, at this stage, LaTeX isn&rsquo;t &ldquo;resolving&rdquo; any of the
citations: at every <code>&#x5c;cite</code> command, LaTeX will warn you of the
undefined citation, and when the document finishes, there will be a
further warning of undefined references.

<p>



<p>
Fourth: you must run BibTeX:
<blockquote>
<pre>
bibtex myfile
</pre>
</blockquote>
Don&rsquo;t try to tell BibTeX anything but the file name: say
<tt>bibtex myfile.aux</tt> (because you know it&rsquo;s going to read the
<code class="extension">aux</code> file) and BibTeX will blindly attempt to process
<tt>myfile.aux.aux</tt>.

<p>
BibTeX will scan the <code class="extension">aux</code> file; it will find which bibliography
style it needs to use, and will &ldquo;compile&rdquo; that style; it will note
the citations; it will find which bibliography files it needs, and
will run through them matching citations to entries in the
bibliography; and finally it will sort the entries that have been
cited (if the bibliography style specifies that they should be
sorted), and outputs the resulting details to a <code class="extension">bbl</code> file.

<p>
Fifth: you run LaTeX again.  It warns, again, that each citation is
(still) undefined, but when it gets to the <code>&#x5c;bibliography</code> command,
it finds a <code class="extension">bbl</code> file, and reads it.  As it encounters each
<code>&#x5c;bibitem</code> command in the file, it notes a definition of the
citation.

<p>
Sixth: you run LaTeX yet again.  This time, it finds values for all
the citations, in its <code class="extension">aux</code> file.  Other things being equal, you&rsquo;re
done&hellip; until you change the file.

<p>
If, while editing, you change any of the citations, or add new ones,
you need to go through the process above from steps 3 (first run of
LaTeX) to 6, again, before the document is once again stable.
These four mandatory runs of LaTeX make processing a document with
a bibliography even more tiresome than the normal two runs required to
resolve labels.

<p>
To summarise: processing to resolve citations requires: LaTeX;
BibTeX; LaTeX; LaTeX.

<p>
[[[Question]]][Q-whatbst][[[LBRACE]]]Choosing a bibliography style[[[RBRACE]]]

<p>
A large proportion of people are satisfied with one of Patashnik&rsquo;s
original &ldquo;standard&rdquo; styles, <i class="package">plain</i>, <i class="package">unsrt</i>,
<i class="package">abbrv</i> and <i class="package">alpha</i>.  However, no style in that set
supports the &ldquo;author-date&rdquo; citation style that is popular in many
fields; but there are a very large number of contributed styles
available, that <em>do</em> support the format.

<p>
(Note that author-date styles arose because the simple and clear
citation style that <i class="package">plain</i> produces is so awkward in a
traditional manuscript preparation scenario.  However, TeX-based
document production does away with all those difficulties, leaving us
free once again to use the simple option.)

<p>
Fortunately, help is at hand, on the Web, with this problem:
<ul>
<li> a sample text, showing the sorts of style choices available, can
  be found on 





  
  <a href="http://www.cs.stir.ac.uk/~kjt/software/latex/showbst.html">Ken Turner&rsquo;s web site</a>;

<li> an excellent survey, that lists a huge variety of styles,
  sorted into their nominal topics as well as providing a good range
  of examples, is the Reed College 





  
  &ldquo;<a href="http://web.reed.edu/cis/help/LaTeX/bibtexstyles.html">Choosing a BibTeX style</a>&rdquo;.

</ul>

<p>
Of course, these pages don&rsquo;t cover everything; the problem the
inquisitive user faces, in fact, is to find what the various available
styles actually do.  This is best achieved (if the links above don&rsquo;t
help) by using <i class="package">xampl.bib</i> from the BibTeX documentation
distribution: one can get a pretty good feel for any style one has to
hand using this &ldquo;standard&rdquo; bibliography.  For style
<i class="package">my-style.bst</i>, the simple LaTeX document:
<blockquote>
<pre>
\documentclass{article}
\begin{document}
\bibliographystyle{my-style}
\nocite{*}
\bibliography{xampl}
\end{document}
</pre>
</blockquote>
will produce a representative sample of the citations the style will
produce.  (Because <i class="package">xampl.bib</i> is so extreme in some of its
&ldquo;examples&rdquo;, the BibTeX run will also give you an interesting
selection of BibTeX&rsquo;s error messages&hellip;)
<dl>
<dt class="ctanref">xampl.bib</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xampl-bib">xampl-bib</a>
</dl>

<p>
[[[Question]]][Q-chapbib][[[LBRACE]]]Separate bibliographies per chapter?[[[RBRACE]]]

<p>
A separate bibliography for each &lsquo;chapter&rsquo; of a document can be provided
with the package <i class="package">chapterbib</i> (which comes with a bunch of
other good bibliographic things).  The package allows you a
different bibliography for each <code>&#x5c;include</code>d file (i.e., despite the
package&rsquo;s name, the availability of bibliographies is related to the
component source files of the document rather than to the chapters that
logically structure the document).

<p>
The package <i class="package">bibunits</i> ties bibliographies to logical units
within the document: the package will deal with chapters and sections
(as defined by LaTeX itself) and also defines a <code class="environment">bibunit</code>
environment so that users can select their own structuring.

<p>
<a href="FAQ-biblatex.html">The <i class="package">biblatex</i> package</a>, with
<i class="progname">biber</i>, provides a similar facility; enclose the text for
which you want a local bibliography in a <code class="environment">refsection</code>
environment, and place a <code>&#x5c;printbibliography</code> command as the last
thing in that environment:
<blockquote>
<pre>
\begin{refsection}
\chapter{First chapter}
\section{Foo}
Some text \cite{this}
with citations \cite{that}.
\printbibliography
\end{refsection}
</pre>
</blockquote>
Then process with LaTeX (of whatever flavour) and use
<i class="progname">biber</i> to process the bibliography output.  Note that
<code>&#x5c;printbibliography</code> can take an optional argument
<code class="pkgoption">heading=bib title</code> to provide the bibliography with a
(sub)section title.
<dl>
<dt class="ctanref">biber</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biber">biber</a>
<dt class="ctanref">biblatex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex">biblatex</a>
<dt class="ctanref">bibunits.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibunits">bibunits</a>
<dt class="ctanref">chapterbib.sty</dt><dd>distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/chapterbib">cite</a>
</dl>

<p class="lastedit">This answer last edited: 2013-01-04</p>

<p>
[[[Question]]][Q-multbib][[[LBRACE]]]Multiple bibliographies?[[[RBRACE]]]

<p>
If you&rsquo;re thinking of multiple bibliographies tied to some part of
your document (such as the chapters within the document), please see
<a class="FAquestion.html" href="FAQ-chapbib.html">bibliographies per chapter</a>.

<p>
For more than one bibliography, there are three options.

<p>
The <i class="package">multibbl</i> package offers a very simple interface: you use
a command <code>&#x5c;newbibliography</code> to define a bibliography &ldquo;tag&rdquo;.  The package
redefines the other bibliography commands so that each time you use any one
of them, you give it the tag for the bibliography where you want the
citations to appear.  The <code>&#x5c;bibliography</code> command itself also takes
a further extra argument that says what title to use for the resulting
section or chapter (i.e., it patches

<a href="FAQ-fixnam.html"><code>&#x5c;refname</code> and <code>&#x5c;bibname</code></a> in a
<i class="package">babel</i>-safe way).  So one might write:


<pre>
\usepackage{multibbl}
\newbibliography{bk}
\bibliographystyle{bk}{alpha}
\newbibliography{art}
\bibliographystyle{art}{plain}
...
\cite[pp.~23--25]{bk}{milne:pooh-corner}
...
\cite{art}{einstein:1905}
...
\bibliography{bk}{book-bib}%
             {References to books}
\bibliography{art}{art-bib}%
             {References to articles}
</pre>



<blockquote>
<pre>
\usepackage{multibbl}
\newbibliography{bk}
\bibliographystyle{bk}{alpha}
\newbibliography{art}
\bibliographystyle{art}{plain}
...
\cite[pp.~23--25]{bk}{milne:pooh-corner}
...
\cite{art}{einstein:1905}
...
\bibliography{bk}{book-bib}{References to books}
\bibliography{art}{art-bib}{References to articles}
</pre>
</blockquote>

(Note that the optional argument of <code>&#x5c;cite</code> appears <em>before</em> the
new tag argument, and that the <code>&#x5c;bibliography</code> commands may list
more than one <code class="extension">bib</code> file&nbsp;&mdash; indeed all <code>&#x5c;bibliography</code> commands
may list the same set of files.)

<p>
The <code>&#x5c;bibliography</code> data goes into files whose names are
&lsaquo;<i>tag-name</i>&rsaquo;<em>.aux</em>, so you will need to run
<blockquote>
<pre>
bibtex bk
bibtex art
</pre>
</blockquote>
after the first run of LaTeX, to get the citations in the correct
place.

<p>
The <i class="package">multibib</i> package allows you to define a series of
&ldquo;additional topics&rdquo;, each of which comes with its own series of
bibliography commands.  So one might write:
<blockquote>
<pre>
\usepackage{multibib}
\newcites{bk,art}%
         {References from books,%
          References from articles}
\bibliographystylebk{alpha}
\bibliographystyleart{plain}
...
\citebk[pp.~23--25]{milne:pooh-corner}
...
\citeart{einstein:1905}
...
\bibliographybk{book-bib}
\bibliographyart{art-bib}
</pre>
</blockquote>
Again, as for <i class="package">multibbl</i>, any <code>&#x5c;bibliography...</code> command may
scan any list of <code class="extension">bib</code> files.

<p>
BibTeX processing with <i class="package">multibib</i> is much like that with
<i class="package">multibbl</i>; with the above example, one needs:
<blockquote>
<pre>
bibtex bk
bibtex art
</pre>
</blockquote>
Note that, unlike <i class="package">multibbl</i>, <i class="package">multibib</i> allows a
simple, unmodified bibliography (as well as the &ldquo;topic&rdquo; ones).  

<p>
The <i class="package">bibtopic</i> package allows you separately to cite several
different bibliographies.  At the appropriate place in your document,
you put a sequence of <code class="environment">btSect</code> environments (each of which
specifies a bibliography database to scan) to typeset the separate
bibliographies.  Thus, one might have a file <i class="filename">diss.tex</i> containing:
<blockquote>
<pre>
\usepackage{bibtopic}
\bibliographystyle{alpha}
...
\cite[pp.~23--25]{milne:pooh-corner}
...
\cite{einstein:1905}
...
\begin{btSect}{book-bib}
\section{References from books}
\btPrintCited
\end{btSect}
\begin{btSect}[plain]{art-bib}
\section{References from articles}
\btPrintCited
\end{btSect}
</pre>
</blockquote>
Note the different way of specifying a bibliographystyle: if you want
a different style for a particular bibliography, you may give it as an
optional argument to the <code class="environment">btSect</code> environment.

<p>
Processing with BibTeX, in this case, uses <code class="extension">aux</code> files whose names
are derived from the name of the base document.  So in this example
you need to say:
<blockquote>
<pre>
bibtex diss1
bibtex diss2
</pre>
</blockquote>

<p>
There is also a command <code>&#x5c;btPrintNotCited</code>, which gives the rest of
the content of the database (if nothing has been cited from the
database, this is equivalent to LaTeX standard <code>&#x5c;nocite</code><code>&#x7b;*&#x7d;</code>).

<p>
However, the <em>real</em> difference from <i class="package">multibbl</i> and
<i class="package">multibib</i> is that selection of what appears in each
bibliography section is determined in <i class="package">bibtopic</i> by what&rsquo;s in
the <code class="extension">bib</code> files.

<p>
An entirely different approach is taken by the <i class="package">splitbib</i>
package.  You provide a <code class="environment">category</code> environment, in the
preamble of your document, for each category you want a separate
citation list for.  In each environment, you list the <code>&#x5c;cite</code> keys
that you want listed in each category.  The <code>&#x5c;bibliography</code> command
(or, more precisely, the <code class="environment">thebibliography</code> environment it
uses) will sort the keys as requested.  (Keys not mentioned in a
<code class="environment">category</code> appear in a &ldquo;misc&rdquo; category created in the
sorting process.)  A code example appears in the package documentation
(a PDF file in the CTAN directory,

  which you can browse to, from the link, below).




<dl>
<dt class="ctanref">bibtopic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibtopic">bibtopic</a>
<dt class="ctanref">multibbl.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multibbl">multibbl</a>
<dt class="ctanref">multibib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multibib">multibib</a>
<dt class="ctanref">splitbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/splitbib">splitbib</a>
</dl>

<p>

<p>
[[[Question]]][Q-bibinline][[[LBRACE]]]Putting bibliography entries in text[[[RBRACE]]]

<p>
This is a common requirement for journals and other publications in
the humanities.  Sometimes the requirement is for the entry to appear
in the running text of the document, while other styles require that
the entry appear in a footnote.

<p>
Options for entries in running text are
<ul>
<li> The package <i class="package">bibentry</i>, which puts slight restrictions
  on the format of entry that your <code class="extension">bst</code> file generates, but is
  otherwise undemanding of the bibliography style.
<li> The package <i class="package">inlinebib</i>, which requires that you use its
  <i class="filename">inlinebib.bst</i>.  <i class="package">Inlinebib</i> was actually designed for
  footnote citations: its <em>expected</em> use is that you place a
  citation inline as the argument of a <code>&#x5c;footnote</code> command.
<li> The package <i class="package">jurabib</i>, which was originally designed for
  German law documents, and has comprehensive facilities for the
  manipulation of citations.  The package comes with four bibliography
  styles that you may use: <i class="filename">jurabib.bst</i>, <i class="filename">jhuman.bst</i> and
  two Chicago-like ones.
</ul>

<p>
Options for entries in footnotes are
<ul>
<li> The package <i class="package">footbib</i>, and
<li> Packages <i class="package">jurabib</i> and <i class="package">inlinebib</i>, again.
</ul>
Note that <i class="package">jurabib</i> does the job using LaTeX&rsquo;s standard
footnotes, whereas <i class="package">footbib</i> creates its own sequence of
footnotes.  Therefore, in a document which has other footnotes, it may
be advisable to use <i class="package">jurabib</i> (or of course
<i class="package">inlinebib</i>), to avoid confusion of footnotes and
foot-citations.

<p>
The <i class="package">usebib</i> package offers a &lsquo;toolbox&rsquo;, which allows the user
to place exactly what is needed, in the text (that is, rather than a
full citation).  The package&rsquo;s command, that does the actual
typesetting, is <code>&#x5c;usebibdata</code><code>&#x7b;&lsaquo;<i>key</i>&rsaquo;&#x7d;</code></code><code>&#x7b;&lsaquo;<i>field</i>&rsaquo;&#x7d;</code>; it
typesets the <em>field</em> item from the entry <em>key</em> in the
bibliography; the user then formats the entry as desired&nbsp;&mdash; obviously
one could construct one&rsquo;s own bibliography, altogether, from this
command, but it would quickly become tedious.
<dl>
<dt class="ctanref">bibentry.sty</dt><dd><em>Distributed with</em> <a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
<dt class="ctanref">footbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footbib">footbib</a>
<dt class="ctanref">inlinebib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/inlinebib">inlinebib</a>
<dt class="ctanref">jurabib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/jurabib">jurabib</a>
<dt class="ctanref">usebib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/usebib">usebib</a>
</dl>

<p class="lastedit">This answer last edited: 2012-03-23</p>

<p>
[[[Question]]][Q-citesort][[[LBRACE]]]Sorting and compressing citations[[[RBRACE]]]

<p>
If you give LaTeX
<code>&#x5c;cite</code><code>&#x7b;fred,joe,harry,min&#x7d;</code>, its default commands could give
something like &ldquo;[2,6,4,3]&rdquo;;
this looks awful.  One can of course get the things in order by
rearranging the keys in the <code>&#x5c;cite</code> command, but who wants to do
that sort of thing for no more improvement than &ldquo;[2,3,4,6]&rdquo;?

<p>
The <i class="package">cite</i> package sorts the numbers and detects consecutive
sequences, so creating &ldquo;[2&ndash;4,6]&rdquo;.  The <i class="package">natbib</i> package,
with the <code class="pkgoption">numbers</code> and <code class="pkgoption">sort&amp;compress</code> options, will
do the same when working with its own numeric bibliography styles
(<i class="filename">plainnat.bst</i> and <i class="filename">unsrtnat.bst</i>).

<p>
The package <i class="package">biblatex</i> has a built-in style
<i class="package">numeric-comp</i> for its bibliographies.
<dl>
<dt class="ctanref">biblatex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex">biblatex</a>
<dt class="ctanref">cite.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cite">cite</a>
<dt class="ctanref">hypernat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hypernat">hypernat</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">plainnat.bst</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
<dt class="ctanref">unsrtnat.bst</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-10</p>

<p>
[[[Question]]][Q-mcite][[[LBRACE]]]Multiple citations[[[RBRACE]]]

<p>
A convention sometimes used in physics journals is to &ldquo;collapse&rdquo; a group of
related citations into a single entry in the bibliography.  BibTeX,
by default, can&rsquo;t cope with this arrangement, but the <i class="package">mcite</i>
and <i class="package">mciteplus</i> packages deal with the problem.

<p>
<i class="package">mcite</i> overloads the <code>&#x5c;cite</code> command to recognise a
&ldquo;<tt>*</tt>&rdquo; at the start of a key, so that citations of the form
<blockquote>
<pre>
\cite{paper1,*paper2}
</pre>
</blockquote>
appear in the document as a single citation, and appear arranged
appropriately in the bibliography itself.  You&rsquo;re not limited to
collapsing just two references.  You can mix &ldquo;collapsed&rdquo; references
with &ldquo;ordinary&rdquo; ones, as in
<blockquote>
<pre>
\cite{paper0,paper1,*paper2,paper3}
</pre>
</blockquote>
Which will appear in the document as 3&nbsp;citations &ldquo;[4,7,11]&rdquo;
(say)&nbsp;&mdash; citation &lsquo;4&rsquo; will refer to paper&nbsp;0, &lsquo;7&rsquo; will refer to a
combined entry for paper&nbsp;1 and paper&nbsp;2, and &lsquo;11&rsquo; will refer to
paper&nbsp;3.

<p>
You need to make a small change to the bibliography style
(<code class="extension">bst</code>) file you use; the <i class="package">mcite</i> package
documentation tells you how to do that.

<p>
Most recent versions of <i class="class">REVTeX</i> (version 4.1 and later), in
conjunction with recent versions of <i class="package">natbib</i>, already contain
support for combined citations and so no longer even need
<i class="package">mciteplus</i> (but <i class="package">mciteplus</i> is more general and will
work with many other class and package combinations).

<p>
The <i class="package">mciteplus</i> package adresses many of the infelicites of
<i class="package">mcite</i>.  Again, &lsquo;ordinary&rsquo; <code class="extension">bst</code> files will not
work with <i class="package">mciteplus</i>, but the package documentation explains
how to patch an existing BibTeX style.

<p>
The <i class="package">collref</i> package takes a rather different approach to the
problem, and will work with most (if not all) BibTeX packages.
<i class="package">Collref</i> spots common subsets of the references, so if it
sees a sequence
<blockquote>
<pre>
\cite{paper0,paper1,paper2,paper3}
...
\cite{some_other_paper,paper1,paper2,and_another}
</pre>
</blockquote>
it will collect <tt>paper1</tt> and <tt>paper2</tt> as a multiple reference.
<dl>
<dt class="ctanref">collref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/collref">collref</a>
<dt class="ctanref">mcite.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mcite">mcite</a>
<dt class="ctanref">mciteplus.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mciteplus">mciteplus</a>
<dt class="ctanref">natbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
<dt class="ctanref">revtex 4.1</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/revtex4-1">revtex4-1</a>
</dl>

<p class="lastedit">This answer last edited: 2010-07-07</p>

<p>
[[[Question]]][Q-backref][[[LBRACE]]]References from the bibliography to the citation[[[RBRACE]]]

<p>
A link (or at least a page reference), from the bibliography to the
citing command, is often useful in large documents.

<p>
Two packages support this requirement, <i class="package">backref</i> and
<i class="package">citeref</i>.  <i class="package">Backref</i> is part of the
<i class="package">hyperref</i> bundle, and supports hyperlinks back to the citing
command.

<p>
<i class="package">Citeref</i> is the older, and seems to rely on rather simpler
(and therefore possibly more stable) code; it produces a list of page
references, only.  It doesn&rsquo;t interact well with other citation
packages (for example, <i class="package">cite</i>), which probably reflects its
antiquity (it&rsquo;s derived from a LaTeX 2.09 package).

<p>
Neither collapses
lists of pages (&ldquo;<tt>5, 6, 7</tt>&rdquo; comes out as such, rather than as
&ldquo;<tt>5&ndash;7</tt>&rdquo;), but neither package repeats the reference to a page that
holds multiple citations.  (The failure to collapse lists is of course
forgiveable in the case of the <i class="package">hyperref</i>-related
<i class="package">backref</i>, since the concept of multiple hyperlinks from the
same anchor is less than appealing.)
<dl>
<dt class="ctanref">backref.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">citeref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/citeref">citeref</a>
</dl>

<p>
[[[Question]]][Q-sortbib][[[LBRACE]]]Sorting lists of citations[[[RBRACE]]]

<p>
BibTeX has a sorting function, and most BibTeX styles sort the
citation list they produce; most people find this desirable.

<p>
However, it is perfectly possible to write a
<code class="environment">thebibliography</code> environment that <em>looks</em> as if it
came from BibTeX, and many people do so (in order to save time in
the short term).

<p>
The problem arises when <code class="environment">thebibliography</code>-writers decide
their citations need to be sorted.  A common misapprehension is to
insert <code>&#x5c;bibliographystyle</code><code>&#x7b;alpha&#x7d;</code> (or similar) and expect
the typeset output to be sorted in some magical way.  BibTeX
doesn&rsquo;t work that way!&nbsp;&mdash; if you write <code class="environment">thebibliography</code>,
you get to sort its contents.  BibTeX will only sort the contents
of a <code class="environment">thebibliography</code> environment when it creates it, to
be inserted from a <code class="extension">bbl</code> file by a <code>&#x5c;bibliography</code> command.

<p>
[[[Question]]][Q-compactbib][[[LBRACE]]]Reducing spacing in the bibliography[[[RBRACE]]]

<p>
Bibliographies are, in fact, implemented as lists, so all the
confusion about <a href="FAQ-complist.html">reducing list item spacing</a> also
applies to bibliographies.

<p>
If the <i class="package">natbib</i> package &lsquo;works&rsquo; for you (it may not if you are using
some special-purpose bibliography style), the solution is relatively
simple&nbsp;&mdash; add
<blockquote>
<pre>
\usepackage{natbib}
\setlength{\bibsep}{0.0pt}
</pre>
</blockquote>
to the preamble of your document.

<p>
The <i class="package">compactbib</i> package has a similar effect.  Its primary
purpose is to produce two bibliographies, and it seems to preclude use
of BibTeX (though the package documentation, in the package file
itself, isn&rsquo;t particularly clear).

<p>
Otherwise, one is into unseemly hacking of something or other.  The
<i class="package">mdwlist</i> package actually does the job, but it doesn&rsquo;t work
here, because it makes a different-named list, while the name
&ldquo;<code class="environment">thebibliography</code>&rdquo; is built into LaTeX and
BibTeX.  Therefore, we need to 
<a href="FAQ-patch.html">patch the underlying macro</a>:
<blockquote>
<pre>
\let\oldbibliography\thebibliography
\renewcommand{\thebibliography}[1]{%
  \oldbibliography{#1}%
  \setlength{\itemsep}{0pt}%
}
</pre>
</blockquote>
The <i class="package">savetrees</i> package performs such a patch, among a
plethora of space-saving measures: you can, in principle, suppress all
its other actions, and have it provide you a compressed bibliography
<em>only</em>.
<dl>
<dt class="ctanref">compactbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/compactbib">compactbib</a>
<dt class="ctanref">mdwlist.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mdwlist">mdwtools</a>
<dt class="ctanref">natbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
<dt class="ctanref">savetrees.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/savetrees">savetrees</a>
</dl>

<p>
[[[Question]]][Q-bibtocorder][[[LBRACE]]]Table of contents rearranges &ldquo;<i class="package">unsrt</i>&rdquo; ordering[[[RBRACE]]]

<p>
If you&rsquo;re using the <i class="package">unsrt</i> bibliography style, you&rsquo;re
expecting that your bibliography will <em>not</em> be sorted, but that
the entries will appear in the order that they first appeared in your
document.

<p>
However, if you&rsquo;re unfortunate enough to need a citation in a section
title, and you also have a table of contents, the citations that now
appear in the table of contents will upset the &ldquo;natural&rdquo; ordering
produced by the <i class="package">unsrt</i> style.  Similarly, if you have
citations in captions, and have a list of figures (or tables).

<p>
There&rsquo;s a pretty simple &ldquo;manual&rdquo; method for dealing with the
problem&nbsp;&mdash; when you have the document stable:
<ol>
<li> Delete the <code class="extension">aux</code> file, and any of <code class="extension">toc</code>,
  <code class="extension">lof</code>, <code class="extension">lot</code> files.
<li> Run LaTeX.
<li> Run BibTeX for the last time.
<li> Run LaTeX often enough that things are stable again.
</ol>
Which is indeed simple, but it&rsquo;s going to get tedious when you&rsquo;ve
found errors in your &ldquo;stable&rdquo; version, often enough.

<p>
The package <i class="package">notoccite</i> avoids the kerfuffle, and suppresses
citations while in the table of contents, or lists of figures, tables
(or other floating things: the code is quite general).
<dl>
<dt class="ctanref">notoccite.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/notoccite">notoccite</a>
</dl>

<p>
[[[Question]]][Q-i18nbib][[[LBRACE]]]Non-english bibliographies[[[RBRACE]]]

<p>
Like so much of early (La)TeX software, BibTeX&rsquo;s assumptions were
firmly rooted in what its author knew well, viz., academic papers in
English (particularly those with a mathematical bent).  BibTeX&rsquo;s
standard styles all address exactly that problem, leaving the user who
writes in another language (or who deal with citations in the style of
other disciplines than maths) to strike out into contributed software.

<p>
For the user whose language is not English, there are several
alternatives.  Possibly most straightforward is to switch to using
<i class="package">biblatex</i>, which can produce a bibliography appropriate to
several languages.  However, <i class="package">biblatex</i> is large and has
correspondingly large documentation (though it is well-written and
pleasingly typeset), so its adoption takes time.

<p>
Otherwise, the simplest procedure is to provide translations of
BibTeX styles into the
required language: the solitary <i class="package">finplain.bst</i> does that for
Finnish; others one can find are for Danish (<i class="package">dk-bib</i>), French
(<i class="package">bib-fr</i>), German (<i class="package">bibgerm</i>), Norwegian
(<i class="package">norbib</i>) and Swedish (<i class="package">swebib</i>) bundles (of which
the <i class="package">bib-fr</i> set is the most extensive).  The <i class="package">spain</i>
style implements a traditional Spanish citation style.

<p>
These static approaches solve the problem, for the languages that have
been covered by them.  Unfortunately, with such an approach, a lot of
work is needed for every language involved.  Two routes to a solution
of the &ldquo;general&rdquo; problem are available&nbsp;&mdash; that offered by
<i class="package">babelbib</i>, and the 
<a href="FAQ-custbib.html"><i class="package">custom-bib</i> mechanism for generating styles</a>.

<p>
<i class="package">Babelbib</i> (which is a development of the ideas of the
<i class="package">bibgerm</i> package) co-operates with <i class="package">babel</i> to control
the language of presentation of citations (potentially at the level of
individual items).  The package has a built-in set of languages it
&lsquo;knows about&rsquo;, but the documentation includes instructions on defining
commands for other languages.  <i class="package">Babelbib</i> comes with its own
set of bibliography styles, which could be a restriction if there
wasn&rsquo;t also a link from <i class="package">custom-bib</i>.

<p>
The <i class="package">makebst</i> menu of <i class="package">custom-bib</i> allows you to
choose a language for the BibTeX style you&rsquo;re generating (there are
14 languages to choose; it looks as if <i class="package">spain.bst</i>, mentioned
above, was generated this way).  If, however, you opt not to specify a
language, you are asked whether you want the style to interact with
<i class="package">babelbib</i>; if you do so, you&rsquo;re getting the best of both
worlds&nbsp;&mdash; formatting freedom from <i class="package">custom-bib</i> and linguistic
freedom via the extensibility of <i class="package">babelbib</i>
<dl>
<dt class="ctanref">babelbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/babelbib">babelbib</a>
<dt class="ctanref">bib-fr bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bib-fr">bib-fr</a>
<dt class="ctanref">bibgerm bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibgerm">bibgerm</a>
<dt class="ctanref">biblatex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex">biblatex</a>
<dt class="ctanref">custom-bib bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/custom-bib">custom-bib</a>
<dt class="ctanref">finplain.bst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/finplain">finplain</a>
<dt class="ctanref">norbib bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/norbib">norbib</a>
<dt class="ctanref">spain</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/spain">spain</a>
<dt class="ctanref">swebib bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/swebib">swebib</a>
</dl>

<p class="lastedit">This answer last edited: 2012-03-23</p>

<p>
[[[Question]]][Q-formbiblabel][[[LBRACE]]]Format of numbers in the bibliography[[[RBRACE]]]

<p>
By default, LaTeX makes entries in the bibliography look like:
<blockquote>
  [1] Doe, Joe et al.  Some journal.  2004.<br>
  [2] Doe, Jane et al. Some journal. 2003.
</blockquote>
while many documents need something like:
<blockquote>
  1. Doe, Joe et al.  Some journal.  2004.<br>
  2. Doe, Jane et al. Some journal. 2003.
</blockquote>

<p>
This sort of change may be achieved by many of the &ldquo;general&rdquo;
citation packages; for example, in <i class="package">natbib</i>, it&rsquo;s as simple as:
<blockquote>
<pre>
\renewcommand{\bibnumfmt}[1]{#1.}
</pre>
</blockquote>
but if you&rsquo;re not using such a package, the following internal
LaTeX commands, in the preamble of your document, will do the job:
<blockquote>
<pre>
\makeatletter
\renewcommand*{\@biblabel}[1]{\hfill#1.}
\makeatother
</pre>
</blockquote>
<dl>
<dt class="ctanref">natbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/natbib">natbib</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-nocite*][[[LBRACE]]]Listing all your BibTeX entries[[[RBRACE]]]

<p>
LaTeX and BibTeX co-operate to offer special treatment of this
requirement.  The command <code>&#x5c;nocite</code><code>&#x7b;*&#x7d;</code> is specially treated,
and causes BibTeX to generate bibliography entries for every entry
in each <code class="extension">bib</code> file listed in your <code>&#x5c;bibliography</code> statement, so
that after a LaTeX&ndash;BibTeX&ndash;LaTeX sequence, you have a
document with the whole thing listed.

<p>
Note that LaTeX <em>doesn&rsquo;t</em> produce

&ldquo;<tt>Citation ... undefined</tt>&rdquo; or
&ldquo;<tt>There were undefined references</tt>&rdquo; warnings in respect of
<code>&#x5c;nocite</code><code>&#x7b;*&#x7d;</code>.  This isn&rsquo;t a problem if you&rsquo;re running
LaTeX &ldquo;by hand&rdquo; (you <em>know</em> exactly how many times you have
to run things), but the lack might confuse automatic processors that
scan the log file to determine whether another run is necessary.

<p>
A couple of packages are available, that aim to reduce the impact of
<code>&#x5c;nocite</code><code>&#x7b;*&#x7d;</code> of a large citation database.  <i class="package">Biblist</i>
was written for use under LaTeX 2.09, but seems to work well enough;
<i class="package">listbib</i> is more modern.  Both provide their own
<code class="extension">bst</code> files.  (The impact of large databases was significant
in the old days of LaTeX systems with very little free memory; this
problem is less significant now than it once was.)
<dl>
<dt class="ctanref">biblist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblist">biblist</a>
<dt class="ctanref">listbib.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/listbib">listbib</a>
</dl>

<p>
[[[Question]]][Q-htmlbib][[[LBRACE]]]Making HTML of your Bibliography[[[RBRACE]]]

<p>
A neat solution is offered by the <i class="package">noTeX</i> bibliography style.
This style produces a <code class="extension">bbl</code> file which is in fact a series of
HTML &lsquo;<tt>P</tt>&rsquo; elements of class <tt>noTeX</tt>, and which
may therefore be included in an HTML file.  Provision is made
for customising your bibliography so that its content when processed by
<i class="package">noTeX</i> is different from that presented when it is processed
in the ordinary way by (La)TeX.

<p>
A thorough solution is offered by <i class="package">bib2xhtml</i>; using it, you
make use of one of its modified versions of many common BibTeX
styles, and post-process the output so produced using a
<i class="progname">perl</i> script.

<p>
A more conventional translator is the <i class="progname">awk</i> script
<i class="progname">bbl2html</i>, which translates the <code class="extension">bbl</code> file you&rsquo;ve generated:
a sample of the script&rsquo;s output may be viewed on the web, at
<a href="http://rikblok.cjb.net/lib/refs.html">http://rikblok.cjb.net/lib/refs.html</a>
<dl>
<dt class="ctanref">bbl2html.awk</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bbl2html">bbl2html</a>
<dt class="ctanref">bib2xhtml</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bib2xhtml">bib2xhtml</a>
<dt class="ctanref">noTeX.bst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/noTeX">noTeX</a>
</dl>

<p>


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-replstdcls][[[LBRACE]]]Replacing the standard classes[[[RBRACE]]]

<p>
People are forever concocting classes that replace the standard ones:
the present author produced an <i class="class">ukart</i> class that used the
<i class="package">sober</i> package, and a few British-specific things (such as
appear in the <i class="package">babel</i> package&rsquo;s British-english
specialisation) in the 1980s, which is still occasionally used.

<p>
Similar public efforts were available well back in the days of
LaTeX 2.09: a notable example, whose pleasing designs seem not to have
changed much over all that time, is the <i class="class">ntgclass</i> bundle.
Each of the standard classes is replaced by a selection of classes,
named in Dutch, sometimes with a single numeric digit attached.  So we
have classes <i class="class">artikel2</i>, <i class="class">rapport1</i>, <i class="class">boek3</i> and
<i class="class">brief</i>.  These classes are moderately well documented in
English.

<p>
The <i class="class">KOMA-script</i> bundle (classes named <i class="class">scr...</i>) are a
strong current contender.  They are actively supported and are subject
to sensitive development; they are comprehensive in their coverage of
significant typesetting issues; they produce good-looking output and
they are well documented in both English (<i class="package">scrguien</i> in the
distribution) and German (<i class="package">scrguide</i> in the distribution).

<p>
The other comparable class is <i class="class">memoir</i>.  This aims to replace
<i class="class">book</i> and <i class="class">report</i> classes directly, and (like
<i class="class">KOMA-script</i>) is comprehensive in its coverage of small issues.
<i class="class">Memoir</i>&rsquo;s documentation (<i class="package">memman</i>) is very highly
spoken of, and its lengthy introductory section is regularly
recommended as a tutorial on typesetting.
<dl>
<dt class="ctanref">KOMA-script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">NTGclass bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ntgclass">ntgclass</a>
<dt class="ctanref">sober.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sober">sober</a>
</dl>

<p>
[[[Question]]][Q-slidecls][[[LBRACE]]]Producing presentations (including slides)[[[RBRACE]]]

<p>
Lamport&rsquo;s original LaTeX had a separate program (SliTeX) for
producing slides; it dates from the age when colour effects were
produced by printing separate slides in different-coloured inks, and
overlaying them, and was just about acceptable back then.  When
LaTeX 2e came along, the reason SliTeX had to be a separate
program went away, and its functionality was supplied by the
<i class="class">slides</i> class.  While this makes life a little easier for
system administrators, it does nothing for the inferior functionality
of the class: no-one who &ldquo;knows&rdquo; uses <i class="class">slides</i> nowadays.

<p>
The &lsquo;classic&rsquo; alternatives have been <i class="class">seminar</i> and <i class="class">foils</i>
(originally known as FoilTeX).  Both were originally designed to
produce output on acetate foils, though subsequent work has provided
environments in which they can be used with screen projectors (see
below).

<p>
The advent of Microsoft <i class="progname">PowerPoint</i> (feeble though early
versions of it were) has created a demand for &ldquo;dynamic&rdquo; slides&nbsp;&mdash;
images that develop their content in a more elaborate fashion than by
merely replacing one foil with the next in the way that was the norm
when <i class="class">slides</i>, <i class="class">foils</i> and <i class="class">seminar</i> were designed.

<p>
The <i class="class">prosper</i> class builds on <i class="class">seminar</i> to provide dynamic
effects and the like; it retains the ability to provide PDF for
a projected presentation, or to print foils for a foil-based
presentation.  The add-on package <i class="package">ppr-prv</i> adds &ldquo;preview&rdquo;
facilities (that which is commonly called &ldquo;hand-out printing&rdquo;).  The
<i class="package">HA-prosper</i> package, which you load with <i class="class">prosper</i>,
mends a few bugs, and adds several facilities and slide design styles.
The (more recent) <i class="class">powerdot</i> class is designed as a
replacement for <i class="class">prosper</i> and <i class="package">HA-prosper</i>, co-authored
by the author of <i class="package">HA-prosper</i>.

<p>
<i class="class">Beamer</i> is a relatively easy-to-learn, yet powerful, class that
(as its name implies) was designed for use with projection displays.
It needs the <i class="package">pgf</i> package (for graphics support), which in
turn requires <i class="package">xcolor</i>; while this adds to the tedium of
installing <i class="class">beamer</i> &ldquo;from scratch&rdquo;, both are good additions to
a modern LaTeX installation.  <i class="class">Beamer</i> has reasonable
facilities for producing printed copies of slides.

<p>
<i class="class">Talk</i> is another highly functional, yet easy-to-learn class
which claims to differ from the systems mentioned above, such as
<i class="class">beamer</i>, in that it doesn&rsquo;t impose a slide style on you.  You
get to specify a bunch of slide styles, and you can switch from one to
the other between slides, as you need.  The class itself provides
just the one style, in the package <i class="package">greybars</i>: the author&rsquo;s
suggestion that users should contribute their own has been
enthusiastically accepted&nbsp;&mdash; see (for example) the 
<a href="http://deic.uab.es/~iblanes/beamer_gallery/">Beamer Gallery</a>.

<p>
<i class="package">Lecturer</i> is a <em>generic</em> solution (it works with
Plain TeX, LaTeX and Context&nbsp;mk&nbsp;ii, but not&nbsp;&mdash; yet&nbsp;&mdash; with
Context&nbsp;mk iv).  By separating the functionality needed for a
presentation (using TeX for typesetting, and PDF functions
for layering and dynamic effects) a clear structure emerges.  While it
doesn&rsquo;t have the range of &ldquo;themes&rdquo; (presentation styles) of
<i class="class">beamer</i> it seems a useful alternative candidate.

<p>
<i class="package">Present</i> is designed for use with Plain TeX only; its
design is simple, to the extent that its author hopes that users will
themselves be able to tune its macros.

<p>
<i class="progname">Ppower4</i> (commonly known as <i class="progname">pp4</i>) is a
<i class="progname">Java</i>-based support program that will postprocess
PDF, to &lsquo;animate&rsquo; the file at places you&rsquo;ve marked with
commands from one of the <i class="progname">pp4</i> packages.  The commands don&rsquo;t
work on PDF that has come from <i class="progname">dvips</i> output; they
work with PDF generated by PDFLaTeX, LaTeX, or
<i class="progname">dvipdfm</i> running on LaTeX output.

<p>
<i class="package">Pdfscreen</i> and <i class="package">texpower</i> are add-on packages that
permit dynamic effects in documents formatted in &ldquo;more modest&rdquo;
classes; <i class="package">pdfscreen</i> will even allow you to plug
&ldquo;presentation effects&rdquo; into an <i class="class">article</i>-class document.

<p>



<p>
A more detailed examination of the alternatives (including examples
of code using many of them) may be found at Michael Wiedmann&rsquo;s fine
<a href="http://www.miwie.org/presentations/presentations.html">http://www.miwie.org/presentations/presentations.html</a>

<p>
CONTeXT users will find that much (if not all) of what they need is
already in CONTeXT itself; there&rsquo;s a useful summary of what&rsquo;s
available, with examples, in
<a href="http://wiki.contextgarden.net/Presentation_Styles">http://wiki.contextgarden.net/Presentation_Styles</a>

<dl>
<dt class="ctanref">beamer.cls</dt><dd>Download all of <a class="ctan" href="https://www.ctan.org/pkg/beamer">beamer</a>
<dt class="ctanref">foils.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/foiltex">foiltex</a>
<dt class="ctanref">greybars.sty</dt><dd>distributed with <a class="ctan" href="https://www.ctan.org/pkg/talk">talk</a>
<dt class="ctanref">HA-prosper.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ha-prosper">ha-prosper</a>

<dt class="ctanref">lecturer.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lecturer">lecturer</a>
<dt class="ctanref">seminar.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/seminar">seminar</a>
<dt class="ctanref">pdfscreen.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdfscreen">pdfscreen</a>
<dt class="ctanref">pgf.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
<dt class="ctanref">powerdot.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/powerdot">powerdot</a>
<dt class="ctanref">pp4</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ppower4">ppower4</a>
<dt class="ctanref">ppr-prv.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ppr-prv">ppr-prv</a>
<dt class="ctanref">present.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/present">present</a>
<dt class="ctanref">prosper.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/prosper">prosper</a>
<dt class="ctanref">talk.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/talk">talk</a>
<dt class="ctanref">texpower</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texpower">texpower</a>
<dt class="ctanref">xcolor.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xcolor">xcolor</a>
</dl>

<p>
[[[Question]]][Q-poster][[[LBRACE]]]Creating posters with LaTeX[[[RBRACE]]]

<p>
There is no complete &ldquo;canned solution&rdquo; to creating a poster (as, for
example, classes like <i class="class">seminar</i>, <i class="class">powerdot</i> and
<i class="class">beamer</i> serve for creating presentations in a variety of
styles).

<p>
The nearest approach to the complete solution is the <i class="class">sciposter</i>
class, which provides the means to produce really rather good posters
according to the author&rsquo;s required style.  A complete worked example
is provided with the distribution

<p>
Otherwise, there is a range of tools, most of which are based on the
<i class="class">a0poster</i> class, which sets up an appropriately-sized piece of
paper, sets font sizes appropriately, and leaves you to your own
devices.

<p>
Having used <i class="class">a0poster</i>, you can of course slog it out, and write
all your poster as an unadorned LaTeX document (presumably in
multiple columns, using the <i class="package">multicol</i> package), but it&rsquo;s not really
necessary: the (straightforward) <i class="package">textpos</i> package provides a
simple way of positioning chunks of text, or tables or figures, on the
poster page.

<p>
More sophisticated is the <i class="package">flowfram</i> package, whose basic aim
in life is flowing text from one box on the page to the next.  One of
the package&rsquo;s design aims seems to have been the production of
posters, and a worked example is provided.  The author of
<i class="package">flowfram</i> has an experimental tool called
<a href="http://www.dickimaw-books.com/software.html#jpgfdraw">JpgfDraw</a>, which
allows you to construct the outline of frames for use with
<i class="package">flowfram</i>.

<p>
The <i class="package">beamerposter</i> package is added to a 
<a href="FAQ-slidecls.html"><i class="class">beamer</i> document</a> to enable the user to work
as if in a <i class="class">a0poster</i> class.  Thus <i class="class">beamer</i>&rsquo;s neat
provisions for layout may be used when creating the poster.
Documentation of <i class="package">beamerposter</i> is sparse, but an example file
allows the user to get a grip on what&rsquo;s available.

<p>
Despite the relative shortage of tools, there are a fair few web pages
that explain the process (mostly in terms of the <i class="class">a0poster</i>
route):
<ul>
<li> from Norman Gray, 
  <a href="http://nxg.me.uk/docs/posters/">Producing posters using LaTeX</a>;
<li> from Nicola Talbot, 
  <a href="http://www.dickimaw-books.com/latex/posters/">Creating technical posters with LaTeX</a>
<li> From Rob Clark 
  <a href="http://homepages.inf.ed.ac.uk/robert/posters/advanced.html">Advanced LaTeX Posters</a> 
  (which has links to code samples);
<li> from Brian Wolven, 
  <a href="http://fuse.pha.jhu.edu/~wolven/posters.html">LaTeX Poster Macros, Examples, and Accessories</a> 
  (this page also provides macros and other support suggestions); and
<li> from &ldquo;<em>pjh</em>&rdquo; 
  <a href="http://www.phys.ufl.edu/~pjh/posters/poster_howto_UF.html">Making and printing a poster with LaTeX</a>, 
  which covers the specific issue of dealing with University of
  Florida styled poster (offering supporting material as necessary),
  but has hints which are generally useful.
</ul>
<dl>
<dt class="ctanref">a0poster.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/a0poster">a0poster</a>
<dt class="ctanref">beamer.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beamer">beamer</a>
<dt class="ctanref">beamerposter.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beamerposter">beamerposter</a>
<dt class="ctanref">flowfram.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/flowfram">flowfram</a>
<dt class="ctanref">multicol.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/multicol">2etools</a>
<dt class="ctanref">sciposter.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sciposter">sciposter</a>
<dt class="ctanref">textpos.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/textpos">textpos</a>
</dl>

<p>
[[[Question]]][Q-thesis][[[LBRACE]]]Formatting a thesis in LaTeX[[[RBRACE]]]

<p>
Thesis styles are usually very specific to your University, so it&rsquo;s
usually not profitable to ask around for a package outside your own
University.  Since many Universities (in their eccentric way) still
require double-spaced thesis text, you may also need separately to set
up <a href="FAQ-linespace.html">double spacing</a>.

<p>
If you want to write a new thesis class of your own, a good place to
start is the University of California style, but remember that it&rsquo;s
often difficult to produce a thesis that both looks good and conforms
with the style that your Univeristy demands.
<dl>
<dt class="ctanref">UC thesis style</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ucthesis">ucthesis</a>
</dl>

<p>
[[[Question]]][Q-journalpaper][[[LBRACE]]]Setting papers for journals[[[RBRACE]]]

<p>
Publishers of journals have a wide range of requirements for the
presentation of papers, and while many publishers do accept electronic
submissions in (La)TeX, they don&rsquo;t often submit recommended macros to
public archives.

<p>
Nevertheless, there are considerable numbers of macros of one sort or
another available on CTAN; searching for your journal name in
the CTAN catalogue&nbsp;&mdash; see 
<a href="FAQ-findfiles.html">searching CTAN</a>)&nbsp;&mdash;
may well turn up what you&rsquo;re seeking.

<p>
Failing that, you may be well advised to contact the prospective
publisher of your paper; many publishers have macros on their own web
sites, or otherwise available only upon application.

<p>
Check that the publisher is offering you macros suitable to an
environment you can use: a few still have no macros for current
LaTeX, for example, claiming that LaTeX 2.09 is good enough&hellip;

<p>
Some publishers rekey anything sent them anyway, so that it doesn&rsquo;t
really matter what macros you use.  Others merely encourage you to use
as few extensions of a standard package as possible, so that they will
find it easy to transform your paper to their own internal form.

<p>
[[[Question]]][Q-multidoc][[[LBRACE]]]A &lsquo;report&rsquo; from lots of &lsquo;article&rsquo;s[[[RBRACE]]]

<p>
This is a requirement, for example, if one is preparing the
proceedings of a conference whose papers were submitted in LaTeX.

<p>
The nearest things to canned solutions are Peter Wilson&rsquo;s
<i class="class">combine</i> and Federico Garcia&rsquo;s <i class="class">subfiles</i> classes, but
many approaches have been proposed.  Each of of the offerings has its
own advantages; in particular, several distinctly light-weight
solutions (for example, <i class="package">includex</i> and <i class="package">docmute</i>) are
available, well-suited to less formal documents.

<p>
<i class="class">Combine</i> defines the means to &lsquo;<code>&#x5c;import</code>&rsquo; entire documents,
and provides means of specifying significant features of the layout of
the document, as well as a global table of contents, and so on.  The
complete set of facilities is pretty complex.  An auxiliary package,
<i class="package">combinet</i>, allows use of the <code>&#x5c;title</code>s and <code>&#x5c;author</code>s
(etc.) of the <code>&#x5c;import</code>ed documents to appear in the global table
of contents.  The basic structure of a combined document would be:
<blockquote>
<pre>
\documentclass[...]{combine}
...
\begin{document}
...
<introductory materiel>
...
\begin{papers}
% title and author of first article,
% to go the the main ToC
\coltoctitle{...}
\coltocauthor{...}
\label{art1}
\import{art1}
...
\end{papers}
...
<acknowledgements, etc.>
...
\end{document}
</pre>
</blockquote>

<p>
The <i class="class">subfiles</i> class is used in the component files of a multi-file
project, and the corresponding <i class="package">subfiles</i> package is used in the
master file; so the structure of the master file looks like:
<blockquote>
<pre>
\documentclass{<whatever>}
...
\usepackage{subfiles}
...
\begin{document}
...
\subfile{subfile_name}
...
\end{document}
</pre>
</blockquote>
while a subfile has the structure:
<blockquote>
<pre>
\documentclass[mainfile_name]{subfiles}
\begin{document}
...
\end{document}
</pre>
</blockquote>
Arrangements may be made so that the component files will
be typeset using different page format, etc., parameters than those
used when they are typeset as a part of the main file.

<p>
A more &lsquo;raw&rsquo; toolkit is offered by Matt Swift&rsquo;s <i class="package">includex</i> and
<i class="package">newclude</i> packages, both part of the <i class="package">frankenstein</i>
bundle.  Note that Matt believes <i class="package">includex</i> is obsolete
(though it continues to work for this author); furthermore, its
replacement, <i class="package">newclude</i> remains &ldquo;in development&rdquo;, as it has
been since 1999.

<p>
Both <i class="package">includex</i> and <i class="package">newclude</i> enable you to
&lsquo;<code>&#x5c;includedoc</code>&rsquo; complete articles (in the way that you
&lsquo;<code>&#x5c;include</code>&rsquo; chapter files in an ordinary report).  The preamble
(everything up to <code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>), and everything after
<code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>, is ignored by both packages.  Thus the
packages don&rsquo;t &ldquo;do the whole job&rdquo; for you, though: you need to
analyse the package use of the individual papers, and ensure that a
consistent set is loaded in the preamble of the main report.  (Both
packages require <i class="package">moredefs</i>, which is also part of the
bundle.)

<p>
A neat (and simple) toolkit is offered by the
<i class="package">docmute</i> package; once the package is loaded, anything
between <code>&#x5c;documentclass</code><code>[...]</code></code><code>&#x7b;...&#x7d;</code> and
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code> in an <code>&#x5c;input</code>&rsquo;ed or <code>&#x5c;include</code>&rsquo;d
document is ignored, and then the input is processed up to
<code>&#x5c;end</code><code>&#x7b;document&#x7d;</code> in the input file.  The package does nothing
about <code>&#x5c;usepackage</code> (or anything else) in the preamble of the
included document; it&rsquo;s up to the user to ensure that any packages
needed are loaded, and any other necessary configuration is done, in
the parent document.

<p>
The <i class="package">standalone</i> package develops on the ideas of
<i class="package">docmute</i>; it was designed to meet the needs of users who are
developing images from one of the more extreme new graphics packages
(notably <i class="package">pgf/tikz</i>) where the compile time of the graphics is
such that separate compilation is very desirable.
<i class="package">Standalone</i> provides a means of developing the graphics in a
convenient way, detached from the development of the document as a
whole; its value for use in multiple documents is clear.

<p>
The user includes the <i class="package">standalone</i> package in the main
document, and each subfile uses the <i class="class">standalone</i> class.
(<i class="class">Standalone</i> uses <i class="class">article</i> for the &ldquo;real&rdquo; work in
stand-alone mode, but it may be asked to use another).

<p>
The real difference from the <i class="package">docmute</i> package is
flexibility.  In particular, you can ask that the preambles of the
included documents be gathered up, so that you can construct a good
preamble for the master document.

<p>
A final &ldquo;compile-together&rdquo; approach comes from the <i class="package">subdocs</i>
package.  The driver file contains a <code>&#x5c;subdocuments</code> command:
<blockquote>
<code>&#x5c;subdocuments</code><code>[options]</code></code><code>&#x7b;file1, file2, ...&#x7d;</code>
</blockquote>
(the optional arguments provide layout options, such as control over
whether <code>&#x5c;clearpage</code> or <code>&#x5c;cleardoublepage</code> are used between the
files).  Each of the sub-files will execute
<blockquote>
  <code>&#x5c;usepackage</code><code>[master]</code></code><code>&#x7b;subdocs&#x7d;</code>
</blockquote>
to declare the name, <tt><em>master</em></tt>, of the calling file;
each of the subfiles reads all the <code class="extension">aux</code> files, so that
tables of contents may be produced.

<p>
A completely different approach is to use the <i class="package">pdfpages</i>
package, and to include articles submitted in PDF format into a
a PDF document produced by PDFLaTeX.  The package
defines an <code>&#x5c;includepdf</code> command, which takes arguments similar to
those of the <code>&#x5c;includegraphics</code> command.  With keywords in the
optional argument of the command, you can specify which pages you want
to be included from the file named, and various details of the layout
of the included pages.
<dl>
<dt class="ctanref">combine.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/combine">combine</a>
<dt class="ctanref">combinet.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/combine">combine</a>
<dt class="ctanref">docmute.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/docmute">docmute</a>
<dt class="ctanref">includex.sty</dt><dd>Distributed in the &ldquo;unsupported&rdquo; part of
  <a class="ctan" href="https://www.ctan.org/pkg/includex">frankenstein</a>
<dt class="ctanref">moredefs.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/moredefs">frankenstein</a>
<dt class="ctanref">newclude.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/newclude">frankenstein</a>
<dt class="ctanref">pdfpages.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdfpages">pdfpages</a>
<dt class="ctanref">standalone.cls, standalone.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/standalone">standalone</a>
<dt class="ctanref">subdocs.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/subdocs">bezos</a>
<dt class="ctanref">subfiles.cls, etc.</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/subfiles">subfiles</a>
</dl>

<p>
[[[Question]]][Q-cv][[[LBRACE]]]<em>Curriculum Vitae</em> (R&eacute;sum&eacute;)[[[RBRACE]]]

<p>
Andrej Brodnik&rsquo;s class, <i class="class">vita</i>, offers a framework for producing
a <em>curriculum vitae</em>.  The class may be customised both for
subject (example class option files support both computer scientists
and singers), and for language (both the options provided are
available for both English and Slovene).  Extensions may be written by
creating new class option files, or by using macros defined in the
class to define new entry types, etc.

<p>
Didier Verna&rsquo;s class, <i class="class">curve</i>, is based on a model in which
the CV is made of a set of <em>rubrics</em> (each one dealing
with a major item that you want to discuss, such as &lsquo;education&rsquo;, &lsquo;work
experience&rsquo;, etc).  The class&rsquo;s documentation is supported by a couple
of example files, and an emacs mode is provided.

<p>
Xavier Danaux offers a class <i class="class">moderncv</i> which supports
typesetting modern <em>curricula vitarum</em>, both in a classic and in a
casual style. It is fairly customizable, allowing you to define your
own style by changing the colours, the fonts, etc.

<p>
The European Commission has recommended a format for 
<em>curricula vitarum</em> within Europe, and Nicola Vitacolonna has
developed a class <i class="class">europecv</i> to produce it.  While (by his own
admission) the class doesn&rsquo;t solve all problems, it seems well-thought
out and supports all current official EU languages (together with a
few non-official languages, such as Catalan, Galician and Serbian).

<p>
The alternative to using a separate class is to impose a package on
one of the standard classes.  An example,
Axel Reichert&rsquo;s <i class="package">currvita</i> package, has been recommended to the
FAQ team.  Its output certainly looks good.

<p>
There is also a LaTeX 2.09 package <i class="package">resume</i>, which comes with
little but advice <em>against</em> trying to use it.
<dl>
<dt class="ctanref">currvita.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/currvita">currvita</a>
<dt class="ctanref">curve.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/curve">curve</a>
<dt class="ctanref">europecv.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/europecv">europecv</a>
<dt class="ctanref">moderncv.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/moderncv">moderncv</a>
<dt class="ctanref">resume.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/resume">resume</a>
<dt class="ctanref">vita.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vita">vita</a>
</dl>

<p>
[[[Question]]][Q-letterclass][[[LBRACE]]]Letters and the like[[[RBRACE]]]

<p>
LaTeX itself provides a <i class="class">letter</i> document class, which is
widely disliked; the present author long since gave up trying with
it.  If you nevertheless want to try it, but are irritated by its way
of vertically-shifting a single-page letter, try the following hack:
<blockquote>
<pre>
\makeatletter
\let\@texttop\relax
\makeatother
</pre>
</blockquote>
in the preamble of your file.

<p>
Doing-it-yourself is a common strategy; Knuth (for use with
Plain TeX, in the TeXbook), and Kopka and Daly (in their Guide to
LaTeX) offer worked examples.  (The latest version of Knuth&rsquo;s
macros appear in his &ldquo;local library&rdquo; dump on the archive, which is
updated in parallel with new versions of TeX&nbsp;&mdash; so not very often&hellip;)

<p>
Nevertheless, there <em>are</em> contributed alternatives&nbsp;&mdash; in fact
there are an awfully large number of them: the following list, of
necessity, makes but a small selection.

<p>
The largest, most comprehensive, class is <i class="class">newlfm</i>; the <tt>lfm</tt>
part of the name implies that the class can create letters, faxes and
memoranda.  The documentation is voluminous, and the package seems
very flexible.

<p>
Other classes recommended for inclusion in this FAQ are
<i class="class">akletter</i> and <i class="class">isodoc</i>.

<p>
The <i class="class">dinbrief</i> class, while recommended, is only documented in
German.

<p>
There are letter classes in each of the excellent
<i class="class">KOMA-script</i> (<i class="class">scrlttr2</i>: documentation is available in
English) and <i class="package">ntgclass</i> (<i class="class">brief</i>: documentation in Dutch
only) bundles.  While these are probably good (since the bundles
themselves inspire trust) they&rsquo;ve not been specifically recommended by
any users.
<dl>
<dt class="ctanref">akletter.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/akletter">akletter</a>
<dt class="ctanref">brief.cls</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/ntgclass">ntgclass</a>
<dt class="ctanref">dinbrief.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dinbrief">dinbrief</a>
<dt class="ctanref">isodoc.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/isodoc">isodoc</a>
<dt class="ctanref">Knuth&rsquo;s letter.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/knuth-letter">knuth-letter</a>
<dt class="ctanref">newlfm.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newlfm">newlfm</a>
<dt class="ctanref">scrlttr2.cls</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p>
[[[Question]]][Q-extsizes][[[LBRACE]]]Other &ldquo;document font&rdquo; sizes?[[[RBRACE]]]

<p>
The LaTeX standard classes have a concept of a (base) &ldquo;document
font&rdquo; size; this size is the basis on which other font sizes (those
from <code>&#x5c;tiny</code> to <code>&#x5c;Huge</code>) are determined.  The classes are designed
on the assumption that they won&rsquo;t be used with sizes other than the
set that LaTeX offers by default (10&ndash;12pt), but people regularly
find they need other sizes.  The proper response to such a requirement
is to produce a new design for the document, but many people don&rsquo;t
fancy doing that.

<p>
A simple solution is to use the <i class="package">extsizes</i> bundle.  This
bundle offers &ldquo;extended&rdquo; versions of the article, report, book and
letter classes, at sizes of 8, 9, 14, 17 and 20pt as well as the
standard 10&ndash;12pt.  Since little has been done to these classes other
than to adjust font sizes and things directly related to them, they
may not be optimal&nbsp;&mdash; but they are at least practical.

<p>
More satisfactory are the <em>KOMA-script</em> classes, which are
designed to work properly with the class option files that come with
<i class="package">extsizes</i>, and the <i class="class">memoir</i> class that has its own
options for document font sizes 9pt&ndash;12pt, 14pt, 17pt, 20pt, 25pt,
30pt, 36pt, 48pt and 60pt.  The classes also offer size setup for any
old font size, and the <i class="package">scrextend</i> package can extend this
facility for use with any class:
<blockquote>
<pre>
\usepackage[fontsize=12.3]{scrextend}
</pre>
</blockquote>
will indeed set up the main document font to have size <tt>12.3pt</tt>
with an appropriate default baselineskip.  The package &ldquo;knows&rdquo; about
<em>KOMA-script</em>&rsquo;s default sizes, and for eccentric sizes
such as the example, it will produce a warning:
<blockquote>
<pre>
Using fallback calculation to setup font sizes
</pre>
</blockquote>
(users should avoid becoming excited about that&hellip;).  The package
suffers from the same problem as does <i class="package">extsizes</i>: the
resulting font sizes are the <em>only</em> feature of the document that
is changed, and the appearance of the resulting document will probably
not be as good as if the document class had been designed for use at
the size chosen.

<p>
Many classes, designed to produce typeset results other than on
&ldquo;ordinary&rdquo; paper, will have their own font size mechanisms and
ranges of sizes.  This is true, for example, of 
<a href="FAQ-poster.html">poster classes</a> (such as <i class="class">a0poster</i>), and of
<a href="FAQ-slidecls.html">presentation and lecturing classes</a> (such as
<i class="class">beamer</i>.
<dl>
<dt class="ctanref">a0poster.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/a0poster">a0poster</a>
<dt class="ctanref">beamer.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/beamer">beamer</a>
<dt class="ctanref">extsizes bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/extsizes">extsizes</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">scrextend.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p class="lastedit">This answer last edited: 2012-11-01</p>

<p>

<p>

<p>
[[[Question]]][Q-titlsty][[[LBRACE]]]The style of document titles[[[RBRACE]]]

<p>
The <i class="package">titling</i> package provides a number of facilities that
permit manipulation of the appearance of a <code>&#x5c;maketitle</code> command, the
<code>&#x5c;thanks</code> commands within it, and so on.  The package also defines a
<code class="environment">titlingpage</code> environment, that offers something in between the
standard classes&rsquo; <code class="pkgoption">titlepage</code> option and the <code class="environment">titlepage</code>
environment, and is itself somewhat configurable.

<p>
The memoir class includes all the functionality of the
<i class="package">titling</i> package, while the <i class="class">KOMA-script</i> classes have
their own range of different titling styles.

<p>
Finally, the indefatigable Vincent Zoonekynd supplies examples of how
to program alternative 
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_title/0.html">title styles</a>.
The web page is not useful to users unless they are willing to do
their own LaTeX programming.
<dl>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">titling.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/titling">titling</a>
</dl>

<p>
[[[Question]]][Q-secthead][[[LBRACE]]]The style of section headings[[[RBRACE]]]

<p>
Suppose that the editor of your favourite journal has specified that section
headings must be centred, in small capitals, and subsection headings ragged 
right in italic, but that you don&rsquo;t want to get involved in the sort of
programming described in section 2.2 of <em>The LaTeX Companion</em>




 
  (see <a href="FAQ-latex-books.html">LaTeX books</a>; the
  <a href="FAQ-atsigns.html">programming</a> itself is discussed elsewhere in this
  FAQ).

The following hack will 
probably satisfy your editor. Define yourself new commands
<blockquote>

<pre>
\newcommand{\ssection}[1]{%
  \section[#1]{\centering\normalfont\scshape #1}}
\newcommand{\ssubsection}[1]{%
  \subsection[#1]{\raggedright\normalfont\itshape #1}}
</pre>


<pre>
\newcommand{\ssection}[1]{%
  \section[#1]{\centering
               \normalfont\scshape #1}}
\newcommand{\ssubsection}[1]{%
  \subsection[#1]{\raggedright
                  \normalfont\itshape #1}}
</pre>

</blockquote>
and then use <code>&#x5c;ssection</code> and <code>&#x5c;ssubsection</code> in place of
<code>&#x5c;section</code> and <code>&#x5c;subsection</code>. This isn&rsquo;t perfect: section numbers
remain in bold, and starred forms need a separate redefinition.

<p>
The <i class="package">titlesec</i> package offers a structured approach to the
problem, based on redefinition of the sectioning and chapter commands
themselves.  This approach allows it to offer radical adjustment: its
options provide (in effect) a toolbox for designing your own
sectioning commands&rsquo; output.

<p>
The <i class="package">sectsty</i> package provides a more simply structured set of
tools; while it is less powerful than is <i class="package">titlesec</i>, it is
perhaps preferable for minor adjustments, since you can use it after
having read a smaller proportion of the manual.

<p>
The <i class="package">fncychap</i> package provides a nice collection of customised
chapter heading designs.  The <i class="package">anonchap</i> package provides a
simple means of typesetting chapter headings &ldquo;like section headings&rdquo;
(i.e., without the &ldquo;Chapter&rdquo; part of the heading); the
<i class="package">tocbibind</i> package provides the same commands, in pursuit of
another end.

<p>
The <i class="class">memoir</i> class includes facilities that match
<i class="package">sectsty</i> and <i class="package">titlesec</i>, as well as a bundle of
chapter heading styles (including an <i class="package">anonchap</i>-equivalent).
The <i class="class">KOMA-script</i> classes also have sets of tools that provide
equivalent functionality, notably formatting specifications <code>&#x5c;partformat</code>,
<code>&#x5c;chapterformat</code>, <code>&#x5c;sectionformat</code>, &hellip;, as well as several
useful overall formatting specifications defined in class options.

<p>
Finally, the indefatigable Vincent Zoonekynd supplies examples of how
to program alternative 
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_chapter/0.html">chapter heading styles</a>
and
<a href="http://zoonek.free.fr/LaTeX/LaTeX_samples_section/0.html">section heading styles</a>.
The web pages provide programming examples, and expect users to adapt
them to their own LaTeX use.
<dl>
<dt class="ctanref">anonchap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/anonchap">anonchap</a>
<dt class="ctanref">fncychap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fncychap">fncychap</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">sectsty.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/sectsty">sectsty</a>
<dt class="ctanref">titlesec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/titlesec">titlesec</a>
<dt class="ctanref">tocbibind.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocbibind">tocbibind</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-appendix][[[LBRACE]]]Appendixes[[[RBRACE]]]

<p>
LaTeX provides an exceedingly simple mechanism for appendixes: the
command <code>&#x5c;appendix</code> switches the document from generating sections
(in <i class="class">article</i> class) or chapters (in <i class="class">report</i> or
<i class="class">book</i> classes) to producing appendixes.  Section or chapter
numbering is restarted and the representation of the counter switches
to alphabetic.  So:
<blockquote>
<pre>
\section{My inspiration}
...

\section{Developing the inspiration}
...

\appendix
\section{How I became inspired}
...
</pre>
</blockquote>
would be typeset (in an <i class="class">article</i> document) something like:
<blockquote>
<b>1&nbsp;&nbsp;My inspiration</b>

<p>
&hellip;

<p>
<b>2&nbsp;&nbsp;Developing the inspiration</b>

<p>
&hellip;

<p>
<b>A&nbsp;&nbsp;How I became inspired</b>

<p>
&hellip;
</blockquote>
which is quite enough for many ordinary purposes.  Note that, once
you&rsquo;ve switched to typesetting appendixes, LaTeX provides you with
no way back&nbsp;&mdash; once you&rsquo;ve had an appendix, you can no longer have an
&ldquo;ordinary&rdquo; <code>&#x5c;section</code> or <code>&#x5c;chapter</code>.

<p>
The <i class="package">appendix</i> provides several ways of elaborating on this
simple setup.  Straightforward use of the package allows you to have a
separate heading, both in the body of the document and the table of
contents; this would be achieved by
<blockquote>
<pre>
\usepackage{appendix}
...
\appendix
\appendixpage
\addappheadtotoc
</pre>
</blockquote>
The <code>&#x5c;appendixpage</code> command adds a separate title &ldquo;Appendices&rdquo;
above the first appendix, and <code>&#x5c;addappheadtotoc</code> adds a similar
title to the table of contents.  These simple modifications cover many
people&rsquo;s needs about appendixes.

<p>
The package also provides an <code class="environment">appendices</code> environment,
which provides for fancier use.  The environment is best controlled by
package options; the above example would be achieved by
<blockquote>
<pre>
\usepackage[toc,page]{appendix}
...
\begin{appendices}
...
\end{appendices}
</pre>
</blockquote>
The great thing that the <code class="environment">appendices</code> environment gives
you, is that once the environment ends, you can carry on with sections
or chapters as before&nbsp;&mdash; numbering isn&rsquo;t affected by the intervening
appendixes.

<p>
The package provides another alternative way of setting appendixes, as
inferior divisions in the document.  The <code class="environment">subappendices</code>
environment allows you to put separate appendixes for a particular
section, coded as <code>&#x5c;subsection</code>s, or for a particular chapter, coded
as <code>&#x5c;section</code>s.  So one might write:
<blockquote>
<pre>
\usepackage{appendix}
...
\section{My inspiration}
...
\begin{subappendices}
\subsection{How I became inspired}
...
\end{subappendices}

\section{Developing the inspiration}
...
</pre>
</blockquote>
Which will produce output something like:
<blockquote>
<b>1&nbsp;&nbsp;My inspiration</b>

<p>
&hellip;

<p>
<b>1.A&nbsp;&nbsp;How I became inspired</b>

<p>
&hellip;

<p>
<b>2&nbsp;&nbsp;Developing the inspiration</b>

<p>
&hellip;
</blockquote>

<p>
There are many other merry things one may do with the package; the
user is referred to the package documentation for further details.

<p>
The <i class="class">memoir</i> class includes the facilities of the
<i class="package">appendix</i> package.  The <i class="class">KOMA-script</i> classes offer a
<code>&#x5c;appendixprefix</code> command for manipulating the appearance of appendixes.
<dl>
<dt class="ctanref">appendix.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/appendix">appendix</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-secindent][[[LBRACE]]]Indent after section headings[[[RBRACE]]]

<p>
LaTeX implements a style that doesn&rsquo;t indent the first paragraph
after a section heading.  There are coherent reasons for this, but not
everyone likes it.
The <i class="package">indentfirst</i> package
suppresses the mechanism, so that the first paragraph is
indented.
<dl>
<dt class="ctanref">indentfirst.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/indentfirst">2etools</a>
</dl>

<p>
[[[Question]]][Q-subsubsub][[[LBRACE]]]How to create a <code>&#x5c;subsubsubsection</code>[[[RBRACE]]]

<p>
LaTeX&rsquo;s set of &ldquo;sections&rdquo; stops at the level of
<code>&#x5c;subsubsection</code>.  This reflects a design decision by Lamport&nbsp;&mdash;
for, after all, who can reasonably want a section with such huge
strings of numbers in front of it?

<p>
In fact, LaTeX standard classes <em>do</em> define &ldquo;sectioning&rdquo;
levels lower than <code>&#x5c;subsubsection</code>, but they don&rsquo;t format them like
sections (they&rsquo;re not numbered, and the text is run-in after the
heading).  These deeply inferior section commands are <code>&#x5c;paragraph</code>
and <code>&#x5c;subparagraph</code>; you can (if you <em>must</em>) arrange that these
two commands produce numbered headings, so that you can use them as
<code>&#x5c;subsubsubsection</code>s and lower.

<p>
The <i class="package">titlesec</i> package provides a sensible set of macros for
you to adjust the definitions of the sectioning macros, and it may be
used to transform a <code>&#x5c;paragraph</code>&rsquo;s typesetting so that it looks
like that of a <code>&#x5c;section</code>.

<p>
If you want to program the change yourself, you&rsquo;ll find that the
commands (<code>&#x5c;section</code> all the way down to <code>&#x5c;subparagraph</code>) are
defined in terms of the internal <code>&#x5c;@startsection</code> command, which
takes 6&nbsp;arguments.  Before attempting this sort of work, you are well
advised to read the LaTeX sources (<i class="filename">ltsect.dtx</i> in the
LaTeX distribution) and the source of the standard packages
(<i class="filename">classes.dtx</i>), or to make use of the 
<a href="FAQ-latex-books.html">LaTeX Companion</a>, which
discusses the use of <code>&#x5c;@startsection</code> for this sort of thing.

<p>
You will note that Lamport didn&rsquo;t go on adding &ldquo;<tt>sub</tt>&rdquo; to the
names of sectioning commands, when creating commands for the lowest
levels of a document.  This would seem sensible to any but the most
rigorous stickler for symmetry&nbsp;&mdash; it would surely challenge pretty
much anyone&rsquo;s reading of the source of a document, if there was a need
to distinguish <code>&#x5c;subsubsubsection</code> and <code>&#x5c;subsubsubsubsection</code>
<dl>
<dt class="ctanref">LaTeX source</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a>
<dt class="ctanref">titlesec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/titlesec">titlesec</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-14</p>

<p>
[[[Question]]][Q-captsty][[[LBRACE]]]The style of captions[[[RBRACE]]]

<p>
Changes to the style of captions may be made by redefining the commands
that produce the caption.  So, for example, <code>&#x5c;fnum@figure</code> (which
produces the float number for figure floats) may be redefined, in a
package of your own, or between
<a href="FAQ-atsigns.html"><code>&#x5c;makeatletter</code>&ndash;<code>&#x5c;makeatother</code></a>:
<blockquote>

<pre>
\renewcommand{\fnum@figure}{\textbf{Fig.~\thefigure}}
</pre>


<pre>
\renewcommand{\fnum@figure}%
  {\textbf{Fig.~\thefigure}}
</pre>

</blockquote>
which will cause the number to be typeset in bold face.  (Note that
the original definition used 
<a href="FAQ-fixnam.html"><code>&#x5c;figurename</code></a>.)  More elaborate changes can be
made by patching the <code>&#x5c;caption</code> command, but since there are
packages to do the job, such changes (which can get rather tricky)
aren&rsquo;t recommended for ordinary users.

<p>
The <i class="package">float</i> package provides some control of the appearance of
captions, though it&rsquo;s principally designed for the creation of
non-standard floats.  The <i class="package">caption</i> and <i class="package">ccaption</i>
(note the double &ldquo;<em>c</em>&rdquo;) packages provide a range of different
formatting options.

<p>
<i class="package">ccaption</i> also provides &lsquo;continuation&rsquo; captions and captions
that can be placed outside of float environments.  The (very simple)
<i class="package">capt-of</i> package also allows captions outside a float
environment.  Note that care is needed when doing things that assume
the sequence of floats (as in continuation captions), or potentially
mix non-floating captions with floating ones.

<p>
The <i class="class">memoir</i> class includes the facilities of the
<i class="package">ccaption</i> package; the <i class="class">KOMA-script</i> classes also
provide a wide range of caption-formatting commands.

<p>
The documentation of <i class="package">caption</i> is available by processing a
file <i class="filename">manual.tex</i>, which is created when you unpack
<i class="filename">caption.dtx</i>

<p>
Note that the previously-recommended package <i class="package">caption2</i> has
now been overtaken again by <i class="package">caption</i>; however,
<i class="package">caption2</i> remains available for use in older documents.
<dl>
<dt class="ctanref">caption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/caption">caption</a>
<dt class="ctanref">capt-of.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/capt-of">capt-of</a>
<dt class="ctanref">ccaption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ccaption">ccaption</a>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-fancyhdr][[[LBRACE]]]Alternative head- and footlines in LaTeX[[[RBRACE]]]
<!-- headings header footer headline footline -->

<p>
The standard LaTeX document classes define a small set of &lsquo;page
styles&rsquo; which specify head- and footlines for your document (though
they can be used for other purposes, too).  The standard set is very
limited, but LaTeX is capable of much more.  The internal
LaTeX coding needed to change page styles is not particularly
challenging, but there&rsquo;s no need&nbsp;&mdash; there are packages that provide
useful abstractions that match the way we typically think about these
things.

<p>
The <i class="package">fancyhdr</i> package provides
simple mechanisms for defining pretty much every head- or footline
variation you could want; the directory also contains some
documentation and one or two smaller packages.  <i class="package">Fancyhdr</i> 
also deals with the tedious behaviour of the standard styles with
<a href="FAQ-nopageno.html">initial pages</a>, by enabling you to define
different page styles for initial and for body pages.

<p>
While <i class="package">fancyhdr</i> will work with <i class="class">KOMA-script</i> classes,
an alternative package, <i class="package">scrpage2</i>, eases integration with the
classes.  <i class="package">Scrpage2</i> may also be used as a <i class="package">fancyhdr</i>
replacement, providing similar facilities.  The <i class="class">KOMA-script</i>
classes themselves permit some modest redefinition of head- and
footlines, without the use of the extra package.

<p>
<i class="class">Memoir</i> also contains the functionality of <i class="package">fancyhdr</i>,
and has several predefined styles.

<p>
Documentation of <i class="package">fancyhdr</i> is distributed with the package,
in a separate file; documentation of <i class="package">scrpage2</i> is integrated
with the <i class="filename">scrgui*</i> documentation files that are distributed with
the <i class="class">KOMA-script</i> classes.
<dl>
<dt class="ctanref">fancyhdr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyhdr">fancyhdr</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-widefigs][[[LBRACE]]]Wide figures in two-column documents[[[RBRACE]]]

<p>
Floating figures and tables ordinarily come out the same width as the
page, but in two-column documents they&rsquo;re restricted to the width of
the column.  This is sometimes not good enough; so there are alternative
versions of the float environments&nbsp;&mdash; in two-column documents,
<tt>figure*</tt> provides a floating page-wide figure (and <tt>table*</tt> a
page-wide table) which will do the necessary.

<p>
The &ldquo;<tt>*</tt>&rdquo;ed float environments can only appear at the top of a page,
or on a whole page&nbsp;&mdash; <tt>h</tt> or <tt>b</tt> float placement directives are
simply ignored.

<p>
Unfortunately, page-wide equations can only be accommodated inside
float environments.  You should include them in <tt>figure</tt> environments,
or use the <i class="package">float</i> or <i class="package">ccaption</i>package to define a
new float type. 
<dl>
<dt class="ctanref">ccaption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ccaption">ccaption</a>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
</dl>

<p>
[[[Question]]][Q-onecolabs][[[LBRACE]]]1-column abstract in 2-column document[[[RBRACE]]]

<p>
One often requires that the abstract of a paper should appear across
the entire page, even in a two-column paper.  The required trick is:
<blockquote>
<pre>
\documentclass[twocolumn]{article}
...
\begin{document}
... % \author, etc
\twocolumn[
  \begin{@twocolumnfalse}
    \maketitle
    \begin{abstract}
      ...
    \end{abstract}
  \end{@twocolumnfalse}
  ]
</pre>
</blockquote>
Unfortunately, with the above <code>&#x5c;thanks</code> won&rsquo;t work in the
<code>&#x5c;author</code> list.  If you need such specially-numbered footnotes, you
can make them like this:
<blockquote>
<pre>
\title{Demonstration}
\author{Me, You\thanks{}}
\twocolumn[
  ... as above ...
]
{
  \renewcommand{\thefootnote}%
    {\fnsymbol{footnote}}
  \footnotetext[1]{Thanks for nothing}
}
</pre>
</blockquote>
and so on.

<p>
As an alternative, among other facilities the <i class="package">abstract</i> package 
provides a
<code>&#x5c;saythanks</code> command and a <code class="environment">onecolabstract</code> environment
which remove the need to fiddle with the <code>&#x5c;thanks</code> and
footnoting. They can be used like this:
<blockquote>
<pre>
\twocolumn[
  \maketitle             % full width title
  \begin{onecolabstract} % ditto abstract
    ... text
  \end{onecolabstract}
]
\saythanks            % typeset any \thanks
</pre>
</blockquote>
The <i class="class">memoir</i> class offers all the facilities of <i class="package">abstract</i>.
<dl>
<dt class="ctanref">abstract.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/abstract">abstract</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-reallyblank][[[LBRACE]]]Really blank pages between chapters[[[RBRACE]]]

<p>
If you&rsquo;re using the standard classes, you need to take special action;
the <i class="class">memoir</i> class and the <i class="class">Koma-Script</i> classes provide
their own support for this&nbsp;&mdash; see below. 

<p>
<i class="class">Book</i> (by default) and <i class="class">report</i> (with <code class="pkgoption">openright</code> class
option) ensure that each chapter starts on a right-hand (recto) page;
they do this by inserting a <code>&#x5c;cleardoublepage</code> command between
chapters (rather than a mere <code>&#x5c;clearpage</code>).  The empty page thus
created gets to have a normal running header, which some people don&rsquo;t
like.

<p>
The (excellent) <i class="package">fancyhdr</i> manual covers this issue, basically
advising the creation of a command <code>&#x5c;clearemptydoublepage</code>:
<blockquote>
<pre>
\let\origdoublepage\cleardoublepage
\newcommand{\clearemptydoublepage}{%
  \clearpage
  {\pagestyle{empty}\origdoublepage}%
}
</pre>
</blockquote>
The &ldquo;obvious&rdquo; thing is then to use this command to replace
<code>&#x5c;cleardoublepage</code> in a patched version of the <code>&#x5c;chapter</code> command.
(Make a package of your own containing a copy 
of the command out of the class.)  This isn&rsquo;t particularly difficult,
but you can instead simply subvert <code>&#x5c;cleardoublepage</code> (which isn&rsquo;t
often used elsewhere):
<blockquote>
<pre>
\let\cleardoublepage\clearemptydoublepage
</pre>
</blockquote>
Note: this command works because <code>&#x5c;clearemptydoublepage</code> uses a copy
of <code>&#x5c;cleardoublepage</code>: instructions on macro programming

<a class="FAquestion.html" href="FAQ-patch.html">patching techniques</a> explain the problem and
why this is a solution.

<p>
The <i class="package">emptypage</i> package does this sort of thing for you; all
you need do is load the package, and it does the rest.

<p>
The <em>KOMA-Script</em> replacements for the
<i class="class">book</i> and <i class="class">report</i> classes (<i class="class">scrbook</i> and
<i class="class">scrreprt</i> offers class options <code class="pkgoption">cleardoubleempty</code>,
<code class="pkgoption">cleardoubleplain</code> and <code class="pkgoption">cleardoublestandard</code>
(using the running page style, as normal) that control the appearance
of these empty pages.  The classes also offer do-it-yourself commands
<code>&#x5c;cleardoubleempty</code> (etc.).

<p>
The <i class="class">memoir</i> class (and the <i class="package">nextpage</i> package)
provide commands <code>&#x5c;cleartooddpage</code> and <code>&#x5c;cleartoevenpage</code>,
which both take an optional argument (the first, with no argument,
being an equivalent of <code>&#x5c;cleardoublepage</code>).  One can achieve
&lsquo;special&rsquo; effects by putting commands in the optional argument: the
<code>&#x5c;clearemptydoublepage</code> we&rsquo;re after would be achieved by
<code>&#x5c;cleartooddpage[</code><code>&#x5c;thispagestyle</code><code>&#x7b;empty&#x7d;</code><tt>]</tt>.  The
commands will also serve if you want the surreal effect of &ldquo;This page
intentionally left blank&rdquo; in the centre of an otherwise empty page.
<dl>
<dt class="ctanref">emptypage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/emptypage">emptypage</a>
<dt class="ctanref">fancyhdr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyhdr">fancyhdr</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">nextpage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nextpage">nextpage</a>
<dt class="ctanref">scrbook.cls, scrrept.cls</dt><dd>Part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p>
[[[Question]]][Q-balance][[[LBRACE]]]Balancing columns at the end of a document[[[RBRACE]]]

<p>
The <i class="package">twocolumn</i> option of the standard classes causes
LaTeX to set the text of a document in two columns.  However, the last
page of the document typically ends up with columns of different
lengths&nbsp;&mdash; such columns are said to be &ldquo;unbalanced&rdquo;.  Many (most?)
people don&rsquo;t like unbalanced columns.

<p>
The simplest solution to the problem is to use the <i class="package">multicol</i>
package in place of the <i class="package">twocolumn</i> option, as
<i class="package">multicol</i> balances the columns on the final page by default.
However, the use of <i class="package">multicol</i> does come at a cost: its
special output routine disallows the use of in-column floats, though
it does still permit full-width (e.g., <code class="environment">figure*</code>
environment) floats. 

<p>
As a result, there is a constant push for a means of balancing columns
at the end of a <i class="package">twocolumn</i> document.  Of course, the job can
be done manually: <code>&#x5c;pagebreak</code> inserted at the appropriate place on
the last page can often produce the right effect, but this seldom
appeals, and if the last page is made up of automatically-generated
text (for example, bibliography or index) inserting the command will
be difficult.

<p>
The <i class="package">flushend</i> package offers a solution to this problem.  It&rsquo;s a
somewhat dangerous piece of macro code, which patches one of the most
intricate parts of the LaTeX kernel without deploying any of the
safeguards discussed in <a class="FAquestion.html" href="FAQ-patch.html">patching commands</a>.
The package only changes the behaviour at end document (its
<code>&#x5c;flushend</code> command is enabled by default), and one other command
permits adjustment of the final balance; other packages in the bundle
provide means for insertion of full width material in two-column
documents.

<p>
The <i class="package">balance</i> package also patches the output routine
(somewhat more carefully than <i class="package">flushend</i>).

<p>
The user should be aware that any of these packages are liable to
become confused in the presence of floats: if problems arise, manual
adjustment of the floats in the document is likely to be necessary.
It is this difficulty (what&rsquo;s required in any instance can&rsquo;t really be
expressed in current LaTeX) that led the author of
<i class="package">multicol</i> to suppress single-column-wide floats.
<dl>
<dt class="ctanref">balance.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/balance">preprint</a>
<dt class="ctanref">flushend.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/flushend">sttools</a>
<dt class="ctanref">multicol.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/multicol">2etools</a>

<p>
</dl>

<p>
[[[Question]]][Q-runheadtoobig][[[LBRACE]]]My section title is too wide for the page header[[[RBRACE]]]

<p>
By default, LaTeX sectioning commands make the chapter or section
title available for use by page headers and the like.  Page headers
operate in a rather constrained area, and it&rsquo;s common for titles too
be too big to fit: the LaTeX sectioning commands therefore take an
optional argument:
<blockquote>
<pre>
\section[short title]{full title}
</pre>
</blockquote>
If the &lsaquo;<i>short title</i>&rsaquo; is present, it is used both for the table of
contents and for the page heading.  The usual answer to people who
complain that their title is too big for the running head is to
suggest that they the optional argument.

<p>
However, using the same text for the table of contents as for the
running head may also be unsatisfactory: if your chapter titles are
seriously long (like those of a Victorian novel), a valid and rational
scheme is to have a shortened table of contents entry, and a really
terse entry in the running head.

<p>
One of the problems is the tendency of page headings to be set in
capitals (which take up more space); so why not set headings as written
for &ldquo;ordinary&rdquo; reading?  It&rsquo;s not possible to do so with unmodified
LaTeX, but the <i class="package">fancyhdr</i> package provides a command
<code>&#x5c;nouppercase</code> for use in its header (and footer) lines to suppress
LaTeX&rsquo;s uppercasing tendencies.  Classes in the <i class="class">KOMA-script</i>
bundle don&rsquo;t uppercase in the first place.

<p>
In fact, the sectioning commands use &lsquo;mark&rsquo; commands to pass
information to the page headers.  For example, <code>&#x5c;chapter</code> uses
<code>&#x5c;chaptermark</code>, <code>&#x5c;section</code> uses <code>&#x5c;sectionmark</code>, and so on.  With
this knowledge, one can achieve a three-layer structure for chapters:
<blockquote>
<pre>
\chapter[middling version]{verbose version}
\chaptermark{terse version}
</pre>
</blockquote>
which should supply the needs of every taste.

<p>
Chapters, however, have it easy: hardly any book design puts a page
header on a chapter start page.  In the case of sections, one has
typically to take account of the nature of the <code>&#x5c;*mark</code> commands:
the thing that goes in the heading is the first mark on the page (or,
failing any mark, the last mark on any previous page).  As a result
the recipe for sections is more tiresome:
<blockquote>
<pre>
\section[middling version]{verbose version%
              \sectionmark{terse version}}
\sectionmark{terse version}
</pre>
</blockquote>
(the first <code>&#x5c;sectionmark</code> deals with the header of the page the
<code>&#x5c;section</code> command falls on, and the second deal with subsequent
pages; note that here, you need the optional argument to <code>&#x5c;section</code>,
even if &ldquo;<em>middling version</em>&rdquo; is in fact the same text as
&ldquo;<em>long version&rdquo;</em>.)

<p>
A similar arrangement is necessary even for chapters if the class
you&rsquo;re using is odd enough that it puts a page header on a chapter&rsquo;s
opening page.

<p>
Note that the <i class="package">titlesec</i> package manages the running heads in
a completely different fashion; for example, you can use the optional
argument of sectioning commands for page headers, only, by loading the
package as:
<blockquote>
<pre>
\usepackage[toctitles]{titlesec}
</pre>
</blockquote>
The package documentation offers other useful techniques in this area.


<p>
The <i class="class">memoir</i> class avoids all the silliness by providing an
extra optional argument for chapter and sectioning commands, for
example:
<blockquote>

<pre>
\section[middling version][terse version]%
        {verbose version}
</pre>


<pre>
\section[middling version][terse version]{verbose version}
</pre>

</blockquote>
As a result, it is always possible for users of <i class="class">memoir</i> to
tailor the header text to fit, with very little trouble.
<dl>
<dt class="ctanref">fancyhdr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyhdr">fancyhdr</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">titlesec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/titlesec">titlesec</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-01</p>

<p>

[[[Question]]][Q-nofm][[[LBRACE]]]Page numbering &ldquo;&lsaquo;<i>n</i>&rsaquo; of &lsaquo;<i>m</i>&rsaquo;&rdquo;[[[RBRACE]]]


<p>
Finding the page number of the last page of a document, from within
the document, is somewhat tricky.  The <i class="package">lastpage</i> and
<i class="package">zref-lastpage</i> packages define a label
<tt>LastPage</tt> whose number is <em>right</em> (after sufficiently many
passes through LaTeX, of course).  The <i class="class">memoir</i> class also
defines a &ldquo;last page&rdquo; label.

<p>
The documentation of the <i class="package">fancyhdr</i> package spells out exactly
how one might actually use this information to produce page numbering
as suggested in the question.
<dl>
<dt class="ctanref">fancyhdr documentation</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyhdr">fancyhdr</a>
<dt class="ctanref">lastpage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lastpage">lastpage</a>
<dt class="ctanref">zref-lastpage</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/zref">oberdiek</a>
</dl>

<p class="lastedit">This answer last edited: 2012-10-16</p>

<p>
[[[Question]]][Q-pagebychap][[[LBRACE]]]Page numbering by chapter[[[RBRACE]]]

<p>
When I was a young man, a common arrangement for loose bound technical
manuals is to number pages by chapter.  (It&rsquo;s quite a good scheme, in
those situations: even if your corrections add a whole page to the
chapter, the most you have to redistribute is that chapter.)

<p>
The problem, at first sight, seems pretty much the same as that in
another answer on

<a href="FAQ-running-nos.html">running numbers within a chapter</a>,
and the basic technique is indeed pretty similar.

<p>
However, tidying-up loose ends, making sure the page number gets reset
to the correct value at the start of each chapter, and so on, is
slightly more challenging.  This is why the <i class="package">chappg</i> package
was written: it does the obvious things, and more.

<p>
Users have been known to ask for running page numbers within a
section, but this really doesn&rsquo;t make sense: you need to run page
numbers within document objects that always start on a fresh page.
<dl>
<dt class="ctanref">chappg.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/chappg">chappg</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-papersize][[[LBRACE]]]The size of printed output[[[RBRACE]]]

<p>
The final product of a (La)TeX run is something for a person to
read.  Often, nowadays, that product will be read &ldquo;on-screen&rdquo;, but
the printed page remains a principal output form.

<p>
When we come to print our output, it is important that the output fits
on the paper; in some cases, for the output to &ldquo;fit&rdquo; is good enough.
However, there are circumstances where the actual size of the printed
output, on the page, is crucial to the acceptance of the output.
(This might happen when the output is a book to be published, or when
it&rsquo;s a dissertation which must match the fancies of some bureaucrat
even to be considered.)

<p>
Sadly, we often find that the printed output doesn&rsquo;t conform to our
expectations&hellip;

<p>
The check-list for such problems has two entries:
<ul>
<li> Your output is generated via Adobe <i class="progname">Reader</i> (or
  possibly &ldquo;<i class="progname">Acrobat Reader</i>&rdquo;&nbsp;&mdash; older versions of the
  program had the qualified name).  In this case, it may be that
  <i class="progname">Reader</i> is willfully changing the size of your output:
  read <a href="FAQ-acroantics.html"><i class="progname">Reader</i> antics</a>.
<li> Something in your TeX system is producing the wrong size (or
  shape) of output: read <a href="FAQ-papergeom.html">paper geometry</a>.
</ul>

<p>
An alternative approach is to use the (excellent) <i class="package">testflow</i>
suite, that provides a detailed outline of the potential problems
together with a sample document and prototype outputs.
<dl>
<dt class="ctanref">testflow bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/testflow">testflow</a>
</dl>

<p>
[[[Question]]][Q-acroantics][[[LBRACE]]]Adobe <i class="progname">Reader</i> messing with print size[[[RBRACE]]]


<p>
Printing from Adobe <i class="progname">Reader</i> shrinks the page &ldquo;to fit&rdquo;
(<em>by default</em>).  Unfortunately, its calculation doesn&rsquo;t consider
the existing margins of the document, so that it shrinks what it
believes is your whole page onto what it believes is its output page.
The effect typically looks as if your margins have expanded.

<p>
Solve this problem by adjusting the <i class="progname">Reader</i>&rsquo;s default in the
print dialogue; unfortunately, this dialogue varies from one version
to the next:
<ul>
<li> <i class="progname">Reader</i> version 7:<br>
   Page Scaling (default: &ldquo;Fit to printer margins&rdquo;)&nbsp;&mdash; change to
   &ldquo;None&rdquo;, and<br>
   Scale (default 95&#x25; of Normal size)&nbsp;&mdash; change to
   &ldquo;100&#x25;&rdquo;.
<li>  Adobe Reader 6:<br>
  in the print dialogue, on the &ldquo;copies &amp; pages&rdquo; pane, you&rsquo;ll find a
  popup menu/drop-down list titled &ldquo;Page Scaling&rdquo;&nbsp;&mdash; change to &ldquo;None&rdquo;.
<li> Windows, Linux Acrobat (Reader) 5.0:<br>
  In the print dialog, make sure the &ldquo;Shrink oversized pages to fit&rdquo;
  checkbox is unchecked.  It may also be useful to uncheck the
  &ldquo;Expand small pages to fit paper size&rdquo; checkbox as well.
</ul>

<p>
[[[Question]]][Q-papergeom][[[LBRACE]]]Getting the right paper geometry from (La)TeX[[[RBRACE]]]

<p>
If your output is the wrong size, and you&rsquo;ve checked that it&rsquo;s not due
to the <a href="FAQ-acroantics.html">ministrations of Adobe <i class="progname">Reader</i></a>,
the problem is probably that your (La)TeX system is producing output
that specifies the wrong paper size.  Paper sizes can be a pain:
they&rsquo;re a forgotten backwater&nbsp;&mdash; Knuth seems not to have considered
paper size as something the TeX engine needs to know about.  As a
result, there is no DVI command to specify the paper on which
the document should be printed, which has led a dichotomy where macros
shape the text according to the needs of the author&rsquo;s chosen paper
size, and device drivers&rsquo; choice happens independently of the macros&rsquo;
ideas.

<p>
In practice, one usually finds that macro packages (such as Plain TeX and
LaTeX) assume American &ldquo;letter&rdquo; paper size, by default; and since
most distributions nowadays originate in Europe, the drivers usually
default to ISO &ldquo;A4&rdquo; paper size.

<p>
This is (of course) pretty unsatisfactory.  Users may select a
different paper size for their document (current LaTeX offers a
range of sizes as options in the standard classes), pretty easily.
Nevertheless, the user also has to be sure that each time
<i class="progname">xdvi</i>, <i class="progname">dvips</i> (or whatever) runs, it uses the
paper size the document was designed for.

<p>
The default paper size for DVI drivers may be changed by a
distribution management command (<i class="progname">texconfig</i> for texlive,
the <i class="progname">Options</i> application for MiKTeX), but this still
doesn&rsquo;t provide for people using the &ldquo;wrong&rdquo; sort of paper for some
reason.

<p>
A different issue arises for users of PDFTeX&nbsp;&mdash; the
PDF format <em>does</em> have the means of expressing paper size
and PDFTeX has system variables <code>&#x5c;pdfpagewidth</code> and
<code>&#x5c;pdfpageheight</code>, that are written into the output PDF file.
Unfortunately, most of the core software predates PDFTeX, so not even
PDFLaTeX sets the correct values into those variables, to match the
paper size specified in a <code>&#x5c;documentclass</code> option.

<p>
The DVI drivers <i class="progname">dvips</i>, <i class="progname">dvipdfm</i> and its
extensions (<i class="progname">dvipdfmx</i> and <i class="progname">xdvipdfmx</i>) define
<code>&#x5c;special</code> commands for the document to specify its own paper size;
so in those cases, as when PDFTeX is being used, the
paper size can be programmed by the document.  Users who wish to, may
of course consult the manuals of the various programs to write the
necessary code.

<p>
The <i class="package">geometry</i> and <i class="package">zwpagelayout</i> packages (whose main
business includes defining
typeset page areas), also takes notice the size of the paper that the
document is going to be printed on, and can issue the commands
necessary to ensure the correct size of paper is used.  If
<i class="package">geometry</i> is used when a document is being processed by
PDFLaTeX, it can set the necessary dimensions &ldquo;in the output&rdquo;.
If the document is being processed by LaTeX on a TeX or e-TeX
engine, there are package options which instruct <i class="package">geometry</i>
which <code>&#x5c;special</code> commands to use.  (Note that the options are
ignored if you are using PDFLaTeX.)

<p>
So, one resolution of the problem, when you are using LaTeX, is to add
<blockquote>
<pre>
\usepackage[processor-option,...]{geometry}
</pre>
</blockquote>
Where <code class="pkgoption">processor-option</code> tells the package what will produce
your (PostScript or PDF output&nbsp;&mdash; <i class="package">geometry</i> knows about
<code class="pkgoption">dvips</code> and <code class="pkgoption">dvipdfm</code> (<code class="pkgoption">dvipdfm</code> also
serves for the extension <i class="progname">dvipdfmx</i> and
<i class="progname">xdvipdfmx</i>).

<p>
If you&rsquo;re using PDFLaTeX or XeTeX, load with
<blockquote>
<pre>
\usepackage[program-option,...]{geometry}
</pre>
</blockquote>
where <code class="pkgoption">program-option</code> is <code class="pkgoption">pdftex</code>,
<code class="pkgoption">xetex</code>.

<p>
The alternative, <i class="package">zwpagelayout</i> requires a <code class="pkgoption">driver</code>
option:
<blockquote>
<pre>
\usepackage[driver=value,...]{zwpagelayout}
</pre>
</blockquote>
(permissible &lsaquo;<i>values</i>&rsaquo; are <code class="pkgoption">pdftex</code>, <code class="pkgoption">xetex</code>
and <code class="pkgoption">dvips</code>; the default value is <code class="pkgoption">unknown</code>).

<p>
Needless to say, both the &ldquo;big&rdquo; classes (<i class="class">koma-script</i> and
<i class="class">memoir</i>) provide their own ways to get the paper size
&ldquo;right&rdquo;.

<p>
The <i class="package">typearea</i> package is the <i class="class">Koma-script</i>
distribution&rsquo;s way of providing page layout functionality.  Load it
with the <code class="pkgoption">pagesize</code> option and it will ensure the correct
paper is selected, for PDF output from PDFLaTeX, and for
PostScript output from LaTeX via <i class="progname">dvips</i>.

<p>
<i class="class">Memoir</i> has the standard classes&rsquo; paper-size selections
(<code class="pkgoption">a4paper</code>, <code class="pkgoption">letterpaper</code> and so on), but also
permits the user to choose an arbitrary paper size, by setting the
length registers <code>&#x5c;stockheight</code> and <code>&#x5c;stockwidth</code>.  The commands
<code>&#x5c;fixdvipslayout</code> (for LaTeX processing), and <code>&#x5c;fixpdflayout</code>
(for PDFLaTeX processing) then instruct the processor to produce
output that specifies the necessary paper size.
<dl>
<dt class="ctanref">geometry.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/geometry">geometry</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">typearea.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/typearea">koma-script</a>
<dt class="ctanref">zwpagelayout.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/zwpagelayout">zwpagelayout</a>
</dl>

<p class="lastedit">This answer last edited: 2011-12-12</p>

<p>
[[[Question]]][Q-changemargin][[[LBRACE]]]Changing the margins in LaTeX[[[RBRACE]]]

<p>
Changing the layout of a document&rsquo;s text on the page involves several
subtleties not often realised by the beginner.  There are interactions
between fundamental TeX constraints, constraints related to the
design of LaTeX, and good typesetting and design practice, that
mean that any change must be very carefully considered, both to ensure
that it &ldquo;works&rdquo; and to ensure that the result is pleasing to the
eye.

<p>
LaTeX&rsquo;s defaults sometimes seem excessively conservative,
but there are sound reasons behind how Lamport designed the layouts
themselves, whatever one may feel about his overall design.  For
example, the common request for &ldquo;one-inch margins all round on A4
paper&rdquo; is fine for 10- or 12-pitch typewriters, but not for 10pt (or
even 11pt or 12pt) type because readers find such wide, dense, lines
difficult to read.  There should ideally be no more than 75 characters
per line (though the constraints change for two-column text).

<p>
So Lamport&rsquo;s warning to beginners in his section on &lsquo;Customizing the
Style&rsquo;&nbsp;&mdash; &ldquo;don&rsquo;t do it&rdquo;&nbsp;&mdash; should not lightly be ignored.

<p>
This set of FAQs recommends that you use a package to establish
consistent settings of the parameters: the interrelationships are
taken care of in the established packages, without you <em>needing</em>
to think about them, but remember&nbsp;&mdash; the packages only provide
consistent, working, mechanisms: they don&rsquo;t analyse the quality of
what you propose to do.

<p>
The following answers deal with the ways one may choose to proceed:
<ul>
<li> <a href="FAQ-marginpkgs.html">Choose which package to use</a>.
<li> <a href="FAQ-marginmanual.html">Find advice on setting up page layout by hand</a>.
</ul>
There is a related question&nbsp;&mdash; how to change the layout
temporarily&nbsp;&mdash; and there&rsquo;s an answer that covers that, too:
<ul>
<li> <a href="FAQ-chngmargonfly.html">Change the margins on the fly</a>.
</ul>

<p>
[[[Question]]][Q-marginpkgs][[[LBRACE]]]Packages to set up page designs[[[RBRACE]]]

<p>
There are two trustworthy tools for adjusting the dimensions and position of the
printed material on the page are <i class="package">geometry</i> and the
<i class="package">zwpagelayout</i> packages; a very
wide range of adjustments of the layout may be relatively
straightforwardly programmed with either, and package documentation is good and
comprehensive.

<p>
As is usual, users of the <i class="class">memoir</i> class have built-in
facilities for this task, and users of the <i class="class">KOMA-script</i> classes
are recommended to use an alternative package, <i class="package">typearea</i>.  In
either case it is difficult to argue that users should go for
<i class="package">geometry</i>: both alternatives are good.

<p>
The documentation both of <i class="package">geometry</i> and of
<i class="package">zwpagelayout</i> is rather overwhelming, and
learning all of of either package&rsquo;s capabilities is likely to be more
than you ever need.
The <i class="package">vmargin</i> package is somewhat simpler to use: it has a
canned set of paper sizes (a superset of that provided in LaTeX 2e),
provision for custom paper, margin adjustments and provision for
two-sided printing.
<dl>
<dt class="ctanref">geometry.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/geometry">geometry</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">layout.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/layout">2etools</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">typearea.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/typearea">koma-script</a>
<dt class="ctanref">vmargin.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vmargin">vmargin</a>
<dt class="ctanref">zwpagelayout.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/zwpagelayout">zwpagelayout</a>
</dl>

<p class="lastedit">This answer last edited: 2011-12-12</p>

<p>
[[[Question]]][Q-marginmanual][[[LBRACE]]]How to set up page layout &ldquo;by hand&rdquo;[[[RBRACE]]]

<p>
So you&rsquo;re eager to do it yourself, notwithstanding the cautions




  outlined in &ldquo;<a href="FAQ-changemargin.html">changing margins</a>&rdquo;.


<p>
It&rsquo;s important that you first start by familiarising yourself
with LaTeX&rsquo;s page layout parameters. For example, see section C.5.3 of the
LaTeX manual (pp.&nbsp;181-182), or corresponding sections in many of the other
good LaTeX manuals (see <a class="FAquestion.html" href="FAQ-latex-books.html">LaTeX books</a>). 

<p>
LaTeX controls the page layout with a number of parameters, which
allow you to change the distance from the edges of a page to the left
and top edges of your typeset text, the width and height of the text,
and the placement of other text on the page.  However, they are
somewhat complex, and it is easy to get their interrelationships wrong
when redefining the page layout. The layout package defines a
<code>&#x5c;layout</code> command which draws a diagram of your existing page
layout, with the dimensions (but not their interrelationships) shown.

<p>
Even changing the text height and width, <code>&#x5c;textheight</code> and
<code>&#x5c;textwidth</code>, requires more care than you might expect: the height
should be set to fit a whole number of text lines (in terms of
multiples of <code>&#x5c;baselinskip</code>), and the width should be constrained
by the number of characters per line, as mentioned in 
&ldquo;<a href="FAQ-changemargin.html">changing margins</a>&rdquo;.

<p>
Margins are controlled by two parameters: <code>&#x5c;oddsidemargin</code> and
<code>&#x5c;evensidemargin</code>, whose names come from the convention that
odd-numbered pages appear on the right-hand side (&lsquo;recto&rsquo;) of a
two-page spread and even-numbered pages on the left-hand side
(&lsquo;verso&rsquo;).  Both parameters actually refer to the left-hand margin of
the relevant pages; in each case the right-hand margin is specified by
implication, from the value of <code>&#x5c;textwidth</code> and the width of the
paper.  (In a one-sided document, which is the default in many
classes, including the standard <i class="class">article</i> and <i class="class">report</i>
classes, <code>&#x5c;oddsidemargin</code> stands for both.)

<p>
The
&ldquo;origin&rdquo; (the zero position) on the page is one inch from the top of
the paper and one inch from the left side; positive horizontal
measurements extend right across the page, and positive vertical
measurements extend down the page. Thus, the parameters
<code>&#x5c;evensidemargin</code>, <code>&#x5c;oddsidemargin</code> and <code>&#x5c;topmargin</code>, should
be set to be 1&nbsp;inch less than the true margin; for margins closer to
the left and top edges of the page than 1&nbsp;inch, the margin parameters
must be set to negative values.

<p>
[[[Question]]][Q-chngmargonfly][[[LBRACE]]]Changing margins &ldquo;on the fly&rdquo;[[[RBRACE]]]

<p>
One of the surprises characteristic of TeX use is that you cannot
change the width or height of the text within the document, simply by
modifying the text size parameters; TeX can&rsquo;t change the text width
on the fly, and LaTeX only ever looks at text height when starting
a new page.

<p>
So the simple rule is that the parameters should only be
changed in the preamble of the document, i.e., before the
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code> statement (so before any typesetting has
happened.

<p>
To adjust text width within a document we define an environment:
<blockquote>
<pre>
\newenvironment{changemargin}[2]{%
  \begin{list}{}{%
    \setlength{\topsep}{0pt}%
    \setlength{\leftmargin}{#1}%
    \setlength{\rightmargin}{#2}%
    \setlength{\listparindent}{\parindent}%
    \setlength{\itemindent}{\parindent}%
    \setlength{\parsep}{\parskip}%
  }%
  \item[]}{\end{list}}
</pre>
</blockquote>
The environment takes two arguments, and will indent the left and
right margins, respectively, by the parameters&rsquo; values. Negative
values will cause the margins to be narrowed, so
<code>&#x5c;begin</code><code>&#x7b;changemargin&#x7d;</code><code>&#x7b;-1cm&#x7d;</code><code>&#x7b;-1cm&#x7d;</code> narrows the left and right
margins by 1 centimetre.

<p>
Given that TeX can&rsquo;t do this, how does it work?&nbsp;&mdash; well, the
environment (which is a close relation of the LaTeX
<code class="environment">quote</code> environment) <em>doesn&rsquo;t</em> change the text width
as far as TeX is concerned: it merely moves text around inside the
width that TeX believes in.

<p>
The <i class="package">changepage</i> package provides ready-built commands to do
the above; it includes provision for changing the shifts applied to
your text according to whether you&rsquo;re on an odd (<em>recto</em>) or an
even (<em>verso</em>) page of a two-sided document.
<i class="package">Changepage</i>&rsquo;s structure matches that of the <i class="class">memoir</i>
class.

<p>
The (earlier) package <i class="package">chngpage</i> provides the same facilities,
but it uses rather different syntax.  <i class="package">Changepage</i>&rsquo;s structure
matches that of the <i class="class">memoir</i> class, and it should be used for
any new work.

<p>
Changing the vertical dimensions of a page is more clumsy still: the
LaTeX command <code>&#x5c;enlargethispage</code> adjusts the size of the current
page by the size of its argument.  Common uses are
<blockquote>
<pre>
\enlargethispage{\baselineskip}
</pre>
</blockquote>
to make the page one line longer, or
<blockquote>
<pre>
\enlargethispage{-\baselineskip}
</pre>
</blockquote>
to make the page one line shorter.  The process is (to an extent)
simplified by the <i class="package">addlines</i> package: its <code>&#x5c;addlines</code>
command takes as argument the <em>number</em> of lines to add to the
page (rather than a length): the package documentation also provides a
useful analysis of when the command may (or may not) be expected to
work.
<dl>
<dt class="ctanref">addlines.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/addlines">addlines</a>
<dt class="ctanref">changepage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/changepage">changepage</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-nopageno][[[LBRACE]]]How to get rid of page numbers[[[RBRACE]]]


<p>
Very occasionally, one wants a document with no page numbers.  For
such occasions, the package <i class="package">nopageno</i> will make
<code>&#x5c;pagestyle</code><code>&#x7b;plain&#x7d;</code> have the same effect as
<code>&#x5c;pagestyle</code><code>&#x7b;empty&#x7d;</code>; in simple documents, this will suppress
all page numbering (it will not work, of course, if the document uses
some other pagestyle than <code class="environment">plain</code>).

<p>
To suppress page numbers from a sequence of pages, you may use
<code>&#x5c;pagestyle</code><code>&#x7b;empty&#x7d;</code> at the start of the sequence, and restore
the original page style at the end.  Unfortunately, you still have to
deal with the page numbers on pages containing a <code>&#x5c;maketitle</code>,
<code>&#x5c;part</code> or <code>&#x5c;chapter</code> command, since the standard classes; deal
with those separately, as described below.

<p>
To suppress page numbers on a single page, use
<code>&#x5c;thispagestyle</code><code>&#x7b;empty&#x7d;</code> somewhere within the text of the
page.  Note that, in the standard classes, <code>&#x5c;maketitle</code> and
<code>&#x5c;chapter</code> use <code>&#x5c;thispagestyle</code> internally, so your call
must be <em>after</em> those commands.

<p>
Unfortunately, <code>&#x5c;thispagestyle</code> doesn&rsquo;t work for <i class="class">book</i> or
<i class="class">report</i> <code>&#x5c;part</code> commands: they set the page style (as do
<code>&#x5c;chapter</code> commands), but then they advance to the next page so
that you have no opportunity to change the style using
<code>&#x5c;thispagestyle</code>.  The present author has proposed solving the
problem with the following &ldquo;grubby little patch&rdquo;, on
<i class="newsgroup">comp.text.tex</i>:
<blockquote>
<pre>
\makeatletter
\let\sv@endpart\@endpart
\def\@endpart{\thispagestyle{empty}\sv@endpart}
\makeatother
</pre>
</blockquote>
Fortunately, that patch has now been incorporated in a small package
<i class="package">nonumonpart</i> (a difficult name&hellip;)

<p>
Both the <i class="class">KOMA-script</i> classes and <i class="class">memoir</i> have separate
page styles for the styles of various &ldquo;special&rdquo; pages, so, in a
<i class="class">KOMA</i> class document one might say:
<blockquote>
<pre>
\renewcommand*{\titlepagestyle}{empty}
</pre>
</blockquote>
while <i class="class">memoir</i> will do the job with
<blockquote>
  <code>&#x5c;aliaspagestyle</code><code>&#x7b;title&#x7d;</code></code><code>&#x7b;empty&#x7d;</code>
</blockquote>

<p>
An alternative (in all classes) is to use the rather delightful
<code>&#x5c;pagenumbering</code><code>&#x7b;gobble&#x7d;</code>; this has the simple effect that any
attempt to print a page number produces nothing, so there&rsquo;s no issue
about preventing any part of LaTeX from printing the number.
However, the <code>&#x5c;pagenumbering</code> command does have the side effect that
it resets the page number (to 1), so it is unlikely to be helpful
other than at the beginning of a document.

<p>
The <i class="package">scrpage2</i> package separates out the representation of the
page number (it typesets the number using the <code>&#x5c;pagemark</code> command) from
the construction of the page header and footer; so one can say
<blockquote>
<pre>
\renewcommand*{\pagemark}{}
</pre>
</blockquote>
which will also suppress the printing of the page number.

<p>
Neither of these &ldquo;suppress the page number&rdquo; techniques touches the
page style in use; in practice this means they don&rsquo;t make sense unless
you are using <code>&#x5c;pagestyle</code><code>&#x7b;plain&#x7d;</code>
<dl>
<dt class="ctanref">fancyhdr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyhdr">fancyhdr</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">nonumonpart.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nonumonpart">nonumonpart</a>
<dt class="ctanref">nopageno.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nopageno">nopageno</a>
<dt class="ctanref">scrpage2.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p class="lastedit">This answer last edited: 2011-04-16</p>

<p>
[[[Question]]][Q-crop][[[LBRACE]]]How to create crop marks[[[RBRACE]]]

<p>
If you&rsquo;re printing something that&rsquo;s eventually to be reproduced in
significant quantities, and bound, it&rsquo;s conventional to print on paper
larger than your target product, and to place &ldquo;crop marks&rdquo; outside
the printed area.  These crop marks are available to the production
house, for lining up reproduction and trimming machines.

<p>
You can save yourself the (considerable) trouble of programming these
marks for yourself by using the package <i class="package">crop</i>, which has
facilities to satisfy any conceivable production house.  Users of the
<i class="class">memoir</i> class don&rsquo;t need the package, since <i class="class">memoir</i> has
its own facilities for programming crop marks.
<dl>
<dt class="ctanref">crop.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/crop">crop</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-watermark][[[LBRACE]]]&lsquo;Watermarks&rsquo; on every page[[[RBRACE]]]

<p>
It&rsquo;s often useful to place some text (such as &lsquo;DRAFT&rsquo;) in the
background of every page of a document.  For LaTeX users, the
simplest way to do this uses the <i class="package">draftcopy</i> package.  This
can deal with
many types of DVI processors (in the same way that the graphics
package does) and knows translations for the word &lsquo;DRAFT&rsquo; into a wide
range of languages (though you can choose your own word, too).
Unfortunately, however, the package relies on PostScript specials, and will
therefore fail if you are viewing your document with <i class="progname">xdvi</i>,
and won&rsquo;t even compile if you&rsquo;re using PDFLaTeX.  (PDFLaTeX
users need one of the other solutions below.)

<p>
The <i class="package">wallpaper</i> package builds on <i class="package">eso-pic</i> (see
below).  Apart from the single-image backdrops described above
(&ldquo;wallpapers&rdquo;, of course, to this package), the package provides
facilities for tiling images.  All its commands come in pairs: one for
&ldquo;general&rdquo; use, and one applying to the current page only.

<p>
The <i class="package">draftwatermark</i> package uses the same author&rsquo;s
<i class="package">everypage</i> package to provide a simple interface for adding
textual (&lsquo;DRAFT&rsquo;-like) watermarks.

<p>
The <i class="package">xwatermark</i> package provides very flexible watermarking,
with a &ldquo;modern&rdquo; (key-value) interface.

<p>
More elaborate watermarks may be achieved using the <i class="package">eso-pic</i>
package, or by using <i class="package">everypage</i> (see below).
<i class="package">Eso-pic</i> attaches a <code class="environment">picture</code> environment to
every page as it is shipped out; the user can put things into that
environment: the package provides commands for placing things at
certain useful points (like &ldquo;text upper left&rdquo; or &ldquo;text centre&rdquo;) in
the picture, but the user is at liberty to do what he or she likes.

<p>
<i class="package">Eso-pic</i> is, in turn, built upon the package
<i class="package">atbegshi</i>.  That package has the capability to produce
watermarks <em>on top of</em> the other material on the page; this
doesn&rsquo;t sound very &ldquo;watermark-like&rdquo;, but can be useful on pages
where the watermark would otherwise be hidden by graphics or the
like.  The <i class="package">atbegshi</i> command that <i class="package">eso-pic</i> uses is
<code>&#x5c;AtBeginShipoutUpperLeft</code>; <code>&#x5c;AtBeginShipoutUpperLeftForeground</code>
is what&rsquo;s needed instead to place the material on top of the rest of
the content of the page.

<p>
<i class="package">Everypage</i> allows you to add &ldquo;something&rdquo; to every page, or
to a particular page; you therefore need to construct your own
apparatus for anything complicated.

<p>
Finally, one can use the <i class="progname">pdftk</i> untility; with it, the
command:
<blockquote>
<pre>
pdftk a.pdf background b.pdf output c.pdf
</pre>
</blockquote>
will recreate <i class="filename">a.pdf</i> as <i class="filename">c.pdf</i>, having used the first page
of <i class="filename">b.pdf</i> as background on every page.  If you have a standard
background (&ldquo;DRAFT&rdquo; or &ldquo;SECRET&rdquo;, or whatever) used in several
files, <i class="progname">pdftk</i> might well be attractive.

<p>
<i class="progname">Pdftk</i> is available as a command line tool; it is available
in most linux distritbutions, but may be downloaded from its

<a href="http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/">home site</a>
<dl>
<dt class="ctanref">atbegshi.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/atbegshi">oberdiek</a>
<dt class="ctanref">draftcopy.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/draftcopy">draftcopy</a>
<dt class="ctanref">draftwatermark.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/draftwatermark">draftwatermark</a>
<dt class="ctanref">eso-pic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eso-pic">eso-pic</a>
<dt class="ctanref">everypage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/everypage">everypage</a>
<dt class="ctanref">everyshi.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/everyshi">ms</a>
<dt class="ctanref">wallpaper.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/wallpaper">wallpaper</a>
</dl>

<p>
[[[Question]]][Q-landscape][[[LBRACE]]]Typesetting things in landscape orientation[[[RBRACE]]]

<p>
It&rsquo;s often necessary to typeset part of a document in landscape
orientation; to achieve this, one needs not only to change the page
dimensions, but also to instruct the output device to print the
strange page differently.

<p>
There are two &ldquo;ordinary&rdquo; mechanisms for doing two slight variations
of landscape typesetting:
<ul>
<li> If you have a single floating object that is wider than it is
  deep, and will only fit on the page in landscape orientation, use
  the <i class="package">rotating</i> package; this defines
  <code class="environment">sidewaysfigure</code> and <code class="environment">sidewaystable</code>
  environments which create floats that occupy a whole page.

<p>
  Note that <i class="package">rotating</i> has problems in a document that also
  loads the <i class="package">float</i> package, which recommended in other
  answers in these FAQs, for example that on
  <a href="FAQ-floats.html">float placement</a>.  The <i class="package">rotfloat</i> package
  loads <i class="package">rotating</i> for you, and smooths the interaction with
  <i class="package">float</i>.
<li> If you have a long sequence of things that need to be typeset in
  landscape (perhaps a code listing, a wide <code class="environment">tabbing</code>
  environment, or a huge table typeset using <i class="package">longtable</i> or
  <i class="package">supertabular</i>), use the <i class="package">lscape</i> package (or
  <i class="package">pdflscape</i> if you&rsquo;re generating PDF output, whether
  using PDFLaTeX or <i class="progname">dvips</i> and generating PDF from
  that).  Both packages define an environment <code class="environment">landscape</code>, which
  clears the current page and restarts typesetting in landscape
  orientation (and clears the page at the end of the environment
  before returning to portrait orientation).
</ul>
No currently available package makes direct provision for typesetting
in both portrait and landscape orientation on the same page (it&rsquo;s not
the sort of thing that TeX is well set-up to do).  If such
behaviour was an absolute necessity, one might use the techniques
described in

<a class="FAquestion.html" href="FAQ-textflow.html">"flowing text around figures"</a>, and would
rotate the landscape portion using the rotation facilities of the
<i class="package">graphics</i> package.  (Returning from landscape to portrait
orientation would be somewhat easier: the portrait part of the page
would be a bottom float at the end of the landscape section, with its
content rotated.)

<p>
To set an entire document in landscape orientation, one might use
<i class="package">lscape</i> around the whole document.  A better option is the
<code class="pkgoption">landscape</code> option of the <i class="package">geometry</i> package; if you
also give it <code class="pkgoption">dvips</code> or <code class="pkgoption">pdftex</code> option,
<i class="package">geometry</i> also emits the rotation instructions to cause the
output to be properly oriented.  The <i class="class">memoir</i> class has the same
facilities, in this respect, as does <i class="package">geometry</i>.

<p>
A word of warning: most current TeX previewers do not honour
rotation requests in DVI files.













Your best bet is to convert your output to PostScript or to PDF, and
to view these &lsquo;final&rsquo; forms with an appropriate viewer.
<dl>
<dt class="ctanref">geometry.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/geometry">geometry</a>
<dt class="ctanref">graphics.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a>
<dt class="ctanref">longtable.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/longtable">2etools</a>
<dt class="ctanref">lscape.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/lscape">graphics</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">pdflscape.sty</dt><dd>Distributed with Heiko Oberdiek&rsquo;s packages
  <a class="ctan" href="https://www.ctan.org/pkg/pdflscape">oberdiek</a>
<dt class="ctanref">rotating.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rotating">rotating</a>
<dt class="ctanref">rotfloat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rotfloat">rotfloat</a>
<dt class="ctanref">supertabular.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/supertabular">supertabular</a>
</dl>

<p>
[[[Question]]][Q-abspos][[[LBRACE]]]Putting things at fixed positions on the page[[[RBRACE]]]

<p>
TeX&rsquo;s model of the world is (broadly speaking) that the author
writes text, and TeX and its macros decide how it all fits on the
page.  This is not good news for the author who has, from whatever
source, a requirement that certain things go in exactly the right
place on the page.

<p>
There <em>are</em> places on the page, from which things may be hung,
and two LaTeX packages allow you position things relative to such
points, thus providing a means of absolute positioning.

<p>
The <i class="package">textpos</i> package aids the construction of pages from
&ldquo;blobs&rdquo;, dotted around over the page (as in a poster); you give it
the location, and it places your typeset box accordingly.

<p>
The <i class="package">eso-pic</i> defines a &ldquo;shipout picture&rdquo; that covers the
page.  The user may add <code class="environment">picture</code>-mode commands to this
picture, which of course can include box placements as well as the
other rather stilted commands of <code class="environment">picture</code>-mode.
(<i class="package">Eso-pic</i> requires the services of <i class="package">everyshi</i>, which
must therefore also be available.)






<dl>
<dt class="ctanref">eso-pic.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eso-pic">eso-pic</a>
<dt class="ctanref">everyshi.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/everyshi">ms</a>
<dt class="ctanref">textpos.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/textpos">textpos</a>
</dl>

<p>
[[[Question]]][Q-nopagebrk][[[LBRACE]]]Preventing page breaks between lines[[[RBRACE]]]

<p>
One commonly requires that a block of typeset material be kept on the
same page; it turns out to be surprisingly tricky to arrange this.

<p>
LaTeX provides a <code class="environment">samepage</code> environment which claims it
does this sort of thing for you.  It proceeds by setting infinite
penalties for all sorts of page-break situations; but in many
situations where you want to prevent a page break,
<code class="environment">samepage</code> doesn&rsquo;t help.  If you&rsquo;re trying to keep running
text together, you need to end the paragraph inside the environment
(see <a class="FAquestion.html" href="FAQ-paraparam.html">preserving paragraph parameters</a>).
Also, if the things you are trying to keep together insert their own
pagebreak hints, <code class="environment">samepage</code> has no power over them (though
list items&rsquo; attempts&nbsp;&mdash; they suggest page breaks between items&nbsp;&mdash;
are subverted by <code class="environment">samepage</code>).  Naturally, if
<code class="environment">samepage</code> <em>does</em> work, it is capable of leaving
stuff jutting out at the bottom of the page.

<p>
Another convenient trick is to set all the relevant stuff in a
<code>&#x5c;parbox</code> (or a <code class="environment">minipage</code> if it contains things like
verbatim text that may not be used in the argument of a <code>&#x5c;parbox</code>).
The resulting box certainly <em>won&rsquo;t</em> break between pages, but
that&rsquo;s not to say that it will actually do what you want it to do:
again, the box may be left jutting out at the bottom of the page.

<p>
Why do neither of these obvious things work?&nbsp;&mdash; Because TeX can&rsquo;t
really distinguish between infinitely awful things.
<code class="environment">Samepage</code> will make any possible break point &ldquo;infinitely
bad&rdquo; and boxes don&rsquo;t even offer the option of breaks, but if the
alternative is the leave an infinitely bad few centimetres of blank
paper at the bottom of the page, TeX will take the line of least
resistance and do nothing.

<p>
This problem still arises even if you have <code>&#x5c;raggedbottom</code> in
effect: TeX doesn&rsquo;t notice the value of <em>that</em> until it starts
actually shipping a page out.  One approach is to set:
<blockquote>
<pre>
\raggedbottom
\addtolength{\topskip}{0pt plus 10pt}
</pre>
</blockquote>
The <tt>10pt</tt> offers a hint to the output routine that the column is
stretchable; this will cause TeX to be more tolerant of the need to
stretch while building the page.  If you&rsquo;re doing this as a temporary
measure, cancel the change to <code>&#x5c;topskip</code> by:
<blockquote>
<pre>
\addtolength{\topskip}{0pt plus-10pt}
</pre>
</blockquote>
as well as resetting <code>&#x5c;flushbottom</code>.  (Note that the <tt>10pt</tt> never
actually shows up, because it is overwhelmed when the page is shipped
out by the stretchability introduced by <code>&#x5c;raggedbottom</code>; however, it
could well have an effect if <code>&#x5c;flushbottom</code> was in effect.)

<p>
An alternative (which derives from a suggestion by Knuth in the
TeXbook) is the package <i class="package">needspace</i> or the <i class="class">memoir</i> class,
which both define a command <code>&#x5c;needspace</code> whose argument tells it
what space is needed.  If the space isn&rsquo;t available, the current page
is cleared, and the matter that needs to be kept together will be
inserted on the new page.  For example, if 4&nbsp;lines of text need to be
kept together, the sequence
<blockquote>
<pre>
\par
\needspace{4\baselineskip}
% the stuff that must stay together
<text generating lines 1-4>
% now stuff we don't mind about
</pre>
</blockquote>
Yet another trick by Knuth is useful if you have a sequence of small
blocks of text that need, individually, to be kept on their own page.
Insert the command <code>&#x5c;filbreak</code> before each small block, and the
effect is achieved.  The technique can be used in the case of
sequences of LaTeX-style sections, by incorporating <code>&#x5c;filbreak</code>
into the definition of a command (as in 
<a class="FAquestion.html" href="FAQ-patch.html">patching commands</a>).  A simple and effective
patch would be:
<blockquote>
<pre>
\let\oldsubsubsection=\subsubsection
\renewcommand{\subsubsection}{%
  \filbreak
  \oldsubsubsection
}
</pre>
</blockquote>
While the trick works for consecutive sequences of blocks, it&rsquo;s
slightly tricky to get out of such sequences unless the sequence is
interrupted by a forced page break (such as <code>&#x5c;clearpage</code>, which may
be introduced by a <code>&#x5c;chapter</code> command, or the end of the document).
If the sequence is not interrupted, the last block is likely to be
forced onto a new page, regardless of whether it actually needs it.

<p>
If one is willing to accept that not everything can be accomplished
totally automatically, the way to go is to typeset the document and to
check for things that have the potential to give trouble.  In such a
scenario (which has Knuth&rsquo;s authority behind it, if one is to believe
the rather few words he says on the subject in the TeXbook) one can
decide, case by case, how to deal with problems at the last
proof-reading stage.  At this stage, you can manually alter page
breaking, using either <code>&#x5c;pagebreak</code> or <code>&#x5c;clearpage</code>, or you can
place a <code>&#x5c;nopagebreak</code> command to suppress unfortunate breaks.
Otherwise, you can make small adjustments to the page geometry, using
<code>&#x5c;enlargethispage</code>.  Supposing you have a line or two that stray:
issue the command <code>&#x5c;enlargethispage</code><code>&#x7b;2<code>&#x5c;baselineskip</code>&#x7d;</code> and
two lines are added to the page you&rsquo;re typesetting.  Whether this
looks impossibly awful or entirely acceptable depends on the document
context, but the command remains a useful item in the armoury.

<p>
Note that both <code>&#x5c;pagebreak</code> and <code>&#x5c;nopagebreak</code> take an optional
number argument to adjust how the command is to be interpreted.  Thus
<code>&#x5c;pagebreak</code><code>[0]</code>, the command &lsquo;suggests&rsquo; that a page break
might be worth doing, whereas <code>&#x5c;pagebreak</code><code>[4]</code> &lsquo;demands&rsquo; a
page break.  Similarly <code>&#x5c;nopagebreak</code><code>[0]</code> makes a suggestion,
while <code>&#x5c;nopagebreak</code><code>[4]</code> is a demand.  In both commands, the
default value of the optional argument is 4.
<dl>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">needspace.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/needspace">needspace</a>
</dl>

<p>
[[[Question]]][Q-parallel][[[LBRACE]]]Parallel setting of text[[[RBRACE]]]

<p>
It&rsquo;s commonly necessary to present text in two languages &lsquo;together&rsquo; on a
page, or on a two-page spread.  For this to be satisfactory, one usually
needs some sort of alignment between the two texts.

<p>
The <i class="package">parallel</i> package satisfies the need, permitting
typesetting in two columns (not necessarily of the same width) on one
page, or on the two opposing pages of a two-page spread.  Use can be
as simple as
<blockquote>
<pre>
\usepackage{parallel}
...
\begin{Parallel}{<left-width>}{<right-width}
  \ParallelLText{left-text}
  \ParallelRText{right-text}
  \ParallelPar
  ...
\end{Parallel}
</pre>
</blockquote>
<i class="package">Parallel</i> can get terribly confused with colour changes, in
PDFTeX; the indefatigable Heiko Oberdiek has a patch for this
issue&nbsp;&mdash; the <i class="package">pdfcolparallel</i> package, which maintains
separate colour stacks for the columns.

<p>
The <i class="package">parcolumns</i> package can (in principle) deal with any
number of columns: the documentation shows its use with three
columns.  Usage is rather similar to that of <i class="package">parallel</i>,
though there is of course a &ldquo;number of columns to specify&rdquo;:
<blockquote>
<pre>
\usepackage{parcolumns}
...
\begin{parcolumns}[<options>]{3}
  \colchunk{<Column 1 text>}
  \colchunk{<Column 2 text>}
  \colchunk{<Column 3 text>}
  \colplacechunks
  ...
\end{parcolumns}
</pre>
</blockquote>
The &lsaquo;<i>options</i>&rsaquo; can specify the widths of the columns, whether to
place rules between the columns, whether to set the columns sloppy,
etc.  Again, there are issues with colours, which are addressed by the
<i class="package">pdfcolparcolumns</i> package.

<p>
The <i class="package">ledpar</i> package is distributed with (and integrated with)
the <a href="FAQ-linenos.html"><i class="package">ledmac</i> package</a>.  It provides parallel
setting carefully integrated with the needs of a scholarly text,
permitting translation, or notes, or both, to be set in parallel with
the &lsquo;base&rsquo; text of the document.
<dl>
<dt class="ctanref">ledpar.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/ledmac">ledmac</a>
<dt class="ctanref">parallel.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/parallel">parallel</a>
<dt class="ctanref">parcolumns.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/parcolumns">sauerj</a>
<dt class="ctanref">pdfcolparallel.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pdfcolparallel">oberdiek</a>
<dt class="ctanref">pdfcolparcolumns.sty</dt><dd>pdfcolparcolumns]
</dl>

<p>
[[[Question]]][Q-epigraph][[[LBRACE]]]Typesetting epigraphs[[[RBRACE]]]

<p>
Epigraphs are those neat quotations that authors put at the start of
chapters (or even at the end of chapters: Knuth puts things at the
ends of chapters of the TeXbook).

<p>
Typesetting them is a bit of a fiddle, but not impossible to do for
yourself.  Fortunately, there are two packages that do the job, to
some extent; there are also facilities in the two &ldquo;big&rdquo; classes
(<i class="class">memoir</i> and <i class="class">koma-script</i>.

<p>
The <i class="package">epigraph</i> package defines an <code>&#x5c;epigraph</code> command, for
creating a single 
epigraph (as at the top of a chapter):
<blockquote>
<pre>
\chapter{The Social Life of Rabbits}
\epigraph{Oh!  My ears and whiskers!}%
         {Lewis Carroll}
</pre>
</blockquote>
and an epigraphs environment, for entering more than one epigraph
consecutively, in a sort of list introduced by <code>&#x5c;qitem</code> commands:
<blockquote>
<pre>
\begin{epigraphs}
\qitem{What I tell you three times is true}%
      {Lewis Carroll}
\qitem{Oh listen do, I'm telling you!}%
      {A.A. Milne}
\end{epigraphs}
</pre>
</blockquote>
The <code>&#x5c;epigraphhead</code> command enables you to place your epigraph
<em>above</em> a chapter header:
<blockquote>
<pre>
\setlength{\unitlength}{1pt}
...
\chapter{The Social Life of Rabbits}
\epigraphhead[<distance>]{%
  \epigraph{Oh!  My ears and whiskers!}%
           {Lewis Carroll}%
}
</pre>
</blockquote>
The &lsaquo;<i>distance</i>&rsaquo; says how far above the chapter heading the
epigraph is to go; it&rsquo;s expressed in terms of the <code>&#x5c;unitlength</code>
that&rsquo;s used in the <code class="environment">picture</code> environment; the package&rsquo;s
author recommends <tt>70pt</tt>.

<p>
The package also offers various tricks for adjusting the layout of
chapter header (necessary if you&rsquo;ve found a hugely long quotation for
an <code>&#x5c;epigraphhead</code>), for patching the bibliography, for patching
<code>&#x5c;part</code> pages, and so on.  (Some of these suggested patches lead you
through writing your own package&hellip;)

<p>
The <i class="package">quotchap</i> package redefines chapter headings (in a
moderately striking way), and provides an environment
<code class="environment">savequotes</code> in which you can provide one (or more)
quotations to use as epigraphs.  The facilities seem not as flexible
as those of <i class="package">epigraph</i>, but it&rsquo;s probably easier to use.

<p>
The <i class="class">memoir</i> class offers all the facilities of the
<i class="package">epigraph</i> package.  The <i class="class">Koma-script</i> classes have
commands <code>&#x5c;setchapterpreamble</code> and <code>&#x5c;dictum</code> to provide these
facilities.
<dl>
<dt class="ctanref">epigraph.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/epigraph">epigraph</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">quotchap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/quotchap">quotchap</a>
</dl>

<p>


<p>









<p>

















<p>

<p>

<p>
[[[Question]]][Q-linespace][[[LBRACE]]]Double-spaced documents in LaTeX[[[RBRACE]]]

<p>
A quick and easy way of getting inter-line space for copy-editing is
to change <code>&#x5c;baselinestretch</code>&nbsp;&mdash; <code>&#x5c;linespread</code><code>&#x7b;1.2&#x7d;</code> (or,
equivalently <code>&#x5c;renewcommand</code><code>&#x7b;<code>&#x5c;baselinestretch</code>&#x7d;</code></code><code>&#x7b;1.2&#x7d;</code>) may
be adequate.  Note that <code>&#x5c;baselinestretch</code> changes don&rsquo;t take
effect until you select a new font, so make the change in the preamble
before any font is selected.  Don&rsquo;t try changing <code>&#x5c;baselineskip</code>:
its value is reset at any size-changing command so that results will
be inconsistent.

<p>
For preference (and certainly for a production document, such as a
dissertation or an article submission), use a line-spacing package.
The only one currently supported is <i class="package">setspace</i>.
<i class="package">Setspace</i> switches off double-spacing at places where even
the most die-hard official would doubt its utility (footnotes, figure
captions, and so on); it&rsquo;s very difficult to do this consistently if
you&rsquo;re manipulating <code>&#x5c;baselinestretch</code> yourself.

<p>
(Note: do <em>not</em> be tempted by <i class="package">doublespace</i>&nbsp;&mdash; its
performance under current LaTeX is at best problematical.)

<p>
Of course, the real solution (other than for private copy editing) is
<em>not</em> to use double-spacing at all.  Universities, in particular,
have no excuse for specifying double-spacing in submitted
dissertations: LaTeX is a typesetting system, not a
typewriter-substitute, and can (properly used) make single-spaced text
even more easily readable than double-spaced typewritten text.  If you
have any influence on your university&rsquo;s system (for example, through
your dissertation supervisor), it may be worth attempting to get the
rules changed (at least to permit a &ldquo;well-designed book&rdquo; format).

<p>
Double-spaced submissions are also commonly required when submitting
papers to conferences or journals.  Fortunately (judging by the
questions from users in this author&rsquo;s department), this demand is
becoming less common.

<p>
Documentation of <i class="package">setspace</i> appears as TeX comments in the
package file itself.
<dl>
<dt class="ctanref">setspace.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/setspace">setspace</a>
</dl>

<p class="lastedit">This answer last edited: 2013-10-28</p>

<p>
[[[Question]]][Q-letterspace][[[LBRACE]]]Changing the space between letters[[[RBRACE]]]

<p>
A common technique in advertising copy (and other text whose actual
content need not actually be <em>read</em>) is to alter the space
between the letters (otherwise known as the tracking).  As a general
rule, this is a very bad idea: it detracts from legibility, which is
contrary to the principles of typesetting (any respectable font you
might be using should already have optimum tracking built into it).

<p>
The great type designer, Eric Gill, is credited with saying &ldquo;he who
would letterspace lower-case text, would steal sheep&rdquo;.  (The
attribution is probably apocryphal: others are also credited with the
remark.  Stealing sheep was, in the 19th century, a capital offence in
Britain.)  As the remark suggests, though, letterspacing of upper-case
text is less awful a crime; the technique used also to be used for
emphasis of text set in Fraktur (or similar) fonts.

<p>
Straightforward macros (usable, in principle, with any TeX macro
package) may be found in <i class="package">letterspacing</i> (which is the name of
the <code class="extension">tex</code> file).

<p>



<p>
A more comprehensive solution is to be found in the <i class="package">soul</i>
package (which is optimised for use with LaTeX, but also works with
Plain TeX).  Soul also permits hyphenation of letterspaced text;
Gill&rsquo;s view of such an activity is not (even apocryphally) recorded.
(Spacing-out forms part of the name of <i class="package">soul</i>; the other half
is described in <a class="FAquestion.html" href="FAQ-underline.html">another question</a>.)

<p>
Possibly the &lsquo;ultimate&rsquo; in this field is the <i class="package">microtype</i>,
which uses the micro-typography capabilities of current PDFTeX to
provide a <code>&#x5c;textls</code> command, which operates according to parameters
declared in a <code>&#x5c;SetTracking</code> command.  <i class="package">Microtype</i>&rsquo;s
&lsquo;tracking&rsquo; facility expands the natural spacing of the font itself,
rather than inserting space between characters.  Ordinarily,
letter-spacing will destroy ligatures; however, this is <em>wrong</em>
for some font styles (for example, <i class="fontname">fraktur</i>), and the
package provides a means of protecting the ligatures in a
letter-spaced text.
<dl>
<dt class="ctanref">letterspacing.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/letterspacing">letterspacing</a>
<dt class="ctanref">microtype.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/microtype">microtype</a>
<dt class="ctanref">soul.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/soul">soul</a>

</dl>

<p>
[[[Question]]][Q-ragright][[[LBRACE]]]Setting text ragged right[[[RBRACE]]]

<p>
The trick with typesetting ragged right is to be sure you&rsquo;ve told the
TeX engine &ldquo;make this paragraph ragged, but never <em>too</em>
ragged&rdquo;.  The LaTeX <code>&#x5c;raggedright</code> command (and the
corresponding <code class="environment">flushleft</code> environment) has a tendency to
miss the &ldquo;never&rdquo; part, and will often create ridiculously short
lines, for some minor benefit later in the paragraph.  The
Plain TeX version of the command doesn&rsquo;t suffer this failing, but
is rather conservative: it is loath to create too large a gap at the
end of the line, but in some circumstances&nbsp;&mdash; such as where
<a href="FAQ-hyphoff.html">hyphenation is suppressed</a>&nbsp;&mdash; painfully large gaps
may sometimes be required.

<p>
Martin Schr\"oder&rsquo;s <i class="package">ragged2e</i> package offers the best of both
worlds: it provides raggedness which is built on the Plain TeX
model, but which is easily configurable.  It defines easily-remembered
command (e.g., <code>&#x5c;RaggedRight</code>) and environment (e.g.,
<code class="environment">FlushLeft</code>) names that are simply capitalised
transformations of the LaTeX kernel originals.  The documentation
discusses the issues and explains the significance of the various
parameters of <i class="package">ragged2e</i>&rsquo;s operation.
<dl>
<dt class="ctanref">ragged2e.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/ragged2e">ms</a>
</dl>

<p>
[[[Question]]][Q-flushboth][[[LBRACE]]]Cancelling <code>&#x5c;ragged</code> commands[[[RBRACE]]]

<p>
LaTeX provides commands <code>&#x5c;raggedright</code> and <code>&#x5c;raggedleft</code>, but
none to cancel their effect.  The <code>&#x5c;centering</code> command is
implemented in the same way as the <code>&#x5c;ragged*</code> commands, and suffers
in the same way.

<p>
The following code (to be inserted in a package of your own, or as

<a href="FAQ-atsigns.html">internal LaTeX code</a>) defines a command that
restores flush justification at both margins:
<pre>
\def\flushboth{%
  \let\\\@normalcr
  \@rightskip\z@skip \rightskip\@rightskip
  \leftskip\z@skip
  \parindent 1.5em\relax}
</pre>
There&rsquo;s a problem with the setting of <code>&#x5c;parindent</code> in the code: it&rsquo;s
necessary because both the <code>&#x5c;ragged</code> commands set <code>&#x5c;parindent</code> to
zero, but the setting isn&rsquo;t a constant of nature: documents using a
standard LaTeX class with <code class="pkgoption">twocolumn</code> option will have
<tt>1.0em</tt> by default, and there&rsquo;s no knowing what you (or some
other class) will have done.

<p>
Any but a really old copy of Martin Schr\"oder&rsquo;s <i class="package">ragged2e</i>
package has a <code>&#x5c;justifying</code> command to match its 
<a href="FAQ-ragright.html">versions of the LaTeX &lsquo;ragged&rsquo; commands</a>.  The
package also provides a <code class="environment">justify</code> environment, which
permits areas of justified text in a larger area which is ragged.
<dl>
<dt class="ctanref">ragged2e.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/ragged2e">ms</a>
</dl>










<p>

<p>

<p>
[[[Question]]][Q-verbfile][[[LBRACE]]]Including a file verbatim in LaTeX[[[RBRACE]]]

<p>
A good way is to use Rainer Sch\"opf&rsquo;s <i class="package">verbatim</i> package,
which provides a command <code>&#x5c;verbatiminput</code> that takes a file name as
argument:
<blockquote>
<pre>
\usepackage{verbatim}
...
\verbatiminput{verb.txt}
</pre>
</blockquote>
Another way is to use the <code class="environment">alltt</code> environment, which
requires the <i class="package">alltt</i> package.  The environment interprets its
contents &lsquo;mostly&rsquo; verbatim, but executes any (La)TeX commands it
finds:
<blockquote>
<pre>
\usepackage{alltt}
...
\begin{alltt}
\input{verb.txt}
\end{alltt}
</pre>
</blockquote>
of course, this is little use for inputting (La)TeX source
code&hellip;

<p>
The <i class="package">moreverb</i> package extends the <i class="package">verbatim</i> package,
providing a <code class="environment">listing</code> environment and a <code>&#x5c;listinginput</code>
command, which line-number the text of the file.  The package also has
a <code>&#x5c;verbatimtabinput</code> command, that honours TAB characters in
the input (the package&rsquo;s <code class="environment">listing</code> environment and the
<code>&#x5c;listinginput</code> command also both honour TAB).

<p>
The <i class="package">sverb</i> package provides verbatim input (without recourse
to the facilities of the <i class="package">verbatim</i> package):
<blockquote>
<pre>
\usepackage{sverb}
...
\verbinput{verb.txt}
</pre>
</blockquote>

<p>
The <i class="package">fancyvrb</i> package offers configurable implementations of
everything <i class="package">verbatim</i>, <i class="package">sverb</i> and <i class="package">moreverb</i>
have, and more besides.  It is nowadays the package of choice for the
discerning typesetter of verbatim text, but its wealth of facilities
makes it a complex beast and study of the documentation is strongly
advised.

<p>
The <i class="class">memoir</i> class includes the relevant functionality of the
<i class="package">verbatim</i> and <i class="package">moreverb</i> packages.
<dl>
<dt class="ctanref">alltt.sty</dt><dd>Part of the LaTeX distribution.
<dt class="ctanref">fancyvrb.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyvrb">fancyvrb</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">moreverb.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/moreverb">moreverb</a>
<dt class="ctanref">sverb.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/sverb">mdwtools</a>
<dt class="ctanref">verbatim.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/verbatim">2etools</a>
</dl>

<p>
[[[Question]]][Q-linenos][[[LBRACE]]]Including line numbers in typeset output[[[RBRACE]]]

<p>
For general numbering of lines, there are two packages for use with
LaTeX, <i class="package">lineno</i> (which permits labels attached to
individual lines of typeset output) and <i class="package">numline</i>.
(<i class="package">Numline</i> is considered obsolete, but remains available from
the archive.)

<p>
Both of these packages play fast and loose with the LaTeX output
routine, which can cause problems: the user should beware&hellip;

<p>
If the requirement is for numbering verbatim text, <i class="package">moreverb</i>,
or <i class="package">fancyvrb</i> (see 
<a class="FAquestion.html" href="FAQ-verbfile.html">including files verbatim</a>) may be used.
Class <i class="class">memoir</i> also provides the necessary facilities.

<p>
One common use of line numbers is in critical editions of texts, and
for this the <i class="package">edmac</i> package offers comprehensive support;
<i class="package">ledmac</i> is a LaTeX port of <i class="package">edmac</i>.

<p>
The <i class="package">vruler</i> package sidesteps many of the problems associated
with line-numbering, by offering (as its name suggests) a rule that
numbers positions on the page.  The effect is good, applied to
even-looking text, but is poor in texts that involve breaks such as
interpolated mathematics or figures.  Documentation of the package, in
the package itself, is pretty tough going, though there is an example
(also inside the package file).
<dl>
<dt class="ctanref">edmac</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/edmac">edmac</a>
<dt class="ctanref">fancyvrb.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyvrb">fancyvrb</a>
<dt class="ctanref">ledmac.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ledmac">ledmac</a>
<dt class="ctanref">lineno.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lineno">lineno</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">moreverb.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/moreverb">moreverb</a>
<dt class="ctanref">numline.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/numline">numline</a>
<dt class="ctanref">vruler.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vruler">vruler</a>
</dl>

<p>
[[[Question]]][Q-codelist][[[LBRACE]]]Code listings in LaTeX[[[RBRACE]]]

<p>
&lsquo;Pretty&rsquo; code listings are sometimes considered worthwhile by the
&ldquo;ordinary&rdquo; programmer, but they have a serious place in
the typesetting of dissertations by computer science and other
students who are expected to write programs.  Simple verbatim listings
of programs are commonly useful, as well.

<p>

  <a href="FAQ-verbfile.html">Verbatim listings</a> are dealt with elsewhere,




as is the problem of 
<a href="FAQ-algorithms.html">typesetting algorithm specifications</a>.

<p>
The <i class="package">listings</i> package is widely regarded as the best bet for
formatted output (it is capable of parsing program source, within the
package itself), but there are several well-established packages that
rely on a pre-compiler of some sort.  You may use <i class="package">listings</i>
to typeset snippets that you include within your source:
<blockquote>
<pre>
\usepackage{listings}
\lstset{language=C}
...
\begin{document}
\begin{lstlisting}
#include <stdio.h>

int main(int argc, char ** argv)
{
  printf("Hello world!\n");
  return 0;
}
\end{lstlisting}
\end{document}
</pre>
</blockquote>
or you can have it typeset whole files:
<blockquote>
<pre>
\usepackage{listings}
\lstset{language=C}
...
\begin{document}
\lstinputlisting{main.c}
\end{document}
</pre>
</blockquote>
These very simple examples may be decorated in a huge variety of ways,
and of course there are other languages in the package&rsquo;s vocabulary
than just <i class="progname">C</i>&hellip;

<p>
For a long time, advice on (La)TeX lists seemed to regard
<i class="package">listings</i> as the be-all and end-all on this topic.  In the
last few years, viable alternatives have appeared

<p>
<i class="progname">Highlight</i> is attractive if you need more than one output
format for your program: as well as (La)TeX output,
<i class="progname">highlight</i> will produce (X)HTML, RTF
and XSL-FO representations of your program listing.  The
manual leads you through the details of defining a parameter file for
a &ldquo;new&rdquo; language, as well as the presentation details of a language.

<p>
The <i class="package">minted</i> package is another alternative that offers
the means of creating new language definitions.  It
requires that code be processed using an external (<i class="progname">python</i>)
script, <a href="http://pygments.org/"><i class="progname">Pygments</i></a>.
<i class="progname">Pygments</i>, in turn, needs a &ldquo;lexer&rdquo; that knows the
language you want to process; lots of these are available, for the
more commonly-used languages, and there is advice on &ldquo;rolling your
own&rdquo; on the 
<a href=&rsquo;http://pygments.org/docs/lexerdevelopment/&rsquo;><i class="progname">Pygments</i> site</a>

<p>
Usage of <i class="package">minted</i> can be as simple as
<blockquote>
  <code>&#x5c;begin</code><code>&#x7b;minted&#x7d;</code></code><code>&#x7b;&lsaquo;<i>language</i>&rsaquo;&#x7d;</code><br>
  &hellip;<br>
  <code>&#x5c;end</code><code>&#x7b;minted&#x7d;</code>
</blockquote>
which processes the program code dynamically, at typesetting time&nbsp;&mdash;
though such usage is likely to require that 
<a href="FAQ-spawnprog.html">separate processing be enabled</a>.

<p>
On a rather different path, the package <i class="package">showexpl</i> supports
typesetting (La)TeX code and its typeset output, in parallel
&lsquo;panes&rsquo;.  (Thiscould provide support for (La)TeX instruction texts,
or for papers in TeX user group publications.  The package uses
<i class="package">listings</i> for its (La)TeX pane, and typesets the result
into a simple box, for the other pane.

<p>
Longer-established, and variously less &ldquo;powerful&rdquo; systems include:
<ul>
<li> The <i class="progname">lgrind</i> system is a well-established
  pre-compiler, with all the facilities one might need and a wide
  repertoire of languages; it is derived from the even
  longer-established <i class="progname">tgrind</i>, whose output is based on
  Plain TeX.
<li> The <i class="progname">tiny_c2l</i> system is slightly more recent: users
  are again encouraged to generate their own driver files for
  languages it doesn&rsquo;t already deal with, but its &ldquo;tiny&rdquo; name
  correctly hints that it&rsquo;s not a particularly elaborate system.
<li> The <i class="progname">C++2LaTeX</i> system comes with strong
  recommendations for use with C and C++.
<li> An extremely simple system is <i class="progname">c2latex</i>, for which you
  write LaTeX source in your C program comments.  The
  program then converts your program into a LaTeX document for
  processing.  The program (implicitly) claims to be
  &ldquo;self-documenting&rdquo;.
</ul>
<dl>
<dt class="ctanref">c2latex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/c2latex">c2latex</a>
<dt class="ctanref">C++2LaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/c++2latex">c++2latex</a>
<dt class="ctanref">highlight</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/highlight">highlight</a>
<dt class="ctanref">lgrind</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lgrind">lgrind</a>
<dt class="ctanref">listings.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/listings">listings</a>
<dt class="ctanref">minted.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/minted">minted</a>
<dt class="ctanref">showexpl.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/showexpl">showexpl</a>
<dt class="ctanref">tgrind</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tgrind">tgrind</a>
<dt class="ctanref">tiny\_c2l</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tiny_c2l">tiny_c2l</a>
</dl>

<p class="lastedit">This answer last edited: 2013-03-28</p>

<p>
[[[Question]]][Q-algorithms][[[LBRACE]]]Typesetting pseudocode in LaTeX[[[RBRACE]]]

<p>
There is no consensus on the &lsquo;right&rsquo; way to typeset pseudocode.
Consequently, there are a variety of LaTeX packages to choose from
for producing &aelig;sthetically pleasing pseudocode listings.

<p>
Pseudocode differs from actual program listings in that it lacks
strict syntax and semantics.  Also, because pseudocode is supposed to
be a clear expression of an algorithm it may need to incorporate
mathematical notation, figures, tables, and other LaTeX features
that do not appear in conventional programming languages.
 
  <a href="FAQ-codelist.html">Typesetting program listings</a> is described
  elsewhere.






<p>
You can certainly create your own environment for typesetting
pseudocode using, for example, the <code class="environment">tabbing</code> or
<code class="environment">list</code> environments&nbsp;&mdash; it&rsquo;s not difficult, but it may
prove boring.  So it&rsquo;s worth trying the following packages, all
designed specifically for typesetting pseudocode.

<p>
The <i class="package">algorithms</i> bundle (which contains packages
<i class="package">algorithm</i> and <i class="package">algorithmic</i>, both of which are
needed for ordinary use) has a simple interface and produces fairly
nice output.  It provides primitives for statements, which can contain
arbitrary LaTeX commands, comments, and a set of iterative and
conditional constructs.  These primitives can easily be redefined to
produce different text in the output.  However, there is no support
for adding new primitives.  Typesetting the pseudocode itself is
performed in <i class="package">algorithmic</i>; the <i class="package">algorithms</i> package
uses the facilities of the <i class="package">float</i> package to number
algorithms sequentially, enable algorithms to float like figures or
tables, and support including a List of Algorithms in a document&rsquo;s
front matter.

<p>
Packages in the <i class="package">algorithmicx</i> bundle are similar both in
concept and output form to <i class="package">algorithmic</i> but additionally
provide support for adding new keywords and altering the formatting.
It provides the <i class="package">algpseudocode</i> package which is (almost) a
drop-in replacement for <i class="package">algorithmic</i>.  Another package in the
bundle, <i class="package">algpascal</i>, uses Pascal-like keywords, indents
differently from <i class="package">algpseudocode</i>, and puts command arguments
in maths mode instead of text mode.  There is no floating environment
but <i class="package">algorithmicx</i>, like <i class="package">algorithmic</i>, is compatible
with the <i class="package">algorithm</i> package.  (There have been reports of
difficulty defining new commands to fit with the package;
unfortunately, the author is not available to comment.)

<p>
The <i class="package">alg</i> package, like <i class="package">algorithms</i>, offers a
floating algorithm environment with all of the ensuing niceties.
<i class="package">alg</i>, however, can caption its floats in a variety of
(natural) languages.  In addition, <i class="package">alg</i> unlike
<i class="package">algorithms</i>, makes it easy to add new constructs.

<p>
The <i class="package">newalg</i> package has a somewhat similar interface to
<i class="package">algorithms</i>, but its output is designed to mimic the rather
pleasant typesetting used in the book &ldquo;<em>Introduction to Algorithms</em>&rdquo;
by Corman, Leiserson, Rivest and Stein. Unfortunately,
<i class="package">newalg</i> does not support a floating environment or any
customisation of the output.

<p>
&ldquo;<em>Bona fide</em>&rdquo; use of the style of &ldquo;Introduction to
Algorithms&rdquo; may be achieved with Cormen&rsquo;s own <i class="package">clrscode</i>:
this is the package as used in the second edition of the book.

<p>
Similarly, the style of 
&ldquo;<em>Combinatorial Algorithms: Generation, Enumeration and Search</em>&rdquo;
is supported by the <i class="package">pseudocode</i> package, written by the
authors of the book.  It has the common &lsquo;Pascal-like&rsquo; style, and has
some interesting constructs for what one thinks of as Pascal blocks.

<p>
The <i class="package">algorithm2e</i> is of very long standing, and is widely used
and recommended.  It loads the <i class="package">float</i> package to provide the
option of floating algorithm descriptions, but you can always use the
&ldquo;<tt>H</tt>&rdquo; option of <i class="package">float</i> to have the algorithm appear
&ldquo;where you write it&rdquo;.

<p>
The usage of the <i class="package">program</i> package is a little different from
that of the other packages.  It typesets programs in maths mode
instead of text mode; and linebreaks are significant.
<i class="package">program</i> lacks a floating environment but does number
algorithms like <i class="package">alg</i> and <i class="package">algorithms</i>.  Customisation
and extension are not supported.  Documentation of the
<i class="package">program</i> package (such as it is) appears in a file
<i class="filename">program.msg</i> in the distribution.

<p>
None of the above are perfect.  The factors that should influence your
choice of package include the output style you prefer, how much you
need to extend or modify the set of keywords, and whether you require
algorithms to float like figures and tables.















<dl>
<dt class="ctanref">algorithm2e.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/algorithm2e">algorithm2e</a>
<dt class="ctanref">algorithmicx bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/algorithmicx">algorithmicx</a>
<dt class="ctanref">algorithms bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/algorithms">algorithms</a>
<dt class="ctanref">alg.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/alg">alg</a>
<dt class="ctanref">clrscode.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/clrscode">clrscode</a>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">newalg.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newalg">newalg</a>
<dt class="ctanref">program.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/program">program</a>
<dt class="ctanref">pseudocode.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pseudocode">pseudocode</a>
</dl>

<p class="lastedit">This answer last edited: 2011-10-12</p>

<p>
[[[Question]]][Q-makeindex][[[LBRACE]]]Generating an index in (La)TeX[[[RBRACE]]]

<p>
Making an index is not trivial; what to index, and how to index it, is
difficult to decide, and uniform implementation is difficult to
achieve.  You will need to mark all items to be indexed in your text
(typically with <code>&#x5c;index</code> commands).

<p>
It is not practical to sort a large index within TeX, so a
post-processing program is used to sort the output of one TeX run,
to be included into the document at the next run.

<p>
The following programs are available:
<dl>
<dt class="description">makeindex</dt><dd> Comes with most distributions&nbsp;&mdash; a good workhorse,
  but is not well-arranged to deal with other sort orders than the
  canonical ASCII ordering.

<p>
  The <i class="package">makeindex</i> documentation is a good source of
  information on how to create your own index. <i class="package">Makeindex</i> can
  be used with some TeX
  macro packages other than LaTeX, such as 
  <a href="FAQ-eplain.html">Eplain</a>, and TeX (whose macros can
  be used independently with Plain TeX).
<dt class="description">idxtex</dt><dd> for LaTeX under VMS; <i class="progname">idxtex</i> comes
  with a glossary-maker <i class="progname">glotex</i>.
<dt class="description">texindex(1)</dt><dd> A witty little shell-script using <i class="progname">sed</i>
  and <i class="progname">awk</i>; designed for LaTeX under Unix.
<dt class="description">texindex(2)</dt><dd> The <a href="FAQ-texinfo.html">Texinfo</a> system also offers a program
  <i class="progname">texindex</i>, whose source is to be found in the
  <i class="progname">texinfo</i> distribution.  The <i class="package">ltxindex</i> package
  provides macros that enable LaTeX users to use this
  <i class="progname">texindex</i>.
<dt class="description">xindy</dt><dd> arose from frustration at the difficulty of making a
  multi-language version of <i class="progname">makeindex</i>.  It is designed to
  be a successor to <i class="progname">makeindex</i>, by a team that included the
  then-current maintainer of <i class="progname">makeindex</i>.  It successfully
  addresses many of <i class="progname">makeindex</i>&rsquo;s shortcomings, including
  difficulties with collation order in different languages, and it is
  highly flexible.

<p>
  <i class="progname">Xindy</i> itself will work with Unicode (UTF-8) encoded
  LaTeX input.  A separate application (<i class="progname">texindy</i>) deals
  with &lsquo;standard&rsquo; LaTeX source, processes it and passes
  &lsquo;sanitised&rsquo; text to <i class="progname">Xindy</i>.
</dl>
<dl>
<dt class="ctanref">idxtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/glo+idxtex">glo+idxtex</a>
<dt class="ctanref">ltxindex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ltxindex">ltxindex</a>
<dt class="ctanref">makeindex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/makeindex">makeindex</a>
<dt class="ctanref">makeindex (Macintosh)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/macmakeindex">macmakeindex</a>
<dt class="ctanref">texindex (the script)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texindex">texindex</a>
<dt class="ctanref">texindex (the program)</dt><dd>Distributed
  with <a class="ctan" href="https://www.ctan.org/pkg/texinfo">texinfo</a>
<dt class="ctanref">texsis (system)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texsis">texsis</a>
<dt class="ctanref">texsis (makeindex support)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texsis-index">texsis-index</a>
<dt class="ctanref">xindy</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xindy">xindy</a>
</dl>

<p>
[[[Question]]][Q-setURL][[[LBRACE]]]Typesetting URLs[[[RBRACE]]]

<p>
URLs tend to be very long, and contain characters that would
naturally prevent them being hyphenated even if they weren&rsquo;t typically
set in <code>&#x5c;ttfamily</code>, verbatim.  Therefore, without special treatment,
they often produce wildly overfull <code>&#x5c;hbox</code>es, and their typeset
representation is awful.

<p>
There are three packages that help solve this problem:
<ul>
<li> The <i class="package">path</i> package, which defines a <code>&#x5c;path</code> command.
  The command defines each potential break character as a
  <code>&#x5c;discretionary</code>, and offers the user the opportunity of
  specifying a personal list of potential break characters.  Its chief
  disadvantage is fragility in LaTeX moving arguments.  The

  <a href="FAQ-eplain.html">Eplain macros</a>&nbsp;&mdash; define a similar <code>&#x5c;path</code> command.

<p>
  <i class="package">Path</i>, though it works in simple situations, makes no
  attempt to work with LaTeX (it is irremediably fragile).  Despite
  its long and honourable history, it is no longer recommended for
  LaTeX use.
<li> The <i class="package">url</i> package, which defines an <code>&#x5c;url</code> command
  (among others, including its own <code>&#x5c;path</code> command).  The command
  gives each potential break character a maths-mode &lsquo;personality&rsquo;, and
  then sets the URL itself (in the user&rsquo;s choice of font) in
  maths mode.  It can produce (LaTeX-style) &lsquo;robust&rsquo; commands
  
  (see <a href="FAQ-protect.html">use of <code>&#x5c;protect</code></a>) for use
  within moving arguments.

<p>
  The package ordinarily ignores spaces in the URL, but
  unfortunately URLs that contain spaces do exist; to typeset
  them, call the package with the <code class="pkgoption">obeyspaces</code> option.  Two
  other useful options allow line breaks in the URL in places
  where they are ordinarily suppressed to avoid confusion:
  <code class="pkgoption">spaces</code> to allow breaks at spaces (note, this requires
  <code class="pkgoption">obeyspaces</code> as well, and <code class="pkgoption">hyphens</code> to allow
  breaks after hyphens.  (Note that the package <em>never</em> does
  &ldquo;ordinary&rdquo; hyphenation of names inside an URL.)

<p>
  It is possible to use the <i class="package">url</i> package in Plain TeX,
  with the assistance of the <i class="package">miniltx</i> package (which was
  originally developed for using the LaTeX graphics package in
  Plain TeX).  A small patch is also necessary: the required
  sequence is therefore:
<blockquote>

<pre>
\input miniltx
\expandafter\def\expandafter\+%
                \expandafter{\+}
\input url.sty
</pre>


<pre>
\input miniltx
\expandafter\def\expandafter\+\expandafter{\+}
\input url.sty
</pre>

</blockquote>
<li> The <i class="package">hyperref</i> package, which uses the typesetting code
  of <i class="package">url</i>, in a context where the typeset text forms the
  anchor of a link.
</ul>

<p>
The author of this answer prefers the (rather newer) <i class="package">url</i>
package (directly or indirectly); both <i class="package">path</i> and
<i class="package">url</i> work well with Plain TeX (though of course, the fancy
LaTeX facilities of <i class="package">url</i> don&rsquo;t have much place there).
(<i class="package">hyperref</i> isn&rsquo;t available in a version for use with Plain TeX.)

<p>
Note that neither <code>&#x5c;path</code> (from package <i class="package">path</i>) nor <code>&#x5c;url</code> (from
package <i class="package">url</i>) is robust (in the LaTeX sense).  If you need
a URL to go in a moving argument, you need the command
<code>&#x5c;urldef</code> from the <i class="package">url</i> package.  So one might write:
<blockquote>
<pre>
\urldef\faqhome\url{http://www.tex.ac.uk/faq}
</pre>
</blockquote>
after which, <code>&#x5c;faqhome</code> is robust.

<p>
Documentation of both package <i class="package">path</i> and package <i class="package">url</i>
is in the package files.
<dl>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">miniltx.tex</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/miniltx">graphics-plain</a>
<dt class="ctanref">path.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/path">path</a>
<dt class="ctanref">url.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/url">url</a>
</dl>

<p>
[[[Question]]][Q-music][[[LBRACE]]]Typesetting music in TeX[[[RBRACE]]]

<p>
The current best bet for music typesetting is to use
<i class="package">musixtex</i>.  <i class="package">Musixtex</i> is a three-pass system that
has a TeX-based pass, a processing pass and then a further TeX
pass.  The middle pass, a program called <i class="progname">musixflx</i>,
optimises the spacing and sorts out slurs and ties.
<i class="package">Musixtex</i> is demanding of TeX resources, and any
significant score requires that typesetting is done using e-TeX,
whose expanded variable- and box-register ranges allow for more of the
&ldquo;parallel&rdquo; activities that abound in a music score.
Of course, <i class="package">musixtex</i> also requires music fonts; those are
available in a separate package on the archive.

<p>
<i class="package">Musixtex</i> requires pretty arcane input; most people using it
actually prepare (less obscure) input for <i class="progname">pmx</i>, whose output
is TeX input suitable for <i class="package">musixtex</i>.

<p>
A further preprocessor, <i class="progname">M-Tx</i>, allows preparation of music
with lyrics; <i class="progname">M-Tx</i>&rsquo;s output is fed into <i class="progname">pmx</i>, and
thence to <i class="package">musixtex</i>.

<p>
An alternative path to music examples within a (La)TeX document is
<a href="http://www.lilypond.org"><i class="progname">Lilypond</i></a>.
<i class="progname">Lilypond</i> is (at heart) a batch music typesetting system
with plain text input that does most of its work without TeX.
<i class="progname">Lilypond</i>&rsquo;s input syntax is less cryptic than is
MusiXTeX&rsquo;s, though similar quality is achieved.  The
<i class="progname">lilypond</i>
<a href="http://lilypond.org/web/about/faq">FAQ</a> mentions programs
with graphical user interfaces, that export lilypond output.

<p>
For occasional music references (sharp and flat signs, notes, clefs
and so on, there is a (LaTeX) package (with associated font) called
<i class="package">lilyglyphs</i>.  This uses <i class="progname">lilypond</i>&rsquo;s fonts (which
are included in the package), and also provides the means to add stuff
from other sources.

<p>
Another alternative in the production of music is the ABC
notation, which was developed to notate the traditional music of
Western Europe (which can be written on a single stave), though it can
be used much more widely.  A front end to <i class="package">musictex</i> (see
below), <i class="progname">abc2mtex</i>, makes ABC typesetting possible.

<p>
The program <i class="progname">midi2tex</i> can also generate <i class="package">musictex</i>
output, from MIDI files.

<p>
The history of music in TeX goes back some time; the earliest
&ldquo;working&rdquo; macros were MuTeX, by Angelika Schofer and Andrea
Steinbach.  MuTeX was very limited, but it was some time before
Daniel Taupin took up the baton, and developed MusicTeX, which
allows the typesetting of polyphonic and other multiple-stave music;
MusicTeX remains available, but is no longer recommended.

<p>
The first version of MusixTeX was developed by Andreas Egler, but
he withdrew from the project to work on another package, OpusTeX.
That never reached the mainstream, and is no longer maintained.  The
current recommended way of doing OpusTeX&rsquo;s job is
<a href="http://home.gna.org/gregorio/"><i class="progname">gregorio</i></a>, which can
in principle feed into a TeX-based document.

<p>
Once Andreas Egler had withdrawn (his last version of
<i class="package">musixtex</i> is preserved on the archive), Daniel Taupin took up
the development, leading to the <i class="package">musixtex</i> used today.
<dl>
<dt class="ctanref">abc2mtex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/abc2mtex">abc2mtex</a>
<dt class="ctanref">lilyglyphs</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lilyglyphs">lilyglyphs</a>
<dt class="ctanref">M-Tx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/m-tx">m-tx</a>
<dt class="ctanref">midi2tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/midi2tex">midi2tex</a>
<dt class="ctanref">musictex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/musictex">musictex</a>

<dt class="ctanref">musixtex (Taupin&rsquo;s version)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/musixtex">musixtex</a>
<dt class="ctanref">musixtex (Egler&rsquo;s version)</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/musixtex-egler">musixtex-egler</a>
<dt class="ctanref">musixtex fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/musixtex-fonts">musixtex-fonts</a>
<dt class="ctanref">mutex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mutex">mutex</a>
<dt class="ctanref">pmx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pmx">pmx</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-27</p>

<p>
[[[Question]]][Q-parskip][[[LBRACE]]]Zero paragraph indent[[[RBRACE]]]

<p>
The conventional way of typesetting running text has no separation
between paragraphs, and the first line of each paragraph in a block of
text indented.

<p>
In contrast, one common convention for typewritten text was to have no
indentation of paragraphs; such a style is often required for
&ldquo;brutalist&rdquo; publications such as technical manuals, and in styles
that hanker after typewritten manuscripts, such as
officially-specified dissertation formats.

<p>
Anyone can see, after no more than a moment&rsquo;s thought, that if the
paragraph indent is zero, the paragraphs must be separated by blank
space: otherwise it is sometimes going to be impossible to see the
breaks between paragraphs.

<p>
The simple-minded approach to zero paragraph indentation is thus:
<blockquote>
<pre>
\setlength{\parindent}{0pt}
\setlength{\parskip}{\baselineskip}
</pre>
</blockquote>
and in the very simplest text, it&rsquo;s a fine solution.

<p>
However, the non-zero <code>&#x5c;parskip</code> interferes with lists and the like,
and the result looks pretty awful.  The <i class="package">parskip</i> package
patches things up to look reasonable; it&rsquo;s not perfect, but it deals
with most problems.

<p>
The Netherlands Users&rsquo; Group&rsquo;s set of classes includes an
<i class="class">article</i> equivalent (<i class="class">artikel3</i>) and a <i class="class">report</i>
equivalent (<i class="class">rapport3</i>) whose design incorporates zero paragraph
indent and non-zero paragraph skip.
<dl>
<dt class="ctanref">NTG classes</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ntgclass">ntgclass</a>
<dt class="ctanref">parskip.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/parskip">parskip</a>
</dl>

<p class="lastedit">This answer last edited: 2011-04-01</p> 

<p>
[[[Question]]][Q-dropping][[[LBRACE]]]Big letters at the start of a paragraph[[[RBRACE]]]

<p>
A common style of typesetting, now seldom seen except in newspapers,
is to start a paragraph (in books, usually the first of a chapter)
with its first letter set large enough to span several lines.

<p>
This style is known as &ldquo;dropped capitals&rdquo;, or (in French)
&laquo;lettrines&raquo;,
and TeX&rsquo;s primitive facilities for hanging indentation make its
(simple) implementation pretty straightforward.

<p>
The <i class="package">dropping</i> package does the job simply, but has a curious
attitude to the calculation of the size of the font to be used for the
big letters.  Examples appear in the package documentation, so before
you process the <code class="extension">dtx</code>, the package itself must already be
installed.  Unfortunately, <i class="package">dropping</i> has an intimate relation
to the set of device drivers available in an early version of the
LaTeX graphics package, and it cannot be trusted to work with
modern offerings such as PDFTeX or DVIpdfm, let
alone such modernisms as XeTeX.  As a result, the package is widely
deprecated, nowadays.

<p>
The more recent <i class="package">lettrine</i> package is generally more reliable.
It has a well-constructed array of options, and an impressive set of
examples adds to the package&rsquo;s document.
<dl>
<dt class="ctanref">dropping</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dropping">dropping</a>
<dt class="ctanref">lettrine</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lettrine">lettrine</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-22</p>

<p>
[[[Question]]][Q-dec_comma][[[LBRACE]]]The comma as a decimal separator[[[RBRACE]]]

<p>
TeX embodies the British/American cultural convention of using a
period as the separator between the whole number and the decimal
fraction part of a decimal number.  Other cultures use a comma as
separator, but if you use a comma in maths mode you get a small space
after it; this space makes a comma that is used as a decimal separator
look untidy.

<p>
A simple solution to this problem, in maths mode, is to type
<tt>3</tt>&#x7b;,&#x7d;<tt>14</tt> in place of <tt>3,14</tt>.  While such a
technique may produce the right results, it is plainly not a
comfortable way to undertake any but the most trivial amounts of
typing numbers.

<p>
Therefore, if you need to use commas as decimal separator, you will
probably welcome macro support.  There are two packages that
can help relieve the tedium: <i class="package">icomma</i> and <i class="package">ziffer</i>.

<p>
<i class="package">Icomma</i> ensures that there will be no extra space after a
comma, unless you type a space after it (as in <tt>f(x, y)</tt>&nbsp;&mdash; in
the absence of the package, you don&rsquo;t need that space), in which case
the usual small space after the comma appears.  <i class="package">Ziffer</i> is
specifically targeted at the needs of those typesetting German, but
covers the present need, as well as providing the double-minus sign
used in German (and other languages) for the empty &lsquo;cents&rsquo; part of an
amount of currency.

<p>
The <i class="package">numprint</i> package provides a command
<code>&#x5c;numprint</code><code>&#x7b;number&#x7d;</code> that prints its argument according to
settings you give it, or according to settings chosen to match the
language you have selected in <i class="package">babel</i>.  The formatting works
equally well in text or maths.  The command is very flexible (it can also
group the digits of very &lsquo;long&rsquo; numbers), but is inevitably less
convenient than <i class="package">icomma</i> or <i class="package">ziffer</i> if you are typing a
lot of numbers.
<dl>
<dt class="ctanref">icomma.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/icomma">was</a>
<dt class="ctanref">numprint.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/numprint">numprint</a>
<dt class="ctanref">ziffer.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ziffer">ziffer</a>
</dl>

<p>
[[[Question]]][Q-breakbox][[[LBRACE]]]Breaking boxes of text[[[RBRACE]]]

<p>
(La)TeX boxes may not be broken, in ordinary usage: once you&rsquo;ve
typeset something into a box, it will stay there, and the box will jut
out beyond the side or the bottom of the page if it doesn&rsquo;t fit in the
typeset area.

<p>
If you want a substantial portion of your text to be framed (or
coloured), the restriction imposes a serious restriction.
Fortunately, there are ways around the problem.

<p>
The <i class="package">framed</i> package provides <code class="environment">framed</code> and
<code class="environment">shaded</code> environments; both put their content into
something which looks like a framed (or coloured) box, but which
breaks as necessary at page end.  The environments &ldquo;lose&rdquo; footnotes,
marginpars and head-line entries, and will not work with
<i class="package">multicol</i> or other column-balancing macros.  The
<i class="class">memoir</i> class includes the functionality of the
<i class="package">framed</i> package.

<p>
The <i class="package">mdframed</i> package does the same job, using a different
algorithm.  The package also provides means of defining
&lsquo;private&rsquo; framed environments, whose parameters are set at definition
time, thus saving considerable effort in documents with many framed
boxes.  Its restrictions seem much the same as those of
<i class="package">framed</i>; this is as one would expect, but the list is
noticeably different in the two packages&rsquo; documentation.

<p>
The <i class="package">boites</i> package provides a <code class="environment">breakbox</code>
environment; examples of its use may be found in the distribution, and
the package&rsquo;s <i class="filename">README</i> file contains terse documentation.  The
environments may be nested, and may appear inside
<code class="environment">multicols</code> environments; however, floats, footnotes and
marginpars will be lost.

<p>
For Plain TeX users, the facilities of the <i class="package">backgrnd</i>
package may be useful; this package subverts the output routine to
provide vertical bars to mark text, and the macros are clearly marked
to show where coloured backgrounds may be introduced (this requires
<i class="package">shade</i>, which is distributed as tex macros and
device-independent MetaFont for the shading).  The author of
<i class="package">backgrnd</i> claims that the package works with LaTeX 2.09, but
there are reasons to suspect that it may be unstable working with
current LaTeX.
<dl>
<dt class="ctanref">backgrnd.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/backgrnd">backgrnd</a>
<dt class="ctanref">boites.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/boites">boites</a>
<dt class="ctanref">framed.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/framed">framed</a>
<dt class="ctanref">mdframed.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mdframed">mdframed</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">shade.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/shade">shade</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-14</p>

<p>
[[[Question]]][Q-overstrike][[[LBRACE]]]Overstriking characters[[[RBRACE]]]

<p>
This may be used, for example, to indicate text deleted in the course
of editing.  Both the <i class="package">ulem</i> and the <i class="package">soul</i> packages
provide the necessary facilities.

<p>
Overstriking with an &ldquo;attached&rdquo; comment may be achieved using the
<i class="package">pdfcomment</i> package, to which you can give optional arguments
with all sorts of detail.  The comment text is encoded using an Adobe
&lsquo;annotation&rsquo;; unfortunately, support for these annotations is not a
common feature of PDF viewers, but if you can safely assume
that your audience will use <i class="progname">Acrobat Reader</i>, the facility
provides that extra &ldquo;shine&rdquo; that business users so love.

<p>
Overstriking for 
<a href="FAQ-cancellation.html">cancellation in maths expressions</a> is achieved
by a different mechanism.

<p>
Documentation of <i class="package">ulem</i> is in the package file.
<dl>
<dt class="ctanref">pdfcomment.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdfcomment">pdfcomment</a>
<dt class="ctanref">soul.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/soul">soul</a>
<dt class="ctanref">ulem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ulem">ulem</a>
</dl>

<p class="lastedit">This answer last edited: 2013-08-29</p>

<p>
[[[Question]]][Q-upquot][[[LBRACE]]]Realistic quotes for verbatim listings[[[RBRACE]]]

<p>
The <tt>cmtt</tt> font has &ldquo;curly&rdquo; quotes,
which are pleasing on the eye, but don&rsquo;t really tally with what one
sees on a modern 
<i class="progname">xterm</i>.

<p>
The appearance of these quotes is critical in program listings,
particularly in those of Unix-like shell scripts.  The
<i class="package">upquote</i> package modifies the behaviour of the
<code class="environment">verbatim</code> environment so that the output is a clearer
representation of what the user must type.
<dl>
<dt class="ctanref">upquote.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/upquote">upquote</a>
</dl>

<p>
[[[Question]]][Q-time][[[LBRACE]]]Printing the time[[[RBRACE]]]

<p>
TeX has a primitive register that contains &ldquo;the number of minutes
since midnight&rdquo;; with this knowledge it&rsquo;s a moderately simple
programming job to print the time (one that no self-respecting
Plain TeX user would bother with anyone else&rsquo;s code for).

<p>
However, LaTeX provides no primitive for &ldquo;time&rdquo;, so the
non-programming LaTeX user needs help.

<p>
Two packages are available, both providing ranges of ways of printing
the date, as well as of the time: this question will concentrate on
the time-printing capabilities, and interested users can investigate
the documentation for details about dates.

<p>
The <i class="package">datetime</i> package defines two time-printing functions:
<code>&#x5c;xxivtime</code> (for 24-hour time), <code>&#x5c;ampmtime</code> (for 12-hour time) and
<code>&#x5c;oclock</code> (for time-as-words, albeit a slightly eccentric set of
words).

<p>
The <i class="package">scrtime</i> package (part of the compendious
<i class="class">KOMA-Script</i> bundle) takes a package option (<code class="pkgoption">12h</code> or
<code class="pkgoption">24h</code>) to specify how times are to be printed.  The command
<code>&#x5c;thistime</code> then prints the time appropriately (though there&rsquo;s no
<em>am</em> or <em>pm</em> in <code class="pkgoption">12h</code> mode).  The <code>&#x5c;thistime</code>
command also takes an optional argument, the character to separate the
hours and minutes: the default is of course <tt>:</tt>.
<dl>
<dt class="ctanref">datetime.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/datetime">datetime</a>
<dt class="ctanref">scrtime.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p>
[[[Question]]][Q-the-commands][[[LBRACE]]]Redefining counters&rsquo; <code>&#x5c;the-</code>commands[[[RBRACE]]]

<p>
Whenever you request a new LaTeX counter, LaTeX creates a bunch
of behind-the-scenes commands, as well as defining the counter
itself.

<p>
Among other things, <code>&#x5c;newcounter</code><code>&#x7b;fred&#x7d;</code> creates a command
<code>&#x5c;the</code><tt><em>fred</em></tt>, which expands to &ldquo;the value of
<tt><em>fred</em></tt>&rdquo; when you&rsquo;re typesetting.

<p>
The definition of <code>&#x5c;the</code><tt><em>fred</em></tt> should express the
value of the counter: it is almost always always a mistake to use the
command to produce anything else.  The value may reasonably be
expressed as an arabic, a roman or a greek number, as an alphabetic
expression, or even as a sequence (or pattern of) symbols.  If you
need a decision process on whether to re-define
<code>&#x5c;the</code><tt><em>fred</em></tt>, consider what might happen when you do
so.

<p>
So, for example, if you want your section numbers to be terminated by
a period, you could make <code>&#x5c;thesection</code> expand with a terminating
period.  However, such a change to <code>&#x5c;thesection</code> makes the
definition of <code>&#x5c;thesubsection</code> look distinctly odd: you are going to
find yourself redefining things left, right and centre.  Rather, use
the standard techniques for 
<a href="FAQ-seccntfmt.html">adjusting the presentation of section numbers</a>. 

<p>
Or, suppose you want the page number to appear at the bottom of each
page surrounded by dashes (as in
&ldquo;<tt>-</tt><tt>-&#x7e;</tt><tt>nnn&#x7e;-</tt><tt>-</tt>&rdquo;).
If you try to achieve this by redefining <code>&#x5c;thepage</code>, problems will
arise from the use of the page number in the table of contents (each
number will have the dashes attached), and <code>&#x5c;pageref</code> references
will be oddly modified.  In this case, the change of appearance is
best done by redefining the page style itself, perhaps using
<a href="FAQ-fancyhdr.html">package <i class="package">fancyhdr</i></a>.

<p>

<p>

<p>
[[[Question]]][Q-tocloft][[[LBRACE]]]The format of the Table of Contents, etc.[[[RBRACE]]]

<p>
The formats of entries in the table of contents (TOC) are
controlled by a number of internal commands (discussed in section&nbsp;2.3
of <a href="FAQ-latex-books.html"><em>The LaTeX Companion</em></a>.  The commands
<code>&#x5c;@pnumwidth</code>, <code>&#x5c;@tocrmarg</code> and <code>&#x5c;@dotsep</code> control the space
for page numbers, the indentation of the right-hand margin, and the
separation of the dots in the dotted leaders, respectively.  The
series of commands named <code>&#x5c;l@<em>xxx</em></code>, where <tt><em>xxx</em></tt>
is the name of a sectional heading (such as <tt>chapter</tt> or
<tt>section</tt>, &hellip;) control the layout of the corresponding
heading, including the space for section numbers.  All these internal
commands may be individually redefined to give the effect that you
want.

<p>
All that work may be avoided, using the package <i class="package">tocloft</i>
which provides a set of user-level commands that may be used to change
the TOC formatting.  Since exactly the same mechanisms are used
for the List of Figures and List of Tables, the layout of these
sections may be controlled in the same way.

<p>
The <i class="package">etoc</i> package offers similar flexibility, together with
multicolumn tables of contents and boxes around tables (and the like).

<p>
The <i class="class">KOMA-Script</i> classes provides an optional variant structure
for the table of contents, and calculates the space needed for the
numbers automatically.  The <i class="class">memoir</i> class includes the functionality
of <i class="package">tocloft</i>.
<dl>
<dt class="ctanref">etoc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etoc">etoc</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">tocloft.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocloft">tocloft</a>
</dl>

<p class="lastedit">This answer last edited: 2012-12-07</p>

<p>
[[[Question]]][Q-secnumdep][[[LBRACE]]]Unnumbered sections in the Table of Contents[[[RBRACE]]]

<p>
The way the relevant parts of sectioning commands work is exemplified
by the way the <code>&#x5c;chapter</code> command uses the counter <tt>secnumdepth</tt>
(described in Appendix&nbsp;C of the LaTeX manual):
<ol>
<li> put something in the <code class="extension">aux</code> file, which will appear in
  the <code class="extension">toc</code>;




<li> if the <tt>secnumdepth</tt> counter is greater than or equal to
  zero,

  increase the counter for the chapter and write it out.
<li> write the chapter title.
</ol>
Other sectioning commands are similar, but with other values used in
the test.

<p>
So a simple way to get headings of funny &lsquo;sections&rsquo; such as prefaces
in the table of contents is to use the counter:
<blockquote>
<pre>
\setcounter{secnumdepth}{-1}
\chapter{Preface}
</pre>
</blockquote>
Unfortunately, you have to set <tt>secnumdepth</tt> back to its usual
value (which is&nbsp;2 in the standard styles) before you do any &lsquo;section&rsquo;
which you want to be numbered.

<p>
Similar settings are made, automatically, in the LaTeX book class by
the <code>&#x5c;frontmatter</code> and <code>&#x5c;backmatter</code> commands.

<p>
The value of the counter <tt>tocdepth</tt> controls which headings
will be finally printed in the table of contents; it is normally set
in the preamble and is a constant for the document.  The package
<i class="package">tocvsec2</i> package takes the tedium out of changing the
<tt>secnumdepth</tt> and/or the <tt>tocdepth</tt> counter values at
any point in the body of the document; the commands (respectively)
<code>&#x5c;setsecnumdepth</code> and <code>&#x5c;settocdepth</code> make the changes based on
the <em>name</em> of the sectional unit (<tt>chapter</tt>,
<tt>section</tt>, etc.).

<p>
The package <i class="package">abstract</i> (see 
<a class="FAquestion.html" href="FAQ-onecolabs.html">one-column abstracts</a>) includes an option
to add the <tt>abstract</tt> to the table of contents, while the
package <i class="package">tocbibind</i> has options to include the table of
contents itself, the <tt>bibliography</tt>, <tt>index</tt>, etc., to
the table of contents.

<p>
The <i class="class">KOMA-Script</i> classes have commands <code>&#x5c;addchap</code> and
<code>&#x5c;addled</code>, which work like <code>&#x5c;chapter</code> and <code>&#x5c;section</code> but
aren&rsquo;t numbered.  The <i class="class">memoir</i> class incorporates the facilities
of all three of the <i class="package">abstract</i>, <i class="package">tocbibind</i> and
<i class="package">tocvsec2</i> packages.
<dl>
<dt class="ctanref">abstract.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/abstract">abstract</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">tocbibind.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocbibind">tocbibind</a>
<dt class="ctanref">tocvsec2.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocvsec2">tocvsec2</a>
</dl>

<p>
[[[Question]]][Q-tocbibind][[[LBRACE]]]Bibliography, index, etc., in TOC[[[RBRACE]]]

<p>
The standard LaTeX classes (and many others) use <code>&#x5c;section*</code> or
<code>&#x5c;chapter*</code> for auto-generated parts of the document (the tables of
contents, lists of figures and tables, the bibliography and the index).  As a
result, these items aren&rsquo;t numbered (which most people don&rsquo;t mind),
and (more importantly) they don&rsquo;t appear in the table of contents.

<p>
The correct solution (as always) is to have a class of your own that
formats your document according to your requirements.  The macro to do
the job (<code>&#x5c;addcontentsline</code>) is fairly simple, but there is always
an issue of ensuring that the contents entry quotes the correct page.
Supposing that our the document is chapter-based (class <i class="class">report</i>
or <i class="class">book</i>, for example), the text:
<blockquote>
<pre>
\bibliography{frooble}
\addcontentsline{toc}{chapter}{Bibliography}
</pre>
</blockquote>
will produce the <em>wrong</em> answer if the bibliography is more than
one page long.  Instead, one should say:
<blockquote>
<pre>
\cleardoublepage
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{frooble}
</pre>
</blockquote>
(Note that <code>&#x5c;cleardoublepage</code> does the right thing, even if your
document is single-sided&nbsp;&mdash; in that case, it&rsquo;s a synonym for
<code>&#x5c;clearpage</code>).  Ensuring that the entry refers to the right place is
trickier still in a <code>&#x5c;section</code>-based class.

<p>
If you are using <i class="package">hyperref</i> (which will link entries in the
table of contents to the relevant place in the file), a slight
adjustment is necessary:
<blockquote>
<pre>
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{frooble}
</pre>
</blockquote>
The extra command (<code>&#x5c;phantomsection</code>) gives <i class="package">hyperref</i>
something to &ldquo;hold on to&rdquo; when making the link.

<p>
The common solution, therefore, is to use the <i class="package">tocbibind</i>
package, which provides many facilities to control the way these
entries appear in the table of contents.

<p>
Classes of the <i class="class">KOMA-script</i> bundle provide this functionality
as a set of class options (e.g., <code class="pkgoption">bibtotoc</code> to add the
bibliography to the table of contents); the <i class="class">memoir</i> class includes
<i class="package">tocbibind</i> itself.
<dl>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">tocbibind.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocbibind">tocbibind</a>
</dl>

<p>
[[[Question]]][Q-minitoc][[[LBRACE]]]Table of contents, etc., per chapter[[[RBRACE]]]

<p>
The common style, of a &ldquo;small&rdquo; table of contents for each part,
chapter, or even section, is supported by the <i class="package">minitoc</i>
package.  The package also supports mini-lists of tables and figures;
but, as the documentation observes, mini-bibliographies present a
different problem&nbsp;&mdash; see
<a class="FAquestion.html" href="FAQ-chapbib.html">bibliographies per chapter</a>.

<p>
The package&rsquo;s basic scheme is to generate a little <code class="extension">aux</code> file for
each chapter, and to process that within the chapter.  Simple usage
would be:
<blockquote>
<pre>
\usepackage{minitoc}
...
\begin{document}
...
\dominitoc \tableofcontents
\dominilof \listoffigures
...
\chapter{blah blah}
\minitoc \mtcskip \minilof
...
</pre>
</blockquote>
though a lot of elaborations are possible (for example, you don&rsquo;t need
a <code>&#x5c;minitoc</code> for every chapter).

<p>
<i class="package">Babel</i> doesn&rsquo;t know about <i class="package">minitoc</i>, but
<i class="package">minitoc</i> makes provision for other document languages than
English&nbsp;&mdash; a wide variety is available.  Fortunately, the current
version of the <i class="package">hyperref</i> package does know about
<i class="package">minitoc</i> and treats <code>&#x5c;minitoc</code> tables in the
same way as &ldquo;real&rdquo; tables of contents.
<dl>
<dt class="ctanref">babel.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/babel">babel</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">minitoc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/minitoc">minitoc</a>
</dl>

<p class="lastedit">This answer last edited: 2013-03-05</p>

<p>
[[[Question]]][Q-multind][[[LBRACE]]]Multiple indexes[[[RBRACE]]]

<p>
LaTeX&rsquo;s standard indexing capabilities (those provided by the
<i class="package">makeidx</i> package) only provide for one index in your
document; even quite modest documents can be improved by indexes for
separate topics.

<p>
The <i class="package">multind</i> package provides simple and straightforward
multiple indexing.  You tag each <code>&#x5c;makeindex</code>, <code>&#x5c;index</code> and
<code>&#x5c;printindex</code> command with a file name, and indexing commands are
written to (or read from) the name with the appropriate (<code class="extension">idx</code> or
<code class="extension">ind</code>) extension appended.  The <code>&#x5c;printindex</code> command is modified
from an old version of the LaTeX 2.09 standard so that it doesn&rsquo;t
create its own chapter or section heading; you therefore decide what
names (or sectioning level, even) to use for the indexes, and
<a href="FAQ-fixnam.html"><code>&#x5c;indexname</code></a> is completely ignored.

<p>
To create a &ldquo;general&rdquo; and an &ldquo;authors&rdquo; index, one might write:
<blockquote>
<pre>
\usepackage{multind}
\makeindex{general}
\makeindex{authors}
...
\index{authors}{Eccentric Professor}
...
\index{general}{FAQs}
...
\printindex{general}{General index}
\printindex{authors}{Author index}
</pre>
</blockquote>
To complete the job, run LaTeX on your file enough times that
labels, etc., are stable, and then execute the commands
<blockquote>
<pre>
makeindex general
makeindex authors
</pre>
</blockquote>
before running LaTeX again.  Note that the names of the index files
to process are not necessarily related to the name of the LaTeX
file you&rsquo;re processing, at all.  (There&rsquo;s no documentation that comes
with the package: what you see above is as good as you will
get&hellip;)

<p>
The <i class="package">multind</i> package doesn&rsquo;t work with the 
<a href="FAQ-AMSpkg.html">AMSLaTeX classes</a>, but the AMS provide a
substitute, the <i class="package">amsmidx</i> package.  You use the
<i class="package">amsmidx</i> package pretty much the same as you would
<i class="package">multind</i>, but if things aren&rsquo;t clear, there <em>is</em>
documentation (unlike <i class="package">multind</i>).

<p>
The <i class="package">index</i> package provides a comprehensive set of indexing
facilities, including a <code>&#x5c;newindex</code> command that allows the
definition of new styles of index.  <code>&#x5c;newindex</code> takes a &lsquo;tag&rsquo; (for
use in indexing commands), replacements for the <code class="extension">idx</code> and
<code class="extension">ind</code> file extensions, and a title for the index when it&rsquo;s
finally printed; it can also change the item that&rsquo;s being indexed
against (for example, one might have an index of artists referenced by
the figure number where their work is shown).

<p>
Using <i class="package">index</i>, to create an author index together with a
&ldquo;normal&rdquo; index, one would start with preamble commands:
<blockquote>
<pre>
\usepackage{index}
\makeindex
\newindex{aut}{adx}{and}{Name Index}
</pre>
</blockquote>
which load the package, define a &ldquo;main&rdquo; (original-style) index, and
then define an author index.  Then, in the body of the document, we
might find commands like:
<blockquote>
<pre>
\index[aut]{Another Idiot}
...
\index{FAQs}
</pre>
</blockquote>
Which place an entry in the author index, and then one in the main
index.  At the end of the document, we have two commands:
<blockquote>
<pre>
\printindex
\printindex[aut]
</pre>
</blockquote>
Which will print the main index and then the author index.  Supposing
this lot to be in <i class="filename">myfile.tex</i>, after enough runs through
LaTeX that labels are stable, execute the following commands
(Unix-style shell commands shown here, but the principle is the same
whatever system you&rsquo;re using):
<blockquote>
<pre>
makeindex myfile
makeindex myfile.adx -o myfile.and
</pre>
</blockquote>
and rerun LaTeX.  The <i class="progname">makeindex</i> commands process
<i class="filename">myfile.idx</i> to <i class="filename">myfile.ind</i> (the default action), and then
<i class="filename">myfile.adx</i> to <i class="filename">myfile.and</i>, the two files needed as input
by the two <code>&#x5c;printindex</code> commands in <i class="filename">myfile.tex</i>.

<p>
The <i class="package">splitidx</i> package can operate in the same way as the
others: load the package with the <code class="pkgoption">split</code> option, and
declare each index with a <code>&#x5c;newindex</code> command:
<blockquote>
  <code>&#x5c;newindex</code><code>[&lsaquo;<i>index name</i>&rsaquo;]</code></code><code>&#x7b;&lsaquo;<i>shortcut</i>&rsaquo;&#x7d;</code>
</blockquote>
and <i class="package">splitidx</i> will generate a file
<code>&#x5c;jobname</code><tt>.&lsaquo;<i>shortcut</i>&rsaquo;</tt> to receive index entries
generated by commands like <code>&#x5c;sindex</code><code>[&lsaquo;<i>shortcut</i>&rsaquo;]</code></code><code>&#x7b;&lsaquo;<i>item</i>&rsaquo;&#x7d;</code>.
As with the other packages, this method is limited by TeX&rsquo;s total
number of output files.  However, <i class="package">splitindex</i> also comes with
a small executable <i class="progname">splitindex</i> (available for a variety of
operating systems); if you use this auxiliary program (and don&rsquo;t use
<code class="pkgoption">split</code>), there&rsquo;s no limit to the number of indexes.  Apart
from this trick, <i class="package">splitidx</i> supports the same sorts of things
as does <i class="package">index</i>.  An example of use appears in
the documentation.

<p>
The <i class="package">imakeidx</i> package can do a wide range of things (in particular,
it can run an index-builder&nbsp;&mdash; via 
<a href="FAQ-spawnprog.html"><code>&#x5c;write18</code> commands</a>&nbsp;&mdash; so as to simplify
business of making the final copy of a document).  The package can
also make multiple indexes; it can do the job in the conventional
(<i class="package">multind</i>) way, or by using the external
<i class="progname">splitindex</i> script provided with the <i class="package">splitindex</i>
package.  (This arrangement allows efficient operation with small
numbers of indexes, while retaining the flexibility of permitting
large numbers of indexes without hitting the restriction of numbers of
active output streams.)

<p>
The <i class="class">memoir</i> class has its own multiple-index functionality (as
well as its own index layout options, which other packages delegate to
the index style used by <i class="progname">makeindex</i>).
<dl>
<dt class="ctanref">amsmidx.sty</dt><dd>Part of the AMS class distribution
  <a class="ctan" href="https://www.ctan.org/pkg/amsmidx">amscls</a>
<dt class="ctanref">imakeidx.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/imakeidx">imakeidx</a>
<dt class="ctanref">index.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/index">index</a>
<dt class="ctanref">makeidx.sty</dt><dd>Part of the LaTeX distribution
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">multind.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multind">multind</a>
<dt class="ctanref">splitidx.sty and  splitindex</dt><dd>
  <a class="ctan" href="https://www.ctan.org/pkg/splitindex">splitindex</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-nameref][[[LBRACE]]]Referring to things by their name[[[RBRACE]]]

<p>
LaTeX&rsquo;s labelling mechanism is designed for the impersonal world of
the academic publication, in which everything has a number: an
extension is necessary if we are to record the <em>name</em> of things
we&rsquo;ve labelled.  The two packages available extend the LaTeX
sectioning commands to provide reference by the name of the section.

<p>
The <i class="package">titleref</i> package is a simple extension which provides
the command <code>&#x5c;titleref</code>; it is a stand-alone package&nbsp;&mdash; don&rsquo;t use it
in a document in which you also need to use <i class="package">hyperref</i>.

<p>
The <i class="package">byname</i> package is part of the <i class="package">smartref</i> bundle
and works well with <i class="package">smartref</i>, and works (to an extent) with
<i class="package">hyperref</i>, but the links it defines are not hyperlinks.

<p>
The <i class="class">memoir</i> class incorporates the functionality of
<i class="package">titleref</i>, but doesn&rsquo;t work with <i class="package">byname</i> (though a
search of <i class="newsgroup">comp.text.tex</i> on <a href="groups.google.com">groups.google.com</a> will
find a patch to <i class="package">byname</i> to remedy the problem).

<p>
The <i class="package">hyperref</i> bundle includes a package <i class="package">nameref</i>,
which will work standing alone (i.e., without <i class="package">hyperref</i>: of
course, in this mode its references are not hyperlinked).  If you load
<i class="package">hyperref</i> itself, <i class="package">nameref</i> is automatically loaded.
<i class="class">Memoir</i> requires the <i class="package">memhfixc</i> when running with
<i class="package">hyperref</i>; following the sequence:
<blockquote>
<pre>
\documentclass[...]{memoir}
...
\usepackage[...]{hyperref}
\usepackage{memhfixc}
</pre>
</blockquote>
<i class="package">nameref</i> commands may be used in a <i class="class">memoir</i> document.

<p>
<i class="package">Zref</i> defines a proposed replacement for all of the LaTeX
reference mechanisms, and among other things provides
name-referencing mechanisms:
<blockquote>
<pre>
\usepackage[user,titleref]{zref}
...
\section{hello}\zlabel{sec:one}
The section name is: \ztitleref{sec:one}.
</pre>
</blockquote>
(One might hope that something of this sort would be the &ldquo;way of the
future&rdquo;, but things move slowly in the LaTeX world: don&rsquo;t hold
your breath.) 

<p>
Each of <i class="package">titleref</i>, <i class="package">byname</i> and <i class="package">nameref</i>
defines a reference command with the same name as the package:
<code>&#x5c;titleref</code>, <code>&#x5c;byname</code> and <code>&#x5c;nameref</code>. The <i class="package">nameref</i>
package also defines a command <code>&#x5c;byshortnameref</code>, which uses the
optional &lsquo;short&rsquo; title argument to the chapter and section commands.
(Although it comes from the same author, <i class="package">zref</i> <em>doesn&rsquo;t</em>
define a short-name variant.)
<dl>
<dt class="ctanref">byname.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/smartref">smartref</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">nameref.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
<dt class="ctanref">smartref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/smartref">smartref</a>
<dt class="ctanref">titleref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/titleref">titleref</a>
<dt class="ctanref">zref.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/zref">oberdiek</a>
</dl>

<p>
[[[Question]]][Q-extref][[[LBRACE]]]Referring to labels in other documents[[[RBRACE]]]

<p>
When producing a set of inter-related documents, you&rsquo;ll often want to
refer to labels in another document of the set; but LaTeX, of its
own accord, doesn&rsquo;t permit this.

<p>
So the package <i class="package">xr</i> was written: if you say
<blockquote>
<pre>
\usepackage{xr}
\externaldocument{volume1}
</pre>
</blockquote>
will load all the references from <i class="filename">volume1</i> into your present
document.

<p>
But what if the documents both have a section labelled
&ldquo;<code class="environment">introduction</code>&rdquo; (likely enough, after all)?  The
package provides a means to transform all the imported labels, so you
don&rsquo;t have to change label names in either document.  For example:
<blockquote>
<pre>
\usepackage{xr}
\externaldocument[V1-]{volume1}
</pre>
</blockquote>
loads the references from <i class="filename">volume1</i>, but prefixes every one with
the string <tt>V1-</tt>.  So you would refer to the introduction to volume&nbsp;1
as:
<blockquote>

<pre>
\usepackage{xr}
\externaldocument[V1-]{volume1}
...
... the introduction to volume1
               (\ref{V1-introduction})...
</pre>


<pre>
\usepackage{xr}
\externaldocument[V1-]{volume1}
...
... the introduction to volume1 (\ref{V1-introduction})...
</pre>

</blockquote>
To have the facilities of <i class="package">xr</i> working with
<i class="package">hyperref</i>, you need <i class="package">xr-hyper</i>.  For simple
hyper-cross-referencing (i.e., to a local PDF file you&rsquo;ve just
compiled), write:
<blockquote>
<pre>
\usepackage{xr-hyper}
\usepackage{hyperref}
\externaldocument[V1-]{volume1}
...
... the \nameref{V1-introduction})...
</pre>
</blockquote>
and the name reference will appear as an active link to the
&ldquo;introduction&rdquo; chapter of <i class="filename">volume1.pdf</i>.

<p>
To link to a PDF document on the Web, for which you happen to
have the .aux file, write:
<blockquote>

<pre>
\usepackage{xr-hyper}
\usepackage{hyperref}
\externaldocument[V1-]{volume1}[http://mybook.com/volume1.pdf]
...
... the \nameref{V1-introduction})...
</pre>


<pre>
\usepackage{xr-hyper}
\usepackage{hyperref}
\externaldocument[V1-]{volume1}%
    [http://mybook.com/volume1.pdf]
...
... the \nameref{V1-introduction})...
</pre>

</blockquote>
Heiko Oberdiek&rsquo;s experimental <i class="package">zref</i> bundle includes a
hyper-crossreferencing mechanism using its <i class="package">zref-xr</i> module.
Usage is closely modelled on <i class="package">xr</i> and <i class="package">xr-hyper</i>; a
trivial example (from a <i class="newsgroup">comp.text.tex</i> posting) is
<blockquote>
<pre>
\usepackage{zref-xr,zref-user}
\zexternaldocument*{xr02}
...
\zref{foo}
</pre>
</blockquote>
The module provides all the facilities of the older packages, and can
deal both with &ldquo;traditional&rdquo; LaTeX labels and with
<i class="package">zref</i>&rsquo;s style of labels.
<dl>
<dt class="ctanref">xr.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/xr">2etools</a>
<dt class="ctanref">xr-hyper.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/xr-hyper">hyperref</a>
<dt class="ctanref">zref bundle</dt><dd>Distributed as part of
  <a class="ctan" href="https://www.ctan.org/pkg/zref">oberdiek</a>
</dl>

<p>


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-proof][[[LBRACE]]]Proof environment[[[RBRACE]]]

<p>
It was long thought impossible to make a <code class="environment">proof</code>
environment which automatically includes an &lsquo;end-of-proof&rsquo; symbol.
Some proofs end in displayed maths; others do not.  If the input file
contains 
<tt>...<code>&#x5c;]</code> </tt><code>&#x5c;end</code><code>&#x7b;proof&#x7d;</code> then LaTeX finishes off
the displayed maths and gets ready for a new line before it reads any
instructions connected with ending the proof, so the code is very
tricky.  You <em>can</em> insert the symbol by hand, but the
(apparently) original &lsquo;automatic&rsquo; solution came with Paul Taylor&rsquo;s
<i class="package">QED</i>.

<p>
Nowadays, the <i class="package">ntheorem</i> package now solves the problem for
LaTeX users: it provides an automatic way of signalling
the end of a proof.

<p>
The AMSLaTeX package <i class="package">amsthm</i> also provides a
<code class="environment">proof</code> environment that does the job; though you need to
insert a <code>&#x5c;qedhere</code> command if the proof ends with a displayed
equation:
<blockquote>
<pre>
\begin{proof}
  text...
  \begin{equation*}
    maths... \tag*{\qedhere}
  \end{equation*}
\end{proof}
</pre>
</blockquote>
The <code>&#x5c;tag*</code><code>&#x7b;<code>&#x5c;qedhere</code>&#x7d;</code> construction may be used in any of
AMSLaTeX&rsquo;s numbering environments.
<dl>
<dt class="ctanref">amsthm.sty</dt><dd>Distributed as part of the AMSLaTeX bundle
  <a class="ctan" href="https://www.ctan.org/pkg/amsthm">amslatex</a>
<dt class="ctanref">ntheorem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ntheorem">ntheorem</a>
</dl>

<p class="lastedit">This answer last edited: 2011-03-09</p>

<p>
[[[Question]]][Q-theoremfmt][[[LBRACE]]]Theorem bodies printed in a roman font[[[RBRACE]]]

<p>
If you want to take advantage of the powerful <code>&#x5c;newtheorem</code> command
without the constraint that the contents of the theorem is in a sloped
font (for example, you may want to use it to create remarks, examples, proofs,
&hellip;) then you can use the AMSLaTeX <i class="package">amsthm</i> package
(which now supersedes the <i class="package">theorem</i> package previously
recommended in these answers).
Alternatively, the following sets up an environment
<code class="environment">remark</code> whose content is in the default roman font.
<blockquote>

<pre>
\newtheorem{preremark}{Remark}
\newenvironment{remark}%
  {\begin{preremark}\upshape}%
  {\end{preremark}}
</pre>


<pre>
\newtheorem{preremark}{Remark}
\newenvironment{remark}%
  {\begin{preremark}\upshape}{\end{preremark}}
</pre>

</blockquote>
The <i class="package">ntheorem</i> package provides control of the fonts used by
theorems, directly.
<dl>
<dt class="ctanref">amsthm.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsthm">amslatex</a>
<dt class="ctanref">ntheorem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ntheorem">ntheorem</a>
<dt class="ctanref">theorem.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/theorem">2etools</a>
</dl>

<p>
[[[Question]]][Q-newfunction][[[LBRACE]]]Defining a new log-like function in LaTeX[[[RBRACE]]]

<p>
Use the <code>&#x5c;mathop</code> command, as in:
<blockquote>
<pre>
\newcommand{\diag}{\mathop{\mathrm{diag}}}
</pre>
</blockquote>

<p>
Subscripts and superscripts on <code>&#x5c;diag</code> will be placed below and
above the function name, as they are on
<code>&#x5c;lim</code>.  If you want your subscripts and superscripts always placed
to the right, do:
<blockquote>

<pre>
\newcommand{\diag}%
  {\mathop{\mathrm{diag}}\nolimits}
</pre>


<pre>
\newcommand{\diag}{\mathop{\mathrm{diag}}\nolimits}
</pre>

</blockquote>

<p>
AMSLaTeX (in its <i class="package">amsopn</i> package, which is automatically
loaded by <i class="package">amsmath</i>) provides a command
<code>&#x5c;DeclareMathOperator</code> that takes does the same job as the first
definition above.  To create our original <code>&#x5c;diag</code> command, one would
say:
<blockquote>
<pre>
\DeclareMathOperator{\diag}{diag}
</pre>
</blockquote>
<code>&#x5c;DeclareMathOperator*</code> declares the operator always to have its
sub- and superscripts in the 
&ldquo;<a href="FAQ-limits.html"><code>&#x5c;limits</code> position</a>&rdquo;.

<p>
The <i class="package">amsopn</i> command <code>&#x5c;operatorname</code> allows you to
introduce <em>ad hoc</em> operators into your mathematics, so
<blockquote>
  <code>&#x5c;[</code> <code>&#x5c;operatorname</code><code>&#x7b;foo&#x7d;</code><tt>(bar)</tt> <code>&#x5c;]</code>
</blockquote>
typesets the same as
<blockquote>
<pre>
\DeclareMathOperator{\foo}{foo}
...
\[ \foo(bar) \]
</pre>
</blockquote>
As with <code>&#x5c;DeclareMathOperator</code> there&rsquo;s a starred version
<code>&#x5c;operatorname*</code> for sub- and superscripts in the limits position.

<p>
(It should be noted that &ldquo;log-like&rdquo; was reportedly a <em>joke</em> on
Lamport&rsquo;s part; it is of course clear what was meant.)
<dl>
<dt class="ctanref">amsopn.sty</dt><dd>Distributed as part of the AMSLaTeX distribution
  <a class="ctan" href="https://www.ctan.org/pkg/amsopn">amslatex</a>
</dl>

<p>
[[[Question]]][Q-braket][[[LBRACE]]]Set specifications and Dirac brackets[[[RBRACE]]]

<p>
One of the few glaring omissions from TeX&rsquo;s mathematical
typesetting capabilities is a means of setting separators in the
middle of mathematical expressions.  TeX provides primitives called
<code>&#x5c;left</code> and <code>&#x5c;right</code>, which can be used to modify brackets (of
whatever sort) around a mathematical expression, as in:

<code>&#x5c;left(</code><tt> <expression> </tt><code>&#x5c;right)</code>&nbsp;&mdash; the size of the
parentheses is matched to the vertical extent of the expression.

<p>
However, in all sorts of mathematical enterprises one may find oneself
needing a <code>&#x5c;middle</code> command, to be used in expressions like
<blockquote>

<pre>
\left\{ x \in \mathbb{N} \middle| x \mbox{ even} \right\}
</pre>


<pre>
\left\{ x\in \mathbb{N} \middle| 
                 x \mbox{ even} \right\}
</pre>

</blockquote>
to specify the set of even natural numbers.  The 
<a href="FAQ-etex.html">e-TeX system</a>
defines just such a command, but users of Knuth&rsquo;s original need some
support.  Donald Arseneau&rsquo;s <i class="package">braket</i> package provides commands
for set specifications (as above) and for Dirac brackets (and bras and
kets).  The package uses the e-TeX built-in command if it finds
itself running under e-TeX.
<dl>
<dt class="ctanref">braket.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/braket">braket</a>
</dl>

<p>
[[[Question]]][Q-cancellation][[[LBRACE]]]Cancelling terms in maths expressions[[[RBRACE]]]

<p>
A technique used when explaining the behaviour of expressions or
equations (often for pedagogical purposes).  The <i class="package">cancel</i>
package provides several variants of cancellation marks
(&ldquo;<tt>&#x5c; </tt>&rdquo;, &ldquo;<tt>/</tt>&rdquo; and &ldquo;<tt>X</tt>&rdquo;), and
a means of cancelling &lsquo;to&rsquo; a particular value.

<p>
Documentation of <i class="package">cancel</i> is in the package file.
<dl>
<dt class="ctanref">cancel.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cancel">cancel</a>
</dl>

<p>
[[[Question]]][Q-mathsize][[[LBRACE]]]Adjusting maths font sizes[[[RBRACE]]]

<p>
In Plain TeX, when you introduce a new font size you must also
declare what size fonts are to be used in mathematics with it.  This
is done by declaring <code>&#x5c;textfont</code>, <code>&#x5c;scriptfont</code> and
<code>&#x5c;scriptscriptfont</code> for the maths families you&rsquo;re using; all such
things are described in chapter&nbsp;17 of the 
<a href="FAQ-tex-books.html">TeXbook</a> and in other books and
<a href="FAQ-man-tex.html">tutorials</a> that discuss Plain TeX in sufficient
detail.

<p>
In LaTeX, of course, all this stuff is automated: there is a scheme
that, for each (text) font size, determines what maths font sizes are
to be used.  The scheme first checks a set of &ldquo;known&rdquo; text sizes,
for each of which maths sizes are declared in advance.  If the text
size isn&rsquo;t &ldquo;known&rdquo;, the script- and scriptscriptfont sizes are
calculated as fixed ratios of the tex font size.  (The values used are
<code>&#x5c;defaultscriptratio</code>=0.7, and
<code>&#x5c;defaultscriptscriptratio</code>=0.5.)

<p>
The fixed-ratio formula is capable of producing inconvenient results
(particularly if you are using fonts which LaTeX believes are only
available in a fixed set of sizes).  You may also want to replace
LaTeX&rsquo;s ideas altogether, for example by setting maths noticeably
larger or smaller than its surrounding text.  For this purpose, the
LaTeX command
<code>&#x5c;DeclareMathSizes</code><code>&#x7b;&lsaquo;<i>tfs</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>ts</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>ss</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>sss</i>&rsaquo;&#x7d;</code>
may be used (this is the same command that LaTeX itself uses to
define its own set of sizes).  This establishes (or re-establishes)
the maths font sizes to be used when the surrounding text font size is
<tt>&lsaquo;<i>tfs</i>&rsaquo;</tt>; (<tt>&lsaquo;<i>ts</i>&rsaquo;</tt> being the size used for
<code>&#x5c;textfont</code>, <tt>&lsaquo;<i>ss</i>&rsaquo;</tt> for <code>&#x5c;scriptfont</code> and
<tt>&lsaquo;<i>sss</i>&rsaquo;</tt> for <code>&#x5c;scriptscriptfont</code>).

<p>
For example, you might want to use a font with a smaller body height
than Computer Modern, but still prefer CM math to any of the
alternatives.  In this case, you might use:
<blockquote>
<pre>
\DeclareMathSizes{10}{9}{7}{5}
</pre>
</blockquote>
to get 9pt maths when the surrounding body text is (nominal) 10pt.

<p>
<code>&#x5c;DeclareMathSizes</code> may only be used in the preamble of the
document: only one association is available for each text font size
for the whole document.  The default settings are specified in
<i class="filename">fontdef.dtx</i> in the latex distribution, and are compiled into
<i class="filename">fontmath.ltx</i>; the arguments to the command are just numbers
(&lsquo;<tt>pt</tt>&rsquo; is assumed), but some of them are written using
<a href="FAQ-ltxabbrv.html">LaTeX abbreviations</a> for standard font sizes.
Beware simply copying (parts of) the LaTeX definitions&nbsp;&mdash; since
they contain those internal abbreviations, they need to be treated as
<a href="FAQ-atsigns.html">internal commands</a>.
<dl>
<dt class="ctanref">fontdef.dtx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontdef">fontdef</a>
<dt class="ctanref">fontmath.ltx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontmath">fontmath</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-mathlips][[[LBRACE]]]Ellipses[[[RBRACE]]]
<!-- <code>&#x5c;dots</code> <code>&#x5c;cdots</code> <code>&#x5c;vdots</code> <code>&#x5c;ddots</code> -->

<p>
Ellipses are commonly required, and LaTeX natively supplies a fair
range (<code>&#x5c;dots</code>, <code>&#x5c;cdots</code>, <code>&#x5c;vdots</code> and <code>&#x5c;ddots</code>).  By using
the <i class="package">graphics</i> package, one can change the slope of the
<code>&#x5c;ddots</code> command, as in
<blockquote>
<pre>
$ ... \reflectbox{$\ddots$} ... $
</pre>
</blockquote>
While this works, it is not a recommended way of achieving the desired
result (see below).  Moreover, LaTeX&rsquo;s range is not adequate to
everyone&rsquo;s requirements, and at least three packages provide
extensions to the set.

<p>
The AMSLaTeX bundle provides a range of &ldquo;semantically-named&rdquo;
ellipses, for use in different situations: <code>&#x5c;dotsb</code> for use between
pairs of binary operators, <code>&#x5c;dotsc</code> for use between pairs of commas,
and so on.

<p>
The <i class="package">yhmath</i> package defines an <code>&#x5c;adots</code> command, which is
the analogue of <code>&#x5c;ddots</code>, sloping forwards rather than backwards.
The <i class="package">yhmath</i> package comes with a rather interesting font that
extends the standard <i class="package">cmex</i>; details are in the documentation.

<p>
The <i class="package">mathdots</i> package (besides fixing up the behaviour of
(La)TeX <code>&#x5c;ddots</code> and <code>&#x5c;vdots</code> when the font size changes)
provides an &ldquo;inverse diagonal&rdquo; ellipsis <code>&#x5c;iddots</code> (doing the same
job as <i class="package">yhmath</i>&rsquo;s <code>&#x5c;adots</code>, but better).

<p>
Documentation of <i class="package">yhmath</i> appears, processed, in the
distribution (thus saving you the bother of installing the package
before being able to read the documentation).  Documentation of
<i class="package">mathdots</i> appears at the end the package file itself.
<dl>
<dt class="ctanref">amslatex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amslatex">amslatex</a>
<dt class="ctanref">graphics.sty</dt><dd>Part of the <a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a> bundle
<dt class="ctanref">mathdots.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathdots">mathdots</a>
<dt class="ctanref">yhmath</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/yhmath">yhmath</a>
</dl>

<p class="lastedit">This answer last edited: 2013-08-21</p>

<p>
[[[Question]]][Q-limits][[[LBRACE]]]Sub- and superscript positioning for operators[[[RBRACE]]]

<p>
The commonest hand-written style for expressions is to place the limit
expressions on operators such as <code>&#x5c;sum</code> and <code>&#x5c;int</code> physically
above and below the operator.  In (La)TeX, we write these limit
expressions using sub- and superscripts applied to the operator, but
they don&rsquo;t always appear in the &ldquo;handwritten&rdquo; way in TeX&rsquo;s
output.

<p>
The reason is, that when an expression appears in non-display maths,
in running text (and is therefore in TeX <code>&#x5c;textstyle</code>), placing
the limits thus could lead to ragged line spacing (and hence
difficult-to-read text).  It is therefore common (in <code>&#x5c;textstyle</code>)
to place the limits as one would sub- and superscripts of variables.

<p>
This is not universally satisfactory, so the primitive <code>&#x5c;limits</code> is
provided:
<blockquote>
<pre>
$\sum\limits_{n=1}^{m} ...$
</pre>
</blockquote>
which will place the limits right above and below the symbol (and be
blowed to the typography&hellip;).

<p>
Contrariwise, you may wish to change the arrangement of the limits
when in <code>&#x5c;displaystyle</code>.  For this purpose, there&rsquo;s a corresponding
<code>&#x5c;nolimits</code>:
<blockquote>
<pre>
\[\sum\nolimits_{n=1}^{m} ...\]
</pre>
</blockquote>
which will place the limits as they would be in <code>&#x5c;textstyle</code>.

<p>
Alternatively, one can manipulate the
<code>&#x5c;textstyle</code>/<code>&#x5c;displaystyle</code> state of the mathematics.  To get
&ldquo;<code>&#x5c;limits</code> placement&rdquo; in inline maths,
<blockquote>
<pre>
$\displaystyle\sum_{n=1}^{m} ...$
</pre>
</blockquote>
and for &ldquo;<code>&#x5c;nolimits</code> placement&rdquo; in display maths,
<code>&#x5c;nolimits</code>:
<blockquote>
<pre>
\[\textstyle\sum_{n=1}^{m} ...\]
</pre>
</blockquote>
will serve.  Either of these forms may have effects other than on the
operator you&rsquo;re considering, but there are still those who prefer this
formulation.

<p>
Remember, if you&rsquo;re 
<a href="FAQ-newfunction.html">declaring a special operator of your own</a>, the
AMSLaTeX functions (that you ought to be using) allow you to choose
how limits are displayed, at definition time.

<p>
(Note that the macro <code>&#x5c;int</code> normally has <code>&#x5c;nolimits</code> built in to
its definition.  There is an example in the TeXbook to show how odd
<code>&#x5c;int</code><code>&#x5c;limits</code> looks when typeset.)

<p>
[[[Question]]][Q-mathstext][[[LBRACE]]]Text inside maths[[[RBRACE]]]

<p>
When we type maths in (La)TeX, the letters from which we make up
ordinary text assume a special significance: they all become
single-letter variable names.  The letters appear in italics, but it&rsquo;s
not the same sort of italics that you see when you&rsquo;re typing ordinary
text: a run of maths letters (for example &ldquo;here&rdquo;) looks oddly
&ldquo;lumpy&rdquo; when compared with the word written in italic text.  The
difference is that the italic text is kerned to make the letters fit
well together, whereas the maths is set to look as if you&rsquo;re
multiplying <em>h</em> by <em>e</em> by <em>r</em> by <em>e</em>.  The other
way things are odd in TeX maths typing is that spaces are ignored:
at best we can write single words in this oddly lumpy font.

<p>
So, if we&rsquo;re going to have good-looking text in amongst maths we&rsquo;re
writing, we have to take special precautions.  If you&rsquo;re using
LaTeX, the following should help.

<p>
The simplest is to use <code>&#x5c;mbox</code> or <code>&#x5c;textrm</code>:
<blockquote>
<pre>
$e = mc^2 \mbox{here we go again}$
</pre>
</blockquote>
The problem is that, with either, the size of the text remains firmly
at the surrounding text size, so that
<blockquote>
<pre>
$z = a_{\mbox{other end}}$
</pre>
</blockquote>
can look quite painfully wrong.

<p>
The other simple technique, <code>&#x5c;textrm</code>, is no more promising:
<blockquote>
<pre>
$z = a_{\textrm{other end}}$
</pre>
</blockquote>
does the same as <code>&#x5c;mbox</code>, by default.

<p>
(The maths-mode instance of your roman font (<code>&#x5c;mathrm</code>) gets the
size right, but since it&rsquo;s intended for use in maths, its spaces get
ignored&nbsp;&mdash; use <code>&#x5c;mathrm</code> for upright roman alphabetic variable
names, but not otherwise.)

<p>
You can correct these problems with size selectors in the text, as:
<blockquote>
<pre>
$z = a_{\mbox{\scriptsize other end}}$
</pre>
</blockquote>
which works if your surrounding text is at default document size, but
gives you the wrong size otherwise.

<p>
The <code>&#x5c;mbox</code> short cut is (just about) OK for &ldquo;occasional&rdquo;
use, but serious mathematics calls for a technique that
relieves the typist of the sort of thought required.  As usual, the
AMSLaTeX system provides what&rsquo;s necessary&nbsp;&mdash; the <code>&#x5c;text</code>
command.  (The command is actually provided by the <i class="package">amstext</i>
package, but the &ldquo;global&rdquo; <i class="package">amsmath</i> package loads it.)  Thus
anyone using AMSLaTeX proper has the command available, so even
this author can write:
<blockquote>
<pre>
\usepackage{amsmath}
...
$z = a_{\text{other end}}$
</pre>
</blockquote>
and the text will be at the right size, and in the same font as
surrounding text.  (The <i class="package">amstext</i> package also puts
<code>&#x5c;textrm</code> to rights&nbsp;&mdash; but <code>&#x5c;text</code> is easier to type than
<code>&#x5c;textrm</code>!)

<p>
AMSLaTeX also makes provision for interpolated comments in the
middle of one of its multi-line display structures, through the
<code>&#x5c;intertext</code> command.  For example:
<blockquote>

<pre>
\begin{align}
  A_1&amp;=N_0(\lambda;\Omega')-
    \phi(\lambda;\Omega'),\\
  A_2&amp;=\phi(\lambda;\Omega')-
    \phi(\lambda;\Omega),\\
\intertext{and}
  A_3&amp;=\mathcal{N}(\lambda;\omega).
\end{align}
</pre>


<pre>
\begin{align}
  A_1&amp;=N_0(\lambda;\Omega')-\phi(\lambda;\Omega'),\\
  A_2&amp;=\phi(\lambda;\Omega')-\phi(\lambda;\Omega),\\
  \intertext{and} A_3&amp;=\mathcal{N}(\lambda;\omega).
\end{align}
</pre>

</blockquote>
places the text &ldquo;and&rdquo; on a separate line before the last line of the
display.  If the interjected text is short, or the equations
themselves are light-weight, you may find that <code>&#x5c;intertext</code> leaves
too much space.  Slightly more modest is the <code>&#x5c;shortintertext</code>
command from the <i class="package">mathtools</i> package:
<blockquote>
<pre>
\begin{align}
  a =&amp; b
  \shortintertext{or}
  c =&amp; b
\end{align}
</pre>
</blockquote>
To have the text on the same line as the second equation, one can use
the <code class="environment">flalign</code> environment (from <i class="package">amsmath</i>)
with lots of dummy equations (represented by the double <tt>&amp;</tt>
signs):
<blockquote>
<pre>
\begin{flalign}
            &amp;&amp; a =&amp; b &amp;&amp; \\
  \text{or} &amp;&amp; c =&amp; b &amp;&amp;
\end{flalign}
</pre>
</blockquote>
<dl>
<dt class="ctanref">amsmath.sty</dt><dd>Distributed as part of AMSLaTeX
  <a class="ctan" href="https://www.ctan.org/pkg/amsmath">amslatex</a>
<dt class="ctanref">amstext.sty</dt><dd>Distributed as part of AMSLaTeX
  <a class="ctan" href="https://www.ctan.org/pkg/amstext">amslatex</a>
<dt class="ctanref">mathtools.sty</dt><dd>Distributed as part of the <i class="package">mh</i> bundle
  <a class="ctan" href="https://www.ctan.org/pkg/mathtools">mh</a>
</dl>

<p>
[[[Question]]][Q-reuseq][[[LBRACE]]]Re-using an equation[[[RBRACE]]]

<p>
To repeat an existing equation, one wants not only to have the same
mathematics in it, one also wants to re-use the original label it had.
The <i class="package">amsmath</i> package comes to our help, here:
<blockquote>
<pre>
\usepackage{amsmath}
...
\begin{equation}
  a=b
  \label{eq1}
\end{equation}
...
Remember that
\begin{equation}
  a=b
  \tag{\ref{eq1}}
\end{equation}
</pre>
</blockquote>
Here, the second instance of a=b will be
typeset with a copy, made by the <code>&#x5c;tag</code> command, of the label of the
first instance.
<dl>
<dt class="ctanref">amsmath.sty</dt><dd>Distributed as part of AMSLaTeX
  <a class="ctan" href="https://www.ctan.org/pkg/amsmath">amslatex</a>
</dl>

<p>
[[[Question]]][Q-brkinline][[[LBRACE]]]Line-breaking in in-line maths[[[RBRACE]]]

<p>
TeX, by default, allows you to split a mathematical expression at
the end of the line; it allows breaks at relational operators (like
&ldquo;=&rdquo;, &ldquo;&lt;&rdquo;, etc.) and at binary operators (like &ldquo;+&rdquo;,
&ldquo;-&rdquo;, etc.).  In the case of large expressions, this can sometimes be
a life-saver.

<p>
However, in the case of simple expressions like a=b+c, a
break can be really disturbing to the reader, and one would like to
avoid it.

<p>
Fortunately, these breaks are controllable: there are &ldquo;penalties&rdquo;
associated with each type of operator: the penalty 
 says how
undesirable a break at each point is.  Default values are:
<blockquote>
<pre>
\relpenalty   = 500
\binoppenalty = 700
</pre>
</blockquote>
You make the break progressively less attractive by increasing these
values.  You can actually forbid all breaks, everywhere, by:
<blockquote>
<pre>
\relpenalty   = 10000
\binoppenalty = 10000
</pre>
</blockquote>
If you want just to prevent breaks in a single expression, write:
<blockquote>
<pre>
{%
  \relpenalty   = 10000
  \binoppenalty = 10000
  $a=b+c$
}
</pre>
</blockquote>
and the original values will remain undisturbed outside the braces.
This is tedious: there is often value in an alternative approach,
in which you say which parts of the expression may not break whatever
happens, and fortunately this is surprisingly easy.  Suppose we want
to defer a break until after the equality, we could write:
<blockquote>
<pre>
${a+b+c+d} = z+y+x+w$
</pre>
</blockquote>
The braces say &ldquo;treat this subformula as one atom&rdquo; and (in TeX at
least) atoms don&rsquo;t get split: not a <code>&#x5c;binoppenalty</code> change in sight.

<p>
[[[Question]]][Q-mathonlyref][[[LBRACE]]]Numbers for referenced equations only[[[RBRACE]]]

<p>
There are those who consider that papers look untidy with numbers on
every equation; there is also a school of thought that claims that
there should be numbers everywhere, in case some reader wants to make
reference an equation to which the author made no cross-reference.

<p>
If you hold to the &ldquo;only cross-referenced&rdquo; school of thought, you
can (using the <code>&#x5c;nonumber</code> command on the relevant equations, or by
using the AMSLaTeX unnumbered environments such as
<code class="environment">equation*</code>) mark those of your equations to which you
make no reference.  In a long or complex paper, this procedure could
well become deeply tedious.

<p>
Fortunately, help is at hand: the <i class="package">mh</i> bundle&rsquo;s
<i class="package">mathtools</i> package offers a &lsquo;<code class="pkgoption">showonlyrefs</code>&rsquo;
switch through its <code>&#x5c;mathtoolsset</code> command; when that&rsquo;s in
operation, only those equations to which you make reference will be
numbered in the final output.  See the package&rsquo;s documentation for
details of how to make references when the switch is in effect.
<dl>
<dt class="ctanref">mathtools.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mathtools">mh</a>
</dl>

<p>
[[[Question]]][Q-subheight][[[LBRACE]]]Even subscript height[[[RBRACE]]]

<p>
Other things being equal, TeX will aim to position subscripts and
superscripts in places that &ldquo;look good&rdquo;.  Unfortunately, it only
does this for the sub- and superscripts of each atom at a time, so if
you have
<blockquote>
<pre>
$ X^{1}_{2} X_{2} $
</pre>
</blockquote>
the second subscript will appear higher, since the first has moved
down to avoid the superscript;
the effect can be noticeably distracting:
<blockquote>




  <img alt="faq-images1.png" src="faq-images1.png">

</blockquote>

<p>
You can avoid the problem, for a single instance, by
<blockquote>
<pre>
$ X^{1}_{2} X^{}_{2} $
</pre>
</blockquote>
here, the dummy superscript has the requisite &ldquo;pushing down&rdquo; effect:
<blockquote>




  <img alt="faq-images2.png" src="faq-images2.png">

</blockquote>

<p>
While this technique does what is necessary, it is tedious and
potentially error-prone.  So, for more than one or two equations
in a document, the LaTeX user is advised to use the
<i class="package">subdepth</i> package, which forces the lower position for all
subscripts.
<dl>
<dt class="ctanref">subdepth.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/subdepth">subdepth</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-enumerate][[[LBRACE]]]Fancy enumeration lists[[[RBRACE]]]

<p>
The <i class="package">enumerate</i> package allows you to control the display of
the enumeration counter.  The package adds an optional parameter to
the <code class="environment">enumerate</code> environment, which is used to specify the
layout of the labels.  The layout parameter contains an enumeration
type (&lsquo;<tt>1</tt>&rsquo; for arabic numerals, &lsquo;<tt>a</tt>&rsquo; or &lsquo;<tt>A</tt>&rsquo;
for alphabetic enumeration, and &lsquo;<tt>i</tt>&rsquo; or &lsquo;<tt>I</tt>&rsquo; for Roman
numerals), and things to act as decoration of the enumeration.  So,
for example
<blockquote>
<pre>
\usepackage{enumerate}
...
\begin{enumerate}[(a)]
\item ...  ...
\end{enumerate}
</pre>
</blockquote>
starts a list whose labels run (a), (b), (c), &hellip;; while
<blockquote>
<pre>
\usepackage{enumerate}
...
\begin{enumerate}[I/]
\item ...  ...
\end{enumerate}
</pre>
</blockquote>
starts a list whose labels run I/, II/, III/, &hellip;

<p>
The <i class="package">paralist</i> package, whose primary purpose is 
<a href="FAQ-complist.html">compaction of lists</a>, provides the same facilities
for its <code class="environment">enumerate</code>-like environments.

<p>
If you need non-stereotyped designs, the <i class="package">enumitem</i> package
gives you most of the flexibility you might want to design your own.
The silly roman example above could be achieved by:
<blockquote>
<pre>
\usepackage{enumitem}
...
\begin{enumerate}[label=\Roman{*}/]
\item ...  ...
\end{enumerate}
</pre>
</blockquote>
Note that the &lsquo;<tt>*</tt>&rsquo; in the key value stands for the list
counter at this level.  You can also manipulate the format of
references to list item labels:
<blockquote>

<pre>
\usepackage{enumitem}
...
\begin{enumerate}[label=\Roman{*}/,
  ref=(\roman{*})]
\item ...  ...
\end{enumerate}
</pre>


<pre>
\usepackage{enumitem}
...
\begin{enumerate}[label=\Roman{*}/, ref=(\roman{*})]
\item ...  ...
\end{enumerate}
</pre>

</blockquote>
to make references to the list items format appear as (i), (ii),
(iii), etc.

<p>
The <i class="class">memoir</i> class includes functions that match those in the
<i class="package">enumerate</i> package, and has similar functionality for
<code class="environment">itemize</code> lists.



%% <pre>
%%    \renewcommand{\theenumi}{\Roman{enumi}}
%%    \renewcommand{\labelenumi}{\theenumi/}
%% </pre>









<dl>
<dt class="ctanref">enumerate.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/enumerate">2etools</a>
<dt class="ctanref">enumitem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/enumitem">enumitem</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">paralist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/paralist">paralist</a>
</dl>

<p>
[[[Question]]][Q-complist][[[LBRACE]]]How to adjust list spacing[[[RBRACE]]]

<p>
<a href="FAQ-latex-books.html">Lamport&rsquo;s book</a> lists various
parameters for the layout of list (things like <code>&#x5c;topsep</code>,
<code>&#x5c;itemsep</code> and <code>&#x5c;parsep</code>), but fails to mention that they&rsquo;re set
automatically within the standard (LaTeX-defined) lists.  This
happens because each list
executes a command <code>&#x5c;@list</code><tt>&lsaquo;<i>depth</i>&rsaquo;</tt> (the depth
appearing as a lower-case roman numeral); what&rsquo;s more, the top-level
<code>&#x5c;@listi</code> is usually reset when the font size is changed.  As a
result, it&rsquo;s rather tricky for 
the user to control list spacing.  Of course, the real answer is to use
a document class designed with more modest list spacing, but we all
know such things are hard to come by.  The <i class="class">memoir</i> class doesn&rsquo;t
provide more compact lists, but offers the user control over the list
spacing using <code>&#x5c;firmlist</code> and <code>&#x5c;tightlist</code> (and <tt>*</tt>-ed
versions of them); see section&nbsp;8.6 of the memoir manual.

<p>
There are packages that provide some control of list spacing, but they
seldom address the separation from surrounding text (defined by
<code>&#x5c;topsep</code>).  The <i class="package">expdlist</i> package, among its many controls
of the appearance of <code class="environment">description</code> lists, offers a
compaction parameter (see the documentation); the <i class="package">mdwlist</i>
package offers a <code>&#x5c;makecompactlist</code> command for users&rsquo; own list
definitions, and uses it to define compact lists
<code class="environment">itemize*</code>, <code class="environment">enumerate*</code> and
<code class="environment">description*</code>.  In fact, you can write lists such as
these commands define pretty straightforwardly&nbsp;&mdash; for example:
<blockquote>
<pre>
\newenvironment{itemize*}%
  {\begin{itemize}%
    \setlength{\itemsep}{0pt}%
    \setlength{\parskip}{0pt}}%
  {\end{itemize}}
</pre>
</blockquote>
The <i class="package">paralist</i> package provides several approaches to list
compaction:
<ul>
<li> its <code class="environment">asparaenum</code> environment formats each item as if
  it were a paragraph introduced by the enumeration label (which saves
  space if the item texts are long);
<li> its <code class="environment">compactenum</code> environment is the same sort of
  compact list as is provided in <i class="package">expdlist</i> and
  <i class="package">mdwlist</i>; and
<li> its <code class="environment">inparaenum</code> environment produces a list &ldquo;in
  the paragraph&rdquo;, i.e., with no line break between items, which is a
  great space-saver if the list item texts are short.
</ul>
The package will manipulate its <code class="environment">enumerate</code> environment
labels just like the <a href="FAQ-enumerate.html"><i class="package">enumerate</i> package</a>
does.

<p>
<i class="package">Paralist</i> also provides <code class="environment">itemize</code> equivalents
(<code class="environment">asparaitem</code>, etc.), and <code class="environment">description</code>
equivalents (<code class="environment">asparadesc</code>, etc.).

<p>
The <i class="package">multenum</i> package offers a more regular form of
<i class="package">paralist</i>&rsquo;s <code class="environment">inparaenum</code>; you define a notional
grid on which list entries are to appear, and list items will always
appear at positions on that grid.  The effect is somewhat like that of
the &lsquo;tab&rsquo; keys on traditional typewriters; the package was designed
for example sheets, or lists of answers in the appendices of a book.

<p>
The <i class="package">expdlist</i>, <i class="package">mdwlist</i> and <i class="package">paralist</i>
packages all offer other facilities for list configuration: you should
probably not try the &ldquo;do-it-yourself&rdquo; approaches outlined below if
you need one of the packages for some other list configuration
purpose.

<p>
For ultimate flexibility (including manipulation of <code>&#x5c;topsep</code>), the
<i class="package">enumitem</i> package permits adjustment of list parameters using
a &ldquo;<em>key</em>=&lsaquo;<i>value</i>&rsaquo;&rdquo; format.
For example, one might write
<blockquote>
<pre>
\usepackage{enumitem}
...
\begin{enumerate}[topsep=0pt, partopsep=0pt]
\item ...
\item ...
\end{enumerate}
</pre>
</blockquote>
to suppress all spacing above and below your list, or
<blockquote>
<pre>
\usepackage{enumitem}
...
\begin{enumerate}[itemsep=2pt,parsep=2pt]
\item ...
\item ...
\end{enumerate}
</pre>
</blockquote>
to set spacing between items and between paragraphs within items.
<i class="package">Enumitem</i> also permits manipulation of the label format in a
more &ldquo;basic&rdquo; (and therefore more flexible) manner than the 
<a href="FAQ-enumerate.html"><i class="package">enumerate</i> package</a> does.

<p>
The ultimate in compaction (of every sort) is offered by the
<i class="package">savetrees</i> package; compaction of lists is included.  The
package&rsquo;s prime purpose is to save space at every touch and turn:
don&rsquo;t use it if you&rsquo;re under any design constraint whatever!
<dl>
<dt class="ctanref">enumerate.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/enumitem">2etools</a>
<dt class="ctanref">enumitem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/enumitem">enumitem</a>
<dt class="ctanref">expdlist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/expdlist">expdlist</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">memoir manual</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir-man">memoir-man</a>
<dt class="ctanref">mdwlist.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mdwlist">mdwtools</a>
<dt class="ctanref">multenum.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multenum">multenum</a>
<dt class="ctanref">paralist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/paralist">paralist</a>
<dt class="ctanref">savetrees.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/savetrees">savetrees</a>
</dl>

<p class="lastedit">This answer last edited: 2012-10-30</p>

<p>
[[[Question]]][Q-interruptlist][[[LBRACE]]]Interrupting enumerated lists[[[RBRACE]]]

<p>
It&rsquo;s often convenient to have commentary text, &lsquo;outside&rsquo; the list,
between successive entries of a list.  In the case of
<code class="environment">itemize</code> lists this is no problem, since there&rsquo;s never
anything to distinguish successive items, while in the case of
<code class="environment">description</code> lists, the item labels are under the user&rsquo;s
control so there&rsquo;s no automatic issue of continuity.

<p>
For <code class="environment">enumerate</code> lists, the labels are generated
automatically, and are context-sensitive, so the context (in this
case, the state of the enumeration counter) needs to be preserved.

<p>
The belt-and-braces approach is to remember the state of the
enumeration in your own counter variable, and then restore it when
restarting enumerate:
<blockquote>
<pre>
\newcounter{saveenum}
 ...
\begin{enumerate}
  ...
  \setcounter{saveenum}{\value{enumi}}
\end{enumerate}
<Commentary text>
\begin{enumerate}
  \setcounter{enumi}{\value{saveenum}}
  ...
\end{enumerate}
</pre>
</blockquote>

<p>
This is reasonable, in small doses&hellip; Problems (apart from sheer
verbosity) are getting the level right (&ldquo;should I use counter
<tt>enumi</tt>, <tt>enumii</tt>, &hellip;&rdquo;) and remembering not to
nest the interruptions (i.e., not to have a separate list, that is
itself interrupted) in the &ldquo;commentary text&rdquo;).

<p>
The <i class="package">mdwlist</i> package defines commands <code>&#x5c;suspend</code> and
<code>&#x5c;resume</code> that simplify the process:
<blockquote>
<pre>
\begin{enumerate}
  ...
\suspend{enumerate}
<Commentary text>
\resume{enumerate}
  ...
\end{enumerate}
</pre>
</blockquote>
The package allows an optional name (as in
<code>&#x5c;suspend</code><code>[id]</code></code><code>&#x7b;enumerate&#x7d;</code>) to allow you to identify a
particular suspension, and hence provide a handle for manipulating
nested suspensions.

<p>
If you&rsquo;re suspending a <a href="FAQ-enumerate.html">fancy-enumeration list</a>,
you need to 
re-supply the optional &ldquo;item label layout&rdquo; parameters required by
the <i class="package">enumerate</i> package when resuming the list, whether by the
belt-and-braces approach, or by the <i class="package">mdwlist</i>
<code>&#x5c;resume</code><code>&#x7b;enumerate&#x7d;</code> technique.  The task is a little tedious
in the <i class="package">mdwlist</i> case, since the optional argument has to be
encapsulated, whole, inside an optional argument to <code>&#x5c;resume</code>,
which requires use of extra braces:
<blockquote>
<pre>
\begin{enumerate}[\textbf{Item} i]
  ...
\suspend{enumerate}
<comment>
\resume{enumerate}[{[\textbf{Item} i]}]
...
\end{enumerate}
</pre>
</blockquote>
The <i class="package">enumitem</i> package, in its most recent
release, will also allow you to resume lists:
<blockquote>
<pre>
\begin{enumerate}
...
\end{enumerate}
<comment>
\begin{enumerate}[resume]
...
\end{enumerate}
</pre>
</blockquote>
which feels just as &ldquo;natural&rdquo; as the <i class="package">mdwtools</i> facility,
and has the advantage of playing well with the other excellent
facilities of <i class="package">enumitem</i>.

<p>
<i class="package">Expdlist</i> has a neat way of providing for comments, with its
<code>&#x5c;listpart</code> command.  The command&rsquo;s argument becomes a comment
between items of the list:
<blockquote>
<pre>
\begin{enumerate}
\item item 1
\item item 2
  \listpart{interpolated comment}
\item item 3
\end{enumerate}
</pre>
</blockquote>
This, you will realise, means it doesn&rsquo;t even have to think about
suspending or resuming the list, and of course it works equally well
in any of the list environments (thought it&rsquo;s not actually
<em>necessary</em> for any but <code class="environment">enumerate</code>).

<p>
<i class="package">Enumitem</i> also allows multi-level suspension and resumption
of lists:
<blockquote>
<pre>
\begin{enumerate}
\item outer item 1
\end{enumerate}
<comment>
\begin{enumerate}[resume]
\item outer item 2
% nested enumerate
\begin{enumerate}
\item inner item 1
\end{enumerate}
<nested comment>
% resume nested enumerate
\begin{enumerate}[resume]
\item inner item 2
\end{enumerate}
\item outer item 3
% end outer enumerate
\end{enumerate}
</pre>
</blockquote>
However, the &lsquo;nested comment&rsquo; interpolated in the nested enumeration
appears as if it were a second paragraph to &ldquo;outer item 2&rdquo;, which is
hardly satisfactory.
<dl>
<dt class="ctanref">enumerate.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/enumerate">2etools</a>
<dt class="ctanref">enumitem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/enumitem">enumitem</a>
<dt class="ctanref">expdlist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/expdlist">expdlist</a>
<dt class="ctanref">mdwlist.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mdwlist">mdwtools</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-destable][[[LBRACE]]]The design of tables[[[RBRACE]]]

<p>
In recent years, several authors have argued that the examples, set
out by Lamport in his <a href="FAQ-latex-books.html">LaTeX manual</a>, have cramped
authors&rsquo; style and have led to extremely poor table design.  It is in
fact difficult even to work out what many of the examples in Lamport&rsquo;s
book &ldquo;mean&rdquo;.

<p>
The criticism focuses on the excessive use of rules (both horizontal
and vertical) and on the poor vertical spacing that Lamport&rsquo;s macros
offer.

<p>
The problem of vertical spacing is plain for all to see, and is
addressed in several packages&nbsp;&mdash; see 
&ldquo;<a class="FAquestion.html" href="FAQ-struttab.html">spacing of lines in tables</a>&rdquo;.

<p>
The argument about rules is presented in the excellent essay that
prefaces the documentation of Simon Fear&rsquo;s <i class="package">booktabs</i> package,
which (of course) implements Fear&rsquo;s scheme for &lsquo;comfortable&rsquo; rules.
(The same rule commands are implemented in the <i class="class">memoir</i> class.)

<p>
Lamport&rsquo;s LaTeX was also inflexibly wrong in &ldquo;insisting&rdquo; that
captions should come at the bottom of a table.  Since a table may
extend over several pages, traditional typography places the caption
at the top of a table float.  The <code>&#x5c;caption</code> command will get its
position wrong (by <tt>10pt</tt>) if you simply write:
<blockquote>
<pre>
\begin{table}
  \caption{Example table}
  \begin{tabular}{...}
    ...
  \end{tabular}
\end{table}
</pre>
</blockquote>
The <i class="package">topcapt</i> package solves this problem:
<blockquote>
<pre>
\usepackage{topcapt}
...
\begin{table}
  \topcaption{Example table}
  \begin{tabular}{...}
    ...
  \end{tabular}
\end{table}
</pre>
</blockquote>
The <i class="class">KOMA-script</i> classes provide a similar command
<code>&#x5c;captionabove</code>; they also have a class option
<code class="pkgoption">tablecaptionabove</code> which arranges that <code>&#x5c;caption</code>
<em>means</em> <code>&#x5c;captionabove</code>, in table environments.  The
<i class="package">caption</i> package may be loaded
with an option that has the same effect:
<blockquote>
<pre>
\usepackage[tableposition=top]{caption}
</pre>
</blockquote>
or the effect may be established after the package has been  loaded:
<blockquote>
<pre>
\usepackage{caption}
\captionsetup[table]{position=above}
</pre>
</blockquote>
(Note that the two &ldquo;position&rdquo; options are different: actually,
&ldquo;above&rdquo; and &ldquo;top&rdquo; in these contexts mean the same thing.)

<p>
Doing the job yourself is pretty easy: <i class="package">topcapt</i> switches the
values of the LaTeX 2e parameters <code>&#x5c;abovecaptionskip</code> (default
value <tt>10pt</tt>) and <code>&#x5c;belowcaptionskip</code> (default value
<tt>0pt</tt>), so:
<blockquote>
<pre>
\begin{table}
  \setlength{\abovecaptionskip}{0pt}
  \setlength{\belowcaptionskip}{10pt}
  \caption{Example table}
  \begin{tabular}{...}
    ...
  \end{tabular}
\end{table}
</pre>
</blockquote>
does the job (if the length values are right; the package and classes
are more careful!).
<dl>
<dt class="ctanref">booktabs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/booktabs">booktabs</a>
<dt class="ctanref">caption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/caption">caption</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">topcapt.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/topcapt">topcapt</a>
</dl>

<p class="lastedit">This answer last edited: 2011-08-19</p>

<p>
[[[Question]]][Q-fixwidtab][[[LBRACE]]]Fixed-width tables[[[RBRACE]]]

<p>
There are two basic techniques for making fixed-width tables in
LaTeX: you can make the gaps between the columns stretch, or you
can stretch particular cells in the table.

<p>
Basic LaTeX can make the gaps stretch: the <code class="environment">tabular*</code>
environment takes an extra argument (before the <tt>clpr</tt> layout one)
which takes a length specification: you can say things like &ldquo;<tt>15cm</tt>&rdquo;
or &ldquo;<code>&#x5c;columnwidth</code>&rdquo; here.  You must also have an <code>&#x5c;extracolsep</code>
command in the <tt>clpr</tt> layout argument, inside an <tt>@&#x7b;&#x7d;</tt>
directive.  So, for example, one might have
<blockquote>

<pre>
\begin{tabular*}{\columnwidth}{@{\extracolsep{\fill}}lllr}
</pre>


<pre>
\begin{tabular*}{\columnwidth}%
  {@{\extracolsep{\fill}}lllr}
</pre>

</blockquote>
The <code>&#x5c;extracolsep</code> applies to all inter-column gaps to its right as
well; if you don&rsquo;t want all gaps stretched, add
<code>&#x5c;extracolsep</code><code>&#x7b;0pt&#x7d;</code> to cancel the original.

<p>
The <i class="package">tabularx</i> package defines an extra <tt>clpr</tt> column
specification, <tt>X</tt>; <tt>X</tt> columns behave as <tt>p</tt>
columns which expand to fill the space available.  If there&rsquo;s more
than one <tt>X</tt> column in a table, the spare space is distributed
between them.

<p>
The <i class="package">tabulary</i> package (by the same author) provides a way of
&ldquo;balancing&rdquo; the space taken by the columns of a table.  The package
defines column specifications <tt>C</tt>, <tt>L</tt>, <tt>R</tt> and
<tt>J</tt>, giving, respectively, centred, left, right and
fully-justified versions of space-sharing columns.  The package
examines how long each column would be &ldquo;naturally&rdquo; (i.e., on a piece of paper of unlimited width), and
allocates space to each column accordingly.  There are &ldquo;sanity
checks&rdquo; so that really large entries don&rsquo;t cause everything else to
collapse into nothingness (there&rsquo;s a &ldquo;maximum width&rdquo; that any column
can exert), and so that tiny entries can&rsquo;t get smaller than a
specified minimum.  Of course, all this work means that the package
has to typeset each row several times, so things that leave
&ldquo;side-effects&rdquo; (for example, a counter used to produce a row-number
somewhere) are inevitably unreliable, and should not even be tried.

<p>
The <i class="package">ltxtable</i> package combines the features of the
<i class="package">longtable</i> and <i class="package">tabularx</i> packages.  It&rsquo;s important
to read the documentation, since usage is distinctly odd; the
distribution contains no more than a file <i class="filename">ltxtable.tex</i>, which you
should process using LaTeX.  Processing will give you a <i class="filename">.sty</i>
file as well as the <i class="filename">.dvi</i> or <i class="filename">.pdf</i> output containing the
documentation.
<dl>
<dt class="ctanref">ltxtable.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/ltxtable">carlisle</a>
<dt class="ctanref">tabularx.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/tabularx">2etools</a>
<dt class="ctanref">tabulary.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tabulary">tabulary</a>
</dl>

<p>
[[[Question]]][Q-varwidcol][[[LBRACE]]]Variable-width columns in tables[[[RBRACE]]]

<p>
This is a slightly different take on the problem addressed in
&ldquo;<a class="FAquestion.html" href="FAQ-fixwidtab.html">fixed-width tables</a>&rdquo;&nbsp;&mdash; here we have
a column whose size we can&rsquo;t absolutely predict when we design the
document.

<p>
While the basic techniques (the <i class="package">tabularx</i>, <i class="package">tabulary</i>
and <i class="package">ltxtable</i> packages) are the same for this problem as for the
fixed-width <em>table</em> problem, there&rsquo;s one extra tool that we can
call to our aid, which may be preferable in some situations.

<p>
Suppose we have data in one column which we read from an external
source, and the source itself isn&rsquo;t entirely predictable.  The data in
the column may end up pretty narrow in every row of the table, or it
may be wide enough that the table would run over the edge of the page;
however, we don&rsquo;t want to make the column as wide as possible &ldquo;just
in case&rdquo;, by defining a fixed size for the table.  We would like the
column to be as small as possible, but have the possibility to spread
to a maximum width and (if even that width is exceeded) turn into a
<tt>p</tt>-style column.

<p>
The <i class="package">varwidth</i> package, discussed in 
&ldquo;<a class="FAquestion.html" href="FAQ-varwidth.html">automatic sizing of minipages</a>&rdquo;, provides
a solution.  If you load it together with the LaTeX &ldquo;required&rdquo;
<i class="package">array</i> package, i.e.:
<blockquote>
<pre>
\usepackage{array}
\usepackage{varwidth}
</pre>
</blockquote>
<i class="package">varwidth</i> defines a new column-type &ldquo;<tt>V</tt>&rdquo;, which you
can use as follows:
<blockquote>
<pre>
\begin{tabular}{l V{3.5cm} r}
  foo &amp; blah      &amp; bar \\
  foo &amp; blah blah &amp; bar \\
\end{tabular}
</pre>
</blockquote>
when the second column ends up less than 3.5cm wide;
or you can use it as follows:
<blockquote>
<pre>
\begin{tabular}{l V{3.5cm} r}
  foo &amp; blah      &amp; bar \\
  foo &amp; blah blah &amp; bar \\
  foo &amp; blah blah blah blah blah blah
                  &amp; bar \\
\end{tabular}
</pre>
</blockquote>
where the second column will end up noticeably wider, and will wrap to
a second line in the third row.
<dl>
<dt class="ctanref">array.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/array">2etools</a>
<dt class="ctanref">varwidth.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/varwidth">varwidth</a>
</dl>

<p>
[[[Question]]][Q-struttab][[[LBRACE]]]Spacing lines in tables[[[RBRACE]]]

<p>
(La)TeX mechanisms for maintaining the space between lines (the
&ldquo;<em>leading</em>&rdquo;) rely on TeX&rsquo;s paragraph builder, which compares
the shape of consecutive lines and adjusts the space between them.

<p>
These mechanisms can&rsquo;t work in exactly the same way when (La)TeX is
building a table, because the paragraph builder doesn&rsquo;t get to see the
lines themselves.  As a result, tables sometimes typeset with lines
uncomfortably close together (or occasionally ridiculously far apart).

<p>
Traditional (moving metal type) typographers would adjust the spacing
between lines of a table by use of a &ldquo;<em>strut</em>&rdquo; (a metal
spacer).  A TeX user can do exactly the same thing: most macro
packages define a <code>&#x5c;strut</code> command, that defines a space appropriate
to the current size of the text; placing a <code>&#x5c;strut</code> command at the
end of a troublesome row is the simplest solution to the problem&nbsp;&mdash;
if it works.  Other solutions below are LaTeX-specific, but some
may be simply translated to Plain TeX commands.

<p>
If your table exhibits a systematic problem (i.e., every row is wrong
by the same amount) use <code>&#x5c;extrarowheight</code>, which is defined by the
<i class="package">array</i> package:
<blockquote>
<pre>
\usepackage{array}% in the preamble
...
\setlength{\extrarowheight}{length}
\begin{tabular}{....}
</pre>
</blockquote>

<p>
To correct a single row whose maladjustment isn&rsquo;t corrected by a
<code>&#x5c;strut</code> command, you can define your own, using
<code>&#x5c;rule</code><code>&#x7b;0pt&#x7d;</code></code><code>&#x7b;length&#x7d;</code>&nbsp;&mdash; which is a near approximation to the
command that goes inside a <code>&#x5c;strut</code>.  The <i class="package">bigstrut</i> package
defines a strut command that you can use for this purpose:
<code>&#x5c;bigstrut</code> on its own opens up both above and below the current
line; <code>&#x5c;bigstrut</code><code>[t]</code> opens up above the line,
<code>&#x5c;bigstrut</code><code>[b]</code> opens up below the line.

<p>
General solutions are available, however.  The <i class="package">tabls</i> package
automatically generates an appropriately-sized strut at the end of
each row.  Its disadvantages are that it&rsquo;s really rather slow in
operation (since it gets in the way of everything within tables) and
its (lack of) compatibility with other packages.

<p>
The <i class="package">makecell</i> package provides a command <code>&#x5c;gape</code> that may
be used to apply strut expansion for a single cell of a table:
<blockquote>
<pre>
\begin{tabular}{lll}
  ... &amp; \gape{cell contents} &amp; ... \\
  ...
\end{tabular}
</pre>
</blockquote>
The package&rsquo;s similar <code>&#x5c;Gape</code> command provides the same function,
but with optional arguments that allow you to adjust the top and
bottom adjustment.

<p>
To adjust every cell in whole tables, the
<code>&#x5c;setcellgapes</code><code>&#x7b;&lsaquo;<i>value</i>&rsaquo;&#x7d;</code> sets the adjustment value (an
optional argument of &ldquo;<tt>t</tt>&rdquo; or &ldquo;<tt>b</tt>&rdquo; restricts
adjustment to the top or bottom of each cell, respectively).  Having
issued <code>&#x5c;setcellgapes</code>, the command <code>&#x5c;makegapedcells</code> switches
cell expansion on, and <code>&#x5c;nomakegapedcells</code> switches it off again.

<p>
The <i class="package">cellspace</i> package does a (possibly inferior) job by
defining a new table/array column type &ldquo;S&rdquo;, which you apply to each
column specification.  So, for example,
<blockquote>
<code>&#x5c;begin</code><code>&#x7b;tabular&#x7d;</code></code><code>&#x7b;l l l p&#x7b;3cm&#x7d;&#x7d;</code>
</blockquote>
would become
<blockquote>
<code>&#x5c;begin</code><code>&#x7b;tabular&#x7d;</code></code><code>&#x7b;Sl Sl Sl Sp&#x7b;3cm&#x7d;&#x7d;</code>
</blockquote>
and so on.  This technique shows
promise of not interfering so much with other packages, but this
author has heard of no reports from the field.

<p>
The <i class="package">booktabs</i> package comes with a thought-provoking essay
about how tables should be designed.  Since table row-spacing problems
most often appear in collisions with rules, the author&rsquo;s thesis,
that LaTeX users tend too often to rule their tables, is
interesting.  The package provides rule commands to support the
author&rsquo;s scheme, but deals with inter-row spacing too.  The most
recent release of <i class="package">booktabs</i> sports compatibility with
packages such as <i class="package">longtable</i>.
<dl>
<dt class="ctanref">array.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/array">2etools</a>
<dt class="ctanref">bigstrut.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bigstrut">bigstrut</a>
<dt class="ctanref">booktabs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/booktabs">booktabs</a>
<dt class="ctanref">cellspace.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cellspace">cellspace</a>
<dt class="ctanref">makecell.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/makecell">makecell</a>
<dt class="ctanref">tabls.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tabls">tabls</a>
</dl>

<p class="lastedit">This answer last edited: 2011-05-02</p>

<p>
[[[Question]]][Q-longtab][[[LBRACE]]]Tables longer than a single page[[[RBRACE]]]

<p>
Tables are, by default, set entirely in boxes of their own: as a
result, they won&rsquo;t split over a page boundary.  Sadly, the world keeps
turning up tables longer than a single page that we need to typeset.

<p>
For simple tables (whose shape is highly regular), the simplest
solution may well be to use the <code class="environment">tabbing</code> environment,
which is slightly tedious to set up, but which doesn&rsquo;t force the whole alignment
onto a single page.

<p>
The <i class="package">longtable</i> package builds the whole table (in chunks), in
a first pass, and then uses information it has written to the <code class="extension">aux</code>
file during later passes to get the setting &ldquo;right&rdquo; (the package
ordinarily manages to set tables in just two passes).  Since the
package has overview of the whole table at the time it&rsquo;s doing
&ldquo;final&rdquo; setting, the table is set &ldquo;uniformly&rdquo; over its entire
length, with columns matching on consecutive pages.
<i class="package">longtable</i> has a reputation for failing to interwork with
other packages, but it does work with <i class="package">colortbl</i>, and its
author has provided the <i class="package">ltxtable</i> package to provide (most
of) the facilities of <i class="package">tabularx</i> (see

<a class="FAquestion.html" href="FAQ-fixwidtab.html">fixed-width tables</a>) for long tables:
beware of its rather curious usage constraints&nbsp;&mdash; each long table
should be in a file of its own, and included by
<code>&#x5c;LTXtable</code><code>&#x7b;width&#x7d;</code></code><code>&#x7b;file&#x7d;</code>.  Since <i class="package">longtable</i>&rsquo;s
multiple-page tables can&rsquo;t possibly live inside floats, the package
provides for captions within the <code class="environment">longtable</code> environment
itself.

<p>
A seeming alternative to <i class="package">ltxtable</i> is <i class="package">ltablex</i>; but
it is outdated and not fully functional.  Its worst problem is its
strictly limited memory capacity (<i class="package">longtable</i> is not so
limited, at the cost of much complication in its code);
<i class="package">ltablex</i> can only deal with relatively small tables, it doesn&rsquo;t seem
likely that support is available; but its user interface is much
simpler than <i class="package">ltxtable</i>, so if its restrictions aren&rsquo;t a
problem for you, it may be worth a try.

<p>
The <i class="package">supertabular</i> package starts and stops a
<code class="environment">tabular</code> environment for each page of the table.  As a
result, each &lsquo;page worth&rsquo; of the table is compiled independently, and
the widths of corresponding columns may differ on successive pages.
However, if the correspondence doesn&rsquo;t matter, or if your columns are
fixed-width, <i class="package">supertabular</i> has the great advantage of doing
its job in a single run.

<p>
Both <i class="package">longtable</i> and <i class="package">supertabular</i> allow definition
of head- and footlines for the table; <i class="package">longtable</i> allows
distinction of the first and last head and foot.

<p>
The <i class="package">xtab</i> package fixes some infelicities of
<i class="package">supertabular</i>, and also provides a &ldquo;last head&rdquo; facility
(though this, of course, destroys <i class="package">supertabular</i>&rsquo;s advantage
of operating in a single run).

<p>
The <i class="package">stabular</i> package provides a simple-to-use &ldquo;extension to
<code class="environment">tabular</code>&rdquo; that allows it to typeset tables that run over
the end of a page; it also has usability extensions, but doesn&rsquo;t have
the head- and footline capabilities of the major packages.

<p>
Documentation of <i class="package">ltablex</i> is to be found in the package file.
<dl>
<dt class="ctanref">longtable.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/longtable">2etools</a>
<dt class="ctanref">ltablex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ltablex">ltablex</a>
<dt class="ctanref">ltxtable.sty</dt><dd>Generate by running <a class="ctan" href="https://www.ctan.org/pkg/ltxtable">ltxtable</a>
<dt class="ctanref">stabular.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/stabular">sttools</a>
<dt class="ctanref">supertabular.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/supertabular">supertabular</a>
<dt class="ctanref">xtab.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xtab">xtab</a>
</dl>

<p>
[[[Question]]][Q-tabcellalign][[[LBRACE]]]How to alter the alignment of tabular cells[[[RBRACE]]]

<p>
One often needs to alter the alignment of a tabular <tt>p</tt> (&lsquo;paragraph&rsquo;)
cell, but problems at the end of a table row are common.  With a
<tt>p</tt> cell that looks like:
<blockquote>
<pre>
... &amp; \centering blah ... \\
</pre>
</blockquote>
one is liable to encounter errors that complain about a &ldquo;misplaced
<code>&#x5c;noalign</code>&rdquo; or &ldquo;<a href="FAQ-altabcr.html">extra alignment tab</a>&rdquo;, or the like.
The problem is that the command <tt>&#x5c; </tt> means different things in
different circumstances: the <code class="environment">tabular</code> environment
switches the meaning to a value for use in the table, and
<code>&#x5c;centering</code>, <code>&#x5c;raggedright</code> and <code>&#x5c;raggedleft</code> all change the
meaning to something incompatible.  Note that the problem only
arises in the last cell of a row: since each cell is set into a box,
its settings are lost at the <tt>&amp;</tt> (or <tt>&#x5c; </tt>) that
terminates it. 

<p>
In the old days, the actual value of <tt>&#x5c; </tt> that the
<code class="environment">tabular</code> environment uses was only available as an
internal command.  Nowadays, the value is a public command, and you
can in principle use it explicitly:
<blockquote>
<pre>
... &amp; \centering blah ... \tabularnewline
</pre>
</blockquote>
(but that&rsquo;s a rather verbose way of doing things).

<p>
The <i class="package">array</i> package provides a command <code>&#x5c;arraybackslash</code>
which restores <tt>&#x5c; </tt> to its correct (within table) meaning;
the command may be used in <i class="package">array</i>&rsquo;s &ldquo;field format&rdquo; preamble
specifications:
<blockquote>

<pre>
\begin{tabular}{...%
        >{\centering\arraybackslash}%
                             p{50mm}}
...
</pre>


<pre>
\begin{tabular}{... >{\centering\arraybackslash}p{50mm}}
...
</pre>

</blockquote>

<p>
The <code>&#x5c;tabularnewline</code> and <code>&#x5c;arraybackslash</code> commands are
(somewhat) modern additions to LaTeX and the <i class="package">array</i>
package, respectively.  In the unlikely event that neither is
available, the user may try the (old) solution which preserves the
meaning of <tt>&#x5c; </tt>:
<blockquote>
<pre>
\newcommand\PBS[1]{\let\temp=\\%
  #1%
  \let\\=\temp
}
</pre>
</blockquote>
which one uses within a table as:
<blockquote>
<pre>
... &amp; \PBS\centering blah ... \\
</pre>
</blockquote>
or in the preamble as:
<blockquote>
<pre>
\begin{tabular}{...>{\PBS\centering}p{5cm}}
</pre>
</blockquote>
<dl>
<dt class="ctanref">array.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/array">2etools</a>
</dl>


<p>
[[[Question]]][Q-rulethk][[[LBRACE]]]The thickness of rules in LaTeX tables[[[RBRACE]]]

<p>
The rules in a LaTeX table are by default <tt>0.4pt</tt> thick;
this is in fact a default built in at the lowest level, and applies to
all rules (including those separating blocks of running text).

<p>
Sometimes, however, we look at a table and find we want the rules to
stand out&nbsp;&mdash; perhaps to separate the text from the rest of the body
text, or to make the sections of the table stand out from one another.
However, a quick review of any LaTeX manual will reveal no
technique for making any one rule stand out, and a little
experimentation shows that it is indeed pretty difficult to prevent
a change &ldquo;bleeding&rdquo; out to affect other rules in the same table.

<p>
If you look at what we have to say on the 
<a href="FAQ-destable.html">design of tables</a>, elsewhere
among these FAQs, and you may sense that the design of LaTeX
simply skipped the issues surrounding table design: <em>that&rsquo;s</em>
presumably why there&rsquo;s no facilities to help you.

<p>
Specifically, the length <code>&#x5c;arrayrulewidth</code> affects the thickness of
the rules (both horizontal and vertical) within both
<code class="environment">tabular</code> and <code class="environment">array</code> environments.  If you
change from the default (see above) only as far as
<blockquote>
<pre>
\setlength{\arrayrulewidth}{1pt}
</pre>
</blockquote>
the change is remarkably striking.  However, really quite subtle user
level programming proves incapable of changing just <em>one</em> rule:
it&rsquo;s necessary to delve into the (rather tricky) code of <code>&#x5c;hline</code>
and <code>&#x5c;cline</code> themselves.

<p>
Fortunately, this job has already been done for the community: the
<i class="package">booktabs</i> package defines three different classes of rule
(<code>&#x5c;toprule</code>, <code>&#x5c;midrule</code> and <code>&#x5c;bottomrule</code>), and the package
documentation offers hints on how to use them.  You are
<em>strongly</em> advised to read the documentation pretty carefully.

<p>
The <i class="class">memoir</i> class includes the <i class="package">booktabs</i> package, and
repeats the documentation in its compendious manual.

<p>
Note that none of the above mentions the issue of the weight of
vertical rules (except in passing).  For the reasons, see the
documentation of the <i class="package">booktabs</i> package (again); vertical
rules in tables are in any case even more trickily coded than are
horizontal rules, and if their lack of configurability makes them
still less attractive, so much the better for the design of your
document.
<dl>
<dt class="ctanref">booktabs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/booktabs">booktabs</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-textflow][[[LBRACE]]]Flowing text around figures[[[RBRACE]]]

<p>
There are several LaTeX packages that purport to do this, but they
all have their limitations because the TeX machine isn&rsquo;t really
designed to solve this sort of problem.  Piet van Oostrum has
conducted a survey of the available packages; he recommends:
<dl>
<dt class="description"><tt>floatflt</tt></dt><dd> <i class="package">floatflt</i> is an improved version
  (for LaTeX 2e) of <i class="filename">floatfig.sty</i>, and its syntax is:

<blockquote>
<pre>
\begin{floatingfigure}[options]{width of figure}
  figure contents
\end{floatingfigure}
</pre>
</blockquote>








There is a (more or less similar) <code class="environment">floatingtable</code>
environment.

<p>
The tables or figures can be set left or right, or alternating on
even/odd pages in a double-sided document.

<p>
The package works with the <tt>multicol</tt> package, but doesn&rsquo;t work well
in the neighbourhood of list environments (unless you change your
LaTeX document).
<dt class="description"><tt>wrapfig</tt></dt><dd> <i class="package">wrapfig</i> has syntax:

<blockquote>
<pre>
\begin{wrapfigure}[height of figure in lines]{l,r,...}[overhang]{width}
  figure, caption, etc.
\end{wrapfigure}
</pre>
</blockquote>












    The syntax of the <code class="environment">wraptable</code> environment is similar.

<p>
    The <em><tt>height</tt></em> may be omitted, in which case it will
    be calculated from the size of the figure; the package will use
    the greater of the specified and the
    actual width.  The <tt>&#x7b;l,r,<em>etc</em>.&#x7d;</tt> parameter may
    also be specified as <tt>i</tt><em>(nside)</em> or
    <tt>o</tt><em>(utside)</em> for two-sided documents, and uppercase
    may be used to indicate that the picture should float.  The
    overhang allows the figure to be
    moved into the margin.  The figure or table will entered into the
    list of figures or tables if you use the <code>&#x5c;caption</code> command.

<p>
    The environments do not work within list environments that end
    before the figure or table has finished, but can be used in a
    parbox or minipage, and in twocolumn format.
  <dt class="description"><tt>picins</tt></dt><dd> <i class="package">Picins</i> is part of a large bundle
    that allows inclusion of pictures (e.g., with shadow boxes,
    various MSDOS formats, etc.).  The command for inserting a
    picture at the start of a paragraph is:

  <blockquote>
    <code>&#x5c;parpic</code><tt>(width,height)(x-off,y-off)[Options][Position]&#x7b;Picture&#x7d;</tt><br>
    <em>Paragraph text</em>
  </blockquote>









  All parameters except the <em>Picture</em> are optional.  The picture
  can be positioned left or right, boxed with a rectangle, oval,
  shadowbox, dashed box, and a caption can be given which will be
  included in the list of figures.

<p>
  Unfortunately (for those of us whose understanding of German is not
  good), the documentation is in German.  Piet van Oostrum has written
  a summary in English.
</dl>
All of the above deal insertions at one or other margin; they are able
to take advantage of the TeX <code>&#x5c;parshape</code> primitive that allows
you to adjust the margins of the text of a paragraph, by line (Knuth
provides an example of such use, with text typeset in a circle,
half-overlapping the margin, in chapter&nbsp;14 of the TeXbook).  To
place insertions in the middle of a paragraph requires effort of an
entirely different sort; the <i class="package">cutwin</i> package does this for
you.  It requires a set of &ldquo;part line widths&rdquo; (two per line), and
typesets the &ldquo;cutout&rdquo; section of the paragraph line by line.  The
examples in the package documentation look enticing.

<p>
Plain TeX users only have one option: <i class="package">figflow</i> (which
doesn&rsquo;t work in LaTeX).  <i class="package">Figflow</i> only offers flowed
figures at the start of the paragraph, but it seems perfectly
functional. Syntax is
<blockquote>
  <code>&#x5c;figflow</code><code>&#x7b;&lsaquo;<i>width</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>height</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>figure</i>&rsaquo;&#x7d;</code>
</blockquote>
(the user is responsible for having the dimensions correct, and for
ensuring the figure fits on the page).
<dl>
<dt class="ctanref">cutwin.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cutwin">cutwin</a>
<dt class="ctanref">figflow.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/figflow">figflow</a>
<dt class="ctanref">floatflt.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/floatflt">floatflt</a>
<dt class="ctanref">picins.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/picins">picins</a>
<dt class="ctanref">picins documentation summary</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/picins-summary">picins-summary</a>
<dt class="ctanref">wrapfig.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/wrapfig">wrapfig</a>
</dl>

<p class="lastedit">This answer last edited: 2009-06-11</p>

<p>
[[[Question]]][Q-slashbox][[[LBRACE]]]Diagonal separation in corner cells of tables[[[RBRACE]]]
<!-- tabular -->

<p>
You want to label both the top or bottom row and the left- or
rightmost column, somewhere at the corner of the table where the row
and column meet.  A simple way to achieve the result is to construct
the table with an arrangement of rules (and possibly <code>&#x5c;multicolumn</code>
entries), to look like:
<blockquote>
<pre>
-----------------
x  y
   --------------
   1  2  3  4  5
-----------------
1
2
3
4
5
-----------------
</pre>
</blockquote>
However, this doesn&rsquo;t satisfy everyone: many want the labelling in a
single cell at the top left of the table.  It sounds a simple enough
requirement, yet it calls for some slightly tricky LaTeX coding.
The <i class="package">diagbox</i> package does this job for you: it defines a
command <code>&#x5c;diagbox</code> whose two arguments provide the texts to be
used; an optional argument may be used for fine tuning of the result.
It draws a picture with the two labels on either side of a slanting
line; the command (and hence the picture) may be placed in the corner
cell, where the labelled row and column meet.

<p>
The <i class="package">diagbox</i> package supersedes <i class="package">slashbox</i>; the older
package&rsquo;s commands <code>&#x5c;slashbox</code> and <code>&#x5c;backslashbox</code> are provided
in a compatible way in the newer package, to ease transition.
<dl>
<dt class="ctanref">diagbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/diagbox">diagbox</a>
<dt class="ctanref">slashbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/slashbox">slashbox</a>
</dl>

<p class="lastedit">This answer last edited: 2010-11-22</p>

<p>
[[[Question]]][Q-wholerow][[[LBRACE]]]How to change a whole row of a table[[[RBRACE]]]

<p>
Each cell of a table is set in a box, so that a change of font style
(or whatever) only lasts to the end of the cell.  If one has a
many-celled table, or a long one which needs lots of rows emphasising,
putting a font style change command in every cell will be impossibly
tedious.

<p>
With the <i class="package">array</i> package, you can define column modifiers
which will change the font style for a whole <em>column</em>.  However,
with a bit of subtlety, one can make such modifiers affect rows rather
than columns.  So, we set things up by:
<blockquote>

<pre>
\usepackage{array}
\newcolumntype{$}{>{%
  \global\let\currentrowstyle\relax}%
}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{%
  \gdef\currentrowstyle{#1}%
  #1\ignorespaces
}
</pre>


<pre>
\usepackage{array}
\newcolumntype{$}{>{\global\let\currentrowstyle\relax}}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
  #1\ignorespaces
}
</pre>

</blockquote>
Now, we put &lsquo;<tt>&#x24;</tt>&rsquo; before the first column specifier; and we
put &lsquo;<tt>^ </tt>&rsquo;
before the modifiers of subsequent ones.  We then use <code>&#x5c;rowstyle</code> at
the start of each row we want to modify:
<blockquote>
<pre>
\begin{tabular}{|$l|^l|^l|}   \hline
  \rowstyle{\bfseries}
  Heading &amp; Big and &amp; Bold \\ \hline
  Meek &amp; mild &amp; entry      \\
  Meek &amp; mild &amp; entry      \\
  \rowstyle{\itshape}
  Strange &amp; and &amp; italic   \\
  Meek &amp; mild &amp; entry      \\ \hline
\end{tabular}
</pre>
</blockquote>
The <i class="package">array</i> package works with several other
<code class="environment">tabular</code>-like environments from other packages (for
example <code class="environment">longtable</code>), but unfortunately this trick won&rsquo;t
always work.
<dl>
<dt class="ctanref">array.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/array">2etools</a>
</dl>

<p>
[[[Question]]][Q-multirow][[[LBRACE]]]Merging cells in a column of a table[[[RBRACE]]]

<p>
It&rsquo;s easy to come up with a table design that requires a cell that
spans several rows.  An example is something where the left-most
column labels the rest of the table; this can be done (in simple
cases) by using 
<a href="FAQ-slashbox.html">diagonal separation in corner cells</a>, but that
technique rather strictly limits what can be used as the content of
the cell.

<p>
The <i class="package">multirow</i> package enables you to construct such multi-row
cells, in a very simple manner.  For the simplest possible use, one
might write:
<blockquote>
<pre>
\begin{tabular}{|c|c|}
\hline
\multirow{4}{*}{Common g text} 
      &amp; Column g2a\\
      &amp; Column g2b \\
      &amp; Column g2c \\
      &amp; Column g2d \\
\hline
\end{tabular}
</pre>
</blockquote>
and <i class="package">multirow</i> will position &ldquo;Common g text&rdquo; at the vertical
centre of the space defined by the other rows.  Note that the rows
that don&rsquo;t contain the &ldquo;multi-row&rdquo; specification must have empty
cells where the multi-row is going to appear.

<p>
The &ldquo;<tt>*</tt>&rdquo; may be replaced by a column width specification.  In this
case, the argument may contain forced line-breaks:
<blockquote>
<pre>
\begin{tabular}{|c|c|}
\hline
\multirow{4}{25mm}{Common\\g text} 
      &amp; Column g2a\\
      &amp; Column g2b \\
      &amp; Column g2c \\
      &amp; Column g2d \\
\hline
\end{tabular}
</pre>
</blockquote>
A similar effect (with the possibility of a little more
sophistication) may be achieved by putting a smaller table that lines
up the text into a <tt>*</tt>-declared <code>&#x5c;multirow</code>.

<p>
The <code>&#x5c;multirow</code> command may also used to write labels vertically
down one or other side of a table (with the help of the
<i class="package">graphics</i> or <i class="package">graphicx</i> package, which provide the
<code>&#x5c;rotatebox</code> command):
<blockquote>
<pre>
\begin{tabular}{|l|l|}
\hline
\multirow{4}{*}{\rotatebox{90}{hi there}}
      &amp; Column g2a\\
      &amp; Column g2b \\
      &amp; Column g2c \\
      &amp; Column g2d \\
\hline
\end{tabular}
</pre>
</blockquote>
(which gives text going upwards; use angle <tt>-90</tt> for text going
downwards, of course).

<p>
To make a <code>&#x5c;multicolumn</code> multi-row &ldquo;cell&rdquo; in a table, you have to
enclose a <code>&#x5c;multirow</code> inside a <code>&#x5c;multicolumn</code>&nbsp;&mdash; the other way
around does not work, so:
<blockquote>

<pre>
\begin{tabular}{|c|c|c|}\hline
\multicolumn{2}{|c|}{\multirow{2}{*}{combined cells}}
     &amp;top right\\ \cline{3-3}
\multicolumn{2}{|c|}{}
     &amp;middle right\\ \hline
bottom left
     &amp;bottom center
     &amp;bottom right\\ \hline
\end{tabular}
</pre>


<pre>
\begin{tabular}{|c|c|c|}\hline
\multicolumn{2}{|c|}{\multirow{2}{*}%
                           {combined cells}}
     &amp;top right\\ \cline{3-3}
\multicolumn{2}{|c|}{}
     &amp;middle right\\ \hline
bottom left
     &amp;bottom center
     &amp;bottom right\\ \hline
\end{tabular}
</pre>

</blockquote>
<i class="package">Multirow</i> is set up to interact with the <i class="package">bigstrut</i>
package (which is also discussed in the answer to 
<a class="FAquestion.html" href="FAQ-struttab.html">spacing lines in tables</a>).  You use an
optional argument to the <code>&#x5c;multirow</code> command to say how many of the
rows in the multi-row have been opened up with <code>&#x5c;bigstrut</code>.

<p>
The documentation of both <i class="package">multirow</i> and <i class="package">bigstrut</i> is
to be found, as comments, in the package files themselves.
<dl>
<dt class="ctanref">bigstrut.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bigstrut">bigstrut</a>
<dt class="ctanref">multirow.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multirow">multirow</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-floatpages][[[LBRACE]]]Floats on their own on float pages[[[RBRACE]]]

<p>
It&rsquo;s sometimes necessary to force a float to live on a page by itself.
(It&rsquo;s sometimes even necessary for <em>every</em> float to live on a
page by itself.)  When the float fails to &lsquo;set&rsquo;, and waits for the end
of a chapter or of the document, the natural thing to do is to declare
the float as
<blockquote>
  <code>&#x5c;begin</code><code>&#x7b;figure&#x7d;</code>[p!]
</blockquote>
but the overriding <tt>!</tt> modifier has no effect on float page floats; so
you have to make the float satisfy the parameters.
<a class="FAQuestion.html" href="FAQ-floats.html">Moving tables and figures</a> offers some
suggestions, but doesn&rsquo;t solve the one-float-per-page question.

<p>
The &lsquo;obvious&rsquo; solution, using the counter <tt>totalnumber</tt>
(&ldquo;total number of floats per page&rdquo;) doesn&rsquo;t work:
<tt>totalnumber</tt> only applies to floats on &lsquo;text&rsquo; pages (pages
containing text as well as one or more float).  So, to allow any
size float to take a whole page, set <code>&#x5c;floatpagefraction</code> really
small, and to ensure that no more than one float occupies a page, make
the separation between floats really big:
<blockquote>
<pre>
\renewcommand\floatpagefraction{.001}
\makeatletter
\setlength\@fpsep{\textheight}
\makeatother
</pre>
</blockquote>

<p>
[[[Question]]][Q-wideflt][[[LBRACE]]]Centring a very wide figure or table[[[RBRACE]]]

<p>
The normal means of centring a figure or table object is to include
<code>&#x5c;centering</code> at the top of the float.  This doesn&rsquo;t help if the
object is wider than <code>&#x5c;textwidth</code>&nbsp;&mdash; the object starts at the left
margin and juts out into the right margin (which is actually doubly
unsatisfactory, since as well as looking bad, the float won&rsquo;t be
placed until the next <code>&#x5c;clearpage</code> or the like.)

<p>
You can avoid the problem by rescaling the figure or table to fit, but
this is often not satisfactory, for several reasons.

<p>
Otherwise, if the object is wider than the printable area of the page,
you&rsquo;ve no choice other than to <a href="FAQ-landscape.html">rotate it</a>.  If,
however, the object is <em>just</em> wider than the text block, you can
make it pretend to be the right size by:
<blockquote>

<pre>
\begin{figure}
  \noindent
  \makebox[\textwidth]{\includegraphics{my-wide-figure}}%
  \caption{This figure juts out into both margins}
\end{figure}
</pre>


<pre>
\begin{figure}
  \noindent
  \makebox[\textwidth]{%
    \includegraphics{my-wide-figure}%
  }%
  \caption{This figure juts out into both margins}
\end{figure}
</pre>

</blockquote>
Note the <code>&#x5c;noindent</code>: the <code>&#x5c;makebox</code> starts a paragraph, and you
really don&rsquo;t want that indented by <code>&#x5c;parindent</code>.

<p>
[[[Question]]][Q-2colfloat][[[LBRACE]]]Placing two-column floats at bottom of page[[[RBRACE]]]

<p>
You specified placement &lsquo;<tt>[htbp]</tt>&rsquo; for your full-width figure or
table, but they always get placed at the top of the page&hellip;  Well,
it <em>is</em> what the documentation says: LaTeX, unadorned, only
allows full-width floats at the top of a page, or occupying (part of) a
float page.

<p>
The <i class="package">stfloats</i> package ameliorates the situation somewhat, and
makes LaTeX honour &lsquo;[b]&rsquo; placement as well; the
<i class="package">dblfloatfix</i> package combines a tidied version of the changes
made in <i class="package">stfloats</i> with the




 
  <a href="FAQ-2colfltorder.html">float ordering corrections</a> defined in
  <i class="package">fixltx2e</i>.


<p>
A particular problem with <i class="package">stfloats</i> and <i class="package">dblfloatfix</i>
is that the float will appear, at its earliest, on the page after it
is specified.  This has two undesirable side-effects: first, there may
be no bottom float on the first page of a document, and second, float
numbers may become &ldquo;entangled&rdquo; (particularly if you&rsquo;re using
<i class="package">dblfloatfix</i> that ensures that the early-specified bottom
float is set <em>before</em> any single column floats).

<p>
(The FAQ team doesn&rsquo;t know of any package that will make
LaTeX honour &lsquo;[h]&rsquo; placement of double-column floats, but the
<i class="package">midfloat</i> package can be pressed into service to provide
something approximating the effect it would have.)
<dl>
<dt class="ctanref">dblfloatfix.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dblfloatfix">dblfloatfix</a>
<dt class="ctanref">midfloat.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/midfloat">sttools</a>
<dt class="ctanref">stfloats.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/stfloats">sttools</a>
</dl>

<p>
[[[Question]]][Q-mcfloat][[[LBRACE]]]Floats in multicolumn setting[[[RBRACE]]]

<p>
If you use
<blockquote>
<pre>
\begin{figure}
  ...
\end{figure}
</pre>
</blockquote>
in a <code class="environment">multicols</code> environment, the figure won&rsquo;t appear.  If
instead you use
<blockquote>
<pre>
\begin{figure*}
  ...
\end{figure*}
</pre>
</blockquote>
the figure will stretch right across the page (just the same as a
<code class="environment">figure*</code> in standard LaTeX&rsquo;s <code class="pkgoption">twocolumn</code> option).

<p>
It&rsquo;s possible to have single-column figures and tables with captions,
using the &lsquo;<tt>[H]</tt>&rsquo; placement option introduced by the <i class="package">float</i>
package but you might have to fiddle with the placement because they
won&rsquo;t &lsquo;float&rsquo;, and exhibit other strange behaviours (such as silently
running off the end of the column at the end of the
<code class="environment">multicols</code> environment).
<dl>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">multicol.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/multicol">2etools</a>
</dl>

<p>
[[[Question]]][Q-dpfloat][[[LBRACE]]]Facing floats on 2-page spread[[[RBRACE]]]

<p>
If a pair of floats need to be forced to form a 2-page spread (in a
book, or whatever), the first must lie on the left side of the spread,
on an even-numbered page.  The <i class="package">dpfloat</i> package provides for
this: the construction to use is:
<blockquote>
<pre>
\begin{figure}[p]
  \begin{leftfullpage}
    <left side figure>
  \end{leftfullpage}
\end{figure}
\begin{figure}[p]
  \begin{fullpage}
    <right side figure>
  \end{fullpage}
\end{figure}
</pre>
</blockquote>
The construction has no effect on documents with class option
<code class="pkgoption">oneside</code> (<code class="pkgoption">twoside</code> is the default for
<i class="class">book</i> class).

<p>
A special case of this requirement places the caption for a float on
the next page.  (This is useful if you have a float that &ldquo;only just&rdquo;
fits the page.)  You can (with a certain amount of twiddling) make
this work with <i class="package">dpfloat</i>, but the <i class="package">fltpage</i> package is
specially designed for the job:
<blockquote>
<pre>
\documentclass[twoside]{article}
\usepackage[leftFloats]{fltpage}
\begin{document}
...
\begin{FPfigure}
  \includegraphics{my-huge-figure}
  \caption{Whew!  That was a big one!}
\end{FPfigure}
...
\end{document}
</pre>
</blockquote>
That example should produce a caption
<blockquote>
  Figure &lsaquo;<i>n</i>&rsaquo; <em>(facing page)</em>: Whew!  &hellip;
</blockquote>
(Note, however, that the package is an old one, and declares itself to
be a beta release, and contains no valid licence statement so that it
is not in texlive.  It seems to work, but&hellip;)

<p>
A alternative route is the &ldquo;continued&rdquo; mechanism of the
<i class="package">caption</i> package.  The <code>&#x5c;ContinuedFloat</code> macro makes a
small tweak to the next <code>&#x5c;caption</code> command, so that the command
makes no increment to the caption number.  This does not (of course)
have any effect on actual placement of the float, but it makes the
caption texts read &lsquo;sensibly&rsquo;:
<blockquote>
<pre>
\begin{table}
  \caption{A table}
  ...
\end{table}
...
\begin{table}\ContinuedFloat
  \caption{A table (cont.)}
  ...
\end{table}
</pre>
</blockquote>
which would produce:
<blockquote>
  Table 3: A table
  &hellip;
  Table 3: A table (cont.)
</blockquote>
<dl>
<dt class="ctanref">caption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/caption">caption</a>
<dt class="ctanref">dpfloat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dpfloat">dpfloat</a>
<dt class="ctanref">fltpage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fltpage">fltpage</a>
</dl>

<p class="lastedit">This answer last edited: 2013-02-01</p>

<p>
[[[Question]]][Q-vertposfp][[[LBRACE]]]Vertical layout of float pages[[[RBRACE]]]

<p>
By default, LaTeX vertically centres the floats on a float page;
the present author is not alone in not liking this arrangement.
Unfortunately, the control of the positioning is &ldquo;buried&rdquo; in
LaTeX-internal commands, so some care is needed to change the
layout.

<p>
Float pages use three LaTeX lengths (i.e., TeX skips) to define
their layout:
<dl>
<dt class="description"><code>&#x5c;@fptop</code></dt><dd> defines the distance from the
  top of the page to the top of the first float,
<dt class="description"><code>&#x5c;@fpsep</code></dt><dd> defines the separation between
  floats, and
<dt class="description"><code>&#x5c;@fpbot</code></dt><dd> defines the distance from the
  bottom of the last float on the page to the bottom of the page.
</dl>
(In fact, the output routine places a skip of <code>&#x5c;@fpsep</code> above each float, so
the <code>&#x5c;@fptop</code> skip is always followed by a correction for that.)

<p>

<p>
The LaTeX defaults are:
<blockquote>
  <code>&#x5c;@fptop</code> = <tt>0pt + 1fil</tt><br>
  <code>&#x5c;@fpsep</code> = <tt>8pt + 2fil</tt><br>
  <code>&#x5c;@fpbot</code> = <tt>0pt + 1fil</tt><br>
</blockquote>
so that the gaps expand to fill the space not occupied by floats, but
if there is more than one float on the page, the gap between them will
expand to twice the space at top and bottom.

<p>
Those who understand this stuff will be able to play elaborate games,
but the commonest requirement, that the floats start at the top of the
page, is a simple thing to do:
<blockquote>
<pre>
\makeatletter
\setlength{\@fptop}{0pt}
\makeatother
</pre>
</blockquote>
Surprisingly, you may find this setting leaves your floats too high on
the page.  One can justify a value of <tt>5pt</tt> (in place of
<tt>0pt</tt>)&nbsp;&mdash; it&rsquo;s roughly the difference between <code>&#x5c;topskip</code>
and the height of normal (<tt>10pt</tt>) text.

<p>
Note that this is a &ldquo;global&rdquo; setting (best established in a class
file, or at worst in the document preamble); making the change for a
single float page is likely (at the least) to be rather tricky.

<p>
[[[Question]]][Q-figurehere][[[LBRACE]]]Figure (or table) <em>exactly</em> where I want it[[[RBRACE]]]

<p>
This is of course a contradiction: <code class="environment">figure</code> and
<code class="environment">table</code> are <em>designed</em> to float, and will always have
the potential to appear away from where you asked for them.  Therefore
you need something that behaves like a <code class="environment">figure</code> or
<code class="environment">table</code> environment, except that it doesn&rsquo;t allow the
figure or table to float.

<p>
The most straightforward way is to use of the <i class="package">float</i> package;
it gives you a <tt>[H]</tt> float placement option that prevents
floating:
<blockquote>
<pre>
\begin{figure}[H]
  \centering
  \includegraphics{foo}
  \caption{caption text}
  \label{fig:nonfloat}
\end{figure}
</pre>
</blockquote>
As the example suggests, such a &lsquo;<tt>[H]</tt>&rsquo; figure (or
corresponding table) offers all you need to cross-reference as well
as typeset.  (The package <i class="package">here</i> provides the same function,
but is no longer recommended.)

<p>
However, you don&rsquo;t actually <em>have</em> to use <i class="package">float</i> (or
<i class="package">here</i>) since it is, in fact, doing rather little for you.
You can place your figure as you please, with a sequence like
<blockquote>
<pre>
\begin{center}
  \includegraphics{foo}
  \captionof{figure}{caption text}
  \label{fig:nonfloat}
\end{center}
</pre>
</blockquote>
which relies on the <code>&#x5c;captionof</code> command to place a caption without
benefit of an enclosing float.  That command may be had from the extremely
simple-minded package <i class="package">capt-of</i> or from the highly
sophisticated <i class="package">caption</i> package.

<p>
Using either method, you have to deal with the possibility of the
figure or table being too large for the page.  (Floating objects will
float away in this circumstance; &ldquo;doing it by hand&rdquo;, like this, you
take upon yourself the responsibility for avoiding 
&lsquo;<i>Overfull <code>&#x5c;vbox</code></i>&rsquo; errors.

<p>
A further problem is the possibility that such &ldquo;fixed floats&rdquo; will
overtake &ldquo;real floats&rdquo;, so that the numbers of figures will be out
of order: figure 6 could be on page 12, while figure 5 had floated to
page 13.  It&rsquo;s best, therefore, either to stay with floating figures
throughout a document, or to use fixed figures throughout.

<p>
If it&rsquo;s really impossible to follow that counsel of perfection, you
can use the <i class="package">perpage</i> package&rsquo;s command <code>&#x5c;MakeSorted</code>
command:
<blockquote>
<pre>
...
\usepackage{float}
\usepackage{perpage}
\MakeSorted{figure}
\MakeSorted{table}
...
</pre>
</blockquote>
and the sequence of float numbers is all correct.
<dl>
<dt class="ctanref">capt-of.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/capt-of">capt-of</a>
<dt class="ctanref">caption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/caption">caption</a>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">here.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/here">here</a>
<dt class="ctanref">perpage.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/perpage">bigfoot</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-footintab][[[LBRACE]]]Footnotes in tables[[[RBRACE]]]

<p>
The standard LaTeX <code>&#x5c;footnote</code> command doesn&rsquo;t work in tables;
the tabular environment (and its &ldquo;relations&rdquo;) traps footnotes, and
they can&rsquo;t escape to the bottom of the page.  As a result, you get
footnote marks in the table, and nothing else.

<p>
This accords with common typographic advice: footnotes and tables are
reckoned not to mix.

<p>
The solution, if you accept the advice, is to use &ldquo;table notes&rdquo;.
The package <i class="package">threeparttable</i> provides table notes, and
<i class="package">threeparttablex</i> additionally supports them in
<code class="environment">longtable</code>s.  <i class="package">Threeparttable</i> works happily in
ordinary text, or within a <code class="environment">table</code> float. 

<p>
The <i class="package">ctable</i> package extends the model of
<i class="package">threeparttable</i>, and also uses the ideas of the
<i class="package">booktabs</i> package.  The <code>&#x5c;ctable</code> command does the complete
job of setting the table, placing the caption, and defining the
notes.  The &ldquo;table&rdquo; may consist of diagrams, and a parameter in
<code>&#x5c;ctable</code>&rsquo;s optional argument makes the float that is created a
&ldquo;figure&rdquo; rather than a &ldquo;table&rdquo;.

<p>
If you really want &ldquo;real&rdquo; footnotes in tables, despite the expert
advice, you can:
<ul>
<li> Use <code>&#x5c;footnotemark</code> to position the little marker
  appropriately, and then put in <code>&#x5c;footnotetext</code> commands to fill in
  the text once you&rsquo;ve closed the <code class="environment">tabular</code> environment.
  This is described in Lamport&rsquo;s book, but it gets messy if there&rsquo;s
  more than one footnote.
<li> Stick the <code class="environment">tabular</code> environment in a
  <code class="environment">minipage</code>.  Footnotes in the 
  table then &ldquo;work&rdquo;, in the <code class="environment">minipage</code>&rsquo;s style, with no
  extra effort.  (This is, in effect, somewhat like table notes, but
  the typeset appearance isn&rsquo;t designed for the job.)
<li> Use <i class="package">tabularx</i> or <i class="package">longtable</i> from the LaTeX
  tools distribution; they&rsquo;re noticeably less efficient than the
  standard <code class="environment">tabular</code> environment, but they do allow
  footnotes.
<li> Use <i class="package">tablefootnote</i>; it provides a command <code>&#x5c;tablefootnote</code>,
  which does the job without fuss.
<li> Use <i class="package">footnote</i>, which provides an
  <code class="environment">savenotes</code> which collects all footnotes and emits them
  at the end of the environment; thus if you put your
  <code class="environment">tabular</code> environment inside a <code class="environment">savenotes</code>
  environment, the footnotes will appear as needed.  Alternatively,
  you may use <code>&#x5c;makesavenoteenv</code><code>&#x7b;tabular&#x7d;</code> in the preamble of your
  document, and tables will all behave as if they were inside a
  <code class="environment">savenotes</code> environment.
<li> Use <i class="package">mdwtab</i> from the same bundle; it will handle
  footnotes as you might expect, and has other facilities to increase
  the beauty of your tables.  Unfortunately, it may be incompatible
  with other table-related packages, though not those in the standard &lsquo;tools&rsquo;
  bundle.
</ul>
All the techniques listed will work, to some extent, whether in a float or
in ordinary text.  The author of this FAQ answer doesn&rsquo;t actually
recommend any of them, believing that table notes are the way to go&hellip;
<dl>
<dt class="ctanref">ctable.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ctable">ctable</a>
<dt class="ctanref">footnote.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/footnote">mdwtools</a>
<dt class="ctanref">longtable.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/longtable">2etools</a>
<dt class="ctanref">mdwtab.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mdwtab">mdwtools</a>
<dt class="ctanref">tablefootnote.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tablefootnote">tablefootnote</a>
<dt class="ctanref">threeparttable.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/threeparttable">threeparttable</a>
<dt class="ctanref">threeparttablex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/threeparttablex">threeparttablex</a>
<dt class="ctanref">tabularx.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/tabularx">2etools</a>
</dl>

<p class="lastedit">This answer last edited: 2013-03-11</p>

<p>
[[[Question]]][Q-ftnsect][[[LBRACE]]]Footnotes in LaTeX section headings[[[RBRACE]]]

<p>
The <code>&#x5c;footnote</code> command is fragile, so that simply placing the
command in <code>&#x5c;section</code>&rsquo;s arguments isn&rsquo;t satisfactory.  Using
<code>&#x5c;protect</code><code>&#x5c;footnote</code> isn&rsquo;t a good idea either: the arguments of a
section command are used in the table of contents and (more
dangerously) potentially also in page headers.  While footnotes will
work in the table of contents, it&rsquo;s generally not thought a &ldquo;good
thing&rdquo; to have them there; in the page header, footnotes will simply
fail.  Whatever the desirability of the matter, there&rsquo;s no mechanism
to suppress the footnote in the page header while allowing it in the table
of contents, so the footnote may only appear in the section heading itself.

<p>
To suppress the footnote in headings and table of contents:
<ul>
<li> Take advantage of the fact that the mandatory argument doesn&rsquo;t
  &lsquo;move&rsquo; if the optional argument is present:

<p>
  <code>&#x5c;section</code><code>[title]</code>
    <tt>&#x7b;title</tt><code>&#x5c;footnote</code><code>&#x7b;title ftnt&#x7d;</code><tt>&#x7d;</tt>
<li> Use the <i class="package">footmisc</i> package, with package option
  <tt>stable</tt>&nbsp;&mdash; this modifies footnotes so that they softly and
  silently vanish away if used in a moving argument.  With this, you
  simply need:
<pre>
% in the document preamble
\usepackage[stable]{footmisc}
...
% in the body of the document
\section{title\footnote{title ftnt}}
</pre>
</ul>
<dl>
<dt class="ctanref">footmisc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footmisc">footmisc</a>
</dl>

<p>
[[[Question]]][Q-ftncapt][[[LBRACE]]]Footnotes in captions[[[RBRACE]]]

<p>
Footnotes in captions are especially tricky: they present problems of
their own, on top of the problems one experiences with
<a href="FAQ-ftnsect.html">footnotes in section titles</a> (footnotes migrating to
to the list of figures or tables, or 
<a href="FAQ-extrabrace.html">apparently random errors</a> because
<code>&#x5c;footnote</code> is a fragile command), and with 
<a href="FAQ-footintab.html">footnotes in tables</a> (typically, the footnote
simply disappears).  Fortunately, the requirement for footnotes in
captions is extremely rare: if you are experiencing problems, it is
worth reviewing what you are trying to say by placing this footnote:
other options are to place text at the bottom of the float, or to
place a footnote at the point where you refer to the float.

<p>
Note that the <i class="package">threeparttable</i> scheme (see, again, 
<a class="FAquestion.html" href="FAQ-footintab.html">footnotes in tables</a>) also applies
to notes in captions, and may very well be preferable to whatever you
were thinking of.

<p>
If you <em>are</em> going to proceed:
<ul>
<li> use an optional argument in your <code>&#x5c;caption</code> command, that
  doesn&rsquo;t have the footnote in it; this prevents the footnote
  appearing in the &ldquo;List of &hellip;&rdquo;, and
<li> put your whole float in a <code class="environment">minipage</code> so as to keep
  the footnotes with the float.
</ul>
so we have:
<blockquote>

<pre>
\begin{figure}
  \begin{minipage}{\textwidth}
    ...
    \caption[Compact Routing Example]%
    {Compact Routing\footnote{something} Example}
  \end{minipage}
\end{figure}
</pre>


<pre>
\begin{figure}
  \begin{minipage}{\textwidth}
    ...
    \caption[Compact Routing Example]%
        {Compact Routing\footnote{something}
                             Example}
  \end{minipage}
\end{figure}
</pre>

</blockquote>
So, we make an entry for the List of Figures, which doesn&rsquo;t hold
troublesome commands, such as <code>&#x5c;footnote</code>.

<p>
However, <em>as well as</em> all of the above, one <em>also</em> has to
deal with the tendency of the <code>&#x5c;caption</code> command to produce the
footnote&rsquo;s text twice.  For this last problem, there is no tidy
solution this author is aware of.

<p>
If you&rsquo;re suffering the problem, a well-constructed <code>&#x5c;caption</code>
command in a <code class="environment">minipage</code> environment within a float (as
in the example above) can produce <em>two</em> copies of the footnote
body &ldquo;something&rdquo;. (In fact, the effect only occurs with captions that are
long enough to require two lines to be typeset, and so wouldn&rsquo;t appear
with such a short caption as that in the example above.)

<p>
The documentation of the <i class="package">ccaption</i> package describes a really
rather awful work-around for this problem.
<dl>
<dt class="ctanref">ccaption.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ccaption">ccaption</a>
<dt class="ctanref">threeparttable.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/threeparttable">threeparttable</a>
</dl>

<p class="lastedit">This answer last edited: 2012-04-12</p>

<p>
[[[Question]]][Q-repfootnote][[[LBRACE]]]Footnotes whose texts are identical[[[RBRACE]]]

<p>
If the <em>same</em> footnote turns up at several places within a
document, it&rsquo;s often inappropriate to repeat the footnote in its
entirety over and over again.  We can avoid repetition by
semi-automatic means, or by simply labelling footnotes that we know
we&rsquo;re going to repeat and then referencing the result.  There is no
completely automatic solution (that detects and suppresses repeats)
available.

<p>
If you know you only have one footnote, which you want to repeat, the
solution is simple: merely use the optional argument of
<code>&#x5c;footnotemark</code> to signify the repeats:
<blockquote>
<pre>
...\footnote{Repeating note}
...
...\footnotemark[1]
</pre>
</blockquote>
&hellip; which is very easy, since we know there will only ever be a
footnote number 1.  A similar technique can be used once the footnotes
are stable, reusing the number that LaTeX has allocated.  This can
be tiresome, though, as any change of typesetting could change the
relationships of footnote and repeat: labelling is inevitably better.

<p>
Simple hand-labelling of footnotes is possible, using a counter dedicated
to the job:
<blockquote>
<pre>
\newcounter{fnnumber}
...
...\footnote{Text to repeat}%
\setcounter{fnnumber}{\thefootnote}%
...
...\footnotemark[\thefnnumber]
</pre>
</blockquote>
but this is somewhat tedious.  LaTeX&rsquo;s labelling mechanism can be
summoned to our aid, but there are ugly error messages before the
<code>&#x5c;ref</code> is resolved on a second run through LaTeX:
<blockquote>
<pre>
...\footnote{Text to repeat\label{fn:repeat}}
...
...\footnotemark[\ref{fn:repeat}]
</pre>
</blockquote>
Alternatively, one may use the <code>&#x5c;footref</code> command, which has the
advantage of working even when the footnote mark isn&rsquo;t expressed as a
number.  The command is defined in the <i class="package">footmisc</i> package and
in the <i class="class">memoir</i> class (at least); <code>&#x5c;footref</code> reduces the above
example to:
<blockquote>
<pre>
...\footnote{Text to repeat\label{fn:repeat}}
...
...\footref{fn:repeat}
</pre>
</blockquote>
This is the cleanest simple way of doing the job.  Note that the
<code>&#x5c;label</code> command <em>must</em> be inside the argument of
<code>&#x5c;footnote</code>.

<p>
The <i class="package">fixfoot</i> package takes away some of the pain of the
matter: you declare footnotes you&rsquo;re going to reuse, typically in the
preamble of your document, using a <code>&#x5c;DeclareFixedFoot</code> command, and
then use the command you&rsquo;ve &lsquo;declared&rsquo; in the body of the document:
<blockquote>
<pre>
\DeclareFixedFootnote{\rep}{Text to repeat}
...
...\rep{}
...\rep{}
</pre>
</blockquote>
The package ensures that the repeated text appears at most once per
page: it will usually take more than one run of LaTeX to get rid of
the repeats.
<dl>
<dt class="ctanref">fixfoot.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fixfoot">fixfoot</a>
<dt class="ctanref">footmisc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footmisc">footmisc</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-multfoot][[[LBRACE]]]More than one sequence of footnotes[[[RBRACE]]]

<p>
The need for more than one series of footnotes is common in critical
editions (and other literary criticism), but occasionally arises in
other areas.

<p>
Of course, the canonical critical edition package, <i class="package">edmac</i>,
offers the facility, as does its LaTeX port, the <i class="package">ledmac</i>
package.

<p>
Multiple ranges of footnotes are offered to LaTeX users by the
<i class="package">manyfoot</i> package.  The package provides a fair array of
presentation options, as well.  Another critical edition
<i class="package">ednotes</i> package is built upon a basis that includes
<i class="package">manyfoot</i>, as its mechanism for multiple sets of footnotes.

<p>
The <i class="package">bigfoot</i> package also uses <i class="package">manyfoot</i> as part of
its highly sophisticated structure of footnote facilities, which was
also designed to support typesetting critical editions.
<dl>
<dt class="ctanref">bigfoot</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bigfoot">bigfoot</a>
<dt class="ctanref">edmac</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/edmac">edmac</a>
<dt class="ctanref">ednotes</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ednotes">ednotes</a>
<dt class="ctanref">ledmac</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ledmac">ledmac</a>
<dt class="ctanref">manyfoot.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/manyfoot">ncctools</a>
</dl>

<p>
[[[Question]]][Q-footnpp][[[LBRACE]]]Footnotes numbered &ldquo;per page&rdquo;[[[RBRACE]]]

<p>
The obvious solution is to make the footnote number reset whenever the
page number is stepped, using the 
<a href="FAQ-addtoreset.html">LaTeX internal mechanism</a>.  Sadly, the place
in the document where the page number is stepped is unpredictable, not
(&ldquo;tidily&rdquo;) at the end of the printed page; so changing the footnote
number only ever works by &lsquo;luck&rsquo;.

<p>
As a result, resetting footnotes is inevitably a complicated process,
using labels of some sort.  It&rsquo;s nevertheless important, given the
common requirement for footnotes marked by symbols (with painfully
small symbol sets).  There are four packages that manage it, one way
or another.

<p>
The <i class="package">perpage</i> and <i class="package">zref-perpage</i> packages provide a
general mechanism for resetting counters per page, so can obviously be
used for this task.  The interface is pretty simple:
<code>&#x5c;MakePerPage</code><code>&#x7b;footnote&#x7d;</code> (in <i class="package">perpage</i>) or
<code>&#x5c;zmakeperpage</code><code>&#x7b;footnote&#x7d;</code> (in <i class="package">zref-perpage</i>).  If
you want to restart the counter at something other than&nbsp;1 (for example
to avoid something in the LaTeX footnote symbol list), you can use:
<code>&#x5c;MakePerPage</code><code>[2]</code></code><code>&#x7b;footnote&#x7d;</code> (in <i class="package">perpage</i>) or
<code>&#x5c;zmakeperpage</code><code>[2]</code></code><code>&#x7b;footnote&#x7d;</code> (in <i class="package">zref-perpage</i>).
Note that you can also load <i class="package">zref-perpage</i> 

<p>
<i class="package">Perpage</i> is a compact and efficient package;
<i class="package">zref-perpage</i>, being a <i class="package">zref</i> &ldquo;module&rdquo;, comes with
<i class="package">zref</i>&rsquo;s general mechanism for extending the the
<code>&#x5c;label</code>&mdash;<code>&#x5c;[page]ref</code> of LaTeX, which can offer many other
useful facilities.

<p>
The <i class="package">footmisc</i> package provides a variety of means of
controlling footnote appearance, among them a package option
<code class="pkgoption">perpage</code> that adjusts the numbering per page; if you&rsquo;re
doing something else odd about footnotes, it means you may only need
the one package to achieve your ends.

<p>
The <i class="package">footnpag</i> package also does per-page footnotes (and
nothing else).  With the competition from <i class="package">perpage</i>, it&rsquo;s
probably not particularly useful any more.
<dl>
<dt class="ctanref">footmisc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footmisc">footmisc</a>
<dt class="ctanref">footnpag.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footnpag">footnpag</a>
<dt class="ctanref">perpage.sty</dt><dd>Distributed as part <a class="ctan" href="https://www.ctan.org/pkg/perpage">bigfoot</a>

<dt class="ctanref">zref-perpage.sty</dt><dd>Distributed as part of <i class="package">zref</i> in
  <a class="ctan" href="https://www.ctan.org/pkg/zref">oberdiek</a>
</dl>

<p>
[[[Question]]][Q-run-fn-nos][[[LBRACE]]]Not resetting footnote numbers per chapter[[[RBRACE]]]

<p>
Some classes (for example, <i class="class">book</i> and <i class="class">report</i>) set up a
different set of footnotes per chapter, by resetting the footnote
number at the start of the chapter.  This is essentially the same
action as that of 
<a href="FAQ-running-nos.html">equation, figure and table numbers</a>,
except that footnote numbers don&rsquo;t get &ldquo;decorated&rdquo; with the chapter
number, as happens with those other numbers.

<p>
The solution is the same: use the <i class="package">chngcntr</i> package; since the
numbers aren&rsquo;t &ldquo;decorated&rdquo; you can use the <code>&#x5c;counterwithout*</code>
variant; the code:
<blockquote>
<pre>
\counterwithout*{footnote}{chapter}
</pre>
</blockquote>
is all you need
<dl>
<dt class="ctanref">chngcntr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/chngcntr">chngcntr</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-filename][[[LBRACE]]]What&rsquo;s the name of this file[[[RBRACE]]]

<p>
One might want this so as to automatically generate a page header or
footer recording what file is being processed.  It&rsquo;s not easy&hellip;

<p>
TeX retains what it considers the name of the <em>job</em>, only, in
the primitive <code>&#x5c;jobname</code>; this is the name of the file first
handed to TeX, stripped of its directory name and of any extension
(such as <code class="extension">tex</code>).  If no file was passed (i.e., you&rsquo;re using
TeX interactively), <code>&#x5c;jobname</code> has the value <tt>texput</tt>
(the name that&rsquo;s given to <code class="extension">log</code> files in this case).

<p>
This is fine, for the case of a small document, held in a single file;
most significant documents will be held in a bunch of files, and
TeX makes no attempt to keep track of files input to the
<em>job</em>.  So the user has to keep track, himself&nbsp;&mdash; the only way
is to patch the input commands and cause them to retain details of the
file name.  This is particularly difficult in the case of Plain TeX,
since the syntax of the <code>&#x5c;input</code> command is so peculiar.

<p>
In the case of LaTeX, the input commands have pretty regular
syntax, and the simplest <a href="FAQ-patch.html">patching techniques</a> can be
used on them.  (Note that LaTeX&rsquo;s <code>&#x5c;input</code> command is itself a
patch on top of the Plain TeX command.  Our patches apply to the
LaTeX version of the command, which is used as <code>&#x5c;input</code><code>&#x7b;file&#x7d;</code>)

<p>



%% <pre>
%% \def\ThisFile{\jobname}
%% \let\OldInput\input
%% \renewcommand{\input}[1]{%
%%   \renewcommand{\ThisFile}{#1}%
%%   \OldInput#1%
%% }
%% </pre>








%% <pre>
%% \documentclass{article}
%% ... (macros above)
%% \begin{document}
%% \input{preamble}
%% <body of document>
%% \input{postamble}
%% \end{document}
%% </pre>




<p>






%% <pre>
%% \def\ThisFile{\jobname}
%% \newcounter{FileStack}
%% \let\OrigInput\input
%% \renewcommand{\input}[1]{%
%%   \stackinput{#1}{\OrigInput}%
%% }
%% \newcommand{\stackinput}[2]{%
%%   \stepcounter{FileStack}%
%%   \expandafter\let
%%     \csname NameStack\theFileStack\endcsname
%%     \ThisFile
%%   \def\ThisFile{#1}%
%%   #2#1%
%%   \expandafter\let\expandafter
%%     \ThisFile
%%     \csname NameStack\theFileStack\endcsname
%%   \addtocounter{FileStack}{-1}%
%% }
%% </pre>



%% <pre>
%% \let\OrigInclude\include
%% \renewcommand{\include}[1]{%
%%   \stackinput{#1}{\OrigInclude}%
%% }
%% </pre>




<p>
It is possible to keep track of the name of the file currently being
processed, but it&rsquo;s surprisingly difficult (these FAQs offered
code, for a long time, that just didn&rsquo;t work in many cases).

<p>
The <i class="package">currfile</i> package provides a regular means of keeping
track of the details of the current file (its name in
<code>&#x5c;currfilename</code>, directory in <code>&#x5c;currfiledir</code>, as well as the
file &lsquo;base&rsquo; name (less its extension) and its extension).
<i class="package">Currfile</i> does this with the help of a second package,
<i class="package">filehook</i>, which spots file operations that use <code>&#x5c;input</code>,
<code>&#x5c;InputIfFileExists</code> and <code>&#x5c;include</code>, as well as package and
class loading.

<p>
The <i class="package">FiNK</i> (&ldquo;File Name Keeper&rdquo;) package keeps track of the
file name and extension, in a macro <code>&#x5c;finkfile</code>.  <i class="package">FiNK</i> is
now deprecated, in favour of <i class="package">currfile</i>, but remains available
for use in old documents.




%% <pre>
%% \def\striptexext#1.tex{#1}
%% ...
%% \edef\ThisFile{\expandafter\stripext\finkfile}
%% </pre>


The <i class="package">FiNK</i> bundle includes a <i class="filename">fink.el</i> that provides
support under <i class="progname">emacs</i> with AUC-TeX.
<dl>
<dt class="ctanref">currfile.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/currfile">currfile</a>
<dt class="ctanref">filehook.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/filehook">filehook</a>
<dt class="ctanref">fink.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fink">fink</a>
</dl>

<p>
[[[Question]]][Q-filesused][[[LBRACE]]]All the files used by this document[[[RBRACE]]]

<p>
When you&rsquo;re sharing a document with someone else (perhaps as part of a
co-development cycle) it&rsquo;s as well to arrange that both correspondents
have the same set of auxiliary files, as well as the document in
question.  Your correspondent obviously needs the same set of files
(if you use the <i class="package">url</i> package, she has to have <i class="package">url</i>
too, for example).  But suppose you have a bug-free version of the
<i class="package">shinynew</i> package but her copy is still the unstable
original; until you both realise what is happening, such a situation
can be very confusing.

<p>
The simplest solution is the LaTeX <code>&#x5c;listfiles</code> command.  This
places a list of the files used and their version numbers in the log
file.  If you extract that list and transmit it with your file, it can
be used as a check-list in case that problems arise.

<p>
Note that <code>&#x5c;listfiles</code> only registers things that are input by the
&ldquo;standard&rdquo; LaTeX mechanisms (<code>&#x5c;documentclass</code>, <code>&#x5c;usepackage</code>,
<code>&#x5c;include</code>, <code>&#x5c;includegraphics</code> and so on).
The <code>&#x5c;input</code> command, as modified by LaTeX and used, with
LaTeX syntax, as:
<pre>
  \input{mymacros}
</pre>
records file details for <i class="filename">mymacros.tex</i>, but if you use TeX
primitive syntax for <code>&#x5c;input</code>, as:
<pre>
  \input mymacros
</pre>
<i class="filename">mymacros.tex</i> <em>won&rsquo;t</em> be recorded, and so won&rsquo;t listed by
<code>&#x5c;listfiles</code>&nbsp;&mdash; you&rsquo;ve bypassed the mechanism that records its use.

<p>
The <i class="package">snapshot</i> package helps the owner of a LaTeX document
obtain a list of the external dependencies of the document, in a form
that can be embedded at the top of the document.  The intended use of
the package is the creation of archival copies of documents, but it
has application in document exchange situations too.

<p>
The <i class="progname">bundledoc</i> system uses the <i class="package">snapshot</i> to produce an
archive (e.g., <code class="extension">tar.gz</code> or <code class="extension">zip</code>) of the files needed by your
document; it comes with configuration files for use with
texlive-<i class="progname">Unix</i> and <i class="progname">MiKTeX</i>.  It&rsquo;s plainly useful when
you&rsquo;re sending the first copy of a document.

<p>
The <i class="progname">mkjobtexmf</i> finds which files are used in a &lsquo;job&rsquo;,
either via the <tt>-recorder</tt> option of TeX, or by using the
(Unix) command <i class="progname">strace</i> to keep an eye on what TeX is
doing.  The files thus found are copied (or linked) to a directory
which may then be saved for transmission or archiving.
<dl>
<dt class="ctanref">bundledoc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bundledoc">bundledoc</a>
<dt class="ctanref">mkjobtexmf</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mkjobtexmf">mkjobtexmf</a>
<dt class="ctanref">snapshot.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/snapshot">snapshot</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-26</p>

<p>
[[[Question]]][Q-changebars][[[LBRACE]]]Marking changed parts of your document[[[RBRACE]]]

<p>
One often needs clear indications of how a document has changed, but
the commonest technique, &ldquo;change bars&rdquo; (also known as &ldquo;revision
bars&rdquo;), requires surprisingly much
trickery of the programmer.  The problem is that TeX &lsquo;proper&rsquo;
doesn&rsquo;t provide the programmer with any information about the
&ldquo;current position&rdquo; from which a putative start- or end-point of a
bar might be calculated.   PDFTeX <em>does</em> provide that
information, but no PDFTeX-based changebar package has been
published, that takes advantage of that.

<p>
The simplest package that offers change bars is Peter Schmitt&rsquo;s
<i class="package">backgrnd.tex</i>; this was written as a Plain TeX application
that patches the output routine, but it appears to work at least on
simple LaTeX documents.  Wise LaTeX users will be alerted by the
information that <i class="package">backgrnd</i> patches their output routine, and
will watch its behaviour very carefully (patching the LaTeX output
routine is not something to undertake lightly&hellip;).

<p>
The longest-established LaTeX-specific solution is the
<i class="package">changebar</i> package,
which uses <code>&#x5c;special</code> commands supplied by the driver you&rsquo;re using.
You need therefore to tell the package which driver to you&rsquo;re using
(in the same way that you need to tell the <i class="package">graphics</i>
package); the list of available drivers is pretty
wide, but does not include <i class="progname">dvipdfm</i>.  The package comes with
a shell script <i class="progname">chbar.sh</i> (for use on Unix machines) that
will compare two documents and generate a third which is marked-up
with <i class="package">changebar</i> macros to highlight changes.

<p>
The shareware <i class="progname">WinEDT</i> editor has a macro that will generate
<i class="package">changebar</i> (or other) macros to show differences from an
earlier version of your file, stored in an <i class="progname">RCS</i>-controlled
repository&nbsp;&mdash; see
<a href="http://www.winedt.org/Macros/LaTeX/RCSdiff.php">http://www.winedt.org/Macros/LaTeX/RCSdiff.php</a>

<p>
The <i class="package">vertbars</i> package uses the techniques of the
<i class="package">lineno</i> package (which it loads, so the <i class="package">lineno</i>
itself must be installed); it&rsquo;s thus the smallest of the packages for
change bar marking, since it leaves all the trickery to another
package.  <i class="package">Vertbars</i> defines a <code class="environment">vertbar</code>
environment to create changebars.

<p>
The <i class="package">framed</i> package is
another that provides bars as a side-effect of other desirable
functionality: its <code class="environment">leftbar</code> environment is simply a
stripped-down frame (note, though, that the environment makes a
separate paragraph of its contents, so it is best used when the
convention is to mark a whole changed paragraph.

<p>
Finally, the <i class="class">memoir</i> class allows marginal editorial comments,
which you can obviously use to delimit areas of changed text.

<p>
An even more comprehensive way to keep track of changes is employed by
some word-processors&nbsp;&mdash; to produce a document that embodies both
&ldquo;old&rdquo; and &ldquo;new&rdquo; versions.

<p>
To this end, the package <i class="package">changes</i> allows the user to manually
markup changes of text, such as additions, deletions, or replacements.
Changed text is shown in a different colour; deleted text is crossed
out.  The package allows you to define additional authors and their
associated colour; it also allows you to define a markup for authors
or annotations.  The documentation (very clearly) demonstrates how the
various functions work.

<p>
The <i class="progname">Perl</i> script <i class="progname">latexdiff</i> may also be used to
generate such markup for LaTeX documents; you feed it the two
documents, and it produces a new LaTeX document in which the
changes are very visible.  An example of the output is embedded in the
documentation,



 
  <a href="http://mirrors.ctan.org/support/latexdiff/latexdiff-man.pdf">latexdiff-man.pdf</a>
  (part of the distribution).

A rudimentary revision facility is provided by another
<i class="progname">Perl</i> script, <i class="progname">latexrevise</i>, which accepts or rejects
all changes.  Manual editing of the difference file can be used to 
accept or reject selected changes only.
<dl>
<dt class="ctanref">backgrnd.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/backgrnd">backgrnd</a>
<dt class="ctanref">changebar.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/changebar">changebar</a>
<dt class="ctanref">changes.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/changes">changes</a>
<dt class="ctanref">framed.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/framed">framed</a>
<dt class="ctanref">latexdiff, latexrevise</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexdiff">latexdiff</a>
<dt class="ctanref">lineno.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lineno">lineno</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">vertbars.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vertbars">vertbars</a>
<dt class="ctanref">winedt</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/winedt">winedt</a>
</dl>

<p>
[[[Question]]][Q-conditional][[[LBRACE]]]Conditional compilation and &ldquo;comments&rdquo;[[[RBRACE]]]

<p>
While LaTeX (or any other TeX-derived package) isn&rsquo;t really like a
compiler, people regularly want to do compiler-like things using it.
Common requirements are conditional &lsquo;compilation&rsquo; and &lsquo;block
comments&rsquo;, and several LaTeX-specific means to this end are available.

<p>
The simple <code>&#x5c;newcommand</code><code>&#x7b;<code>&#x5c;gobble</code>&#x7d;</code>[1]<tt>&#x7b;&#x7d;</tt> 
and <code>&#x5c;iffalse</code><tt> ... </tt><code>&#x5c;fi</code> aren&rsquo;t really satisfactory (as
a general solution) for comments, since the matter being skipped is
nevertheless scanned by TeX, not always as you would expect.  The
scanning imposes restrictions on what you&rsquo;re allowed to skip; this may
not be a problem in <em>today&rsquo;s</em> job, but could return to bite you
tomorrow.  For an example of surprises that may come to bite you,
consider the following example (derived from real user experience):
<blockquote>
<pre>
\iffalse % ignoring this bit
consider what happens if we
use \verb+\iftrue+ -- a surprise
\fi
</pre>
</blockquote>
The <code>&#x5c;iftrue</code> is spotted by TeX as it scans, ignoring the
<code>&#x5c;verb</code> command; so the <code>&#x5c;iffalse</code> isn&rsquo;t terminated by the
following <code>&#x5c;fi</code>.  Also, <code>&#x5c;gobble</code> is pretty inefficient at
consuming anything non-trivial, since all the matter to be skipped is
copied to the argument stack before being ignored.

<p>
If your requirement is for a document from which whole chapters (or
the like) are missing, consider the LaTeX
<code>&#x5c;include</code>/<code>&#x5c;includeonly</code> system.  If you &lsquo;<code>&#x5c;include</code>&rsquo; your
files (rather than <code>&#x5c;input</code> them&nbsp;&mdash; see 
<a class="FAquestion.html" href="FAQ-include.html">What&rsquo;s going on in my <code>&#x5c;include</code> commands?</a>),
LaTeX writes macro traces of what&rsquo;s going on at the end of each
chapter to the <code class="extension">aux</code> file; by using <code>&#x5c;includeonly</code>, you can give
LaTeX an exhaustive list of the files that are needed.  Files that
don&rsquo;t get <code>&#x5c;include</code>d are skipped entirely, but the document
processing continues as if they <em>were</em> there, and page, footnote,
and other numbers are not disturbed.  Note that you can choose which
sections you want included interactively, using the
<i class="package">askinclude</i> package.

<p>
A variant on the <code>&#x5c;includeonly</code> mechanism is offered by the
<i class="package">stampinclude</i> package, which takes advantage of the PDFTeX
<code>&#x5c;pdffilemoddate</code> command.  When an <code>&#x5c;include</code>d file is
processed in a LaTeX document, an <code class="extension">aux</code> file is created
holding data such as page-number ranges and chapter/section numbers.
When <code>&#x5c;stampinclude</code> is included in a document, it compares the
file system modification times for each file and its corresponding
<code class="extension">aux</code> file; the file is only compiled in &ldquo;this run&rdquo; of the
document if the file is newer than its corresponding <code class="extension">aux</code>
file.  The package requires a current PDFTeX, and will also run on
LuaTeX if the <i class="package">pdftexcmds</i> package is available
(<i class="package">pdftexcmds</i> emulates the requisite PDFTeX commands using
<tt>lua</tt>.  Apart from this requirement, <i class="package">stampinclude</i> is
a low-maintenace object; include it in your document and it silently
does its job.  When you want a final version of your document, delete
all the <code class="extension">aux</code> files, and and <i class="package">stampinclude</i> won&rsquo;t
interfere.)

<p>
The inverse can be done using the <i class="package">excludeonly</i> package: this
allows you to exclude a (list of) <code>&#x5c;include</code>d files from your
document, by means of an <code>&#x5c;excludeonly</code> command.

<p>
If you want to select particular pages of your document, use Heiko
Oberdiek&rsquo;s <i class="package">pagesel</i> or the <i class="package">selectp</i> packages.  You
can do something similar with an existing PDF document (which
you may have compiled using <i class="progname">pdflatex</i> in the first place),
using the <i class="package">pdfpages</i> package.  The job is then done with a
document looking like:
<blockquote>
<pre>
\documentclass{article}
\usepackage[final]{pdfpages}
\begin{document}
\includepdf[pages=30-40]{yoursource.pdf}
\end{document}
</pre>
</blockquote>
(To include all of the document, you write
<blockquote>
<pre>
\includepdf[pages=-]{yoursource.pdf}
</pre>
</blockquote>
omitting the start and end pages in the optional argument.)

<p>
If you want flexible facilities for including or excluding small
portions of a file, consider the <i class="package">comment</i>, <i class="package">version</i> or
<i class="package">optional</i> packages.

<p>
The <i class="package">comment</i> package allows you to declare areas of a document to be
included or excluded; you make these declarations in the preamble of
your file.  The command <code>&#x5c;includecomment</code><code>&#x7b;version-name&#x7d;</code>
declares an environment <code class="environment">version-name</code> whose content will
be included in your document, while
<code>&#x5c;excludecomment</code><code>&#x7b;version-name&#x7d;</code> defines an environment whose
content will be excluded from the document.  The package uses a method
for exclusion that is pretty robust, and can cope with ill-formed
bunches of text (e.g., with unbalanced braces or <code>&#x5c;if</code> commands).

<p>
(These FAQs employ the <i class="package">comment</i> package to alter layout
between the printed (two-column) version and the PDF version
for browsing; there are <code class="environment">narrowversion</code> and
<code class="environment">wideversion</code> for the two versions of the file.)

<p>
<i class="package">version</i> offers similar facilities to <i class="filename">comment.sty</i>
(i.e., <code>&#x5c;includeversion</code> and <code>&#x5c;excludeversion</code> commands);
it&rsquo;s far &ldquo;lighter weight&rdquo;, but is less robust (and in particular,
cannot deal with very large areas of text being included/excluded).

<p>
A significant development of <i class="package">version</i>, confusingly called
<i class="package">versions</i> (i.e., merely a plural of the old package name).
<i class="package">Versions</i> adds a command
<code>&#x5c;markversion</code><code>&#x7b;version-name&#x7d;</code> which defines an environment
that prints the included text, with a clear printed mark around it.

<p>
<i class="package">optional</i> defines a command <code>&#x5c;opt</code>; its first argument is
an &lsquo;inclusion flag&rsquo;, and its second is text to be included or
excluded.  Text to be included or excluded must be well-formed
(nothing mismatched), and should not be too big&nbsp;&mdash; if a large body of
text is needed, <code>&#x5c;input</code> should be used in the argument.
The documentation (in the package file itself) tells you
how to declare which sections are to be included: this can be done in
the document preamble, but the documentation also suggests ways in
which it can be done on the command line that invokes LaTeX, or
interactively.

<p>
And, not least of this style of conditional compilation,
<i class="package">verbatim</i> (which should be available in any distribution)
defines a <code class="environment">comment</code> environment, which enables the
dedicated user of the source text editor to suppress bits of a
LaTeX source file.  The <i class="class">memoir</i> class offers the same
environment.

<p>
An interesting variation is the <i class="package">xcomment</i> package.  This
defines an environment whose body is all excluded, apart from
environments named in its argument.  So, for example:
<blockquote>
<pre>
\begin{xcomment}{figure,table}
  This text is not included
  \begin{figure}
    This figure is included
  \end{figure}
  This is not included, either
  \begin{table}
    This table also included
  \end{table}
  ...
\end{xcomment}
</pre>
</blockquote>

<p>
The <i class="package">tagging</i> package offers another neat set of syntax, which
allow the user to apply &ldquo;tags&rdquo; to chunks of text, and to include and
exclude tagged text, according to the tags.  For example, the user may
&lsquo;use&rsquo; text marked with some tags, and to &lsquo;drop&rsquo; marked with others:
<blockquote>
<pre>
\usetag{<tag list>}
\droptag{<tag list>}
</pre>
</blockquote>
(the tag lists consist of comma-separated single words).

<p>
There are then commands
<blockquote>
<pre>
\tagged{<tag list>}{<text>}
</pre>
</blockquote>
which reproduces the text only if the &lsaquo;<i>tag list</i>&rsaquo; contains at
least one tag listed in the <code>&#x5c;usetag</code> comand, and
<blockquote>
<pre>
\untagged{<tag list>}{<text>}
</pre>
</blockquote>
which only reproduces the text unless the &lsaquo;<i>tag list</i>&rsaquo; contains
none of the tags mention in the <code>&#x5c;droptag</code> command.

<p>
Further commands offer an if-then-else setup, and specify
<code class="environment">taggedblock</code> and <code class="environment">untaggedblock</code> environments
that.

<p>
Another valuable aspect of the problem is covered by the
<i class="package">extract</i> package.  The package allows you to produce a
&ldquo;partial copy&rdquo; of an existing document: 
the package was developed to permit production of a &ldquo;book of
examples&rdquo; from a set of lecture notes.  The package documentation
shows the following usage:
<blockquote>
<pre>
\usepackage[
  active,
  generate=foobar,
  extract-env={figure,table},
  extract-cmd={chapter,section}
]{extract}
</pre>
</blockquote>
which will cause the package to produce a file <i class="filename">foobar.tex</i>
containing all the <code class="environment">figure</code> and <code class="environment">table</code>
environments, and the <code>&#x5c;chapter</code> and <code>&#x5c;section</code> commands, from
the document being processed.  The new file <i class="filename">foobar.tex</i> is
generated in the course of an otherwise ordinary run on the &lsquo;master&rsquo;
document.  The package provides a good number of other facilities,
including (numeric or labelled) ranges of environments to extract, and
an <code class="environment">extract</code> environment which you can use to create complete
ready-to-run LaTeX documents with stuff you&rsquo;ve extracted.
<dl>
<dt class="ctanref">askinclude.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/askinclude">oberdiek</a>
<dt class="ctanref">comment.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/comment">comment</a>
<dt class="ctanref">excludeonly.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/excludeonly">excludeonly</a>
<dt class="ctanref">extract.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/extract">extract</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">optional.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/optional">optional</a>
<dt class="ctanref">pagesel.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pagesel">oberdiek</a>
<dt class="ctanref">pdfpages.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdfpages">pdfpages</a>
<dt class="ctanref">selectp.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/selectp">selectp</a>
<dt class="ctanref">stampinclude.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/stampinclude">oberdiek</a>
<dt class="ctanref">tagging.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tagging">tagging</a>
<dt class="ctanref">verbatim.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/verbatim">2etools</a>
<dt class="ctanref">version.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/version">version</a>
<dt class="ctanref">versions.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/versions">versions</a>
<dt class="ctanref">xcomment.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xcomment">xcomment</a>
</dl>

<p class="lastedit">This answer last edited: 2014-06-09</p>

<p>
[[[Question]]][Q-docotherdir][[[LBRACE]]]Bits of document from other directories[[[RBRACE]]]

<p>
A common way of constructing a large document is to break it into a
set of files (for example, one per chapter) and to keep everything
related to each of these subsidiary files in a subdirectory.

<p>
Unfortunately, TeX doesn&rsquo;t have a changeable &ldquo;current directory&rdquo;,
so that all files you refer to have to be specified relative to the
same directory as the main file.  Most people find this
counter-intuitive.

<p>
It may be appropriate to use the &ldquo;path extension&rdquo; technique

<a class="FAof question.html" href="FAQ-tempinst.html">used in temporary installations</a> to deal with
this problem.  However, if there several files with the same name in
your document, such as <i class="filename">chapter1/fig1.eps</i> and
<i class="filename">chapter2/fig1.eps</i>, you&rsquo;re not giving TeX any hint as to
which you&rsquo;re referring to when in the main chapter file you say
<code>&#x5c;input</code><code>&#x7b;sect1&#x7d;</code>; while this is readily soluble in the case of
human-prepared files (just don&rsquo;t name them all the same),
automatically produced files have a way of having repetitious names,
and changing <em>them</em> is a procedure prone to error.

<p>
The <i class="package">import</i> package comes to your help here: it defines an
<code>&#x5c;import</code> command that accepts a full path name and the name of a
file in that directory, and arranges things to &ldquo;work properly&rdquo;.
So, for example, if <i class="filename">/home/friend/results.tex</i> contains
<blockquote>
<pre>
Graph: \includegraphics{picture}
\input{explanation}
</pre>
</blockquote>
then <code>&#x5c;import</code><code>&#x7b;/home/friend/&#x7d;</code></code><code>&#x7b;results&#x7d;</code> will include both
graph and explanation as one might hope.  A <code>&#x5c;subimport</code> command
does the same sort of thing for a subdirectory (a relative path rather
than an absolute one), and there are corresponding <code>&#x5c;includefrom</code>
and <code>&#x5c;subincludefrom</code> commands.

<p>
The <i class="package">chapterfolder</i> package provides commands to deal with its
(fixed) model of file inclusion in a document.  It provides commands
<code>&#x5c;cfpart</code>, <code>&#x5c;cfchapter</code>, <code>&#x5c;cfsection</code> and <code>&#x5c;cfsubsection</code>,
each of which takes directory and file arguments, e.g.:
<blockquote>
<pre>
\cfpart[pt 1]{Part One}{part1}{part}
</pre>
</blockquote>
which command will issue a &lsquo;normal&rsquo; command 
<code>&#x5c;part</code><code>[pt 1]</code></code><code>&#x7b;Part One&#x7d;</code> and then input the file
<i class="filename">part1/part.tex</i>, remembering that <i class="filename">part1/</i> is now the
&ldquo;current folder&rdquo;.  There are also commands of the form
<code>&#x5c;cfpartstar</code> (which corresponds to a <code>&#x5c;part*</code> command).

<p>
Once you&rsquo;re &ldquo;in&rdquo; a <i class="package">chapterfolder</i>-included document, you
may use <code>&#x5c;cfinput</code> to input something relative to the &ldquo;current
folder&rdquo;, or you may use <code>&#x5c;input</code>, using <code>&#x5c;cfcurrentfolder</code> to
provide a path to the file.  (There are also
<code>&#x5c;cfcurrentfolderfigure</code> for a <tt class="path">figure/</tt> subdirectory and
<code>&#x5c;cfcurrentfolderlistings</code> for a <tt class="path">listings/</tt> subdirectory.)

<p>
Documentation of <i class="package">chapterfolder</i> is in French, but the
<i class="filename">README</i> in the directory is in English.
<dl>
<dt class="ctanref">chapterfolder.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/chapterfolder">chapterfolder</a>
<dt class="ctanref">import.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/import">import</a>
</dl>

<p>
[[[Question]]][Q-RCS][[[LBRACE]]]Version control using RCS, CVS or the like[[[RBRACE]]]

<p>
If you use RCS, CVS, <i class="progname">Subversion</i>,
<i class="progname">Bazaar</i> or <i class="progname">Git</i> to maintain
your (La)TeX documents under version control, you may need some
mechanism for including the version details in your document, in such
a way that they can be typeset (that is, rather than just hiding them
inside a comment).

<p>
The most complete solution for RCS and CVS is to use the
(LaTeX) package <i class="package">rcs</i>, which allows you to parse and
display the contents of RCS keyword fields in an extremely
flexible way.  The package <i class="package">rcsinfo</i> is simpler, but does most
of what you want, and some people prefer it; it is explicitly
compatible with <i class="progname">LaTeX2HTML</i>.

<p>
If, however, you need a solution which works without using external
packages, or which will work in Plain TeX, then you can use the
following minimal solution:
<blockquote>

<pre>
\def\RCS$#1: #2 ${\expandafter\def\csname RCS#1\endcsname{#2}}
\RCS$Revision: 1.47 $ % or any RCS keyword
\RCS$Date: 2014/01/28 18:17:23 $
...
\date{Revision \RCSRevision, \RCSDate}
</pre>


<pre>
\def\RCS$#1: #2 ${\expandafter
  \def\csname RCS#1\endcsname{#2}%
}
\RCS$Revision: 1.47 $ % or any RCS keyword
\RCS$Date: 2014/01/28 18:17:23 $
...
\date{Revision \RCSRevision, \RCSDate}
</pre>

</blockquote>

<p>
If you are a user of <i class="progname">Subversion</i>, the package <i class="package">svn</i>
may be for you.  It has explicit cleverness about dealing with dates:
<blockquote>
<code>&#x5c;documentclass</code><tt>&#x7b;&lsaquo;<i>foo</i>&rsaquo;&#x7d;</tt><br>
<tt>...</tt><br>
<code>&#x5c;usepackage</code><code>&#x7b;svn&#x7d;</code><br>
<code>&#x5c;SVNdate</code><tt> &#x24;Date&#x24;</tt><br>
<code>&#x5c;author</code><code>&#x7b;...&#x7d;</code><br>
<code>&#x5c;title</code><code>&#x7b;...&#x7d;</code><br>
<tt>...</tt><br>
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code><br>
<code>&#x5c;maketitle</code><br>
<tt>...</tt><br>
<code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>
</blockquote>
will (once <i class="progname">subversion</i> has committed a copy of the document)
cause <code>&#x5c;maketitle</code> use the date that has been written into the
<tt>&#x24;Date&#x24;</tt> keyword.

<p>
Another alternative for <i class="progname">Subversion</i> users is the
<i class="package">svninfo</i> package, which has much the same mechanisms as does
<i class="package">svn</i> but with a rather different focus.  <i class="package">Svninfo</i>
does the date trick that <i class="package">svn</i> performs (controlled by a
package option), and can set up page foot-lines using 
<a href="FAQ-fancyhdr.html">package <i class="package">fancyhdr</i></a>.  There isn&rsquo;t much to
choose between the two packages: you should read the packages&rsquo;
documentation to see which suits you best.

<p>
An alternative script-based approach to version control has been taken
by the <i class="package">vc</i> bundle, that in certain situations might work more
reliably than any of the packages mentioned above.  The <i class="package">vc</i>
bundle supports <i class="progname">Bazaar</i>, <i class="progname">Git</i> and
<i class="progname">Subversion</i> usage and works with both LaTeX and
Plain TeX.  Note that <i class="package">vc</i> is the only option that
currently claims to support <i class="progname">Bazaar</i>-controlled repositories.

<p>
Finally, for now, the <i class="package">gitinfo</i> package supports
<i class="progname">Git</i>-controlled documents.
<dl>
<dt class="ctanref">gitinfo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gitinfo">gitinfo</a>
<dt class="ctanref">rcs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rcs">rcs</a>
<dt class="ctanref">rcsinfo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rcsinfo">rcsinfo</a>
<dt class="ctanref">svn.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/svn">svn</a>
<dt class="ctanref">svninfo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/svninfo">svninfo</a>
<dt class="ctanref">vc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vc">vc</a>
</dl>

<p class="lastedit">This answer last edited: 2011-08-31</p>

<p>
[[[Question]]][Q-make][[[LBRACE]]]Makefiles for LaTeX documents[[[RBRACE]]]

<p>
LaTeX documents are tricky beasts for building using
(<i class="progname">Uni*x</i>) <i class="progname">make</i> on: the need to
instruct LaTeX to run several times for essentially different
reasons (for example, &ldquo;get the table of contents stable&rdquo;, &ldquo;get the
labels stable&rdquo;, &ldquo;add the bibliography&rdquo;, &ldquo;add the index&rdquo;) is
actually rather difficult to express in the &lsquo;ordinary&rsquo; sort of
dependency graph that one constructs for <i class="progname">make</i>.

<p>
The <i class="progname">latex-make</i> package offers help with this task (far more
sophisticated techniques than in the script that builds these FAQs); it
looks good, but reports of its use (other than by its author) are scarce.

<p>
For a long time, the only <i class="progname">make</i>-like package on CTAN
was <i class="progname">latexmk</i>, which is a <i class="progname">Perl</i>
script that analyses your LaTeX source for its dependencies, runs
BibTeX or <i class="progname">makeindex</i> as and when it notices that those
programs&rsquo; input (parts of the <code class="extension">aux</code> file, or the
<code class="extension">idx</code> file, respectively) has changed, and so on.
<i class="progname">Latexmk</i> is a fine 
solution (and was used in generating printable versions of these
FAQs for some time); it has recently been upgraded and has
many bells and whistles that allow it to operate as if it were a poor
man&rsquo;s WYSIWYG system.

<p>
A recent strong contender is <i class="progname">arara</i>, written in
<i class="progname">Java</i>.  It is (the documentation says) based on &ldquo;rules&rdquo;
and &ldquo;directives&rdquo;; its aim is to determine what to do from explicit
instructions in the document&rsquo;s source code, rather than secondary
sources such as log file analysis.  <i class="progname">Arara</i> is relatively new
on CTAN, and comes with recommendations from many of the great and
good of the LaTeX world.

<p>
Newer still is the Python script <i class="progname">try</i>, which has a similar
structure to <i class="progname">arara</i>&nbsp;&mdash; it, too, reads instructions in the
document source.

<p>
Apparently along the same lines, is AutoLaTeX.  The <i class="filename">README</i>
of the distribution is actual a Unix-type man-page output, and shows
great attention to the details of the document production process.

<p>
The (Ruby) script <i class="progname">mk</i> (also, apparently, known as
<i class="progname">latex_maker</i>) works well with another of the author&rsquo;s
scripts script called <i class="progname">vpp</i> (View and Print
PostScript/PDF).

<p>
Windows users of the MiKTeX system may use that system&rsquo;s
<i class="progname">texify</i> application.  <i class="progname">Texify</i> deals with basic
LaTeX features, including generating a bibliography and an index;
it makes no claim to deal with other things (such as multiple
bibliographies or indexes, or lists of terminology, etc.), which
AutoLaTeX can be configured to process.

<p>
The <a href="FAQ-texinfo.html"><i class="package">texinfo</i> system</a> comes with a similar
utility called <i class="progname">texi2dvi</i>, which is capable of &ldquo;converting&rdquo;
either LaTeX or <i class="package">texinfo</i> files into DVI (or into
PDF, using PDFTeX).

<p>
A later contribution is the bundle <i class="package">latexmake</i>, which
offers a set of <i class="progname">make</i> rules that invoke <i class="progname">texi2dvi</i>
as necessary.

<p>
The curious may examine the rules employed to run the present
FAQ through LaTeX: we don&rsquo;t present them as a complete
solution, but some of the tricks employed are surely re-usable.
<dl>
<dt class="ctanref">arara</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/arara">arara</a>
<dt class="ctanref">AutoLaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/autolatex">autolatex</a>
<dt class="ctanref">FAQ distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/faq">faq</a>
<dt class="ctanref">latexmake</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexmake">latexmake</a>
<dt class="ctanref">latex-make</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex-make">latex-make</a>
<dt class="ctanref">latex\_make</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex_maker">latex_maker</a>
<dt class="ctanref">latexmk</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latexmk">latexmk</a>
<dt class="ctanref">texi2dvi</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/texinfo">texinfo</a>
<dt class="ctanref">try</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/try">try</a>
<dt class="ctanref">vpp</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/vpp">vpp</a>
</dl>

<p class="lastedit">This answer last edited: 2013-05-13</p>

<p>
[[[Question]]][Q-howmanypp][[[LBRACE]]]How many pages are there in my document?[[[RBRACE]]]

<p>
Simple documents (those that start at page 1, and don&rsquo;t have any
breaks in their page numbering until their last page) present no
problem to the seeker after this truth.  The number of pages is
reported by the <i class="package">lastpage</i> package in its <tt>LastPage</tt> label.

<p>
For more complicated documents (most obviously, books with frontmatter
in a different series of page numbers) this simple approach will not
do.

<p>
The <i class="package">count1to</i> package defines a label <tt>TotalPages</tt>; this is
the value of its copy of <code>&#x5c;count1</code> (a reserved TeX count
register) at the end of the document.

<p>
Package <i class="package">totpages</i> defines a label <tt>TotPages</tt>, but it also
makes the register it uses available as a LaTeX counter,
<tt>TotPages</tt>, which you can also reference via <code>&#x5c;theTotPages</code>.  Of
course, the counter <code class="verb">TotPages</code> is asynchronous in the same way that
page numbers are, but snapshots may safely be taken in the output
routine.

<p>
The <i class="class">memoir</i> class defines two counters <tt>lastpage</tt> and
<tt>lastsheet</tt>, which are set (after the first run of a document)
to the equivalent of the <tt>LastPage</tt> label and the
<tt>TotalPages</tt> labels.

<p>
Both <i class="package">count1to</i> and <i class="package">totpages</i> need the support of
the <i class="package">everyshi</i> package.
<dl>
<dt class="ctanref">count1to.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/count1to">ms</a>
<dt class="ctanref">everyshi.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/everyshi">ms</a>
<dt class="ctanref">lastpage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lastpage">lastpage</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">totpages.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/totpages">totpages</a>
</dl>

<p>
[[[Question]]][Q-inclplain][[[LBRACE]]]Including Plain TeX files in LaTeX[[[RBRACE]]]

<p>
LaTeX, though originally <a href="FAQ-LaTeXandPlain.html">based on Plain TeX</a>, does not
contain all of Plain TeX&rsquo;s commands.  Worse, some Plain TeX
command names appear in LaTeX, with different semantics.  As a
result, special measures need to be taken to allow general Plain TeX
documents (or parts of documents) to be typeset within LaTeX.

<p>
The truly reliable way is to translate the Plain TeX commands, to
produce an equivalent of the original&rsquo;s semantics.  However, this is
not practical in many circumstances, and for those occasions, the
<i class="package">plain</i> package will often come to your aid.  The package
defines a <code class="environment">plain</code> environment, in which a Plain TeX
document may be processed:
<blockquote>
<pre>
\begin{plain}
  \input{plain-doc}
\end{plain}
</pre>
</blockquote>
The package is known to fail, for example, with documents that use
AMSTeX; no doubt it would also fail if asked to load Eplain.
All these things can be overcome (although it&rsquo;s not often easy), but
the environment saves a lot of work on many occasions.
<dl>
<dt class="ctanref">plain.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/plain-ltx">carlisle</a>
</dl>

<p>

<p>

<p>
[[[Question]]][Q-nohyph][[[LBRACE]]]My words aren&rsquo;t being hyphenated[[[RBRACE]]]

<p>
Let&rsquo;s assume you&rsquo;ve selected the right TeX &lsquo;language&rsquo;&nbsp;&mdash; as
explained in <a class="FAquestion.html" href="FAQ-hyphen.html">&ldquo;how hyphenation works&rdquo;</a>,
you&rsquo;re not likely to get the correct results typesetting one language
using the hyphenation rules of another.  (Select the proper language,
using <i class="package">babel</i> if you&rsquo;re a LaTeX user.  This may reveal that
you need another set of hyphenation patterns; see

<a class="FAquestion.html" href="FAQ-newlang.html">&ldquo;using a new language&rdquo;</a> for advice on how
to install it.)

<p>
So what else can go wrong?
<ul>
<li> Since TeX version&nbsp;3.0, the limits on how near to either end
  of a word hyphenation may take place have been programmable (see
  <a class="FAquestion.html" href="FAQ-weirdhyphen.html">&ldquo;weird hyphenation&rdquo;</a>), and for some
  reason the values in question may have been corrupted in some macros
  you are using.  TeX won&rsquo;t hyphenate less than <code>&#x5c;lefthyphenmin</code>
  characters after the start of a word, nor less than
  <code>&#x5c;righthyphenmin</code> before the end of a word; thus it won&rsquo;t
  hyphenate a word shorter than the sum of the two minima, at all.
  For example, since the minima are 2 and 3 for English, TeX won&rsquo;t
  hyphenate a word shorter than 5 letters long, if it believes the
  word to be English.
<li> TeX won&rsquo;t hyphenate a word that&rsquo;s already been hyphenated.
  For example, the (caricature) English surname Smyth-Postlethwaite
  wouldn&rsquo;t hyphenate, which could be troublesome.  This is correct
  English typesetting style (it may not be correct for other
  languages), but if needs must, you can replace the hyphen in the
  name with a <code>&#x5c;hyph</code> command, defined
<blockquote>
<pre>
\def\hyph{-\penalty0\hskip0pt\relax}
</pre>
</blockquote>
  This is <em>not</em> the sort of thing this FAQ would
  ordinarily recommend&hellip; The <i class="package">hyphenat</i> package defines a
  bundle of such commands (for introducing hyphenation points at
  various punctuation characters).
<li> There may be accent commands in the word.  The causes of and
  remedies for this effect are discussed in 
  <a class="FAquestion.html" href="FAQ-hyphenaccents.html">accents and hyphens</a>.
<li> The hyphenation may simply not have been spotted; while TeX&rsquo;s
  algorithm is good, it&rsquo;s not infallible, and it does miss perfectly
  good hyphenations in some languages.  When this happens, you need to
  give TeX <em>explicit</em> instructions on how to hyphenate.
</ul>
The <code>&#x5c;hyphenation</code> command allows you to give explicit instructions.
Provided that the word will hyphenate at all (that is, it is not
prevented from hyphenating by any of the other restrictions above),
the command will override anything the hyphenation patterns might
dictate.  The command takes one or more hyphenated words as
argument&nbsp;&mdash; <code>&#x5c;hyphenation</code><code>&#x7b;ana-lysis pot-able&#x7d;</code>; note that
(as here, for analysis) you can use the command to overrule TeX&rsquo;s
choice of hyphenation (ana-lysis is the British etymological
hyphenation; some feel the American hyphenation feels
&lsquo;unfortunate&rsquo;&hellip;).
<dl>
<dt class="ctanref">hyphenat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyphenat">hyphenat</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-20</p>

<p>
[[[Question]]][Q-weirdhyphen][[[LBRACE]]]Weird hyphenation of words[[[RBRACE]]]

<p>
If your words are being h-yphenated, like this, with jus-t single
letters at the 
beginning or the end of the word, you may have a version mismatch
problem. TeX&rsquo;s hyphenation system changed between version&nbsp;2.9
and&nbsp;3.0, and macros written for use with version&nbsp;2.9 can have this
effect with a version&nbsp;3.0 system.  If you are using Plain TeX, make
sure your <i class="filename">plain.tex</i> file has a version number which is at
least&nbsp;3.0, and rebuild your format.  If you are using LaTeX 2.09 your
best plan is to upgrade to LaTeX 2e.  If for some reason you can&rsquo;t,
the last version of LaTeX 2.09 (released on 25 March 1992) is still
available (for the time being at least) and ought to solve this
problem.

<p>
If you&rsquo;re using LaTeX 2e, the problem probably arises from your
<code class="verb">hyphen.cfg</code> file, which has to be created if you&rsquo;re using a
multi-lingual version.

<p>
A further source of oddity can derive from the 1995 release of
<a href="FAQ-ECfonts.html">Cork-encoded fonts</a>,
which introduced an alternative hyphen character.  The LaTeX 2e
configuration files in the font release specified use of the
alternative hyphen, and this could produce odd effects with words
containing an explicit hyphen.  The font configuration files in the
December 1995 release of LaTeX 2e do <em>not</em> use the alternative
hyphen character, and therefore removed this source of problems; the
solution, again, is to upgrade your LaTeX.
<dl>
<dt class="ctanref">LaTeX 2.09</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex209-base">latex209-base</a>
<dt class="ctanref">plain.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/plain">plain</a>
</dl>

<p>
[[[Question]]][Q-oddhyphen][[[LBRACE]]](Merely) peculiar hyphenation[[[RBRACE]]]

<p>
You may have found that TeX&rsquo;s famed automatic word-division does
not produce the break-points recommended by your dictionary. This may be
because TeX is set up for American English, whose rules for word
division (as specified, for example, in Webster&rsquo;s Dictionary) are
completely different from the British ones (as specified, for example,
in the Oxford Dictionaries). This problem is being addressed by the UK
TeX User community (see Baskerville, issue&nbsp;4.4) but an entirely
satisfactory solution will take time; the current status is to be
found on CTAN (see

<a class="FAquestion.html" href="FAQ-newlang.html">&ldquo;using a new language&rdquo;</a> for instructions
on adding this new &ldquo;language&rdquo;).
<dl>
<dt class="ctanref">UK patterns</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ukhyph">ukhyph</a>
</dl>

<p>
[[[Question]]][Q-hyphenaccents][[[LBRACE]]]Accented words aren&rsquo;t hyphenated[[[RBRACE]]]

<p>
TeX&rsquo;s algorithm for hyphenation gives up when it encounters an
<code>&#x5c;accent</code> command; there are good reasons for this, but it means
that quality typesetting in non-English languages can be difficult.

<p>
For TeX macro packages, you can avoiding the effect by using an
appropriately encoded font (for example, a Cork-encoded font&nbsp;&mdash; see
<a class="FAquestion.html" href="FAQ-ECfonts.html">the EC fonts</a>) which contains accented
letters as single glyphs.  LaTeX users can achieve this end simply
by adding the command
<pre>
  \usepackage[T1]{fontenc}
</pre>
to the preamble of their document.  Other encodings (notably
LY1, once promoted by Y&amp;Y inc) may be used
in place of T1.  Indeed, most current 8-bit TeX font
encodings will &lsquo;work&rsquo; with the relevant sets of hyphenation patterns. 

<p>
With the advance of XeTeX and LuaTeX to the mainstream, a new
regime for generating hyphenation tables is in place.  For each
language, a table is written in Unicode, and &ldquo;8-bit&rdquo; versions are
generated for use with various LaTeX font encodings.  Original sets
of patterns remain on CTAN, for use when an older environment
is needed.

<p>
[[[Question]]][Q-newlang][[[LBRACE]]]Using a new language with Babel[[[RBRACE]]]

<p>
<i class="package">Babel</i> is capable of working with a large range of
languages, and a new user often wants to use a language that her
TeX installation is not set up to employ.  Simply asking Babel to
use the language, with the command
<pre>
  \usepackage[catalan]{babel}
</pre>
provokes the warning message

<pre>
Package babel Warning: No hyphenation patterns were loaded for
(babel)                the language `Catalan'
(babel)                I will use the patterns loaded for \language=0 instead.
</pre>


<pre>
Package babel Warning: No hyphenation patterns
                                 were loaded for
(babel)                the language `Catalan'
(babel)                I will use the patterns
                 loaded for \language=0 instead.
</pre>




<p>
The problem is that your TeX system doesn&rsquo;t know how to hyphenate
Catalan text: you need to tell it how before Babel can do its work
properly.  To do this, for LaTeX installations, one needs to change
<i class="filename">language.dat</i> (which is part of the Babel installation); it will
contain a line
<pre>
%catalan         cahyphen.tex
</pre>
which, if you remove the comment marker, is supposed to instruct
LaTeX to load Catalan hyphenation patterns when you tell it to build
a new format.

<p>
Unfortunately, in many Babel distributions, the line just isn&rsquo;t
right&nbsp;&mdash; you need to check the name of the file containing the
patterns you&rsquo;re going to use.  As you can see, in the author&rsquo;s system,
the name is supposed to be <i class="filename">cahyphen.tex</i>; however the file
actually present on the system is <i class="filename">cahyph.tex</i>&nbsp;&mdash; fortunately,
the error should prove little more than an inconvenience (most of the
files are in better distributions anyway, but an elusive one
may be found on CTAN; if you have to retrieve
a new file, ensure that it&rsquo;s correctly installed, for which see
<a class="FAquestion.html" href="FAQ-inst-wlcf.html">installing a new package</a>).

<p>
Finally, you need to regenerate the formats used (in fact, most users
of Babel are using it in their LaTeX documents, so regenerating the
LaTeX-related formats will ordinarily be enough; however, the
author always generates the lot, regardless).
<dl>
<dt class="description">teTeX</dt><dd>It&rsquo;s possible to do the whole operation in one go, by
  using the <i class="progname">texconfig</i> command:
<pre>
texconfig hyphen latex
</pre>
  which first enters an editor for you to edit <i class="filename">language.dat</i>,
  and then regenerates the format you specify (<i class="progname">latex</i> in
  this case).

<p>
  Otherwise, to regenerate all formats, do: <br>
  <tt>fmtutil --all</tt>

<p>
  If you&rsquo;re willing to think through what you&rsquo;re doing (this is
  <em>not</em> for the faint-hearted), you can select a sequence of
  formats and for each one, run: <br>
  <tt>fmtutil --byfmt &lsaquo;<i>formatname</i>&rsaquo;</tt><br>
  where <em><tt>formatname</tt></em> is something like &lsquo;<tt>latex</tt>&rsquo;,
  or: <br>
  <tt>fmtutil --byhyphen &lsaquo;<i>hyphenfile</i>&rsaquo;</tt><br>
  where <em><tt>hyphenfile</tt></em> is the file specifying hyphenation
  to the format&nbsp;&mdash; usually <tt>language.dat</tt>
<dt class="description">MiKTeX</dt><dd> On a <i class="package">MiKTeX</i> distribution earlier than v2.0, do: <br>
  <tt>Start</tt>&rarr;
  <tt>Programs</tt>&rarr;
  <tt>MiKTeX</tt>&rarr;
  <tt>Maintenance</tt>&rarr;
  <tt>Create all format files</tt>


<p>
  or get a DOS window and run:<br>
  <tt>initexmf --dump</tt>

<p>
  On a <i class="package">MiKTeX</i> distribution v2.0 or later, the whole
  procedure can be done via the GUI.  To select the new
  language, do:<br>
  <tt>Start</tt>&rarr;
  <tt>Programs</tt>&rarr;
  <tt>MiKTeX 2</tt>&rarr;
  <tt>MiKTeX Options</tt>, and select the <tt>Languages</tt> tab.
  Select your language from the list, press the <tt>Apply</tt> button,
  and then the <tt>OK</tt> button.  Then select the <tt>General</tt>
  tab and press the <tt>Update Now</tt> button.

<p>
  Otherwise, edit the <i class="filename">language.dat</i> file (as outlined above),
  and then run:<br>
  <tt>initexmf --dump</tt><br>
  just as for a pre-v2.0 system.
</dl>

<p>
<b><em>Caveat</em>:</b> It is (just) possible that
your TeX system may run out of &ldquo;pattern memory&rdquo; while generating
the new format.  Most TeX implementations have fixed-size arrays
for storing the details of hyphenation patterns, but although their
size is adjustable in most modern distributions, actually changing the
size is a fiddle.  If you <em>do</em> find you&rsquo;ve run out of memory,
it may be worth scanning the list of languages in your
<i class="filename">language.dat</i> to see whether any could reasonably be removed.
<dl>
<dt class="ctanref">babel</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/babel">babel</a>
<dt class="ctanref">hyphenation patterns</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyphenation">hyphenation</a>
</dl>

<p>
[[[Question]]][Q-hyphoff][[[LBRACE]]]Stopping all hyphenation[[[RBRACE]]]

<p>
It may seem an odd thing to want to do (after all, one of TeX&rsquo;s
great advertised virtues is the quality of its hyphenation) but it&rsquo;s
sometimes necessary.  The real problem is, that the quality of
TeX&rsquo;s output is by default largely dependent on the presence of
hyphenation; if you want to abandon hyphenation, something has to
give.

<p>
TeX (slightly confusingly) offers four possible mechanisms for
suppressing hyphenation (there were only two prior to the extensions
that arrived with TeX version&nbsp;3).

<p>
First, one can set the hyphenation penalties <code>&#x5c;hyphenpenalty</code> and
<code>&#x5c;exhyphenpenalty</code> to an &lsquo;infinite&rsquo; value (that is to say, 10000).
This means that all hyphenations will sufficiently penalise the line
that would contain them, that the hyphenation won&rsquo;t happen.  The
disadvantage of this method is that TeX will re-evaluate any
paragraph for which hyphenations might help, which will slow TeX
down.

<p>
Second, one can select a language for which no hyphenation patterns
exist.  Some distributions create a language <tt>nohyphenation</tt>,
and the <i class="package">hyphenat</i> package uses this technique for its
<code>&#x5c;nohyphens</code> command which sets its argument without any
hyphenation.  You can load <i class="package">hyphenat</i> with the command
<blockquote>
  <code>&#x5c;usepackage</code><code>[none]</code></code><code>&#x7b;hyphenat&#x7d;</code>
</blockquote>
to prevent any hyphenation in a single-language document.  The
technique cannot work in a document in which <i class="package">babel</i> controls
language selection, since <i class="package">babel</i> incorporates hyphenation
change into its language change facilities.

<p>
Third, one can set <code>&#x5c;left-</code> and/or <code>&#x5c;righthyphenmin</code> to a
sufficiently large value that no hyphenation could possibly succeed,
since the minimum is larger than the length of the longest word
TeX is willing to hyphenate (the appropriate value is 62).

<p>
Fourth, one can suppress hyphenation for all text using the current
font by the command
<blockquote>
<pre>
\hyphenchar\font=-1
</pre>
</blockquote>
This isn&rsquo;t a particularly practical way for users to suppress
hyphenation&nbsp;&mdash; the command has to be issued for every font the
document uses&nbsp;&mdash; but it&rsquo;s how LaTeX itself suppresses hyphenation
in <tt>tt</tt> and other fixed-width fonts.

<p>
Which of the techniques you should use depends on what you actually
want to do.  If the text whose hyphenation is to be suppressed runs
for less than a paragraph, your only choice is the no-hyphens
language: the language value is preserved along with the text (in the
same way that the current font is); the values for penalties and
hyphen minima active at the end of a paragraph are used when
hyphenation is calculated.

<p>
Contrariwise, if you are writing a multilanguage document using the
<i class="package">babel</i> package, you <em>cannot</em> suppress hyphenation
throughout using either the no-hyphens language or the hyphen minima:
all those values get changed at a <i class="package">babel</i> language switch: use
the penalties instead.

<p>
If you simply switch off hyphenation for a good bit of text, the
output will have a jagged edge (with many lines seriously overfull),
and your (La)TeX run will bombard you with warnings about overfull
and underfull boxes (that is, really, lines).  To avoid this you have
two options.

<p>
The simplest route is to use <code>&#x5c;sloppy</code> (or its environment version
<code class="environment">sloppypar</code>), and have TeX stretch what would otherwise
be underfull lines to fill the space offered, while prematurely
wrapping overfull lines and stretching the remainder.  

<p>
The better bet is to set the text <a href="FAQ-ragright.html">ragged right</a>,
and at least get rid of the overfull lines; this technique is
&lsquo;traditional&rsquo; (in the sense that typists have always done it) and may
be expected to 
appeal to the specifiers of eccentric document layouts (such as those
for dissertations), but for once their sense conforms with typographic
style.  (Or at least, style constrained in this curious way.)
<dl>
<dt class="ctanref">hyphenat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyphenat">hyphenat</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-20</p>

<p>
[[[Question]]][Q-wdnohyph][[[LBRACE]]]Preventing hyphenation of a particular word[[[RBRACE]]]

<p>
It&rsquo;s quite possible for (<em>any</em>) hyphenation of a particular word
to seem &ldquo;completely wrong&rdquo;, so that you want to prevent it being
hyphenated.

<p>
If the word occurs in just one place, put it in a box:
<blockquote>
<pre>
\mbox{oddword}
</pre>
</blockquote>
(Plain TeX users should use <code>&#x5c;hbox</code>, and take care at the start
of paragraphs.)  However, boxing the word is not really advisable
unless you are sure it only occurs once.

<p>
If the word occurs commonly, the best choice is to assert an
hyphenation exception for it:
<blockquote>
<pre>
\hyphenation{oddword}
</pre>
</blockquote>
This hyphenation exception (with no break points) will be used in
preference to what TeX&rsquo;s hyphenation algorithm may come up with.

<p>
In a multilingual document, repeat the exception specification for
each language the word may appear in.  So:
<blockquote>
<pre>
\usepackage[french,english]{babel}
\selectlanguage{english}
\hyphenation{oddword}
\selectlanguage{french}
\hyphenation{oddword}
</pre>
</blockquote>
(note that <i class="package">babel</i> will select the default language for the
document&nbsp;&mdash; English, in this case&nbsp;&mdash; at <code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>.)

<p>
A particular instance of this requirement is avoiding the hyphenation
of acronyms; a general rule for those that concoct acronyms seems to
be to make the capital-letter sequence read as near as is possible
like a &ldquo;real&rdquo; word, but hyphenating an acronym often looks silly.
The TeX control <code>&#x5c;uchyph</code> is designed for suppressing such
behaviour:
<blockquote>
<pre>
\uchyph=0
</pre>
</blockquote>
will stop hyphenation of upper-case words.  (Note that Plain TeX
syntax is needed here: there&rsquo;s no LaTeX alternative for setting
this value.)

<p>
[[[Question]]][Q-hyphexcept][[[LBRACE]]]Hyphenation exceptions[[[RBRACE]]]

<p>
While TeX&rsquo;s hyphenation rules are good, they&rsquo;re not infallible: you
will occasionally find words TeX just gets <em>wrong</em>.  So for
example, TeX&rsquo;s default hyphenation rules (for American English) don&rsquo;t
know the word &ldquo;<em>manuscript</em>&rdquo;, and since it&rsquo;s a long word you
may find you need to hyphenate it.  You <em>can</em> &ldquo;write the
hyphenation out&rdquo; each time you use the word:
<blockquote>
<pre>
... man\-u\-script ...
</pre>
</blockquote>
Here, each of the <code>&#x5c;-</code> commands is converted to a hyphenated break,
if (<em>and only if</em>) necessary.

<p>
That technique can rapidly become tedious: you&rsquo;ll probably only accept
it if there are no more than one or two wrongly-hyphenated words in
your document.  The alternative is to set up hyphenations in the
document preamble.  To do that, for the hyphenation above, you would
write:
<blockquote>
<pre>
\hyphenation{man-u-script}
</pre>
</blockquote>
and the hyphenation would be set for the whole document.  Barbara
Beeton publishes articles containing lists of these &ldquo;hyphenation
exceptions&rdquo;, in <i class="slanted">TUGboat</i>; the hyphenation &lsquo;man-u-script&rsquo;
comes from one of those articles.

<p>
What if you have more than one language in your document?  Simple:
select the appropriate language, and do the same as above:
<blockquote>
<pre>
\usepackage[french]{babel}
\selectlanguage{french}
\hyphenation{re-cher-cher}
</pre>
</blockquote>
(nothing clever here: this is the &ldquo;correct&rdquo; hyphenation of the word,
in the current tables).  However, there&rsquo;s a problem here: just as
words with accent macros in them won&rsquo;t break, so an <code>&#x5c;hyphenation</code>
commands with accent macros in its argument will produce an error:
<blockquote>
<pre>
\usepackage[french]{babel}
\selectlanguage{french}
\hyphenation{r\'e-f\'e-rence}
</pre>
</blockquote>
tells us that the hyphenation is &ldquo;improper&rdquo;, and that it will be &ldquo;flushed&rdquo;.
But, just as hyphenation of words is enabled by selecting an 8-bit
font encoding, so <code>&#x5c;hyphenation</code> commands are rendered proper again
by selecting that same 8-bit font encoding.  For the hyphenation
patterns provided for &lsquo;legacy&rsquo;, the encoding is
<a href="FAQ-ECfonts.html">Cork</a>, so the complete sequence is:
<blockquote>
<pre>
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\selectlanguage{french}
\hyphenation{r\'e-f\'e-rence}
</pre>
</blockquote>
The same sort of performance goes for any language for which 8-bit
fonts and corresponding hyphenation patterns are available.  Since you
have to select both the language and the font encoding to have your
document typeset correctly, it should not be a great imposition to do
the selections before setting up hyphenation exceptions.

<p>
Modern TeX variants (principally XeTeX and LuaTeX) use unicode,
internally, and distributions that offer them also offer
UTF-8-encoded patterns; since the hyphenation team do all the
work &ldquo;behind the scenes&rdquo;, the use of Unicode hyphenation is
deceptively similar to what we are used to.

<p class="lastedit">This answer last edited: 2013-09-20</p>

<p>

<p>

<p>
[[[Question]]][Q-logos][[[LBRACE]]]Typesetting all those TeX-related logos[[[RBRACE]]]

<p>
Knuth was making a particular point about the capabilities of TeX
when he defined the logo.  Unfortunately (in some people&rsquo;s opinion) he thereby
opened floodgates to give the world a whole range of rather silly
&lsquo;bumpy road&rsquo; logos for TeX entities such as AMSTeX, PicTeX,
BibTeX, and so on, produced in a flurry of different fonts, sizes,
and baselines&nbsp;&mdash; indeed, everything one might hope to cause them to
obstruct the reading process.  In particular, Lamport invented
LaTeX (silly enough in itself, with a raised small &lsquo;A&rsquo; and a
lowered &lsquo;E&rsquo;) and marketing input from Addison-Wesley led to the even
stranger current logo for LaTeX 2e, which appends a lowered 
single-stroke Greek letter &amp;epsilon;.

<p>
Sensible users don&rsquo;t have to follow this stuff wherever it goes,
but, for those who insist, a large collection of logos is defined in
the <i class="package">texnames</i> package (but note that this set of macros isn&rsquo;t
entirely reliable in LaTeX 2e).
The MetaFont and MetaPost logos can be set in fonts that LaTeX 2e
knows about (so that they scale with the surrounding text) using the
<i class="package">mflogo</i> package; but be aware that booby-traps surround the
use of the Knuthian font for MetaPost (you might get







  something like &lsquo;META&amp;nbsp;&amp;nbsp;O&amp;nbsp;&amp;nbsp;T&rsquo;).

You needn&rsquo;t despair, however&nbsp;&mdash; most versions of the logo font
distributed nowadays contain the missing letters, and the author
himself uses just &lsquo;MetaPost&rsquo;.

<p>
A well-designed set of macros is provided by package <i class="package">hologo</i>,
which defines a command <code>&#x5c;hologo</code>, which one uses as (for example)
<code>&#x5c;hologo</code><code>&#x7b;pdfLaTeX&#x7d;</code> for what you might get by typing
&ldquo;<tt>pdf</tt><code>&#x5c;LaTeX</code>&rdquo;, as well as a capitalised version
<code>&#x5c;Hologo</code><code>&#x7b;pdfLaTeX&#x7d;</code> for &ldquo;<tt>Pdf</tt><code>&#x5c;LaTeX</code>&rdquo;.

<p>
The package <i class="package">metalogo</i> deals with a problem of these myriad
logos, that&rsquo;s often ignored nowadays: the geometry of characters from
different fonts is (obviously) different, and they naturally fit
together differently.  The package makes it possible for you to adjust
the spacing between the the letters of one of these odd logos (even
the especially weird mirrored &ldquo;E&rdquo; in XeTeX).

<p>
For those who don&rsquo;t wish to acquire the &lsquo;proper&rsquo; logos, the canonical
thing to do is to say <tt>AMS-</tt><code>&#x5c;TeX</code><code>&#x7b;&#x7d;</code>
for AMSTeX, <tt>Pic</tt><code>&#x5c;TeX</code><code>&#x7b;&#x7d;</code>
for PicTeX, <tt>Bib</tt><code>&#x5c;TeX</code><code>&#x7b;&#x7d;</code>
for BibTeX, and so on.
<dl>
<dt class="ctanref">hologo.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/hologo">oberdiek</a>
<dt class="ctanref">metalogo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/metalogo">metalogo</a>
<dt class="ctanref">mflogo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mflogo">mflogo</a>
<dt class="ctanref">texnames.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texnames">texnames</a>
</dl>

<p class="lastedit">This answer last edited: 2010-03-24</p>

<p>
[[[Question]]][Q-bold-extras][[[LBRACE]]]How to do bold-tt or bold-sc[[[RBRACE]]]

<p>
LaTeX, as delivered, offers no means of handling bold &ldquo;teletype&rdquo;
or small-caps fonts.  There&rsquo;s a practical reason for this (Knuth never
designed such fonts), but there are typographical considerations too
(the &ldquo;medium weight&rdquo; <tt>cmtt</tt> font is already pretty bold (by
comparison with other fixed-width fonts), and bold small-caps is not
popular with many professional typographers).

<p>
There&rsquo;s a set of &ldquo;extra&rdquo; MetaFont files on CTAN that provide bold
versions of both <tt>cmtt</tt> and <tt>cmcsc</tt> (the small caps font).  With
modern TeX distributions, one may bring these fonts into use simply
by placing them in an 
<a href="FAQ-install-where.html">appropriate place in the <em>texmf</em> tree</a>
(these are (La)TeX-specific files, so the &ldquo;<em>public</em>&rdquo; supplier
would be an appropriate place).  Once you&rsquo;ve 
<a href="FAQ-inst-wlcf.html">rebuilt the file indexes as necessary</a>,
TeX (and friends) will automatically build whatever font files they
need when you first make reference to them.  There&rsquo;s a jiffy package
<i class="package">bold-extra</i> that builds the necessary font data structures
so that you can use the fonts within LaTeX.

<p>
Another alternative is to use the <a href="FAQ-ECfonts.html">EC fonts</a>,
which come with bold variants of the small-caps fonts.

<p>
If you need to use Type&nbsp;1 fonts, you can&rsquo;t proceed with Knuth-style
fonts, since there are no Type&nbsp;1 versions of the <i class="package">mf-extra</i>
set.  There are, however, Type&nbsp;1 distributions of the EC&nbsp;fonts, so you
can switch to EC and use them; alternatives are discussed in
<a class="FAquestion.html" href="FAQ-type1T1.html">8-bit Type&nbsp;1 fonts</a>.

<p>
Of course, commercial fixed-width fonts (even the default
<i class="fontname">Courier</i>) almost always come with a bold variant, so that&rsquo;s
not a problem.  Furthermore <a href="FAQ-usepsfont.html">PSNFSS</a>
will usually provide &ldquo;faked&rdquo; small caps fonts, and has no
compunctions about providing them in a bold form.  <i class="fontname">Courier</i>
is (as we all know, to our cost) freely available; a far more
presentable monospace font is <i class="fontname">LuxiMono</i>, which is also
freely available (monospace text in the typeset version of this
FAQ uses <i class="fontname">LuxiMono</i>, with the metrics and LaTeX
support available on the archive.
<dl>
<dt class="ctanref">bold-extra.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bold-extra">bold-extra</a>
<dt class="ctanref">bold tt and small caps fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bold">bold</a>
<dt class="ctanref">LuxiMono fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/luximono">luximono</a>
</dl>

<p>
[[[Question]]][Q-varwidth][[[LBRACE]]]Automatic sizing of <code class="environment">minipage</code>[[[RBRACE]]]

<p>
The <code class="environment">minipage</code> environment requires you to specify the
width of the &ldquo;page&rdquo; you&rsquo;re going to create.  This is sometimes
inconvenient: you would like to occupy less space, if possible, but
<code class="environment">minipage</code> sets a box that is exactly the width you
specified.

<p>
The <i class="package">pbox</i> package defines a <code>&#x5c;pbox</code> whose width is exactly
that of the longest enclosed line, subject to a maximum width that you
give it.  So while <code>&#x5c;parbox</code><code>&#x7b;2cm&#x7d;</code></code><code>&#x7b;Hello&#x5c; world!&#x7d;</code> produces a
box of width exactly <tt>2cm</tt>,
<code>&#x5c;pbox</code><code>&#x7b;2cm&#x7d;</code></code><code>&#x7b;Hello&#x5c; world!&#x7d;</code> produces one whose width is
<tt>1.79cm</tt> (if one&rsquo;s using the default <i class="fontname">cmr</i> font for the
text, at least).  The package also provides a
<code>&#x5c;settominwidth</code><code>[min]</code></code><code>&#x7b;length&#x7d;</code><code>&#x7b;text&#x7d;</code> (which looks (almost)
like the standard <code>&#x5c;settowidth</code> command), and a <code>&#x5c;widthofpbox</code>
function analogous to the <code>&#x5c;widthof</code> command for use with the
<i class="package">calc</i> package.

<p>
The <i class="package">eqparbox</i> package extends <i class="package">pbox</i>&rsquo;s idea, by
allowing you to set a series of boxes, all with the same (minimised)
width.  (Note that it doesn&rsquo;t accept a limiting maximum width
parameter.)  The package documentation shows the following example
drawn from a joke <em>curriculum vitae</em>:
<blockquote>

<pre>
\noindent%
\eqparbox{place}%
    {\textbf{Widgets, Inc.}}
        \hfill
\eqparbox{title}%
    {\textbf{Senior Widget Designer}}
        \hfill
\eqparbox{dates}{\textbf{1/95--present}}

...

\noindent%
\eqparbox{place}%
    {\textbf{Thingamabobs, Ltd.}}
        \hfill
\eqparbox{title}%
    {\textbf{Lead Engineer}}
        \hfill
\eqparbox{dates}{\textbf{9/92--12/94}}
</pre>


<pre>
\noindent%
\eqparbox{place}{\textbf{Widgets, Inc.}} \hfill
\eqparbox{title}{\textbf{Senior Widget Designer}} \hfill
\eqparbox{dates}{\textbf{1/95--present}}

...

\noindent%
\eqparbox{place}{\textbf{Thingamabobs, Ltd.}} \hfill
\eqparbox{title}{\textbf{Lead Engineer}} \hfill
\eqparbox{dates}{\textbf{9/92--12/94}}
</pre>

</blockquote>
The code makes the three items on each of the heading lines have
exactly the same width, so that the lines as a whole produce a regular
pattern down the page.  A command <code>&#x5c;eqboxwidth</code> allows you to use
the measured width of a group: the documentation shows how the command
may be used to produce sensible-looking columns that mix <tt>c</tt>-,
<tt>r</tt>- or <tt>l</tt>-rows, with the equivalent of a <code class="verb">p&#x7b;...&#x7d;</code>
entry, by making the fixed-width rows an <i class="package">eqparbox</i> group, and
making the last from a <code>&#x5c;parbox</code> using the width that&rsquo;s been
measured for the group.

<p>
The <i class="package">varwidth</i> package defines a <code class="environment">varwidth</code>
environment which sets the content of the box to match a &ldquo;narrower
natural width&rdquo; if it finds one.  (You give it the same parameters as
you would give <code class="environment">minipage</code>: in effect, it is a &lsquo;drop-in&rsquo;
replacement.)  <i class="package">Varwidth</i> provides its own ragged text command:
<code>&#x5c;narrowragged</code>, which aims to make narrower lines and to put more
text in the last line of the paragraph (thus producing lines with more
nearly equal lengths than typically happens with <code>&#x5c;raggedright</code>
itself).

<p>
The documentation (in the package file) lists various restrictions and
things still to be done, but the package is already proving useful for
a variety of jobs.
<dl>
<dt class="ctanref">eqparbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eqparbox">eqparbox</a>
<dt class="ctanref">pbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pbox">pbox</a>
<dt class="ctanref">varwidth.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/varwidth">varwidth</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-usesymb][[[LBRACE]]]Using symbols[[[RBRACE]]]

<p>
Most symbol font sets come with a package that defines commands for
every symbol in the font.  While this is convenient, it can lead to
difficulties, particularly with name clashes when you load packages
that cover fonts which duplicate symbols&nbsp;&mdash; an issue which is
discussed in




  &ldquo;<a href="FAQ-alreadydef.html">symbol already defined</a>&rdquo;.

Some font sets (for example the related set: <i class="fontname">FdSymbol</i>,
<i class="fontname">MdSymbol</i> and <i class="fontname">MnSymbol</i>) are huge, and the
accompanying macros cover so many symbols that name clashes are surely
a serious problem.

<p>
The <i class="package">pifont</i> package (originally designed to use the Adobe
<i class="fontname">Zapf Dingbats</i> font) avoids this sort of problem: it requires
you to know the font position of any symbol you want to use (the
documentation provides font tables).  The basic command is
<code>&#x5c;ding</code><code>&#x7b;number&#x7d;</code> for a single symbol; there are commands for
other fancier uses.  <i class="package">Pifont</i> also allows you to select other
fonts, for similar use.

<p>
The <i class="package">yagusylo</i> describes itself as &ldquo;an extended version of
<i class="package">pifont</i>, gone technicolor&rdquo;.  It provides all the facilities
of <i class="package">pifont</i>, but allows you to create your own mnemonic names
for symbols.  Thus, while you can say 
<code>&#x5c;yagding</code><code>[family]</code></code><code>&#x7b;symbol number&#x7d;</code>[colour], you can also
define symbol names with <code>&#x5c;defdingname</code>, and then use them
with <code>&#x5c;yagding*</code><code>&#x7b;symbol name&#x7d;</code> (the defined name carries the
font family and colour specified in the arguments of
<code>&#x5c;defdingname</code>).

<p>
<i class="package">Yagusylo</i> is somewhat complicated, but its documentation is
clear; it is probably the best tool to use for picking and choosing
symbols from a variety of font families.
<dl>
<dt class="ctanref">FdSymbol fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fdsymbol">fdsymbol</a>
<dt class="ctanref">MdSymbol fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mdsymbol">mdsymbol</a>
<dt class="ctanref">MnSymbol fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mnsymbol">mnsymbol</a>
<dt class="ctanref">pifont.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/psnfss">psnfss</a>
<dt class="ctanref">yagusylo.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/yagusylo">yagusylo</a>
</dl>

<p>
[[[Question]]][Q-numbersets][[[LBRACE]]]Symbols for the number sets[[[RBRACE]]]

<p>
Mathematicians commonly use special lettering for the real numbers and
other standard number sets. Traditionally these were typeset in bold.
In the ordinary course of events, but mathematicians do not have
access to bold chalk, so they invented special symbols that are now
often used for the number sets.  Such symbols are known as
&ldquo;blackboard bold&rdquo; (or double-stroked) letters; in place of the heavier
strokes of a bold font, (some) strokes of the letters are doubled.
The minimum useful set is upper-case letters &lsquo;I&rsquo;, &lsquo;N&rsquo;, &lsquo;R&rsquo;, &lsquo;Q&rsquo; and
&lsquo;Z&rsquo;; some fonts offer a figure &lsquo;1&rsquo; (for a unit matrix&nbsp;&mdash; not a number
set at all).

<p>
A set of blackboard bold capitals is available in the AMS
<i class="fontname">msbm</i> fonts (<i class="fontname">msbm</i> is available at a range of
design sizes, with names such as <i class="fontname">msbm10</i>).  The AMS
actually provides a pair of font
families (the other is called <i class="fontname">msam</i>), which offer a large number of
mathematical symbols to supplement those provided in Knuth&rsquo;s fonts.
The fonts are available in Type&nbsp;1 format in
modern distributions.   Support for using the fonts under
LaTeX is available in packages <i class="package">amssymb</i> and
<i class="package">amsfonts</i>.  The font shape is a rather
austere sans, which many people don&rsquo;t like (though it captures the
essence of quickly-chalked writing rather well).

<p>
The <i class="fontname">bbold</i> family is set of blackboard bold fonts written in
MetaFont.  This set offers blackboard bold forms of lower-case letters;
the font source directory also contains sources for a LaTeX package
that enables use of the fonts.  The fonts are not available in Type&nbsp;1 format.

<p>
The <i class="fontname">bbm</i> family claims to provide
&lsquo;blackboard&rsquo; versions of most of the <i class="fontname">cm</i> fonts&nbsp;&hellip; including
the bold and bold-extended series.  Again, the fonts are designed in
MetaFont and are not available in Type&nbsp;1 format.  LaTeX macro support
comes from a package by Torsten Hilbrich.

<p>
The <i class="fontname">doublestroke</i> family comes in just roman
and sans shapes, at a single weight, and is available both as MetaFont
sources and as Type&nbsp;1; the font covers the uppercase latin letters,
lowercase &lsquo;h&rsquo; and &rsquo;k&rsquo;, and the digit &lsquo;1&rsquo;.

<p>
A document that shows the <i class="fontname">bbm</i>, <i class="fontname">bbold</i>,
<i class="fontname">doublestroke</i> and <i class="fontname">msbm</i> fonts, so that you can get
a feel for their appearance, is available (CTAN package
<i class="package">blackboard</i>).

<p>
The <i class="package">boondox</i> font set consists of Type&nbsp;1 versions of the
STIX mathematics set (the originals are distributed in
OTF format).  The set contains a font
&lsquo;BOONDOXDoubleStruck-Regular&rsquo; (blackboard bold) (as well as a &lsquo;bold&rsquo;
version of that.

<p>
An alternative source of Type&nbsp;1 fonts with blackboard bold characters
may be found in the steadily increasing set of complete families, both
commercial and free, that have been prepared for use with (La)TeX
(see 
&ldquo;<a class="FAquestion.html" href="FAQ-psfchoice.html">choice of outline fonts</a>&rdquo;).
Of the free sets, the <i class="fontname">txfonts</i> and <i class="fontname">pxfonts</i> families
both come with replicas of <i class="fontname">msam</i> and <i class="fontname">msbm</i>, but
(as noted elsewhere, there are other reasons not to use these fonts);
revised versions of the fonts, <i class="fontname">newtx</i> and <i class="fontname">newpx</i>
are better adjusted.  The <i class="fontname">mathpazo</i> family includes a
&ldquo;mathematically significant&rdquo; choice of blackboard bold characters, and the
<i class="fontname">fourier</i> fonts contain blackboard bold upper-case letters,
the digit &lsquo;1&rsquo;, and lower-case &lsquo;k&rsquo;.

<p>
The &ldquo;lazy person&rsquo;s&rdquo; blackboard bold macros:
<blockquote>
<pre>
\newcommand{\R}{{\textsf{R}\hspace*{-0.9ex}%
  \rule{0.15ex}{1.5ex}\hspace*{0.9ex}}}
\newcommand{\N}{{\textsf{N}\hspace*{-1.0ex}%
  \rule{0.15ex}{1.3ex}\hspace*{1.0ex}}}
\newcommand{\Q}{{\textsf{Q}\hspace*{-1.1ex}%
  \rule{0.15ex}{1.5ex}\hspace*{1.1ex}}}
\newcommand{\C}{{\textsf{C}\hspace*{-0.9ex}%
  \rule{0.15ex}{1.3ex}\hspace*{0.9ex}}}
</pre>
</blockquote>
are almost acceptable at normal size if the surrounding text is
<i class="fontname">cmr10</i> (the position of the vertical bar can be affected by
the surrounding font).  However, they are not part of a proper maths font,
and do not work in sub- and superscripts.  As we&rsquo;ve seen, there are
plenty of alternatives: that mythical &ldquo;lazy&rdquo; person can inevitably
do better than the macros, or anything similar using capital &lsquo;I&rsquo;
(which looks even worse!).  Voluntary  (La)TeX effort has redefined
the meaning of laziness (in this respect!).
<dl>
<dt class="ctanref">AMS support files</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">AMS symbol fonts</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">bbm fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bbm">bbm</a>
<dt class="ctanref">bbm macros</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bbm-macros">bbm-macros</a>
<dt class="ctanref">bbold fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bbold">bbold</a>
<dt class="ctanref">blackboard evaluation set</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/blackboard">blackboard</a>
<dt class="ctanref">doublestroke fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/doublestroke">doublestroke</a>
<dt class="ctanref">fourier fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fourier">fourier</a>
<dt class="ctanref">mathpazo fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathpazo">mathpazo</a>
<dt class="ctanref">newpx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newpx">newpx</a>
<dt class="ctanref">newtx</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newtx">newtx</a>
<dt class="ctanref">pxfonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pxfonts">pxfonts</a>
<dt class="ctanref">txfonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/txfonts">txfonts</a>
</dl>

<p class="lastedit">This answer last edited: 2013-12-04</p>

<p>
[[[Question]]][Q-scriptfonts][[[LBRACE]]]Better script fonts for maths[[[RBRACE]]]

<p>
The font selected by <code>&#x5c;mathcal</code> is the only script font &lsquo;built
in&rsquo;. However, there are other useful calligraphic fonts included with
modern TeX distributions.
<dl>
<dt class="description">Euler</dt><dd> The <i class="package">eucal</i> package (part of most sensible TeX
  distributions; the fonts are part of the AMS font set) gives
  a slightly curlier font than the default. The package changes the
  font that is selected by <code>&#x5c;mathcal</code>.

<p>
  Type 1 versions of the fonts are available in the AMS fonts
  distribution.
<dt class="description">mathabx</dt><dd> The <i class="fontname">mathabx</i> bundle provides calligraphic
  letters (in both upper and lower case); the fonts were developed in
  MetaFont, but a version in Adobe Type 1 format is available.  The
  bundle&rsquo;s documentation offers a series of comparisons of its
  calligraphic set with Computer Modern&rsquo;s (both regular mathematical
  and calligraphic letters); the difference are not large.
<dt class="description">mnsymbol</dt><dd> The <i class="fontname">mnsymbol</i> bundle provides (among many
  other symbols) a set of calligraphic letters, though (again) they&rsquo;re
  rather similar to the default Computer Modern set.
<dt class="description">RSFS</dt><dd> The <i class="package">mathrsfs</i> package uses a really fancy script
  font (the name stands for &ldquo;Ralph Smith&rsquo;s Formal Script&rdquo;) which is
  already part of most modern TeX distributions (Type&nbsp;1 versions of
  the font are also provided, courtesy of Taco Hoekwater).  The package
  creates a new command <code>&#x5c;mathscr</code>.
<dt class="description">RSFSO</dt><dd> The bundle <i class="package">rsfso</i> provides a less dramatically
  oblique version of the RSFS fonts; the result proves quite
  pleasing&nbsp;&mdash; similar to the effect of the the (commercial) script
  font in the Adobe Mathematical Pi collection.
<dt class="description">Zapf Chancery</dt><dd> is the standard PostScript calligraphic font.  There
  is no package but you can easily make it available by means of the
  command
<blockquote>

<pre>
\DeclareMathAlphabet{\mathscr}{OT1}{pzc}%
                                 {m}{it}
</pre>


<pre>
\DeclareMathAlphabet{\mathscr}{OT1}{pzc}{m}{it} 
</pre>

</blockquote>
  in your preamble.  You may find the font rather too big; if so, you
  can use a scaled version of it like this:
<blockquote>

<pre>
\DeclareFontFamily{OT1}{pzc}{}
\DeclareFontShape{OT1}{pzc}{m}{it}%
             {<-> s * [0.900] pzcmi7t}{}
\DeclareMathAlphabet{\mathscr}{OT1}{pzc}%
                                 {m}{it}
</pre>


<pre>
\DeclareFontFamily{OT1}{pzc}{}
\DeclareFontShape{OT1}{pzc}{m}{it}{<-> s * [0.900] pzcmi7t}{}
\DeclareMathAlphabet{\mathscr}{OT1}{pzc}{m}{it}
</pre>

</blockquote>
  Adobe Zapf Chancery (which the above examples use) is distributed in
  any but the most basic PostScript printers.  A substantially identical
  font (to the extent that the same metrics may be used) is
  available from URW, called URW Chancery L: it is distributed
  as part of the &ldquo;URW base35&rdquo; bundle; the
  <i class="package">urwchancal</i> package (which includes virtual fonts to tweak
  appearance) provides for its use as a calligraphic font.

<p>
  The TeX Gyre font family also includes a Chancery replacement,
  <i class="fontname">Chorus</i>; use it with <i class="package">tgchorus</i> (and ignore the
  complaints about needing to change font shape).
</dl>
Examples of the available styles are linked from the packages&rsquo;
catalogue entries.
<dl>
<dt class="ctanref">eucal.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">euler fonts</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">mathabx as MetaFont</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathabx">mathabx</a>
<dt class="ctanref">mathabx in Type 1 format</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathabx-type1">mathabx-type1</a>
<dt class="ctanref">mathrsfs.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mathrsfs">jknappen-macros</a>
<dt class="ctanref">mnsymbol fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mnsymbol">mnsymbol</a>
<dt class="ctanref">rsfs fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rsfs">rsfs</a>
<dt class="ctanref">rsfso fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/rsfso">rsfso</a>
<dt class="ctanref">Script font examples</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathscript">mathscript</a>
<dt class="ctanref">TeX Gyre Chorus font family</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/tex-gyre-chorus">tex-gyre</a>
<dt class="ctanref">urwchancal</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/urwchancal">urwchancal</a>
<dt class="ctanref">URW Chancery L</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/urw-base35">urw-base35</a>
</dl>

<p class="lastedit">This answer last edited: 2011-08-17</p>

<p>
[[[Question]]][Q-boldgreek][[[LBRACE]]]Setting bold Greek letters in LaTeX maths[[[RBRACE]]]

<p>
The issue here is complicated by the fact that <code>&#x5c;mathbf</code> (the
command for setting bold <em>text</em> in TeX maths) affects a select
few mathematical &lsquo;symbols&rsquo; (the uppercase Greek letters).

<p>
In the default configuration, lower-case Greek letters behave
differently from upper-case Greek letters (the lower-case greek
letters are in the maths fonts, while the upper-case letters are in
the original (OT1-encoded) text fonts).

<p>
The Plain TeX solution <em>does</em> work, in a limited way; you set a
maths <em>style</em>, before you start an equation; thus
<blockquote>
<pre>
{\boldmath$\theta$}
</pre>
</blockquote>
does the job, but <code>&#x5c;boldmath</code> may not be used in maths mode.  As a
result, this solution requires that you embed single bold characters
in a text box:
<blockquote>
<pre>
$... \mbox{\boldmath$\theta$} ...$
</pre>
</blockquote>
which then causes problems in superscripts, etc.  With
<i class="package">amsmath</i> loaded,
<blockquote>
<pre>
$... \text{\boldmath$\theta$} ...$
</pre>
</blockquote>
does the trick (and is less bad in regard to superscripts, etc), but
is an unsatisfactory solution, too.

<p>
These problems may be addressed by using a bold mathematics package.
<ul>
<li> The <i class="package">bm</i> package, which is part of the LaTeX tools
  distribution, defines a command <code>&#x5c;bm</code> which may be used anywhere
  in maths mode.
<li> The <i class="package">amsbsy</i> package (which is part of AMSLaTeX)
  defines a command <code>&#x5c;boldsymbol</code>, which (though slightly less
  comprehensive than <code>&#x5c;bm</code>) covers almost all common cases.
</ul>

<p>
All these solutions apply to all mathematical symbols, not merely
Greek letters.
<dl>
<dt class="ctanref">bm.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/bm">2etools</a>
<dt class="ctanref">amsbsy.sty</dt><dd>Distributed as part of AMSLaTeX <a class="ctan" href="https://www.ctan.org/pkg/amsbsy">amslatex</a>
<dt class="ctanref">amsmath.sty</dt><dd>Distributed as part of AMSLaTeX
  <a class="ctan" href="https://www.ctan.org/pkg/amsmath">amslatex</a>
</dl>

<p class="lastedit">This answer last edited: 2013-06-12</p>

<p>
[[[Question]]][Q-prinvalint][[[LBRACE]]]The Principal Value Integral symbol[[[RBRACE]]]

<p>
This symbol (an integral sign, &lsquo;crossed&rsquo;) does not appear in any of
the fonts ordinarily available to (La)TeX users, but it can be
created by use of the following macros:
<blockquote>

<pre>
\def\Xint#1{\mathchoice
   {\XXint\displaystyle\textstyle{#1}}%
   {\XXint\textstyle\scriptstyle{#1}}%
   {\XXint\scriptstyle\scriptscriptstyle{#1}}%
   {\XXint\scriptscriptstyle\scriptscriptstyle{#1}}%
   \!\int}
\def\XXint#1#2#3{{\setbox0=\hbox{$#1{#2#3}{\int}$}
     \vcenter{\hbox{$#2#3$}}\kern-.5\wd0}}
\def\ddashint{\Xint=}
\def\dashint{\Xint-}
</pre>


<pre>
\def\Xint#1{\mathchoice
   {\XXint\displaystyle\textstyle{#1}}%
   {\XXint\textstyle\scriptstyle{#1}}%
   {\XXint\scriptstyle\scriptscriptstyle{#1}}%
   {\XXint\scriptscriptstyle
                      \scriptscriptstyle{#1}}%
   \!\int}
\def\XXint#1#2#3{{%
     \setbox0=\hbox{$#1{#2#3}{\int}$}
     \vcenter{\hbox{$#2#3$}}\kern-.5\wd0}}
\def\ddashint{\Xint=}
\def\dashint{\Xint-}
</pre>

</blockquote>
<code>&#x5c;dashint</code> gives a single-dashed integral sign, <code>&#x5c;ddashint</code> a
double-dashed one.

<p>
[[[Question]]][Q-underscore][[[LBRACE]]]How to typeset an underscore character[[[RBRACE]]]

<p>
The underscore character &lsquo;<tt>\_</tt>&rsquo; is ordinarily used in TeX to
indicate a subscript in maths mode; if you type <tt>\_</tt>, on its
own, in the course of ordinary text, TeX will complain.  The
&ldquo;proper&rdquo; LaTeX command for underscore is <code>&#x5c;textunderscore</code>,
but the LaTeX 2.09 command <code>&#x5c;\_</code> is an established alias.  Even so,
if you&rsquo;re writing a document which will contain a large number of
underscore characters, the prospect of typing <code>&#x5c;\_</code> for every one
of them will daunt most ordinary people.

<p>
Moderately skilled macro programmers can readily generate a quick hack
to permit typing &lsquo;<tt>\_</tt>&rsquo; to mean &lsquo;text underscore&rsquo; (the answer in

  &ldquo;<a href="FAQ-activechars.html">defining characters as macros</a>&rdquo;




uses this example to illustrate its techniques).
However, the code <em>is</em> somewhat tricky, and more importantly
there are significant points where it&rsquo;s easy to get it wrong.  There
is therefore a package <i class="package">underscore</i> which provides a general
solution to this requirement.

<p>
There is a problem, though: OT1 text fonts don&rsquo;t contain an
underscore character, unless they&rsquo;re in the typewriter version of the
encoding (used by fixed-width fonts such as <tt>cmtt</tt>).  In place
of such a character, LaTeX (in OT1 encoding) uses a short rule
for the command <code>&#x5c;textunderscore</code>, but this poses problems
for systems that interpret PDF&nbsp;&mdash; for example those
PDF-to-voice systems used by those who find reading difficult.

<p>
So either you must ensure that your underscore characters only occur
in text set in a typewriter font, or you must use a more modern
encoding, such as T1, which has the same layout for every font,
and thus an underscore in every font.

<p>
A stable procedure to achieve this is:
<blockquote>
<pre>
% (1) choose a font that is available as T1
% for example:
\usepackage{lmodern}

% (2) specify encoding
\usepackage[T1]{fontenc}

% (3) load symbol definitions
\usepackage{textcomp}
</pre>
</blockquote>
which will provide a command <code>&#x5c;textunderscore</code> which robustly
selects the right character.  The <i class="package">underscore</i> package,
mentioned above, will use this command.
<dl>
<dt class="ctanref">underscore.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/underscore">underscore</a>
</dl>

<p class="lastedit">This answer last edited: 2011-08-17</p>

<p>
[[[Question]]][Q-atsign][[[LBRACE]]]How to type an &lsquo;@&rsquo; sign?[[[RBRACE]]]

<p>
Long ago, some packages used to use the &lsquo;@&rsquo; sign as a special
character, so that special measures were needed to type it.  While
those packages are still in principle available, few people use them,
and those that do use them have ready access to rather good
documentation.

<p>
Ordinary people (such as the author of this FAQ) need only type
&lsquo;@&rsquo;.

<p class="lastedit">This answer last edited: 2011-08-16</p>

<p>
[[[Question]]][Q-euro][[[LBRACE]]]Typesetting the Euro sign[[[RBRACE]]]

<p>
The European currency &ldquo;Euro&rdquo; (&#x20ac;) is represented by a symbol
of somewhat dubious design, but it&rsquo;s an important currency and
(La)TeX users need to typeset it.  When the currency first appeared,
typesetting it was a serious problem for (La)TeX users; things are
easier now (most fonts have some way of providing a Euro sign), but
this answer provides a summary of methods &ldquo;just in case&rdquo;.

<p>
Note that the Commission of the European Community at first deemed
that the Euro symbol should always be set in a sans-serif font;
fortunately, this eccentric ruling has now been rescinded, and one may
apply best typesetting efforts to making it appear at least slightly
&ldquo;respectable&rdquo; (typographically).

<p>
The TS1-encoded TC fonts provided as part of the EC font
distribution provide Euro glyphs.  The fonts are called Text Companion
(TC) fonts, and offer the same range
of faces as do the EC fonts themselves.  The
<i class="package">textcomp</i> package provides a <code>&#x5c;texteuro</code> command for
accessing the symbol, which selects a symbol to match the surrounding
text.  The design of the symbol in the TC fonts is not
universally loved&hellip;
Nevertheless, use the TC font version of the symbol if you are
producing documents using Knuth&rsquo;s Computer Modern Fonts.

<p>
The each of the <i class="package">latin9</i> and <i class="package">latin10</i> input encoding
definitions for the <i class="package">inputenc</i> package has a euro character
defined (character position 164, occupied in other ISO Latin
character sets by the &ldquo;currency symbol&rdquo; &#xa4;, which
ordinary people seldom see except in character-set listings&hellip;).
The TC encoding file offers the command <code>&#x5c;texteuro</code> for the
character; that command is (probably) <em>only</em> available from the
<i class="package">textcomp</i> package.

<p>
Use of the TC encoding character may therefore made via
<code>&#x5c;texteuro</code> or via the Latin-9 or Latin-10 character in ordinary
text.

<p>
Note that there is a Microsoft code page position (128), too, and that has
been added to <i class="package">inputenc</i> tables for CP1252 and
CP1257.  (There&rsquo;s another position in CP858, which has
it in place of &ldquo;dotless i&rdquo; in CP850; the standardisation of
these things remains within Microsoft, so one can never tell what will
come next&hellip;)

<p>
Outline fonts which contain nothing but Euro symbols are available
(free) from
<a href="ftp://ftp.adobe.com/pub/adobe/type/win/all/eurofont.exe">Adobe</a>&nbsp;&mdash;
the file is packaged as a <i class="progname">Windows</i> self-extracting
executable, but it may be decoded as a <code class="extension">zip</code> format archive
on other operating systems.
The <i class="package">euro</i> bundle contains metrics, <i class="progname">dvips</i> map
files, and macros (for Plain TeX and LaTeX), for using these
fonts in documents.  LaTeX users will find two packages in the
bundle: <i class="package">eurosans</i> only offers the sans-serif version (to
conform with the obsolete ruling about sans-serif-only symbols; the
package provides the
command <code>&#x5c;euro</code>), whereas <i class="package">europs</i> matches the Euro symbol
with the surrounding text (providing the command <code>&#x5c;EUR</code>).  To use
either package
with the <i class="package">latin9</i> encoding, you need to define <code>&#x5c;texteuro</code>
as an alias for the euro command the package defines.

<p>
The Adobe fonts are probably the best bet for use in non-Computer
Modern environments.  They are apparently designed to fit with Adobe
Times, Helvetica and Courier, but can probably fit with a wider range
of modern fonts.

<p>
The <i class="package">eurofont</i> package provides a compendious analysis of the
&ldquo;problem of the euro symbol&rdquo; in its documentation, and offers macros
for configuring the source of the glyphs to be used; however, it seems
rather large for everyday use.

<p>
The <i class="package">euro-ce</i> bundle is a rather pleasing MetaFont-only design
providing Euro symbols in a number of shapes.  The file
<i class="filename">euro-ce.tex</i>, in the distribution, offers hints as to how a
Plain TeX user might make use of the fonts.

<p>
Euro symbols are found in several other places, which we list here for
completeness.

<p>
The <i class="package">marvosym</i> font contains a Euro symbol (in a number of
typographic styles), among many other good things; the font is
available in both Adobe Type 1 and TrueType formats.

<p>
Other MetaFont-based bundles containing Euro symbols are to be found in
<i class="package">china2e</i> (whose primary aim is Chinese dates and suchlike
matters) and the <i class="package">eurosym</i> fonts.
<dl>
<dt class="ctanref">china2e bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/china2e">china2e</a>
<dt class="ctanref">EC fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ec">ec</a>
<dt class="ctanref">euro fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/euro-fonts">euro-fonts</a>
<dt class="ctanref">euro-ce fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/euro-ce">euro-ce</a>
<dt class="ctanref">eurofont.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eurofont">eurofont</a>
<dt class="ctanref">eurosym fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eurosym">eurosym</a>
<dt class="ctanref">marvosym fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/marvosym-fonts">marvosym-fonts</a>
<dt class="ctanref">textcomp.sty</dt><dd>Part of the LaTeX distribution.
</dl>

<p class="lastedit">This answer last edited: 2011-11-21</p>

<p>
[[[Question]]][Q-tradesyms][[[LBRACE]]]How to get copyright, trademark, etc.[[[RBRACE]]]

<p>
The &ldquo;
<a href="FAQ-symbols.html">Comprehensive symbol list</a>&rdquo;, lists
the symbol commands <code>&#x5c;textcopyright</code>,
<code>&#x5c;textregistered</code> and <code>&#x5c;texttrademark</code>, which are available in
TS1-encoded fonts, and which are enabled using the
<i class="package">textcomp</i> package.

<p>
In fact, all three commands are enabled in default LaTeX, but the
glyphs you get aren&rsquo;t terribly beautiful.  In particular,
<code>&#x5c;textregistered</code> behaves oddly when included in bold text (for
example, in a section heading), since it is composed of a small-caps
letter, which typically degrades to a regular shape letter when asked
to set in a bold font.  This means that the glyph becomes a circled
&ldquo;r&rdquo;, whereas the proper symbol is a circled &ldquo;R&rdquo;.

<p>
This effect is of course avoided by use of <i class="package">textcomp</i>.

<p>
Another problem arises if you want <code>&#x5c;textregistered</code> in a
superscript position (to look similar to <code>&#x5c;texttrademark</code>).
Using a maths-mode superscript to do this provokes lots of pointless
errors: you <em>must</em> use
<blockquote>
<pre>
\textsuperscript{\textregistered}
</pre>
</blockquote>

<p>
[[[Question]]][Q-osf][[[LBRACE]]]Using &ldquo;old-style&rdquo; figures[[[RBRACE]]]

<p>
These numbers are also called medieval or lowercase figures and their
use is mostly font-specific.  Terminology is confusing since the
lining figures (which are now the default) are a relatively recent
development (19th century) and before they arrived, oldstyle figures
were the norm, even when setting mathematics.  (An example is Thomas
Harriot&rsquo;s <em>Artis Analyticae Praxis</em> published in 1631).  In a
typical old style 3, 4, 5, 7 and 9 have descenders and 6 and 8 ascend
above the x-height; sometimes 2 will also ascend (this last seems to
be a variation associated with French typography).

<p>
LaTeX provides a command <code>&#x5c;oldstylenums</code><code>&#x7b;digits&#x7d;</code>, which
by default uses an old-style set embedded in Knuth&rsquo;s &lsquo;math italic&rsquo;
font.  The command is only sensitive to &lsquo;bold&rsquo; of the font style of
surrounding text: glyphs (for this command) are only available to
match the normal medium and bold (i.e., bold-extended) weights of the
Computer Modern Roman fonts.

<p>
The <i class="package">textcomp</i> package changes <code>&#x5c;oldstylenums</code> to use the
glyphs in the Text Companion fonts (LaTeX TS1 encoding) when
in text mode, and also makes them available using the macros of the
form <code>&#x5c;text<number>oldstyle</code>, e.g., <code>&#x5c;textzerooldstyle</code>.
(Of course, not all font families can provide this facility.)

<p>
Some font packages (e.g., <i class="package">mathpazo</i>) make old-style figures
available and provide explicit support for making them the default:
<code>&#x5c;usepackage</code><code>[osf]</code></code><code>&#x7b;mathpazo&#x7d;</code> selects a form where digits are
always old-style in text.  The <i class="package">fontinst</i> package will
automatically generate &ldquo;old-style versions&rdquo; of commercial Adobe Type
1 font families for which &ldquo;expert&rdquo; sets are available.

<p>
It&rsquo;s also possible to make virtual fonts, that offer old-style digits,
from existing font packages.  The <i class="fontname">cmolddig</i> bundle provides
a such a virtual version of Knuth&rsquo;s originals, and the <i class="fontname">eco</i>
or <i class="fontname">hfoldsty</i> bundles both provide versions of the EC
fonts.  The <i class="fontname">lm</i> family offers old-style figures to OpenType
users (see below), but we have no stable mapping for <i class="fontname">lm</i>
with old-style digits from the Adobe Type 1 versions of the fonts.

<p>
Originally, oldstyle figures were only to be found the expert sets of
commercial fonts, but now they are increasingly widely available.  An
example is Matthew Carter&rsquo;s Georgia font, which has old-style figures
as its normal form (the font was created for inclusion with certain
Microsoft products and is intended for on-screen viewing).

<p>
OpenType fonts have a pair of axes for number variations&nbsp;&mdash;
proportional/tabular and lining/oldstyle selections are commonly
available.  &ldquo;Full feature access&rdquo; to OpenType fonts, making such
options available to the (La)TeX user, is already supported by
<a href="FAQ-xetex.html">XeTeX</a> using, for example, the <i class="package">fontspec</i>
package.  Similar support is also in the works for
<a href="FAQ-luatex.html">LuaTeX</a>.
<dl>
<dt class="ctanref">boondox fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/boondox">boondox</a>
<dt class="ctanref">cmolddig fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cmolddig">cmolddig</a>
<dt class="ctanref">eco fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eco">eco</a>
<dt class="ctanref">fontinst</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontinst">fontinst</a>
<dt class="ctanref">fontspec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fontspec">fontspec</a>
<dt class="ctanref">mathpazo fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathpazo">mathpazo</a>
</dl>

<p class="lastedit">This answer last edited: 2013-12-04</p>


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-linmacnames][[[LBRACE]]]Non-letters in macro names[[[RBRACE]]]

<p>
New LaTeX users are often suprised that macro definitions
containing non-letters, such as
<blockquote>
<pre>
\newcommand{\cul8r}{Goodbye!}
</pre>
</blockquote>
fail to compile.  The reason is that the TeX macro language, unlike
most programming languages, allows 
<a href="FAQ-whatmacros.html">nothing but letters in macro names</a>.

<p>
There are a number of techniques for defining a macro with a name like
<code>&#x5c;cul8r</code>.  Unfortunately, none of the techniques is particularly
good:
<ol>
<li> Use <code>&#x5c;csname</code>&hellip;<code>&#x5c;endcsname</code> to define and invoke the
  macro:
<blockquote>

<pre>
\expandafter\newcommand
       \csname cul8r\endcsname{Goodbye!}
I said, ``\csname cul8r\endcsname''.
</pre>


<pre>
\expandafter\newcommand\csname cul8r\endcsname{Goodbye!}
I said, ``\csname cul8r\endcsname''.
</pre>

</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> No unexpected side effects
  <dt class="description">Con:</dt><dd> So verbose as to be unusable
  </dl>
<li> Define a &ldquo;special-command generator&rdquo;, and  use the resulting
  commands:
<blockquote>

<pre>
\newcommand{\DefineRemark}[2]{%
  \expandafter\newcommand
     \csname rmk-#1\endcsname{#2}%
}
\newcommand{\Remark}[1]{%
  \csname rmk-#1\endcsname%
}
...
\DefineRemark{cul8r}{Goodbye!}
...
I said, ``\Remark{cul8r}''.
</pre>


<pre>
\newcommand{\DefineRemark}[2]{%
  \expandafter\newcommand\csname rmk-#1\endcsname{#2}%
}
\newcommand{\Remark}[1]{\csname rmk-#1\endcsname}
...
\DefineRemark{cul8r}{Goodbye!}
...
\Remark{cul8r}
</pre>

</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> Straightforward to use, not too untidy
  <dt class="description">Con:</dt><dd> It&rsquo;s hardly doing what we set out to do (experts will
    see that you are defining a macro, but others likely won&rsquo;t)
  </dl>
<li> Convince TeX that &ldquo;<tt>8</tt>&rdquo; is a letter:
<blockquote>
<pre>
\catcode`8 = 11 
\newcommand{\cul8r}{Goodbye!}
I said, ``\cul8r''.
</pre>
</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> <code>&#x5c;cul8r</code> can be used directly
  <dt class="description">Con:</dt><dd> Likely to break other uses of &ldquo;<tt>8</tt>&rdquo; (such as
    numbers or dimensions; so
    <code>&#x5c;setlength</code><code>&#x7b;<code>&#x5c;paperwidth</code>&#x7d;</code></code><code>&#x7b;8in&#x7d;</code> tells us:
<blockquote>
<pre>
! Missing number, treated as zero.
<to be read again> 
                   8
</pre>
</blockquote>
  </dl>
  As a general rule, changing category codes is something to use
  <em>in extremis</em>, after detailed examination of options.  It is
  conceivable that such drastic action could be useful for you, but
  most ordinary users are well advised not even to try such a
  technique.
<li> Define a macro <code>&#x5c;cul</code> which must always be followed by
  &ldquo;<tt>8r</tt>&rdquo;:
<blockquote>
<pre>
\def\cul8r{Goodbye!}
I said, ``\cul8r''.
</pre>
</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> <code>&#x5c;cul8r</code> can be used directly
  <dt class="description">Con&nbsp;\#1:</dt><dd> Breaks if <code>&#x5c;cul</code> is followed by anything other
    than &ldquo;<tt>8r</tt>&rdquo;, with a confusing diagnostic&nbsp;&mdash;
    <code>&#x5c;cul99</code> produces:
<blockquote>

<pre>
! Use of \cul doesn't match its definition.
<*> \cul9
         9
</pre>


<pre>
! Use of \cul doesn't match its 
                           definition.
<*> \cul9
         9
</pre>

</blockquote>
    (which would confuse someone who hadn&rsquo;t even realised there
    <em>was</em> a definition of <code>&#x5c;cul</code> in the document).
  <dt class="description">Con&nbsp;\#2:</dt><dd> Silently redefines existing <code>&#x5c;cul</code>, if any;
    as a result, the technique cannot be used to define both a
    <code>&#x5c;cul8r</code> and, say, a <code>&#x5c;cul123</code> macro in the same
    document.
  </dl>
</ol>
Technique&nbsp;3 is in fact commonly used&nbsp;&mdash; in a limited form&nbsp;&mdash; within
most LaTeX packages and within LaTeX itself.  The convention is to
use &ldquo;<tt>@</tt>&rdquo; within the names of internal macros to hide them
from the user and thereby prevent naming conflicts.  To this end,
LaTeX automatically treats &ldquo;<tt>@</tt>&rdquo; as a letter while
processing classes and packages and as a non-letter while processing
the user&rsquo;s document.  The key to this technique is the separation:
internally a non-letter is used for macro names, and the user doesn&rsquo;t
see anything of it, while the status remains &ldquo;frozen&rdquo; in all the
definitions created within the class or package.  See 
<a class="FAquestion.html" href="FAQ-atsigns.html"><code>&#x5c;@</code> and <tt>@</tt> in macro names</a> for
more information.

<p>
Note that analogous use of technique&nbsp;3 in this example would give us
<blockquote>
<pre>
\begingroup
  \catcode`8 = 11 
  \gdef\cul8r{Goodbye!}
  \gdef\later{\cul8r}
\endgroup
I said, ``\later''.
</pre>
</blockquote>
which works, but rather defeats the object of the exercise.
(<code>&#x5c;later</code> has the &ldquo;frozen&rdquo; catcode for &lsquo;8&rsquo;, even though the value
has reverted to normal by the time it&rsquo;s used; note, also, the use of
the primitive command <code>&#x5c;gdef</code>, since <code>&#x5c;newcommand</code> can&rsquo;t make a
macro that&rsquo;s available outside the group.)

<p>
<em>Recommendation</em>: Either choose another mechanism (such as
<code>&#x5c;DefineRemark</code> above), or choose another name for your macro, one
that contains only ordinary letters.  A common approach is to use
roman numerals in place of arabic ones:
<blockquote>
<pre>
\newcommand{\culVIIIr}{Goodbye!}
</pre>
</blockquote>
which rather spoils the intent of the joke implicit in the example
<code>&#x5c;cul8r</code>!

<p class="lastedit">This answer last edited: 2009-06-03</p>

<p>
[[[Question]]][Q-repeat-num][[[LBRACE]]]Repeating a command <em>n</em> times[[[RBRACE]]]

<p>
TeX was <em>not</em> designed as a programming language, but there
are occasions when you want to repeat some part of your document, just
as parts of programs need to run several times.  An obvious
example is TeX-based drawing: LaTeX&rsquo;s <code class="environment">picture</code>
environment and <i class="package">pgf</i> (at least) provide repeat facilities&nbsp;&mdash;
they are useful for drawing repeating patterns.  As a result,
&ldquo;common&rdquo; programming techniques often have to be emulated using
obscure macro TeXniques.

<p>
This answer deals with repeating an operation a given number of times;
repeating operations once for each of a set of objects is dealt with
in the answer <a href="FAQ-repeat-set.html">repeating &ldquo;over a set&rdquo;</a>.

<p>
Plain TeX itself provides a <code>&#x5c;loop</code> &hellip; <code>&#x5c;repeat</code>
contruct, which enables you to repeat a command (or set of commands).
The syntax is simple enough, but it use of TeX conditionals is
different enough that many people find it confusing.
<blockquote>
<pre>
\newcount\foo
\foo=10
\loop
  \message{\the\foo}
  \advance \foo -1
\ifnum \foo>0
\repeat
</pre>
</blockquote>
In this slightly tricky code, <code>&#x5c;loop</code> starts the construct ended by
<code>&#x5c;repeat</code>, but <code>&#x5c;repeat</code> also &ldquo;serves as&rdquo; the <code>&#x5c;fi</code> to the
<code>&#x5c;ifnum</code>.  The loop above prints the numbers from 10 down to 1 via
TeX <code>&#x5c;message</code> (i.e., on the console output).

<p>
The <i class="package">multido</i> package is also &lsquo;generic&rsquo; (usable both in
Plain TeX and LaTeX); it defines a command <code>&#x5c;multido</code> with
three arguments:
<blockquote>
  
  <code>&#x5c;multido</code><code>&#x7b;&lsaquo;<i>variables</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>repetitions</i>&rsaquo;&#x7d;</code><code>&#x7b;&lsaquo;<i>stuff to repeat</i>&rsaquo;&#x7d;</code>
</blockquote>
When the macro is executing, the &lsaquo;<i>stuff to repeat</i>&rsaquo; gets executed
&lsaquo;<i>repetitions</i>&rsaquo; times; the &lsaquo;<i>variables</i>&rsaquo; gives a list of
variables that can be used in &lsaquo;<i>stuff</i>&rsaquo;.  Each variable is a
composite of a command sequence and how it varies; so a variable
&ldquo;<code>&#x5c;iz</code><tt>=2+4</tt>&rdquo; sets <code>&#x5c;iz</code> to <tt>2</tt> first time
around, then <tt>6</tt> and <tt>10</tt> in the next two iterations,
and so on.  (The variable <code>&#x5c;iz</code> is an integer; variables with other
initial letters represent different data types.)

<p>





Both current LaTeX and (experimental) LaTeX3 have iteration
commands for internal use and for package writers; their use is
probably not recommendable.

<p>
The LaTeX distribution package <i class="package">ifthen</i> offers the macro
<code>&#x5c;whiledo</code>:
<blockquote>
<pre>
\newcounter{ct}
...
\setcounter{ct}{1}
\whiledo {\value{ct} < 5}%
{%
  \thect\
  \stepcounter {ct}%
}
</pre>
</blockquote>

<p>
The <i class="package">forloop</i> package provides nothing but <code>&#x5c;forloop</code>:
<blockquote>
<pre>
\newcounter{ct}
...
\forloop{ct}{1}{\value{ct} < 5}%
{%
  \thect\
}
</pre>
</blockquote>
as you can see, the arguments are counter, starting value and
termination condition; an optional argument supplies a step value
(default step is 1).

<p>
The LaTeX <code class="environment">picture</code> environment has a simple command
for repeated drawing:
<blockquote>
<pre>
\multiput(x,y)(xstep,ystep){n}{obj}
</pre>
</blockquote>
which places &lsaquo;<i>obj</i>&rsaquo; (intended to be a bit of picture)
&lsaquo;<i>n</i>&rsaquo; times at positions (&lsaquo;<i>x</i>&rsaquo;, &lsaquo;<i>y</i>&rsaquo;),
(&lsaquo;<i>x</i>&rsaquo;+&lsaquo;<i>xstep</i>&rsaquo;, &lsaquo;<i>y</i>&rsaquo;+&lsaquo;<i>ystep</i>&rsaquo;),
(&lsaquo;<i>x</i>&rsaquo;+2&lsaquo;<i>xstep</i>&rsaquo;, &lsaquo;<i>y</i>&rsaquo;+2&lsaquo;<i>ystep</i>&rsaquo;) and so on, adding the
displacement again each time.  The command was designed for use in
<code class="environment">picture</code>, but it makes no check, and may even be used to
provide eccentric typesetting in a &ldquo;regular&rdquo; sentence, such as:
<blockquote>
<pre>
Here \multiput(0,0)(1,1){3}{we} are again.
</pre>
</blockquote>
with predictable (if not actually desirable) effect.  It may be used
with nothing but an iterative calculation in the braced argument, in
which case its graphical capabilities have no effect.

<p>
The <i class="package">pgffor</i> package, which is part of the 
<a href="FAQ-drawing.html"><i class="package">pgf</i> distribution</a>, also
provides iterations to support the needs of graphics.  Its syntax is
in the style of common programming languages:
<blockquote>
<pre>
\usepackage{pgffor}
\newcommand{\cmd}{-x-}
...
\foreach \n in {1,...,4}{\cmd{}}
</pre>
</blockquote>
typesets &ldquo;<tt>-x--x--x--x-</tt>&rdquo;

<p>
The <code>&#x5c;foreach</code> command has the potential drawback that its repeated
unit is executed in a group, so that any calculations done within the
loop are lost (unless their result is made <code>&#x5c;global</code>); however, it
does not &lsquo;build in&rsquo; its graphical origins (as <code>&#x5c;multiput</code> does) so
its potential outside its own graphics environment &ldquo;home&rdquo; is more
clear.












% <pre>
% \input repeat
% \newcount\foo
% \repeat
%   \for{foo} \from{1} \to{10} \do{x*}
% </pre>










% <pre>
% \repeat
%   \for{var}
%     \from{<start>} \by{<step>} \to{<end>}
%     \downto{<end>} \until{<cond>} \while{<cond>}
% \do{<operate on something>}
% </pre>





<p>







<dl>

<dt class="ctanref">forarray.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/forarray">forarray</a>
<dt class="ctanref">forloop.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/forloop">forloop</a>
<dt class="ctanref">ifthen.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a>
<dt class="ctanref">multido.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/multido">multido</a>
<dt class="ctanref">pgffor.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>

</dl>

<p class="lastedit">This answer last edited: 2013-03-01</p>

<p>
[[[Question]]][Q-repeat-set][[[LBRACE]]]Repeating something for each &lsquo;thing&rsquo; in a set[[[RBRACE]]]

<p>
As another question 
(<a href="FAQ-repeat-num.html">repeating something a given number of times</a>)
explains, TeX is not explicitly designed for &lsquo;regular&rsquo; programming
operations. As a result, we must resort to arcane tricks to do the
seemingly simple task of repeating an operation.  This answer deals
with repeating an operation for each of a given set of objects.

<p>
The <i class="package">etoolbox</i> package provides iteration over a
comma-separated list of items, in its <code>&#x5c;docsvlist</code> and
<code>&#x5c;forcsvlist</code> commands; they are well-described in the package
documentation.  The <i class="package">datatool</i> package manages &ldquo;databases&rdquo;
(of its own definition) and you may iterate over entries in such a
database using the command <code>&#x5c;DTLforeach</code>.

<p>
The <i class="package">forarray</i> package defines its own &ldquo;list&rdquo; and &ldquo;array&rdquo;
structures, together with commands <code>&#x5c;ForEach</code> and <code>&#x5c;ForArray</code>
which enable a command to be executed for each element in a list or
array, respectively.

<p>
The <i class="package">dowith</i> defines a pair of macros <code>&#x5c;DoWith</code> and
<code>&#x5c;StopDoing</code> that process each &ldquo;thing&rdquo; between them; a trivial
example of use is:
<blockquote>
<pre>
\usepackage{dowith}
...
\begin{document}
\newcommand{\foo}[1]{\message{#1+}
\DoWith\foo a{BBB}c\StopDoing
</pre>
</blockquote>
which produces terminal output:
<blockquote>
<pre>
a+ BBB+ c+
</pre>
</blockquote>
so, the macros have found 3 &ldquo;things&rdquo;, including one with braces
around it.  (The interpolated spaces come from the primitive
<code>&#x5c;message</code> command.)

<p>
The only constraint is that all commands in the enclosed stuff are
&ldquo;expandable&rdquo; (which means, for example, that you may not use
commands with optional arguments).

<p>
From the same stable (as <i class="package">dowith</i>) comes the package
<i class="package">commado</i>, that provides commands <code>&#x5c;DoWithCSL</code> (apply a
command to each element of a comma-separated-variable list) and
<code>&#x5c;DoWithBasesExts</code> (apply a command to each of a set of files,
defined by base name and &ldquo;extension&rdquo;).  Use of these <code>&#x5c;DoWith*</code>
macros is also expandable (if the command applied to the list elements
is itself expandable).
<dl>
<dt class="ctanref">commado.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/commado">commado</a>
<dt class="ctanref">datatool.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/datatool">datatool</a>
<dt class="ctanref">dowith.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dowith">dowith</a>
<dt class="ctanref">etoolbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etoolbox">etoolbox</a>
<dt class="ctanref">filesdo.sty</dt><dd>Distributed with <a class="ctan" href="https://www.ctan.org/pkg/commado">commado</a>
</dl>

<p class="lastedit">This answer last edited: 2013-02-20</p>

<p>



<p>
[[[Question]]][Q-findwidth][[[LBRACE]]]Finding the width of a letter, word, or phrase[[[RBRACE]]]

<p>
Put the word in a box, and measure the width of the box. For example,
<blockquote>
<pre>
\newdimen\stringwidth
\setbox0=\hbox{hi}
\stringwidth=\wd0
</pre>
</blockquote>
Note that if the quantity in the <code>&#x5c;hbox</code> is a phrase, the actual
measurement only approximates the width that the phrase will occupy in
running text, since the inter-word glue can be adjusted in paragraph
mode.

<p>
The same sort of thing is expressed in LaTeX by:
<blockquote>
<pre>
\newlength{\gnat}
\settowidth{\gnat}{\textbf{small}}
</pre>
</blockquote>
This sets the value of the length command <code class="verb">&#x5c;gnat</code> to the width of &ldquo;small&rdquo;
in bold-face text.

<p>
[[[Question]]][Q-patch][[[LBRACE]]]Patching existing commands[[[RBRACE]]]

<p>
In the general case (possibly sticking something in the middle of an
existing command) this is difficult.  However, the common requirement,
to add some code at the beginning or the end of an existing command,
is conceptually quite easy.  Suppose we want to define a version of a
command that does some small extension of its original definition: we
would naturally write:
<blockquote>
<pre>
\renewcommand{\splat}{\mumble\splat}
</pre>
</blockquote>
However, this would not work: a call to <code>&#x5c;splat</code> would execute
<code>&#x5c;mumble</code>, and then call the redefined <code>&#x5c;splat</code> again; this is an
&lsquo;unterminated recursion&rsquo;, that will quickly exhaust TeX&rsquo;s memory.

<p>
Fortunately, the TeX primitive <code>&#x5c;let</code> command comes to our
rescue; it allows us to take a &ldquo;snapshot&rdquo; of the current state of a
command, which we can then use in the redefinition of the command.
So:
<blockquote>
<pre>
\let\OldSmooth\smooth
\renewcommand{\smooth}{\mumble\OldSmooth}
</pre>
</blockquote>
effects the required patch, safely.  Adding things at the end of a
command works similarly.

<p>
If <code>&#x5c;smooth</code> takes arguments, one must pass them on:
<blockquote>

<pre>
\let\OldSmooth\smooth
\renewcommand{\smooth}[2]{\mumble\OldSmooth{#1}{#2}}
</pre>


<pre>
\let\OldSmooth\smooth
\renewcommand{\smooth}[2]%
             {\mumble\OldSmooth{#1}{#2}}
</pre>

</blockquote>

<p>
The situation is more difficult still if <code>&#x5c;smooth</code> takes an
optional argument; the structure of the command is so complex that the
simple <code>&#x5c;let</code> command does not retain the necessary detail.  In
this case, we need the <i class="package">letltxmacro</i> package which knows about all
sorts of LaTeX commands and how to replicate them.  Suppose we have
a command defined as:
<blockquote>
<pre>
\newcommand{\rough}[1][\default]{...}
</pre>
</blockquote>
with an optional argument (substituted with <code>&#x5c;default</code> if it&rsquo;s not
present) as well as an ordinary one.  In this case we copy it using
<blockquote>
<pre>
\LetLtxMacro{\NewRough}{\rough}
</pre>
</blockquote>
and then repeat the technique we had above, with one extension:
<blockquote>
<pre>
\renewcommand{\rough}[1][\newdef]%
             {\mumble\OldRough[{#1}]{#2}}
</pre>
</blockquote>
We see here that (for tedious argument-matching reasons) it is
necessary to provide braces arround the optional argument that is
being passed on.

<p>
The general case may be achieved in two ways.  First, one can use the
LaTeX command <code>&#x5c;CheckCommand</code>; this compares an existing command
with the definition you give it, and issues a warning if two don&rsquo;t
match.  Use is therefore:
<blockquote>
  <code class="verb">&#x5c;CheckCommand&#x7b;&#x5c;complex&#x7d;&#x7b;</code>&lsaquo;<i>original definition</i>&rsaquo;<code class="verb">&#x7d;</code><br>
  <code class="verb">&#x5c;renewcommand&#x7b;&#x5c;complex&#x7d;&#x7b;</code>&lsaquo;<i>new definition</i>&rsaquo;<code class="verb">&#x7d;</code>
</blockquote>
This technique is obviously somewhat laborious, but if the original
command comes from a source that&rsquo;s liable to change under the control
of someone else, it does at least warn you that your patch is in
danger of going wrong.

<p>
Otherwise, LaTeX users may use one of the <i class="package">patchcmd</i>,
<i class="package">ted</i> or <i class="package">etoolbox</i> packages.

<p>
The <i class="package">patchcmd</i> package addresses a slightly simpler task, by
restricting the set of commands that you may patch; you mayn&rsquo;t patch
any command that has an optional argument, though it does deal with
the case of commands defined with <code>&#x5c;DeclareRobustCommand</code>.  The
package defines a <code>&#x5c;patchcommand</code> command, that takes three
arguments: the command to patch, stuff to stick at the front of its
definition, and stuff to stick on the end of its definition.  So,
after
<blockquote>
<pre>
\def\b{b}
\patchcmd\b{a}{c}
</pre>
</blockquote>
we will have a new version of <code>&#x5c;b</code> defined as &ldquo;<tt>abc</tt>&rdquo;.

<p>
The <i class="package">ted</i> package is a &lsquo;token list editor&rsquo;, and provides a
command <code>&#x5c;substitute</code> which will patch the
contents of a macro, putting the result in a token-list, or
(in the form <code>&#x5c;Substitute*</code>) using the result to (re)define a
macro.  The following example defines a simple macro, and then changes
its definition:
<blockquote>
<pre>
\newcommand{\myfont}%
    {\Large\sffamily\selectfont}
\Substitute*[\renewcommand{\myfont}]{\myfont}%
    {\Large\sffamily}{\huge\itshape}
</pre>
</blockquote>
The macro&rsquo;s definition is now:
<blockquote>
<pre>
\huge\itshape\selectfont
</pre>
</blockquote>

<p>
The package also offers a command <code>&#x5c;ShowTokens</code>, which shows the
content of its argument, one token to a line, with details of the
token&rsquo;s category code, etc.  This is recommended as a debugging tool.

<p>
The <i class="package">etoolbox</i> package (which provides user access to e-TeX&rsquo;s
programming facilities) provides a command <code>&#x5c;patchcmd</code> which is
very similar to <code>&#x5c;Substitute</code>, except that it only replaces a
single instance of the token(s) in its search pattern.  Since not all
commands may be patched in this way, <code>&#x5c;patchcmd</code> takes extra
arguments for <em>success</em> and <em>failure</em> cases.  The
package also provides commands that prepend (<code>&#x5c;pretocmd</code>) or append
(<code>&#x5c;apptocmd</code>) to the definition of a command.  Not all commands may
be patched in this way; the package provides a command
<code>&#x5c;ifpatchable</code> which checks the prerequisites, and checks that the
target command&rsquo;s body does indeed include the patch string you propose
to use.  (The command <code>&#x5c;ifpatchable*</code> omits the test on the patch
string.)

<p>
The <i class="package">regexpatch</i> package deals with cases that are
inaccessible with <i class="package">etoolbox</i>; it uses the regular expression
(pattern-matching) package <i class="package">l3regex</i> from the LaTeX3
distribution to find the code you need to patch.  The package also
&ldquo;knows about&rdquo; robust commands and about
<a href="FAQ-biblatex.html"><i class="package">biblatex</i></a>.

<p>
Finally, we&rsquo;ll briefly consider a package that is (just about)
usable, but not really recommendable.  <i class="package">Patch</i> gives you an
ingenious (and difficult to understand) mechanism, and comes as an
old-style LaTeX documented macro file, which can no longer be
processed to <a href="FAQ-install-doc.html">produce formatted documentation, etc.</a>.
Fortunately, the file (<i class="filename">patch.doc</i>) may be input directly, and
&ldquo;documentation&rdquo; may found by reading the source of the package.
Roughly speaking, one gives the command a set of instructions
analogous to <i class="progname">sed</i> substitutions, and it regenerates the
command thus amended.  Unless you can&rsquo;t do your job any other way,
<i class="package">patch</i> is best avoided.
<dl>
<dt class="ctanref">etoolbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etoolbox">etoolbox</a>
<dt class="ctanref">l3regex.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/l3regex">l3experimental</a>
<dt class="ctanref">letltxmacro.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/letltxmacro">oberdiek</a>
<dt class="ctanref">patch.doc</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/patch">patch</a>
<dt class="ctanref">patchcommand.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/patchcmd">patchcmd</a>
<dt class="ctanref">regexpatch.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/regexpatch">regexpatch</a>
<dt class="ctanref">ted.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ted">ted</a>
</dl>

<p class="lastedit">This answer last edited: 2012-12-21</p>

<p>
[[[Question]]][Q-compjobnam][[[LBRACE]]]Comparing the &ldquo;job name&rdquo;[[[RBRACE]]]

<p>
The token <code>&#x5c;jobname</code> amusingly produces a sequence of characters
whose category code is 12 (&lsquo;other&rsquo;), regardless of what the characters
actually are.  Since one inevitably has to compare a macro with the
contents of another macro (using <code>&#x5c;ifx</code>, somewhere) one needs to
create a macro whose expansion looks the same as the expansion of
<code>&#x5c;jobname</code>.  We find we can do this with <code>&#x5c;meaning</code>, if we strip
the &ldquo;<code>&#x5c;show</code> command&rdquo; prefix.

<p>
The full command looks like:
<blockquote>

<pre>
\def\StripPrefix#1>{}
\def\jobis#1{FF\fi
  \def\predicate{#1}%
  \edef\predicate{\expandafter\StripPrefix\meaning\predicate}%
  \edef\job{\jobname}%
  \ifx\job\predicate
}
</pre>


<pre>
\def\StripPrefix#1>{}
\def\jobis#1{FF\fi
  \def\predicate{#1}%
  \edef\predicate{\expandafter\StripPrefix
                    \meaning\predicate}%
  \edef\job{\jobname}%
  \ifx\job\predicate
}
</pre>

</blockquote>
And it&rsquo;s used as:
<blockquote>
<pre>
\if\jobis{mainfile}%
  \message{YES}%
\else
  \message{NO}%
\fi
</pre>
</blockquote>
Note that the command <code>&#x5c;StripPrefix</code> need not be defined if you&rsquo;re
using LaTeX&nbsp;&mdash; there&rsquo;s already an 
<a href="FAQ-atsigns.html">internal command</a> <code>&#x5c;strip@prefix</code> that you can
use.

<p>
[[[Question]]][Q-isitanum][[[LBRACE]]]Is the argument a number?[[[RBRACE]]]

<p>
TeX&rsquo;s own lexical analysis doesn&rsquo;t offer the macro programmer
terribly much support: while category codes will distinguish letters
(or what TeX currently thinks of as letters) from everything else,
there&rsquo;s no support for analysing numbers.

<p>
The simple-minded solution is to compare numeric characters with the
characters of the argument, one by one, by a sequence of direct tests,
and to declare the argument &ldquo;not a number&rdquo; if any character fails
all comparisons:
<blockquote>
<pre>
\ifx1#1
\else\ifx2#1
...
\else\ifx9#1
\else\isanumfalse
\fi\fi...\fi
</pre>
</blockquote>
which one would then use in a tail-recursing macro to gobble an
argument.  One could do slightly better by assuming (pretty safely)
that the digits&rsquo; character codes are consecutive:
<blockquote>
<pre>
\ifnum`#1<`0 \isanumfalse
\else\ifnum`#1>`9 \isanumfalse
     \fi
\fi
</pre>
</blockquote>
again used in tail-recursion.  However, these forms aren&rsquo;t very
satisfactory: getting the recursion &ldquo;right&rdquo; is troublesome (it has a
tendency to gobble spaces in the argument), and in any case TeX
itself has mechanisms for reading numbers, and it would be nice to use
them.

<p>
Donald Arseneau&rsquo;s <i class="package">cite</i> package offers the following test
for an argument being a strictly positive integer:
<blockquote>
<pre>
\def\IsPositive#1{%
  TT\fi
  \ifcat_\ifnum0<0#1 _\else A\fi
}
</pre>
</blockquote>
which can be adapted to a test for a non-negative integer thus:
<blockquote>
<pre>
\def\IsNonNegative{%
  \ifcat_\ifnum9<1#1 _\else A\fi
}
</pre>
</blockquote>
or a test for any integer:
<blockquote>
<pre>
\def\gobbleminus#1{\ifx-#1\else#1\fi}
\def\IsInteger#1{%
  TT\fi
  \ifcat_\ifnum9<1\gobbleminus#1 _\else A\fi
}
</pre>
</blockquote>
but this surely stretches the technique further than is reasonable.

<p>
If we don&rsquo;t care about the sign, we can use TeX to remove the
entire number (sign and all) from the input stream, and then look at
what&rsquo;s left:
<blockquote>

<pre>
\def\testnum#1{\afterassignment\testresult
               \count255=0#1 \end}
\def\testresult#1\end{\ifx\end#1\end}
</pre>


<pre>
\def\testnum#1{\afterassignment\testresult\count255=0#1 \end}
\def\testresult#1\end{\ifx\end#1\end\isanumtrue\else\isanumfalse\fi}
</pre>

</blockquote>
(which technique is due to David Kastrup; the trick for avoiding the
errors, noted in an earlier version of this answer, was suggested by
Andreas Matthias).
In a later thread on the same topic, Michael Downes offered:
<blockquote>

<pre>
\def\IsInteger#1{%
  TT\fi
  \begingroup \lccode`\-=`\0 \lccode`+=`\0
    \lccode`\1=`\0 \lccode`\2=`\0 \lccode`\3=`\0
    \lccode`\4=`\0 \lccode`\5=`\0 \lccode`\6=`\0
    \lccode`\7=`\0 \lccode`\8=`\0 \lccode`\9=`\0
  \lowercase{\endgroup
    \expandafter\ifx\expandafter\delimiter
    \romannumeral0\string#1}\delimiter
}
</pre>


<pre>
\def\IsInteger#1{%
  TT\fi
  \begingroup \lccode`\-=`\0 \lccode`+=`\0
    \lccode`\1=`\0 \lccode`\2=`\0
    \lccode`\3=`\0 \lccode`\4=`\0
    \lccode`\5=`\0 \lccode`\6=`\0
    \lccode`\7=`\0 \lccode`\8=`\0
    \lccode`\9=`\0
  \lowercase{\endgroup
    \expandafter\ifx\expandafter\delimiter
    \romannumeral0\string#1}\delimiter
}
</pre>

</blockquote>
which relies on <code>&#x5c;romannumeral</code> producing an empty result if its
argument is zero.  Sadly, this technique has the unfortunate property
that it accepts simple expressions such as &lsquo;<tt>1+2-3</tt>&rsquo;; this
could be solved by an initial <code>&#x5c;gobbleminus</code>-like construction.

<p>
All the complete functions above are designed to be used in TeX
conditionals written &ldquo;naturally&rdquo;&nbsp;&mdash; for example:
<blockquote>
<pre>
\if\IsInteger{<subject of test>}%
  <deal with integer>%
\else
  <deal with non-integer>%
\fi
</pre>
</blockquote>
The LaTeX <i class="class">memoir</i> class has an internal command of its own,
<code>&#x5c;checkifinteger</code><code>&#x7b;num&#x7d;</code>, that sets the conditional command
<code>&#x5c;ifinteger</code> according to whether the argument was an integer.

<p>
Of course, all this kerfuffle would be (essentially) void if there was
a simple means of &ldquo;catching&rdquo; TeX errors.  Imagining an
error-catching primitive <code>&#x5c;ifnoerror</code>, one might write:
<blockquote>
<pre>
\def\IsInteger#1{%
  TT%
  \ifnoerror
    \tempcount=#1\relax
% carries on if no error
    \expandafter\iftrue
  \else
% here if there was an error
    \expandafter\iffalse
  \fi
}
</pre>
</blockquote>
thus using TeX&rsquo;s own integer-parsing code to do the check.  It&rsquo;s a
pity that such a mechanism was never defined (it could be that it&rsquo;s
impossible to program within TeX!).
<dl>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-hash][[[LBRACE]]]Defining macros within macros[[[RBRACE]]]

<p>
The way to think of this is that <code class="verb">##</code> gets replaced by <code class="verb">#</code> in just the
same way that <code class="verb">#1</code> gets replaced by &lsquo;whatever is the first argument&rsquo;.

<p>
So if you define a macro:
<blockquote>
<pre>
\newcommand\a[1]{+#1+#1+#1+}
</pre>
</blockquote>
or (using the TeX primitive <code>&#x5c;def</code>):
<blockquote>
<pre>
\def\a#1{+#1+#1+#1+}
</pre>
</blockquote>
and use it as <code>&#x5c;a</code><code>&#x7b;b&#x7d;</code>,
the macro expansion produces &lsquo;+b+b+b+&rsquo;,
as most people would expect.

<p>
However, if we now replace part of the macro:
<blockquote>

<pre>
\newcommand\a[1]{+#1+%
                 \newcommand\x[1]{xxx#1}}
</pre>


<pre>
\newcommand\a[1]{+#1+\newcommand\x[1]{xxx#1}}
</pre>

</blockquote>
then <code>&#x5c;a</code><code>&#x7b;b&#x7d;</code> will give us the rather odd
<blockquote>
  +b+<code>&#x5c;newcommand</code><code>&#x7b;x&#x7d;</code><code>[1]</code></code><code>&#x7b;xxxb&#x7d;</code>
</blockquote>
so that the new <code>&#x5c;x</code> ignores its argument.

<p>
If we use the TeX primitive: 
<blockquote>
<pre>
\def\a#1{+#1+\def\x #1{xxx#1}}
</pre>
</blockquote>
<code>&#x5c;a</code><code>&#x7b;b&#x7d;</code> will expand to &lsquo;+b+<code class="verb">&#x5c;def&#x5c;x b&#7b;xxxb&#x7d;</code>&rsquo;.  This
defines <code>&#x5c;x</code> to be a macro <em>delimited</em> by <code class="verb">b</code>, and taking no
arguments, which is surely not what was intended!

<p>
Actually, to define <code>&#x5c;x</code> to take an argument, we need
<blockquote>

<pre>
\newcommand\a[1]{+#1+%
                 \newcommand\x[1]{xxx##1}}
</pre>


<pre>
\newcommand\a[1]{+#1+\newcommand\x[1]{xxx##1}}
</pre>

</blockquote>
or, using the TeX primitive definition:
<blockquote>
<pre>
\def\a#1{+#1+\def\x ##1{xxx##1}}
</pre>
</blockquote>
and <code>&#x5c;a</code><code>&#x7b;b&#x7d;</code> will expand to 
<blockquote>
  +b+<code class="verb">&#x5c;def&#x5c;x #1&#x7b;xxx#1&#x7d;</code>
</blockquote>
because <code class="verb">#1</code> gets replaced by &lsquo;b&rsquo;
and <code class="verb">##</code> gets replaced by <code class="verb">#</code>.

<p>
To nest a definition inside a definition inside a definition then you
need <code class="verb">####1</code>, doubling the number of <code class="verb">#</code> signs; and at the next level
you need 8&nbsp;<code class="verb">#</code>s each time, and so on.

<p>
[[[Question]]][Q-spinmacro][[[LBRACE]]]Spaces in macros[[[RBRACE]]]

<p>
It&rsquo;s very easy to write macros that produce space in the typeset
output where it&rsquo;s neither desired nor expected.  Spaces introduced by
macros are particularly insidious because they don&rsquo;t amalgamate with
spaces around the macro (unlike consecutive spaces that you
type), so your output can have a single bloated space that proves
to be made up of two or even more spaces that haven&rsquo;t amalgamated.
And of course, your output can also have a space where none was wanted
at all.

<p>
Spaces are produced, inside a macro as elsewhere, by space or tab
characters, or by end-of-line characters.  There are two basic rules
to remember when writing a macro: first, the rules for ignoring spaces
when you&rsquo;re typing macros are just the same as the rules that apply
when you&rsquo;re typing ordinary text, and second, rules for ignoring
spaces do <em>not</em> apply to spaces produced while a macro is being
obeyed (&ldquo;expanded&rdquo;).

<p>
Spaces are ignored in vertical mode (between paragraphs), at the
beginning of a line, and after a command name.  Since sequences of
spaces are collapsed into one, it &lsquo;feels as if&rsquo; spaces are ignored if
they follow another space.  Space can have syntactic meaning after
certain sorts of non-braced arguments (e.g., <em>count</em> and
<em>dimen</em> variable assignments in Plain TeX) and after certain
control words (e.g., in <code>&#x5c;hbox</code> <code class="verb">to</code>, so again we have instances
where it &lsquo;feels as if&rsquo; spaces are being ignored when they&rsquo;re merely
working quietly for their living.

<p>
Consider the following macro, fairly faithfully adapted from one that
appeared on <i class="newsgroup">comp.text.tex</i>:


<pre>
\newcommand{\stline}[1]
  { \bigskip \makebox[2cm]{ \textbf{#1} } }
</pre>







<blockquote>
<pre>
\newcommand{\stline}[1]{ \bigskip \makebox[2cm]{ \textbf{#1} } }
</pre>
</blockquote>

The macro definition contains five spaces:
<ul>
<li> after the opening <code class="verb">&#x7b;</code> of the macro body; this space will be
  ignored, not because &ldquo;because the macro appears at the start of a
  line&rdquo;, but rather because the macro was designed to operate between
  paragraphs
<li> after <code>&#x5c;bigskip</code>; this space will be ignored (while the macro
  is being defined) because it follows a command name
<li> after the <code class="verb">&#x7b;</code> of the mandatory argument of <code>&#x5c;makebox</code>; even
  though this space will inevitably appear at the start of an output
  line, it will <em>not</em> be ignored
<li> after the <code class="verb">&#x7d;</code> closing the argument of <code>&#x5c;textbf</code>; this space
  will not be ignored, but may be overlooked if the argument is well
  within the <code class="verb">2cm</code> allowed for it
<li> after the <code class="verb">&#x7d;</code> closing the mandatory argument of <code>&#x5c;makebox</code>;
  this space will not be ignored
</ul>
The original author of the macro had been concerned that the starts of
his lines with this macro in them were not at the left margin, and
that the text appearing after the macro wasn&rsquo;t always properly
aligned.  These problems arose from the space at the start of the
mandatory argument of <code>&#x5c;makebox</code> and the space immediately after the
same argument.  He had written his macro in that way to emphasise the
meaning of its various parts; unfortunately the meaning was rather
lost in the problems the macro caused.

<p>
The principal technique for suppressing spaces is the use of
<tt>&#x25;</tt> characters: everything after a
<tt>&#x25;</tt> is ignored, even the end of line itself (so
that not even the end of line can contribute an unwanted space).  The
secondary technique is to ensure that the end of line is preceded by a
command name (since the end of line behaves like a space, it will be
ignored following a command name).  Thus the above command would be
written (by an experienced programmer with a similar eye to
emphasising the structure):
<blockquote>
<pre>
\newcommand{\stline}[1]{%
  \bigskip
  \makebox[2cm]{%
    \textbf{#1}\relax
  }%
}
</pre>
</blockquote>
Care has been taken to ensure that every space in the revised
definition is ignored, so none appears in the output.  The revised
definition takes the &ldquo;belt and braces&rdquo; approach, explicitly dealing
with every line ending (although, as noted above, a space introduced
at the end of the first line of the macro would have been ignored in
actual use of the macro.  This is the best technique, in fact&nbsp;&mdash; it&rsquo;s
easier to blindly suppress spaces than to analyse at every point
whether you actually need to.  Three techniques were used to suppress
spaces:
<ul>
<li> placing a <tt>&#x25;</tt> character at the end of a line
  (as in the 1st, 3rd and 5th lines),
<li> ending a line &lsquo;naturally&rsquo; with a control sequence, as in line 2,
  and
<li> ending a line with an &lsquo;artificial&rsquo; control sequence, as in line
  4; the control sequence in this case (<code>&#x5c;relax</code>) is a no-op in many
  circumstances (as here), but this usage is deprecated&nbsp;&mdash; a
  <tt>&#x25;</tt> character would have been better.
</ul>
Beware of the (common) temptation to place a space <em>before</em> a
<tt>&#x25;</tt> character: if you do this you might as well omit
the <tt>&#x25;</tt> altogether.

<p>
In &ldquo;real life&rdquo;, of course, the spaces that appear in macros are far
more cryptic than those in the example above.  The most common spaces
arise from unprotected line ends, and this is an error that
occasionally appears even in macros written by the most accomplished
programmers.

<p>
[[[Question]]][Q-moren9][[[LBRACE]]]How to break the 9-argument limit[[[RBRACE]]]

<p>
If you think about it, you will realise that Knuth&rsquo;s command
definition syntax:
<blockquote>
<pre>
\def\blah#1#2 ... #9{<macro body>}
</pre>
</blockquote>
is intrinsically limited to just 9 arguments.  There&rsquo;s no direct way
round this: how would you express a 10th argument?&nbsp;&mdash; and ensure that
the syntax didn&rsquo;t gobble some other valid usage?

<p>
If you really must have more than 9 arguments, the way to go is:
<blockquote>
<pre>
\def\blah#1#2 ... #9{%
  \def\ArgI{{#1}}%
  \def\ArgII{{#2}}%
  ...
  \def\ArgIX{{#9}}%
  \BlahRelay
}
\def\BlahRelay#1#2#3{%
  % arguments 1-9 are now in
  %   \ArgI-\ArgIX
  % arguments 10-12 are in
  %   #1-#3
  <macro body>%
}
</pre>
</blockquote>
This technique is easily extendible by concert pianists of the TeX
keyboard, but is really hard to recommend.

<p>
LaTeX users have the small convenience of merely giving a number of
arguments in the <code>&#x5c;newcommand</code> that defines each part of the
relaying mechanism: Knuth&rsquo;s restriction applies to <code>&#x5c;newcommand</code>
just as it does to <code>&#x5c;def</code>.  However, LaTeX users also have the
way out of such barbarous command syntax: the <i class="package">keyval</i>
package.  With <i class="package">keyval</i>, and a bit of programming, one can
write really quite sophisticated commands, whose invocation might look
like:
<blockquote>
<pre>
\flowerinstance{species=Primula veris,
  family=Primulaceae,
  location=Coldham's Common,
  locationtype=Common grazing land,
  date=1995/04/24,
  numplants=50,
  soiltype=alkaline
}
</pre>
</blockquote>
The merit of such verbosity is that it is self-explanatory: the typist
doesn&rsquo;t have to remember that argument twelve is <code class="verb">soiltype</code>, and so
on: the commands may be copied from field notes quickly and
accurately.
<dl>
<dt class="ctanref">keyval.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/keyval">graphics</a>
</dl>

<p>
        * faq-mac-prog.tex (q-keyval): tweak words about getoptk

<p>
[[[Question]]][Q-keyval][[[LBRACE]]]Key-value input for macros and package options[[[RBRACE]]]

<p>
When we discussed 
<a href="FAQ-moren9.html">extending the number of arguments to a macro</a>, we
suggested that large numbers of arguments, distinguished only by their
position, aren&rsquo;t very kind to the user, and that a package such as
<i class="package">keyval</i> offers a more attractive user interface.  We now
consider the packages that the macro programmer might use, to create
such a user interface.

<p>
The simplest key-value processor (for LaTeX, at least) remains
<i class="package">keyval</i>; it has a command <code>&#x5c;define@key</code> to declare a key
and a <em>handler</em> to process it, and a macro <code>&#x5c;setkeys</code> to offer
values to the handler of one or more keys.  Thus:
<blockquote>
<pre>
\define@key{my}{foo}{Foo is #1\par}
\define@key{my}{bar}[99]{Bar is #1\par}
...
\setkeys{my}{foo=3,bar}
</pre>
</blockquote>
will produce output saying:
<blockquote>
  Foo is 3
<p>
  Bar is 99
</blockquote>
This has defined two keys &lsquo;<tt>foo</tt>&rsquo; and &lsquo;<tt>bar</tt>&rsquo; in family
&lsquo;<tt>my</tt>&rsquo;, and then executed them, the first with argument
&lsquo;<tt>3</tt>&rsquo; and the second with no argument, so that the default
value of &lsquo;<tt>99</tt>&rsquo; is picked up.  In effect, the two calls to
<code>&#x5c;define@key</code> are simply defining commands, as (for example):
<blockquote>
<pre>
\newcommand{\KV@my@foo}[1]{Foo is #1}
</pre>
</blockquote>
(the definition of <code>&#x5c;KV@my@bar</code> is similar, but trickier).  The
command <code>&#x5c;setkeys</code> knows how to find those commands when it needs to
process each key&nbsp;&mdash; it is easy to regurgitate the structure of the
command name, with family name (&lsquo;<tt>my</tt>&rsquo;, here) after the first
&lsquo;<tt>@</tt>&rsquo;, and the key name after the second &lsquo;<tt>@</tt>&rsquo;.  (The
&lsquo;<tt>KV</tt>&rsquo; part is fixed, in <i class="package">keyval</i>.)

<p>
These simple commands are enough, in fact, to process the botanical
example offered as replacement for multi-argument commands in 
<a class="FAquestion.html" href="FAQ-moren9.html">the question mentioned above</a>, or the
optional arguments of the <code>&#x5c;includegraphics</code> command of the
<i class="package">graphicx</i> package.  (The last is, in fact, what
<i class="package">keyval</i> was designed to do.)

<p>
However, we need more if we&rsquo;re to to have package options in
&lsquo;key-value&rsquo; form.  Packages like <i class="package">hyperref</i> have enormously
complicated package options which need key-value processing at
<code>&#x5c;ProcessOptions</code> time: <i class="package">keyval</i> can&rsquo;t do that on its own.

<p>
Heiko Oberdiek&rsquo;s <i class="package">kvoptions</i> package comes to our help: it
enables the programmer to declare class or package options that
operate as key and value pairs.  The package defines commands
<code>&#x5c;DeclareBoolOption</code> for options whose value should be either
<em>true</em> or <em>false</em>, and <code>&#x5c;DeclareStringOption</code> for all
other options that have a value.  Keys are declared using
<i class="package">keyval</i> and may remain available for use within the document,
or may be &lsquo;cancelled&rsquo; to avoid confusion.  If you have loaded
<i class="package">kvoptions</i>, the LaTeX kernel&rsquo;s <code>&#x5c;DeclareOption</code> becomes
<code>&#x5c;DeclareVoidOption</code> (it&rsquo;s an option with no value), and
<code>&#x5c;DeclareOption*</code> becomes <code>&#x5c;DeclareDefaultOption</code>.

<p>
Heiko also provides <i class="package">kvsetkeys</i> which is a more robust version
of <i class="package">setkeys</i>, with some of the rough edges made smoother.

<p>
Hendri Adriaens&rsquo; <i class="package">xkeyval</i> offers more flexibility than
the original <i class="package">keyval</i> and is more robust than the original,
too.  Like <i class="package">kvoptions</i>, the package also has mechanisms to
allow class and package options in key-value form (macros
<code>&#x5c;DeclareOptionX</code>, <code>&#x5c;ExecuteOptionsX</code> and <code>&#x5c;ProcessOptionsX</code>.
<i class="package">Pstricks</i> bundle packages use a <i class="package">xkeyval</i> derivative
called <i class="package">pst-xkey</i> for their own key-value manipulation.


<p>
The (widely-respected) <i class="package">pgf</i> graphics package has its own
key-value package called <i class="package">pgfkeys</i>.  The documentation of the
package (part of the huge <i class="package">pgf</i> manual, in part 5,
&ldquo;utilities&rdquo;) contains a useful comparison with other key-value
systems; some notable differences are:
<ul>
<li> key organisation: <i class="package">pgfkeys</i> uses a tree structure, while
  <i class="package">keyval</i> and <i class="package">xkeyval</i> both associate keys with a family;
<li> <i class="package">pgfkeys</i> supports multi-argument key code; and
<li> <i class="package">pgfkeys</i> can support call-backs when an unknown key
  appears (these things are called <em>handlers</em>.
</ul>
Keys are organized in a tree that is reminiscent of the Unix fille
tree.  A typical key might be, <i class="filename">/tikz/coordinate system/x</i> or
just <i class="filename">/x</i>.  When you specify keys you can provide the complete
path of the key, but you usually just provide the name of the key
(corresponding to the file name without any path) and the path is
added automatically.  So a <code>&#x5c;pgfkeys</code> command might be:

<blockquote>
<pre>
\pgfkeys{/my key=hello,/your keys/main key=something\strange,
  key name without path=something else}
</pre>
</blockquote>



<pre>
\pgfkeys{/my key=hello,
  /your keys/main key=something\strange,
  key name without path=something else}
</pre>


and for each key mentioned, the associated code will be executed.
&hellip; and that code is also set up using <code>&#x5c;pgfkeys</code>:
<blockquote>
<pre>
\pgfkeys{/my key/.code=The value is '#1'.}
</pre>
</blockquote>
after which
<blockquote>
<pre>
\pgfkeys{/my key=hi!}
</pre>
</blockquote>
will produce just
<blockquote>
  The value is &rsquo;hi!&rsquo;.
</blockquote>
The manual goes on, showing how to define a key with two arguments,
how to provide default value for a key, and how to define aliases for
particular key sequences (which are called &ldquo;styles&rdquo;).  All in all,
it seems a well thought-out system, offering a lot of flexibility that
isn&rsquo;t available with the other keys packages.  However, there seems to
be no mechanism for using <i class="package">pgfkeys</i> keys as part of the
options of another package, in the way that <i class="package">kvoptions</i> does.

<p>
The <i class="package">l3kernel</i> programming layer for <a href="FAQ-LaTeX3.html">LaTeX3</a>
includes the <i class="package">l3keys</i> module.  Inspired by <i class="package">pgfkeys</i>,
it provides a keyval-based method for the programmer to create keys.
As with keyval and derivatives, <i class="package">l3keys</i> uses separate macros
for defining and setting keys.  The package <i class="package">l3keys2e</i> makes
it possible for LaTeX 2e class and package
options to be processed using <i class="package">l3keys</i>. <i class="package">L3kernel</i>
code can be used within existing LaTeX2e documents, so
<i class="package">l3keys</i> is also available to the LaTeX 2e programmer &lsquo;direct&rsquo;.

<p>
Another key-value system that&rsquo;s part of larger set of macros is
<i class="package">scrbase</i>, which uses the facilities of <i class="package">keyval</i> to
build a larger set of facilities, originally for use within the
<i class="class">KOMA-script</i> bundle.  For English-speaking authors, there are
difficulties from the German-only documentation; however, from a
partial translation available to the author of this answer, a summary
is possible.  The package may build on the facilities either of
<i class="package">kyeval</i> or of <i class="package">xkeyval</i>, and builds its functionality
on the structure of the &lsquo;key family&rsquo;.  The user may define family
&lsquo;members&rsquo; and keys are defined relative to the members.  (For example,
the package <i class="package">scrbase</i> is part of the <i class="class">KOMA-script</i>
bundle; so its keys are all members of the <i class="package">scrbase.sty</i>
family within the <i class="package">KOMA</i> family.  The function
<code>&#x5c;FamilyProcessOptions</code> allows the programmer to decode the options
of the package in terms of the package&rsquo;s key family.  Note that there
is no special provision made for &ldquo;traditional&rdquo; package options, as
in the <i class="package">kvoptions</i> package.

<p>
This brief summary was guided by input from two sources: a draft article
for <i class="slanted">TUGboat</i> by Joseph Wright, and the partial translation of the
documentation of package <i class="package">scrbase</i> prepared by Philipp
Stephani.

<p>
All the above are (at least) aimed at LaTeX programming; there is
one package, <i class="package">getoptk</i>, aimed at the Plain TeX programmer.
<i class="package">Getoptk</i> uses syntax inspired by that offered by TeX
primitives such as <code>&#x5c;hrule</code> and <code>&#x5c;hbox</code>, so we are offered
syntax such as:

<blockquote>
<pre>
\begindisplay file {chapter1} literal offset 20pt
</pre>
</blockquote>
(taken from the package manual).



<pre>
\begindisplay file {chapter1} %
                literal offset 20pt
</pre>





<p>
There are (we know) people who would swear that such syntax is
wonderful (the present author wouldn&rsquo;t), but the package earns its
place as the only stand-alone key-value macros that will work in Plain TeX.
<dl>
<dt class="ctanref">getoptk.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/getoptk">getoptk</a>
<dt class="ctanref">keyval.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/keyval">graphics</a>
<dt class="ctanref">kvoptions.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/kvoptions">oberdiek</a>
<dt class="ctanref">kvsetkeys.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/kvsetkeys">oberdiek</a>
<dt class="ctanref">l3keys.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/l3kernel">l3kernel</a>
<dt class="ctanref">l3keys2e.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/l3packages">l3packages</a>
<dt class="ctanref">pgfkeys.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
<dt class="ctanref">scrbase.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">xkeyval.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xkeyval">xkeyval</a>
</dl>

<p class="lastedit">This answer last edited: 2011-09-06</p>

<p>
[[[Question]]][Q-activechars][[[LBRACE]]]Defining characters as macros[[[RBRACE]]]

<p>
Single characters can act as macros (defined commands), and both
Plain TeX and LaTeX define the character
&ldquo;<tt>&#x7e;</tt>&rdquo; as a &ldquo;non-breakable space&rdquo;.  A
character is made definable, or &ldquo;active&rdquo;, by setting its
<em>category code</em> (catcode) to be <code>&#x5c;active</code> (13):
<blockquote>
<pre>
\catcode`\_=\active
</pre>
</blockquote>
Any character could, in principle, be activated this way and defined
as a macro:
<blockquote>
<pre>
\def_{\_}
</pre>
</blockquote>
which could be characterised as an over-simple answer to 
<a class="FAquestion.html" href="FAQ-underscore.html">using underscores</a>.  However, you must be
wary: whereas people expect an active tilde, other active characters
may be unexpected and interact badly with other macros.  Furthermore,
by defining an active character, you preclude the character&rsquo;s use for
other purposes, and there are few characters &ldquo;free&rdquo; to be subverted
in this way.

<p>
To define the character &ldquo;<tt>z</tt>&rdquo; as a command, one would say something
like:
<blockquote>
<pre>
\catcode`\z=\active
\def z{Yawn, I'm tired}%
</pre>
</blockquote>
and each subsequent &ldquo;<tt>z</tt>&rdquo; in the text would become a
yawn. This would be an astoundingly bad idea for most documents, but
might have special applications.  (Note that, in 
&ldquo;<code>&#x5c;def</code><tt>  z</tt>&rdquo;, 
&ldquo;<tt>z</tt>&rdquo; is no longer interpreted as a letter; the space
is therefore not necessary&nbsp;&mdash; &ldquo;<code>&#x5c;defz</code>&rdquo; would do; we choose to
retain the space, for what little clarity we can manage.)
Some LaTeX packages facilitate such definitions. For example, the
<i class="package">shortvrb</i> package with its <code>&#x5c;MakeShortVerb</code> command.

<p>
TeX uses category codes to interpret characters as they are read 
from the input.

<em>Changing a catcode value will not affect characters that have already been read</em>.
Therefore, it is best if characters have fixed category codes for the
duration of a document.  If catcodes are changed for particular
purposes (the <code>&#x5c;verb</code> command does this), then the altered
characters will not be interpreted properly when they  appear in the
argument to another command (as, for example, in

&ldquo;<a class="FAquestion.html" href="FAQ-verbwithin.html"><code>&#x5c;verb</code> in command arguments</a>&rdquo;).
An exemplary case is the <i class="package">doc</i> package, which processes .dtx
files using the <i class="package">shortvrb</i> package to define
<tt>&#x7c;&hellip;&#x7c;</tt> as a shorthand for
<code>&#x5c;verb</code><tt>&#x7c;&hellip;&#x7c;</tt>. But <tt>&#x7c;</tt> is
also used in the preambles of tabular environments, so that tables in
<code class="extension">dtx</code> files can only have vertical line separation between
columns by employing special measures of some sort.

<p>
Another consequence is that catcode assignments made
in macros often don&rsquo;t work as expected 
(see &ldquo;<a href="FAQ-actinarg.html">Active characters in command arguments</a>&rdquo;).
For example, the definition
<blockquote>
<pre>
\def\mistake{%
\catcode`_=\active
\def_{\textunderscore\-}%
}
</pre>
</blockquote>
does not work because it attempts to define an ordinary <tt>\_</tt> character:
When the macro is used, the category change does not apply to the 
underscore character already in the macro definition.  Instead, one may
use:
<blockquote>
<pre>
\begingroup
\catcode`_=\active
\gdef\works{%    note the global \gdef
  \catcode`_=\active
  \def_{\textunderscore\-}%
}
\endgroup
</pre>
</blockquote>
The alternative (&ldquo;tricksy&rdquo;) way of creating such an isolated
definition depends on the curious properties of <code>&#x5c;lowercase</code>, which
changes characters without altering their catcodes.  Since there is
always <em>one</em> active character (&ldquo;<tt>&#x7e;</tt>&rdquo;), we
can fool <code>&#x5c;lowercase</code> into patching up a definition without ever
explicitly changing a catcode:
<blockquote>
<pre>
\begingroup
  \lccode`\~=`\_
  \lowercase{\endgroup
    \def~{\textunderscore\-}%
  }%
</pre>
</blockquote>
The two definitions have the same overall effect (the character is
defined as a command, but the character does not remain active),
except that the first defines a <code>&#x5c;global</code> command.

<p>
For active characters to be used only in maths mode, it is much better
to leave the character having its ordinary catcode, but assign it a
special active <em>maths code</em>, as with
<blockquote>
<pre>
\begingroup
  \lccode`~=`x
  \lowercase{\endgroup
    \def~{\times}%
  }%
\mathcode`x="8000
</pre>
</blockquote>
The special character does not need to be redefined whenever it is
made active&nbsp;&mdash; the definition of the command persists even if the
character&rsquo;s catcode reverts to its original value; the definition
becomes accessible again if the character once again becomes active.
<dl>
<dt class="ctanref">doc.sty</dt><dd>Part of the LaTeX distribution <a class="ctan" href="https://www.ctan.org/pkg/doc">latex</a>
<dt class="ctanref">shortvrb.sty</dt><dd>Part of the LaTeX distribution <a class="ctan" href="https://www.ctan.org/pkg/shortvrb">latex</a>
</dl>

<p>

<p>
[[[Question]]][Q-actinarg][[[LBRACE]]]Active characters in command arguments[[[RBRACE]]]

<p>
Occasionally, it&rsquo;s nice to make one or two characters active in the
argument of a command, to make it easier for authors to code the
arguments.

<p>
Active characters <em>can</em> be used safely in such situations; but
care is needed.

<p>
An example arose while this answer was being considered: an aspirant
macro writer posted to <i class="newsgroup">comp.text.tex</i> asking for help to
make <code class="verb">#</code> and <code class="verb">b</code> produce musical sharp and flat signs, respectively,
in a macro for specifying chords.

<p>
The first problem is that both <code class="verb">#</code> and <code class="verb">b</code> have rather important uses
elsewhere in TeX (to say the least!), so that the characters can
only be made active while the command is executing.

<p>
Using the techniques discussed in 
&ldquo;<a class="FAquestion.html" href="FAQ-activechars.html">characters as commands</a>&rdquo;,
we can define:
<blockquote>
<pre>
\begingroup
  \catcode`\#=\active
  \gdef#{$\sharp$}
\endgroup
</pre>
</blockquote>
and:
<blockquote>
<pre>
\begingroup
  \lccode`\~=`\b
  \lowercase{\endgroup
    \def~{$\flat$}%
  }
</pre>
</blockquote>
The second problem is one of timing: the command has to make each
character active <em>before</em> its arguments are read: this means that
the command can&rsquo;t actually &ldquo;have&rdquo; arguments itself, but must be
split in two.  So we write:
<blockquote>
<pre>
\def\chord{%
  \begingroup
    \catcode`\#=\active
    \catcode`\b=\active
    \Xchord
}
\def\Xchord#1{%
    \chordfont#1%
  \endgroup
}
</pre>
</blockquote>
and we can use the command as <code>&#x5c;chord</code><code>&#x7b;F\#&#x7d;</code> or
<code>&#x5c;chord</code><code>&#x7b;Bb minor&#x7d;</code>.

<p>
Two features of the coding are important:
<ul>
<li> <code>&#x5c;begingroup</code> in <code>&#x5c;chord</code> opens a group that is closed by
  <code>&#x5c;endgroup</code> in <code>&#x5c;Xchord</code>; this group limits the change of
  category codes, which is the <em>raison d&rsquo;\^etre</em> of the whole
  exercise.
<li> Although <code class="verb">#</code> is active while <code>&#x5c;Xchord</code> is executed, it&rsquo;s
  <em>not</em> active when it&rsquo;s being defined, so that the use of <code class="verb">#1</code>
  doesn&rsquo;t require any special attention.
</ul>

<p>
Note that the technique used in such macros as <code>&#x5c;chord</code>, here, is
analogous to that used in such commands as <code>&#x5c;verb</code>; and, in just the
same way as <code>&#x5c;verb</code> (see

&ldquo;<a class="FAquestion.html" href="FAQ-verbwithin.html"><code>&#x5c;verb</code> doesn&rsquo;t work in arguments</a>&rdquo;),
<code>&#x5c;chord</code> won&rsquo;t work inside the argument of another command (the
error messages, if they appear at all, will probably be rather odd).

<p>

<p>
[[[Question]]][Q-csname][[[LBRACE]]]Defining a macro from an argument[[[RBRACE]]]

<p>
It&rsquo;s common to want a command to create another command: often one
wants the new command&rsquo;s name to derive from an argument.  LaTeX
does this all the time: for example, <code>&#x5c;newenvironment</code> creates
start- and end-environment commands whose names are derived from the
name of the environment command.

<p>
The (seemingly) obvious approach:
<blockquote>
<pre>
\def\relay#1#2{\def\#1{#2}}
</pre>
</blockquote>
doesn&rsquo;t work (the TeX engine interprets it
as a rather strange redefinition of <code class="verb">&#x5c;#</code>).  The trick is to use
<code>&#x5c;csname</code>, which is a TeX primitive for generating command names
from random text, together with <code>&#x5c;expandafter</code>.  The definition
above should read:
<blockquote>
<pre>
\def\relay#1#2{%
  \expandafter\def\csname #1\endcsname{#2}%
}
</pre>
</blockquote>
With this definition, <code>&#x5c;relay</code><code>&#x7b;blah&#x7d;</code></code><code>&#x7b;bleah&#x7d;</code> is equivalent to
<code>&#x5c;def</code><code>&#x5c;blah</code><code>&#x7b;bleah&#x7d;</code>.

<p>
Note that the definition of <code>&#x5c;relay</code> omits the braces round the
&lsquo;command name&rsquo; in the <code>&#x5c;newcommand</code> it executes.  This is
because they&rsquo;re not necessary (in fact they seldom are), and in this
circumstance they make the macro code slightly more tedious.

<p>
The name created need not (of course) be <em>just</em> the argument:
<blockquote>

<pre>
\def\newrace#1#2#3{\expandafter\def
    \csname start#1\endcsname{%
      #2%
  }%
  \expandafter\def
    \csname finish#1\endcsname{%
      #3%
  }%
}
</pre>


<pre>
\def\newrace#1#2#3{%
  \expandafter\def\csname start#1\endcsname{%
    #2%
  }%
  \expandafter\def\csname finish#1\endcsname{%
    #3%
  }%
}
</pre>

</blockquote>
With commands
<blockquote>
<pre>
\def\start#1{\csname start#1\endcsname}
\def\finish#1{\csname finish#1\endcsname}
</pre>
</blockquote>
these &lsquo;races&rsquo; could behave a bit like LaTeX environments.

<p>
[[[Question]]][Q-cvtlatex][[[LBRACE]]]Transcribing LaTeX command definitions[[[RBRACE]]]

<p>
At several places in this FAQ, questions are answered in terms
of how to program a LaTeX macro.  Sometimes, these macros might
also help users of Plain TeX or other packages; this answer
attempts to provide a rough-and-ready guide to transcribing such macro
definitions for use in other packages.

<p>
The reason LaTeX has commands that replace <code>&#x5c;def</code>, is that
there&rsquo;s a general philosophy within LaTeX that the user should be
protected from himself: the user has different commands according to
whether the command to be defined exists (<code>&#x5c;renewcommand</code>) or not
(<code>&#x5c;newcommand</code>), and if its status proves not as the user expected,
an error is reported.  A third definition command,
<code>&#x5c;providecommand</code>, only defines if the target is not already
defined; LaTeX has no direct equivalent of <code>&#x5c;def</code>, which ignores
the present state of the command.  The final command of this sort is
<code>&#x5c;DeclareRobustCommand</code>, which creates a command which is &ldquo;robust&rdquo;
(i.e., will not expand if subjected to LaTeX &ldquo;protected
expansion&rdquo;); from the Plain TeX user&rsquo;s point of view,
<code>&#x5c;DeclareRobustCommand</code> should be treated as a non-checking version
of <code>&#x5c;newcommand</code>.

<p>
LaTeX commands are, by default, defined <code>&#x5c;long</code>; an optional <tt>*</tt>
between the <code>&#x5c;newcommand</code> and its (other) arguments specifies that
the command is <em>not</em> to be defined <code>&#x5c;long</code>.  The <tt>*</tt> is
detected by a command <code>&#x5c;@ifstar</code> which uses <code>&#x5c;futurelet</code> to switch
between two branches, and gobbles the <tt>*</tt>: LaTeX users are
encouraged to think of the <tt>*</tt> as part of the command name.

<p>
LaTeX&rsquo;s checks for unknown command are done by <code>&#x5c;ifx</code> comparison
of a <code>&#x5c;csname</code> construction with <code>&#x5c;relax</code>; since the command name
argument is the desired control sequence name, this proves a little
long-winded.  Since <tt>\#1</tt> is the requisite argument, we have:
<blockquote>

<pre>
\expandafter\ifx
  \csname
    \expandafter\@gobble\string#1%
  \endcsname
  \relax
    ...
</pre>


<pre>
\expandafter\ifx
  \csname\expandafter\@gobble\string#1\endcsname
  \relax
    ...
</pre>

</blockquote>
(<code>&#x5c;@gobble</code> simply throws away its argument).

<p>
The arguments of a LaTeX command are specified by two optional
arguments to the defining command: a count of arguments (0&ndash;9: if the
count is 0, the optional count argument may be omitted), and a default
value for the first argument, if the defined command&rsquo;s first argument
is to be optional.  So:
<blockquote>
<pre>
\newcommand\foo{...}
\newcommand\foo[0]{...}
\newcommand\foo[1]{...#1...}
\newcommand\foo[2][boo]{...#1...#2...}
</pre>
</blockquote>
In the last case, <code>&#x5c;foo</code> may be called as <code>&#x5c;foo</code><code>&#x7b;goodbye&#x7d;</code>,
which is equivalent to <code>&#x5c;foo</code><code>[boo]</code></code><code>&#x7b;goodbye&#x7d;</code> (employing the
default value given for the first argument), or as
<code>&#x5c;foo</code><code>[hello]</code></code><code>&#x7b;goodbye&#x7d;</code> (with an explicit first argument).

<p>
Coding of commands with optional arguments is exemplified by the
coding of the last <code>&#x5c;foo</code> above:
<blockquote>
<pre>
\def\foo{\futurelet\next\@r@foo}
\def\@r@foo{\ifx\next[%
    \let\next\@x@foo
  \else
    \def\next{\@x@foo[boo]}%
  \fi
  \next
}
\def\@x@foo[#1]#2{...#1...#2...}
</pre>
</blockquote>

<p>
[[[Question]]][Q-empty][[[LBRACE]]]Detecting that something is empty[[[RBRACE]]]

<p>
Suppose you need to know that the argument of your command is empty:
that is, to distinguish between <code>&#x5c;cmd</code><code>&#x7b;&#x7d;</code> 
and <code>&#x5c;cmd</code><code>&#x7b;blah&#x7d;</code>.  This is pretty simple:
<blockquote>
<pre>
\def\cmd#1{%
  \def\tempa{}%
  \def\tempb{#1}%
  \ifx\tempa\tempb
    <empty case>
  \else
    <non-empty case>
  \fi
}
</pre>
</blockquote>
The case where you want to ignore an argument that consists of nothing
but spaces, rather than something completely empty, is more tricky.
It&rsquo;s solved in the code fragment <i class="package">ifmtarg</i>, which defines
commands <code>&#x5c;@ifmtarg</code> and <code>&#x5c;@ifnotmtarg</code>, which examine their
first argument, and select (in opposite directions) their second or
third argument.  The package&rsquo;s code also appears in the LaTeX
<i class="class">memoir</i> class.

<p>
<i class="package">Ifmtarg</i> makes challenging reading; there&rsquo;s also a discussion of the
issue in number two of the &ldquo;around the bend&rdquo; articles by the late
lamented Mike Downes.
<dl>
<dt class="ctanref">Around the bend series</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/aro-bend">aro-bend</a>
<dt class="ctanref">ifmtarg.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ifmtarg">ifmtarg</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-whatengine][[[LBRACE]]]Am I using PDFTeX, XeTeX or LuaTeX?[[[RBRACE]]]


<p>
You often need to know what &ldquo;engine&rdquo; your macros are running on (the
engine is the TeX-derivative or TeX-alike processor that
typesets your document).  The reason that you need to know is that the
set of functions available in each engine is different.  Thus, for
TeX macros to run on any engine, they need to &ldquo;know&rdquo; what they
can and cannot do, which depends on the engine in use.  Getting the
right answer is surprisingly tricky (see below for an elaboration of
one apparently simple test).

<p>
There is now a comprehensive set of packages that answer the question
for you.  They all create a TeX conditional command:
<ul>
<li> <i class="package">ifpdf</i> creates a command <code>&#x5c;ifpdf</code>,
<li> <i class="package">ifxetex</i> creates a command <code>&#x5c;ifxetex</code> and
<li> <i class="package">ifluatex</i> creates a command <code>&#x5c;ifluatex</code>.
</ul>
These TeX commands may be used within the LaTeX conditional
framework, as (for example):
<blockquote>
  <code>&#x5c;ifthenelse</code><tt>&#x7b;</tt><code>&#x5c;boolean</code><code>&#x7b;pdf&#x7d;</code><tt>&#x7d;</tt><tt>&#x7b;</tt>&lsaquo;<i>if pdf</i>&rsaquo;<tt>&#x7d;</tt><tt>&#x7b;</tt>&lsaquo;<i>if not pdf</i>&rsaquo;<tt>&#x7d;</tt>
</blockquote>

<p>
The <i class="package">ifxetex</i> package also provides a command
<code>&#x5c;RequireXeTeX</code> which creates an error if the code is not running
under XeTeX; while the other packages don&rsquo;t provide such a command,
it&rsquo;s not really difficult to write one for yourself.

<p>



<p>
Now for those who want to do the job for themselves: here&rsquo;s a
discussion of doing the job for PDFTeX and <code>&#x5c;ifpdf</code>&nbsp;&mdash; the
eager programmer can regenerate <code>&#x5c;ifxetex</code> or <code>&#x5c;ifluatex</code> in the
same fashion.  It&rsquo;s not recommended&hellip;

<p>
Suppose you need to test whether your output will be PDF or
DVI.  The natural thing is to check whether you have access to
some PDFTeX-only primitive; a good one to try (not least because it
was present in the very first releases of PDFTeX) is
<code>&#x5c;pdfoutput</code>.  So you try
<blockquote>
<pre>
\ifx\pdfoutput\undefined
  ... % not running PDFTeX
\else
  ... % running PDFTeX
\fi
</pre>
</blockquote>
Except that neither branch of this conditional is rock-solid.  The
first branch can be misleading, since the &ldquo;awkward&rdquo; user could have
written:
<blockquote>
<pre>
\let\pdfoutput\undefined
</pre>
</blockquote>
so that your test will falsely choose the first alternative.  While
this is a theoretical problem, it is unlikely to be a major one.

<p>
More important is the user who loads a package that uses
LaTeX-style testing for the command name&rsquo;s existence (for example,
the LaTeX <i class="package">graphics</i> package, which is useful even to the
Plain TeX user).  Such a package may have gone ahead of you, so the
test may need to be elaborated:
<blockquote>
<pre>
\ifx\pdfoutput\undefined
  ... % not running PDFTeX
\else
  \ifx\pdfoutput\relax
    ... % not running PDFTeX
  \else
    ... % running PDFTeX
  \fi
\fi
</pre>
</blockquote>
If you only want to know whether some PDFTeX extension (such as
marginal kerning) is present, you can stop at this point: you know as
much as you need.

<p>
However, if you need to know whether you&rsquo;re creating PDF
output, you also need to know about the value of <code>&#x5c;pdfoutput</code>:
<blockquote>
<pre>
\ifx\pdfoutput\undefined
  ... % not running PDFTeX
\else
  \ifx\pdfoutput\relax
    ... % not running PDFTeX
  \else
    % running PDFTeX, with...
    \ifnum\pdfoutput>0
      ... % PDF output
    \else
      ... % DVI output
    \fi
  \fi
\fi
</pre>
</blockquote>
<dl>
<dt class="ctanref">ifpdf.sty</dt><dd>Distributed as part Heiko Oberdiek&rsquo;s bundle
  <a class="ctan" href="https://www.ctan.org/pkg/ifpdf">oberdiek</a>
<dt class="ctanref">ifluatex.sty</dt><dd>Distributed as part of Heiko Oberdiek&rsquo;s bundle
  <a class="ctan" href="https://www.ctan.org/pkg/ifluatex">oberdiek</a>
<dt class="ctanref">ifxetex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ifxetex">ifxetex</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-13</p>

<p>
[[[Question]]][Q-subverttoks][[[LBRACE]]]Subverting a token register[[[RBRACE]]]

<p>
A common requirement is to &ldquo;subvert&rdquo; a token register that other
macros may use.  The requirement arises when you want to add something
to a system token register (<code>&#x5c;output</code> or <code>&#x5c;every*</code>), but know
that other macros use the token register, too.  (A common requirement
is to work on <code>&#x5c;everypar</code>, but LaTeX changes <code>&#x5c;everypar</code> at
every touch and turn.)

<p>
The following technique, due to David Kastrup, does what you need, and
allows an independent package to play the exact same game:
<blockquote>

<pre>
\let\mypkg@@everypar\everypar
\newtoks\mypkg@everypar
\mypkg@everypar\expandafter{\the\everypar}
\mypkg@@everypar{\mypkgs@ownstuff\the\mypkg@everypar}
\def\mypkgs@ownstuff{%
  <stuff to do at the start of the token register>%
}
\let\everypar\mypkg@everypar
</pre>


<pre>
\let\mypkg@@everypar\everypar
\newtoks\mypkg@everypar
\mypkg@everypar\expandafter{\the\everypar}
\mypkg@@everypar{\mypkgs@ownstuff
                      \the\mypkg@everypar}
\def\mypkgs@ownstuff{%
  <stuff to do at the start of
                      the token register>%
}
\let\everypar\mypkg@everypar
</pre>

</blockquote>
As you can see, the package (<i class="package">mypkg</i>)
<ul>
<li> creates an alias for the existing &ldquo;system&rdquo; <code>&#x5c;everypar</code>
  (which is frozen into any surrounding environment, which will carry
  on using the original);
<li> creates a token register to subvert <code>&#x5c;everypar</code> and
  initialises it with the current contents of <code>&#x5c;everypar</code>;
<li> sets the &ldquo;old&rdquo; <code>&#x5c;everypar</code> to execute its own extra code,
  as well as the contents of its own token register;
<li> defines the macro for the extra code; and
<li> points the token <code>&#x5c;everypar</code> at the new token register.
</ul>
and away we go.

<p>
The form <code>&#x5c;mypkg@...</code> is (sort of) blessed for LaTeX package
internal names, which is why this example uses macros of that form.

<p>
[[[Question]]][Q-isdef][[[LBRACE]]]Is this command defined?[[[RBRACE]]]

<p>
Macro sets from the earliest days of TeX programming may be
observed to test whether commands exist by using
<blockquote>
<code>&#x5c;ifx</code> <code>&#x5c;</code><tt><em>command</em></tt> <code>&#x5c;undefined</code> &lsaquo;<i>stuff</i>&rsaquo; &hellip;
</blockquote>
(which of course actually tests that the command <em>doesn&rsquo;t</em>
exist).  LaTeX programmers can make use of the internal command
<blockquote>
  <code>&#x5c;@ifundefined</code><code>&#x7b;cmd name&#x7d;</code><code>&#x7b;action1&#x7d;</code><code>&#x7b;action2&#x7d;</code>
</blockquote>
which executes <tt>action1</tt> if the command is undefined, and
<tt>action2</tt> if it is defined
(<em>cmd name</em> is the command name only, omitting the &lsquo;<code class="verb">&#x5c;</code>&rsquo; character).

<p>
The <code>&#x5c;@ifundefined</code> command is based on the sequence
<blockquote>

<pre>
\expandafter
    \ifx\csname cmd name\endcsname\relax
</pre>


<pre>
\expandafter \ifx \csname cmd name\endcsname \relax
</pre>

</blockquote>
which relies on the way <code>&#x5c;csname</code> works: if the command doesn&rsquo;t
exist, it simply creates it as an alias for <code>&#x5c;relax</code>.

<p>
So: what is wrong with these techniques?

<p>
Using <code>&#x5c;undefined</code> blithely assumes that the command is indeed not
defined.  This isn&rsquo;t entirely safe; one could make the name more
improbable, but that may simply make it more difficult to spot a
problem when things go wrong.  LaTeX programmers who use the
technique will typically employ <code>&#x5c;@undefined</code>, adding a single
level of obscurity.

<p>
The <code>&#x5c;@ifundefined</code> mechanism has the unfortunate property of
polluting the name space: each test that turns out undefined adds a
name to the set TeX is holding, and often all those &ldquo;<code>&#x5c;relax</code>&rdquo;
names serve no purpose whatever.  Even so (sadly) there are places in
the code of LaTeX where the existence of the <code>&#x5c;relax</code> is relied
upon, after the test, so we can&rsquo;t get away from <code>&#x5c;@ifundefined</code>
altogether.

<p>
David Kastrup offers the (rather tricky)
<blockquote>

<pre>
{\expandafter}\expandafter\ifx \csname cmd name\endcsname\relax ...
</pre>


<pre>
{\expandafter}\expandafter
    \ifx \csname cmd name\endcsname \relax ...
</pre>

</blockquote>
which &ldquo;creates&rdquo; the <code>&#x5c;relax</code>-command inside the group of the first
<code>&#x5c;expandafter</code>, therefore forgets it again once the test is done.
The test is about as good as you can do with macros.

<p>
The <a href="FAQ-etex.html">e-TeX system</a> system comes to our help here: it
defines two new primitives:
<ul>
<li> <code>&#x5c;ifdefined</code>, which tests whether a thing is defined (the
  negative of comparing with <code>&#x5c;undefined</code>, as it were), and
<li> <code>&#x5c;ifcsname</code> <tt>cmd name</tt><code>&#x5c;endcsname</code>, which does the
  negative of <code>&#x5c;@ifundefined</code> without the <code>&#x5c;relax</code>-command
  side-effect.
</ul>
So, in an e-TeX-based system, the following two conditional clauses do
the same thing:
<blockquote>
<pre>
\ifdefined\foo
  \message{\string\foo\space is defined}%
\else
  \message{no command \string\foo}%
\fi
%
\ifcsname foo\endcsname
  \message{\string\foo\space is defined}%
\else
  \message{no command \string\foo}%
\fi
</pre>
</blockquote>
However, after using the LaTeX
<code>&#x5c;@ifundefined</code><code>&#x7b;foo&#x7d;</code>&hellip;, the conditionals will detect the
command as &ldquo;existing&rdquo; (since it has been <code>&#x5c;let</code> to <code>&#x5c;relax</code>);
so it is important not to mix mechanisms for detecting the state of a
command.

<p>
Since most distributions nowadays use e-TeX as their base executable
for most packages, these two primitives may be expected appear widely
in new macro packages.

<p>

<p>

<p>
[[[Question]]][Q-plninltx*][[[LBRACE]]]Using Plain or primitive commands in LaTeX[[[RBRACE]]]

<p>
It&rsquo;s well-known that LaTeX commands tend to be more complex, and to
run more slowly than, any Plain TeX (or primitive) command that they
replace.  There is therefore great temptation not to use LaTeX
commands when macro programming.  Nevertheless, the general rule is
that you should use LaTeX commands, if there are seeming
equivalents.  The exception is when you are sure you know the
differences between the two commands and you know that you need the
Plain TeX version.  So, for example, use <code>&#x5c;mbox</code> in place of <code>&#x5c;hbox</code>
unless you know that the extras that LaTeX provides in <code>&#x5c;mbox</code>
would cause trouble in your application.  Similarly, use
<code>&#x5c;newcommand</code> (or one of its relatives) unless you need one of the
constructs that cannot be achieved without the use of <code>&#x5c;def</code> (or friends).

<p>
As a general rule, any LaTeX text command will start a new
paragraph if necessary; this isn&rsquo;t the case with Plain TeX
commands, a fact which has a potential to confuse.

<p>
The commands <code>&#x5c;smallskip</code>, <code>&#x5c;medskip</code> and <code>&#x5c;bigskip</code> exist both
in Plain TeX and LaTeX, but behave slightly differently: in
Plain TeX they terminate the current paragraph, but in LaTeX they 
don&rsquo;t.  The command <code>&#x5c;line</code> is part of picture mode in LaTeX,
whereas it&rsquo;s defined as &ldquo;<code>&#x5c;hbox</code><tt> to </tt><code>&#x5c;hsize</code>&rdquo; in
Plain TeX. (There&rsquo;s no equivalent for users of the Plain TeX command in
LaTeX: an equivalent appears as the internal command <code>&#x5c;@@line</code>).

<p>
Maths setting shows a case where the LaTeX version <em>is</em>
essentially equivalent to the TeX primitive commands: the LaTeX
<code>&#x5c;(</code><tt> ... </tt><code>&#x5c;)</code> does essentially no different to the
primitive <tt>&#x24; ... &#x24;</tt>; except for checking that you&rsquo;re not
attempting to open a maths environment when you&rsquo;re already in one, or 
attempting to close one when you&rsquo;re not.
However, <code>&#x5c;[</code><tt> ... </tt><code>&#x5c;]</code> has a more significant
difference from <tt>&#x24;&#x24; ... &#x24;&#x24;</tt>: the primitive version, used
in LaTeX, can miss the effect of the class option <code class="pkgoption">fleqn</code>.

<p>
Font handling is, of course, wildly different in Plain TeX and
LaTeX.  Plain TeX&rsquo;s font loading command
(<code>&#x5c;font</code><code>&#x5c;foo=</code>&lsaquo;<i>fontname</i>&rsaquo;) and its LaTeX equivalent
(<code>&#x5c;newfont</code>) should be avoided wherever possible.  They are only
safe in the most trivial contexts, and are potential sources of great
confusion in many circumstances.   Further discussion of this issue
may be found in &ldquo;<a href="FAQ-newfont*.html">What&rsquo;s wrong with <code>&#x5c;newfont</code>?</a>&rdquo;.

<p class="lastedit">This answer last edited: 2013-09-27</p>

<p>
[[[Question]]][Q-atsigns][[[LBRACE]]]<code>&#x5c;@</code> and <tt>@</tt> in macro names[[[RBRACE]]]

<p>
Macro names containing <tt>@</tt> are <em>internal</em> to LaTeX, and
without special treatment just don&rsquo;t work in ordinary use.  A nice
example of the problems caused is discussed in 
<a href="FAQ-atvert.html"><code>&#x5c;@</code> in vertical mode</a>&rdquo;.

<p>
The problems users see are caused by copying bits of a class
(<code class="extension">cls</code> file) or 
package (<code class="extension">sty</code> file) into a document, or by including a class or
package file into a LaTeX document by some means other than
<code>&#x5c;documentclass</code> or <code>&#x5c;usepackage</code>.  LaTeX defines internal
commands whose names contain the character <tt>@</tt> to
avoid clashes between its internal names and names that we would
normally use in our documents.  In order that these commands may work
at all, <code>&#x5c;documentclass</code> and <code>&#x5c;usepackage</code> play around with the
meaning of <tt>@</tt>.

<p>
If you&rsquo;ve included a file some other way (for example, using
<code>&#x5c;input</code>), you can probably solve the problem by using the correct
command.

<p>
If you&rsquo;re using a fragment of a package or class, you may well feel
confused: books such as the first edition of the 
<a href="FAQ-latex-books.html">The LaTeX Companion</a> 
are full of fragments of packages as examples for you to employ.
The second edition of the <em>Companion</em> makes clearer how you
should use these fragments, and in addition, the code of
all the examples is now available on CTAN.
To see the technique in practice, look at the example below, from file
<i class="filename">2-2-7.ltx</i> in the <em>Companion</em> examples directory:
<blockquote>
<pre>
\makeatletter
\renewcommand\subsection{\@startsection
  {subsection}{2}{0mm}%name, level, indent
  {-\baselineskip}%             beforeskip
  {0.5\baselineskip}%            afterskip
  {\normalfont\normalsize\itshape}}% style
\makeatother
</pre>
</blockquote>
(That example appears on page 29 of <em>The LaTeX Companion</em>,
second edition.)

<p>
The alternative is to treat all these fragments as a package proper,
bundling them up into a <code class="extension">sty</code> file and including them with
<code>&#x5c;usepackage</code>; this way you hide your LaTeX internal code somewhere
that LaTeX internal code is expected, which often looks &lsquo;tidier&rsquo;.
<dl>
<dt class="ctanref">Examples from the Companion</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tlc2">tlc2</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-protect][[[LBRACE]]]What&rsquo;s the reason for &lsquo;protection&rsquo;?[[[RBRACE]]]

<p>
Sometimes LaTeX saves data it will reread later. These data are
often the argument of some command; they are the so-called moving
arguments.  (&lsquo;Moving&rsquo; because data are moved around.)  Candidates
are all arguments that may go into table of contents, list of figures,
<em>etc</em>.; namely, data that are written to an auxiliary file and
read in later.  Other places are those data that might appear in head-
or footlines.  Section headings and figure captions are the most
prominent examples; there&rsquo;s a complete list in Lamport&rsquo;s book
(see <a class="FAquestion.html" href="FAQ-latex-books.html">TeX-related books</a>).

<p>
What&rsquo;s going on really, behind the scenes? The commands in moving
arguments are normally expanded to their internal structure during the
process of saving. Sometimes this expansion results in invalid TeX
code, which shows either during expansion or when the code is
processed again. Protecting a command, using
&ldquo;<code>&#x5c;protect</code><code>&#x5c;cmd</code>&rdquo; tells LaTeX to save <code>&#x5c;cmd</code> as
<code>&#x5c;cmd</code>, without expanding it at all.

<p>
So, what is a &lsquo;fragile command&rsquo;?&nbsp;&mdash; it&rsquo;s a command that expands into
illegal TeX code during the save process.

<p>
What is a &lsquo;robust command&rsquo;?&nbsp;&mdash; it&rsquo;s a command that expands into legal
TeX code during the save process.

<p>
Lamport&rsquo;s book says in its description of every LaTeX command whether
it is &lsquo;robust&rsquo; or &lsquo;fragile&rsquo;; it also says that every command with an
optional argument is fragile.  The list isn&rsquo;t reliable, and neither
is the assertion about optional arguments; the statements may have
been true in early versions of LaTeX 2e but are not any longer
necessarily so:
<ul>
<li> Some fragile commands, such as <code>&#x5c;cite</code>, have been made robust
  in later revisions of LaTeX.
<li> Some commands, such as <code>&#x5c;end</code> and <code>&#x5c;nocite</code>, are fragile
  even though they have no optional arguments.
<li> The &ldquo;user&rsquo;s way&rdquo; of creating a command with an optional
  argument (using <code>&#x5c;newcommand</code> or <code>&#x5c;newcommand*</code>) now always
  creates a robust command (though macros without optional arguments
  may still be fragile if they do things that are themselves fragile).
<li> There is no reason that a package author should not also make
  robust commands with optional arguments as part of the package.
<li> Some robust commands are redefined by certain packages to be
  fragile (the <code>&#x5c;cite</code> command commonly suffers this treatment).
</ul>
Further, simply &ldquo;hiding&rdquo; a fragile command in another command, has
no effect on fragility.  So, if <code>&#x5c;fred</code> is fragile, and you write:
<blockquote>
<pre>
\newcommand{\jim}{\fred}
</pre>
</blockquote>
then <code>&#x5c;jim</code> is fragile too.  There is, however, the
<code>&#x5c;newcommand</code>-replacement <code>&#x5c;DeclareRobustCommand</code>, which
<em>always</em> creates a robust command (whether or not it has optional
arguments).  The syntax of <code>&#x5c;DeclareRobustCommand</code> is substantially
identical to that of <code>&#x5c;newcommand</code>, and if you do the wrapping
trick above as:
<blockquote>
<pre>
\DeclareRobustCommand{\jim}{\fred}
</pre>
</blockquote>
then <code>&#x5c;jim</code> is robust.

<p>
Finally, we have the <i class="package">makerobust</i> package, which  defines
<code>&#x5c;MakeRobustCommand</code> to convert a command to be robust.  With the
package, the &ldquo;wrapping&rdquo; above can simply be replaced by:
<blockquote>
<pre>
\MakeRobustCommand\fred
</pre>
</blockquote>
Whereafter, <code>&#x5c;fred</code> is robust.  Using the package may be reasonable
if you have lots of fragile commands that you need to use in moving
arguments.

<p>
In short, the situation is confusing.  No-one believes this is
satisfactory; the LaTeX team have removed the need for
protection of some things, but the techniques available in 
current LaTeX mean that this is an expensive exercise.  It remains
a long-term aim of the team to remove all need for <code>&#x5c;protect</code>ion.
<dl>
<dt class="ctanref">makerobust.sty</dt><dd>Distributed as part of Heiko Oberdiek&rsquo;s bundle
  <a class="ctan" href="https://www.ctan.org/pkg/makerobust">oberdiek</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-edef][[[LBRACE]]]<code>&#x5c;edef</code> does not work with <code>&#x5c;protect</code>[[[RBRACE]]]

<p>
Robust LaTeX commands are either &ldquo;naturally robust&rdquo;&nbsp;&mdash; meaning that
they never need <code>&#x5c;protect</code>, or &ldquo;self-protected&rdquo;&nbsp;&mdash; meaning that
they have <code>&#x5c;protect</code> built in to their definition in some
way.  Self-protected commands, and fragile commands with
<code>&#x5c;protect</code>ion are only robust in a context where the <code>&#x5c;protect</code>
mechanism is properly handled.  The body of an <code>&#x5c;edef</code> definition
doesn&rsquo;t handle <code>&#x5c;protect</code> properly, since <code>&#x5c;edef</code> is a TeX
primitive rather than a LaTeX command.

<p>
This problem is resolved by a LaTeX internal command
<code>&#x5c;protected@edef</code>, which does the job of <code>&#x5c;edef</code> while keeping the
<code>&#x5c;protect</code> mechanism working.  There&rsquo;s a corresponding
<code>&#x5c;protected@xdef</code> which does the job of <code>&#x5c;xdef</code>.

<p>
Of course, these commands need to be tended carefully, since they&rsquo;re

internal: see <a class="FAquestion.html" href="FAQ-atsigns.html">&rsquo;@&rsquo; in control sequence names</a>.

<p>
[[[Question]]][Q-ltxcmds][[[LBRACE]]]The definitions of LaTeX commands[[[RBRACE]]]

<p>
There are several reasons to want to know the definitions of LaTeX
commands: from the simplest &ldquo;idle curiosity&rdquo;, to the pressing need
to patch something to make it &ldquo;work the way you want it&rdquo;.  None of
these are <em>pure</em> motives, but knowledge and expertise seldom
arrive through the purest of motives.

<p>
Using a TeX executable of some sort, the simple answer is to try
<code>&#x5c;show</code>, in a run that is taking commands from the terminal:
<blockquote>
<pre>
*\makeatletter
*\show\protected@edef
> \protected@edef=macro:
->\let \@@protect \protect
  \let \protect \@unexpandable@protect
  \afterassignment \restore@protect \edef .
</pre>
</blockquote>
(I&rsquo;ve rearranged the output there, from the rather confused version
TeX itself produces.)

<p>
So, what about <code>&#x5c;@unexpandable@protect</code>?:
<blockquote>
<pre>
*\show\@unexpandable@protect
> \@unexpandable@protect=macro:
->\noexpand \protect \noexpand .
</pre>
</blockquote>
and we&rsquo;re starting to see how one part of the <code>&#x5c;protect</code>ion
mechanism works (one can probably fairly safely guess what
<code>&#x5c;restore@protect</code> does).

<p>
Many kernel commands are declared robust:
<blockquote>
<pre>
*\show\texttt
> \texttt=macro:
->\protect \texttt  .
</pre>
</blockquote>
so that <code>&#x5c;show</code> isn&rsquo;t much help.  Define a command <code>&#x5c;pshow</code> as
shown below, and simply execute the command to find its definition:
<blockquote>
<pre>
*\def\pshow#1{{\let\protect\show #1}}
*\pshow\texttt
> \texttt =\long macro:
#1->\ifmmode \nfss@text {\ttfamily #1}%
    \else \hmode@bgroup \text@command {#1}%
          \ttfamily \check@icl #1\check@icr
    \expandafter \egroup \fi .
</pre>
</blockquote>
Note that the command name that is protected is the &lsquo;base&rsquo; command,
with a space appended.  This is cryptically visible, in a couple of
places above.  (Again, the output has been sanitised.)



<p>
The command <i class="progname">texdef</i> (or <i class="progname">latexdef</i>&nbsp;&mdash; the same
command with a different name) will do all that for you and return the
results slightly more tidily than LaTeX itself manages.  For
example:
<blockquote>
<pre>
$ latexdef texttt
</pre>
</blockquote>
gives:
<blockquote>
<pre>
macro:->\protect \texttt  

\texttt :
#1->\ifmmode \nfss@text {\ttfamily #1}%
    \else \hmode@bgroup \text@command {#1}%
          \ttfamily \check@icl #1\check@icr
    \expandafter \egroup \fi .
</pre>
</blockquote>
(again, the output has been sanitised&nbsp;&mdash; but we see that
<i class="progname">latexdef</i> has useful &lsquo;intelligence&rsquo; in it, as it has spotted
and dealt with the <code>&#x5c;protect</code>.)

<p>
With the <tt>-s</tt> switch, <i class="progname">latexdef</i> will give you a
source location:
<blockquote>
<pre>
$ latexdef -s texttt
% latex.ltx, line 3736:
\DeclareTextFontCommand{\texttt}{\ttfamily}
</pre>
</blockquote>
though one should note that it doesn&rsquo;t give you the detail of the
actual coding, merely the definition&rsquo;s location.

<p>
Environments also surrender their details to <i class="progname">latexdef</i>:
<blockquote>

<pre>
$ latexdef -E itemize

\itemize:
macro:->\ifnum \@itemdepth >\thr@@ \@toodeep 
  \else \advance \@itemdepth \@ne
    \edef \@itemitem {labelitem\romannumeral \the \@itemdepth}%
    \expandafter \list \csname \@itemitem \endcsname
      {\def \makelabel ##1{\hss \llap {##1}}}%
  \fi 

\enditemize:
macro:->\global \advance \@listdepth \m@ne \endtrivlist 
</pre>


<pre>
$ latexdef -E itemize

\itemize:
macro:->\ifnum \@itemdepth >\thr@@ \@toodeep 
  \else \advance \@itemdepth \@ne
    \edef \@itemitem {labelitem\romannumeral
                          \the \@itemdepth}%
    \expandafter \list
               \csname \@itemitem \endcsname
    {\def \makelabel ##1{\hss \llap {##1}}}%
  \fi 

\enditemize:
macro:->\global \advance \@listdepth \m@ne
                                \endtrivlist 
</pre>

</blockquote>
(Yet again, this is a sanitised version of the macro definition
output, which appears as a single very wide line for each definition.)

<p>
If one has a malleable text editor, the same investigation may be
conducted by examining the file <i class="filename">latex.ltx</i> (which is usually to
be found, in a TDS system, in directory <tt class="path">tex/latex/base</tt>).

<p>
In fact, <i class="filename">latex.ltx</i> is the product of a <i class="progname">docstrip</i>
process on a large number of <a href="FAQ-dtx.html"><code class="extension">dtx</code> files</a>, and
you can refer to those instead.  The LaTeX distribution includes a file
<i class="filename">source2e.tex</i>, and most systems retain it, again in
<tt class="path">tex/latex/base</tt>.  <i class="filename">Source2e.tex</i> may be processed to
provide a complete source listing of the LaTeX kernel (in fact the
process isn&rsquo;t entirely straightforward, but the file produces messages
advising you what to do).  The result is a huge document, with a
line-number index of control sequences the entire kernel and a
separate index of changes recorded in each of the files since the
LaTeX team took over.

<p>
The printed kernel is a nice thing to have, but it&rsquo;s unwieldy and sits
on my shelves, seldom used.  One problem is that the comments are
patchy: the different modules range from well and lucidly documented,
through modules documented only through an automatic process that
converted the documentation of the source of LaTeX 2.09, to modules
that hardly had any useful documentation even in the LaTeX 2.09 original.

<p>
In fact, each kernel module <code class="extension">dtx</code> file will process separately
through LaTeX, so you don&rsquo;t have to work with the whole of
<i class="filename">source2e</i>.  You can easily determine which module defines the
macro you&rsquo;re interested in: use your &ldquo;malleable text editor&rdquo; to find
the definition in <i class="filename">latex.ltx</i>; then search backwards from that
point for a line that starts 
<tt>&#x25;&#x25;&#x25; From File:</tt>&nbsp;&mdash; that line
tells you which <code class="extension">dtx</code> file contains the definition you are interested
in.  Doing this for <code>&#x5c;protected@edef</code>, we find:
<blockquote>
<pre>
%%% From File: ltdefns.dtx
</pre>
</blockquote>
When we come to look at it, <i class="filename">ltdefns.dtx</i> proves to contain
quite a dissertation on the methods of handling <code>&#x5c;protect</code>ion; it
also contains some automatically-converted LaTeX 2.09 documentation.

<p>
And of course, the kernel isn&rsquo;t all of LaTeX: your command may be
defined in one of LaTeX&rsquo;s class or package files.  For example, we
find a definition of <code>&#x5c;thebibliography</code> in <i class="class">article</i>, but
there&rsquo;s no <i class="filename">article.dtx</i>.  Some such files are generated from
parts of the kernel, some from other files in the distribution.  You
find which by looking at the start of the file: in <i class="filename">article.cls</i>,
we find:
<blockquote>
<pre>
%% This is file `article.cls',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% classes.dtx  (with options: `article')
</pre>
</blockquote>
so we need to format <i class="filename">classes.dtx</i> to see the definition in
context.

<p>
All these .dtx files are on CTAN as part of the main LaTeX
distribution.
<dl>
<dt class="ctanref">LaTeX distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a>
<dt class="ctanref">texdef, latexdef</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/texdef">texdef</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-27</p>

<p>
[[[Question]]][Q-oarglikesect][[[LBRACE]]]Optional arguments like <code>&#x5c;section</code>[[[RBRACE]]]

<p>
Optional arguments, in macros defined using <code>&#x5c;newcommand</code>, don&rsquo;t
quite work like the optional argument to <code>&#x5c;section</code>.  The default
value of <code>&#x5c;section</code>&rsquo;s optional argument is the value of the
mandatory argument, but <code>&#x5c;newcommand</code> requires that you &lsquo;know&rsquo; the
value of the default beforehand.

<p>
The requisite trick is to use a macro in the optional argument:
<blockquote>
<pre>
\documentclass{article}
\newcommand\thing[2][\DefaultOpt]{%
  \def\DefaultOpt{#2}%
  optional arg: #1,  mandatory arg: #2%
}
\begin{document}
\thing{manda}% #1=#2

\thing[opti]{manda}% #1="opti"
\end{document}
</pre>
</blockquote>
LaTeX itself has a trickier (but less readily understandable)
method, using a macro <code>&#x5c;@dblarg</code>; inside LaTeX, the example
above would have been programmed:
<blockquote>
<pre>
\newcommand\thing{\@dblarg\@thing}
\newcommand\@thing[2][\@error]{%
  optional arg: #1,  mandatory arg: #2%
}
</pre>
</blockquote>
In that code, <code>&#x5c;@thing</code> is only ever called with an optional and a
mandatory argument; if the default from the <code>&#x5c;newcommand</code> is
invoked, a bug in user code has bitten&hellip;

<p>
[[[Question]]][Q-twooptarg][[[LBRACE]]]More than one optional argument[[[RBRACE]]]

<p>
If you&rsquo;ve already read 
&ldquo;<a class="FAquestion.html" href="FAQ-moren9.html">breaking the 9-argument limit</a>&rdquo;.
you can probably guess the &ldquo;simple&rdquo; solution to this problem:
command relaying.

<p>
LaTeX allows commands with a single optional argument thus:
<blockquote>
<pre>
  \newcommand{\blah}[1][Default]{...}
</pre>
</blockquote>

<p>
You may legally call such a command either with its optional argument
present, as
<code>&#x5c;blah</code><code>[nonDefault]</code> or without, as <code>&#x5c;blah</code>; in the latter
case, the code of <code>&#x5c;blah</code> will have an argument of <code class="verb">Default</code>.

<p>
To define a command with two optional arguments, we use the relaying
technique, as follows:
<blockquote>
<pre>
\newcommand{\blah}[1][Default1]{%
  \def\ArgI{{#1}}%
  \BlahRelay
}
\newcommand\BlahRelay[1][Default2]{%
  % the first optional argument is now in
  % \ArgI
  % the second is in #1
  ...%
}
</pre>
</blockquote>
Of course, <code>&#x5c;BlahRelay</code> may have as many mandatory arguments as are
allowed, after allowance for the one taken up with its own
optional argument&nbsp;&mdash; that is, 8.

<p>
Variants of <code>&#x5c;newcommand</code> (and friends), with names like
<code>&#x5c;newcommandtwoopt</code>, are available in the <i class="package">twoopt</i> package.
However, if you can, it&rsquo;s probably better to learn to write the commands
yourself, just to see why they&rsquo;re not even a good idea from the
programming point of view.

<p>
A command with two optional arguments strains the limit of what&rsquo;s
sensible: obviously you can extend the technique to provide as many
optional arguments as your fevered imagination can summon.  However,
see the comments on the use of the <i class="package">keyval</i> package, in 
&ldquo;<a class="FAquestion.html" href="FAQ-moren9.html">breaking the 9-argument limit</a>&rdquo;,
which offers an alternative way forward.

<p>
If you must, however, consider the <i class="package">optparams</i> or
<i class="package">xargs</i> packages.  <i class="package">Optparams</i>
provides a <code>&#x5c;optparams</code> command that you use as an intermediate in
defining commands with up to nine optional arguments.  The
documentation shows examples of commands with four optional arguments
(and this from an author who has his own key-value package!).

<p>
The <i class="package">xargs</i> package uses a key-value package
(<i class="package">xkeyval</i>) to <em>define</em> the layout of the optional
arguments.  Thus
<blockquote>
<pre>
\usepackage{xargs}
...
\newcommandx{\foo}[3][1=1, 3=n]{...}
</pre>
</blockquote>
defines a command <code>&#x5c;foo</code> that has an optional first argument
(default 1), a mandatory second argument, and an optional third
argument (default n).

<p>
An alternative approach is offered by Scott Pakin&rsquo;s
<i class="progname">newcommand</i> program, which takes a command name and a
definition of a set of command arguments (in a fairly
readily-understood language), and emits (La)TeX macros which enable
the command to be defined.  The command requires that a
<i class="progname">Python</i> interpreter (etc.) be installed on your computer.
<dl>
<dt class="ctanref">newcommand.py</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newcommand">newcommand</a>
<dt class="ctanref">optparams.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/optparams">sauerj</a>
<dt class="ctanref">twoopt.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/twoopt">oberdiek</a>
<dt class="ctanref">xargs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xargs">xargs</a>
<dt class="ctanref">xkeyval.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xkeyval">xkeyval</a>
</dl>

<p>
[[[Question]]][Q-cmdstar][[[LBRACE]]]Commands defined with * options[[[RBRACE]]]

<p>
LaTeX commands commonly have &ldquo;versions&rdquo; defined with an asterisk
tagged onto their name: for example <code>&#x5c;newcommand</code> and
<code>&#x5c;newcommand*</code> (the former defines a <code>&#x5c;long</code> version of the
command).

<p>
The simple-minded way for a user to write such a command involves use
of the <i class="package">ifthen</i> package:

<blockquote>
<pre>
\newcommand{\mycommand}[1]{\ifthenelse{\equal{#1}{*}}%
  {\mycommandStar}%
  {\mycommandNoStar{#1}}%
}
\newcommand{\mycommandStar}{starred version}
\newcommand{\mycommandNoStar}[1]{normal version}
</pre>
</blockquote>



<pre>
\newcommand{\mycommand}[1]{%
  \ifthenelse{\equal{#1}{*}}%
    {\mycommandStar}%
    {\mycommandNoStar{#1}}%
}
\newcommand{\mycommandStar}%
                {starred version}
\newcommand{\mycommandNoStar}[1]%
                 {normal version}
</pre>


This does the trick, for sufficiently simple commands, but it has
various tiresome failure modes, and it requires <code>&#x5c;mycommandnostar</code>
to take an argument.

<p>
The LaTeX kernel does a lot of this, and has its own command,
<code>&#x5c;@ifstar</code> (which needs &lsquo;internal command protection&rsquo;, cf.
<blockquote>

<pre>
\makeatletter
\newcommand{\mycommand}{%
             \@ifstar
                  \mycommandStar%
                  \mycommandNoStar%
\makeatother
}
\newcommand{\mycommandStar}{starred version}
\newcommand{\mycommandNoStar}{normal version}
</pre>


<pre>
\makeatletter
\newcommand{\mycommand}{\@ifstar
                     \mycommandStar%
                     \mycommandNoStar%
}
\makeatother
\newcommand{\mycommandStar}{starred version}
\newcommand{\mycommandNoStar}{normal version}
</pre>

</blockquote>
(Note that arguments to <code>&#x5c;mycommandStar</code> and <code>&#x5c;mycommandNoStar</code>
are independent&nbsp;&mdash; either can have their own arguments, unconstrained
by the technique we&rsquo;re using, unlike the trick described above.)
The <code>&#x5c;@ifstar</code> trick is all very well, is fast and efficient, but
it requires that the definition be 
<a href="FAQ-atsigns.html"><code>&#x5c;makeatletter</code> protected</a>.

<p>
A pleasing alternative is the <i class="package">suffix</i> package.  This elegant
piece of code allows you to define variants of your commands:


<pre>
\newcommand\mycommand{normal version}
\WithSuffix\newcommand\mycommand*%
                     {starred version}
</pre>



<blockquote>
<pre>
\newcommand\mycommand{normal version}
\WithSuffix\newcommand\mycommand*{starred version}
</pre>
</blockquote>

The package needs <a href="FAQ-etex.html">e-LaTeX</a>, but any new enough
distribution defines LaTeX as e-LaTeX by default.  Command
arguments may be specified in the normal way, in both command
definitions (after the &ldquo;<tt>*</tt>&rdquo; in the <code>&#x5c;WithSuffix</code>
version).  You can also use the TeX primitive commands, creating a
definition like:
<blockquote>
<pre>
\WithSuffix\gdef\mycommand*{starred version}
</pre>
</blockquote>

<p>
For those of an adventurous disposition, a further option is to use
the <i class="package">xparse</i> package from the <i class="package">l3packages</i>
distribution.  The package defines a bunch of commands (such as
<code>&#x5c;NewDocumentCommand</code>) which are somewhat analagous to
<code>&#x5c;newcommand</code> and the like, in LaTeX 2e.  The big difference is
the specification of command arguments; for each argument, you have a
set of choices in the command specification.  So, to create a
*-command (in LaTeX 2e style), one might write:
<blockquote>
<pre>
\NewDocumentCommand \foo { s m } {%
  % #1 is the star indicator
  % #2 is a mandatory argument
  ...
}
</pre>
</blockquote>
The &ldquo;star indicator&rdquo; (<tt>s</tt>) argument appears as <tt>\#1</tt>
and will take values <code>&#x5c;BooleanTrue</code> (if there was a star) or
<code>&#x5c;BooleanFalse</code> (otherwise); the other (<tt>m</tt>) argument  is a
normal TeX-style mandatory argument, and appears as <tt>\#2</tt>.

<p>
While <i class="package">xparse</i> provides pleasing command argument
specifications, it <em>is</em> part of the 
<a href="FAQ-LaTeX3.html">LaTeX&nbsp;3 experimental harness</a>.
Simply loading the package to provide <code>&#x5c;DeclareDocumentCommand</code>
&ldquo;pulls in&rdquo; all of the LaTeX3 kernel (a large bunch of packages)
via the <i class="package">expl3</i> package.
<dl>
<dt class="ctanref">ifthen.sty</dt><dd>Part of the LaTeX distribution
<dt class="ctanref">suffix.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/suffix">bigfoot</a>
<dt class="ctanref">xparse.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/xparse">l3packages</a>
<dt class="ctanref">expl3.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/expl3">l3kernel</a>
</dl>

<p class="lastedit">This answer last edited: 2014-04-04</p>

<p>

[[[Question]]][Q-ltxabbrv][[[LBRACE]]]LaTeX internal &ldquo;abbreviations&rdquo;, etc.[[[RBRACE]]]

<p>
In the deeps of time, when TeX first happened, computers had
extremely limited memory, and were (by today&rsquo;s standards) painfully
slow.  When LaTeX came along, things weren&rsquo;t much better, and even
when LaTeX 2e appeared, there was a strong imperative to save memory
space (and to a lesser extent) CPU time.

<p>
From the very earliest days, Knuth used shortcut macros to speed
things up.  LaTeX, over the years, has extended Knuth&rsquo;s list by a
substantial amount.  An interesting feature  of the &ldquo;abbreviations&rdquo; is
that on paper, they may look longer than the thing they stand for;
however, to (La)TeX they <em>feel</em> smaller&hellip;

<p>
The table at the end of this answer lists the commonest of these
&ldquo;abbreviations&rdquo;.  It is not complete; as always, if the table
doesn&rsquo;t help, try the LaTeX source.  The table lists each
abbreviation&rsquo;s <em>name</em> and its <em>value</em>, which provide most of
what a user needs to know.  The table also lists the abbreviation&rsquo;s
<em>type</em>, which is a trickier concept: if you need to know, the
only real confusion is that the abbreviations labelled &lsquo;defn&rsquo; are
defined using an <code>&#x5c;<em>xxxx</em>def</code> command.

<p>
<table><tbody>
<tr><td>Name </td><td> Type </td><td> Value </td></tr>

<tr><td><code>&#x5c;m@ne</code> </td><td> count </td><td> -1 </td></tr>
<tr><td><code>&#x5c;p@</code>  </td><td> dimen </td><td> 1pt </td></tr>
<tr><td><code>&#x5c;z@</code>  </td><td> dimen </td><td> 0pt </td></tr>
<tr><td><code>&#x5c;z@skip</code> </td><td> skip </td><td> 0pt plus 0pt minus 0pt </td></tr>

<tr><td><code>&#x5c;@ne</code> </td><td> defn </td><td> 1 </td></tr>
<tr><td><code>&#x5c;tw@</code> </td><td> defn </td><td> 2</td></tr>
<tr><td><code>&#x5c;thr@@</code> </td><td> defn </td><td> 3 </td></tr>
<tr><td><code>&#x5c;sixt@@n</code> </td><td> defn </td><td> 16 </td></tr>
<tr><td><code>&#x5c;@cclv</code> </td><td> defn </td><td> 255 </td></tr>
<tr><td><code>&#x5c;@cclvi</code> </td><td> defn </td><td> 256 </td></tr>
<tr><td><code>&#x5c;@m</code> </td><td> defn </td><td> 1000 </td></tr>
<tr><td><code>&#x5c;@M</code> </td><td> defn </td><td> 10000 </td></tr>
<tr><td><code>&#x5c;@MM</code> </td><td> defn </td><td> 20000 </td></tr>

<tr><td><code>&#x5c;@vpt</code> </td><td> macro </td><td> 5 </td></tr>
<tr><td><code>&#x5c;@vipt</code> </td><td> macro </td><td> 6 </td></tr>
<tr><td><code>&#x5c;@viipt</code> </td><td> macro </td><td> 7 </td></tr>
<tr><td><code>&#x5c;@viiipt</code> </td><td> macro </td><td> 8 </td></tr>
<tr><td><code>&#x5c;@ixpt</code> </td><td> macro </td><td> 9 </td></tr>
<tr><td><code>&#x5c;@xpt</code> </td><td> macro </td><td> 10 </td></tr>
<tr><td><code>&#x5c;@xipt</code> </td><td> macro </td><td> 10.95 </td></tr>
<tr><td><code>&#x5c;@xiipt</code> </td><td> macro </td><td> 12 </td></tr>
<tr><td><code>&#x5c;@xivpt</code> </td><td> macro </td><td> 14.4 </td></tr>
<tr><td><code>&#x5c;@xviipt</code> </td><td> macro </td><td> 17.28 </td></tr>
<tr><td><code>&#x5c;@xxpt</code> </td><td> macro </td><td> 20.74 </td></tr>
<tr><td><code>&#x5c;@xxvpt</code> </td><td> macro </td><td> 24.88 </td></tr>

<tr><td><code>&#x5c;@plus</code> </td><td> macro </td><td> &ldquo;<tt>plus</tt>&rdquo; </td></tr>
<tr><td><code>&#x5c;@minus</code> </td><td> macro </td><td> &ldquo;<tt>minus</tt>&rdquo; </td></tr>

</tbody></table>

<p>
[[[Question]]][Q-ltxhash][[[LBRACE]]]Defining LaTeX commands within other commands[[[RBRACE]]]

<p>
LaTeX command definition is significantly different from the TeX
primitive form discussed in an 
<a href="FAQ-hash.html">earlier question</a> about definitions within
macros.

<p>
In most ways, the LaTeX situation is simpler (at least in part
because it imposes more restrictions on the user); however, defining a
command within a command still requires some care.

<p>
The earlier question said you have to double the <code class="verb">#</code> signs in command
definitions: in fact, the same rule holds, except that LaTeX
already takes care of some of the issues, by generating argument lists
for you.

<p>
The basic problem is that:
<blockquote>
<pre>
\newcommand{\abc}[1]{joy, oh #1!%
  \newcommand{\ghi}[1]{gloom, oh #1!}%
}
</pre>
</blockquote>
followed by a call:
<blockquote>
<pre>
\cmdinvoke{abc}{joy}
</pre>
</blockquote>
typesets &ldquo;joy, oh joy!&rdquo;, but defines a command <code>&#x5c;ghi</code> that takes
one parameter, which it ignores; <code>&#x5c;ghi</code><code>&#x7b;gloom&#x7d;</code> will expand to
&ldquo;gloom, oh joy!&rdquo;, which is presumably not what was expected.

<p>
And (as you will probably guess, if you&rsquo;ve read the earlier question)
the definition:
<blockquote>
<pre>
\newcommand{\abc}[1]{joy, oh #1!%
  \newcommand{\ghi}[1]{gloom, oh ##1!}%
}
</pre>
</blockquote>
does what is required, and <code>&#x5c;ghi</code><code>&#x7b;gloom&#x7d;</code> will expand to
&ldquo;gloom, oh gloom!&rdquo;, whatever the argument to <code>&#x5c;abc</code>.

<p>
The doubling is needed whether or not the enclosing command has an
argument, so:
<blockquote>
<pre>
\newcommand{\abc}{joy, oh joy!%
  \newcommand{\ghi}[1]{gloom, oh ##1!}%
}
</pre>
</blockquote>
is needed to produce a replica of the <code>&#x5c;ghi</code> we defined earlier.

<p>
[[[Question]]][Q-printvar][[[LBRACE]]]How to print contents of variables?[[[RBRACE]]]
<!-- typeout, print variables, showthe -->

<p>
It is often useful to print out the values of variables in the log
file or on the terminal.  Three possible ways to print out the
contents of <code>&#x5c;textheight</code> variable are:
<ol>
<li> <code>&#x5c;showthe</code><code>&#x5c;textheight</code>
<li> <code>&#x5c;message</code><code>&#x7b;The text height is <code>&#x5c;the</code><code>&#x5c;textheight</code>&#x7d;</code>
<li> <code>&#x5c;typeout</code><code>&#x7b;The text height is <code>&#x5c;the</code><code>&#x5c;textheight</code>&#x7d;</code>
</ol>
These techniques use the TeX primitives <code>&#x5c;the</code> (which provides
the value of a variable), <code>&#x5c;showthe</code> (print a variable to the
terminal and the log, on a line of its own), and <code>&#x5c;message</code>, which
interpolates something into the log.  The command <code>&#x5c;typeout</code> is
LaTeX&rsquo;s general message output mechanism.

<p>
In each case, the variable&rsquo;s value is printed as a number of points.

<p>
To typeset the value of <code>&#x5c;textheight</code>, just
<code>&#x5c;the</code><code>&#x5c;textheight</code> is enough, but a more flexible alternative is
to use the <i class="package">printlen</i> package.  <i class="package">Printlen</i> allows you
to choose the units in which you print a variable; this is useful,
given that the most ordinary people don&rsquo;t think in points
(particularly Knuth&rsquo;s points, of which there are 72.27 to the inch).

<p>
So, using <i class="package">printlen</i>, we could say:
<blockquote>
<pre>
\newlength{\foo}
\setlength{\foo}{12pt}
\verb|\foo| is \printlength{\foo}
</pre>
</blockquote>
and get:
<blockquote>
<code>&#x5c;foo</code> is 12pt
</blockquote>
while, if we say:
<blockquote>
<pre>
\newlength{\foo}
\setlength{\foo}{12pt}
\uselengthunit{mm}
\verb|foo| is \printlength{\foo}
</pre>
</blockquote>
we get:
<blockquote>
<code>&#x5c;foo</code> is 4.21747mm
</blockquote>
<dl>
<dt class="ctanref">printlen.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/printlen">printlen</a>
</dl>

<p class="lastedit">This answer last edited: 2012-03-16</p>

<p>
[[[Question]]][Q-labelcount][[[LBRACE]]]Using labels as counter values[[[RBRACE]]]

<p>
Labels are tempting sources of &lsquo;numbers&rsquo;&nbsp;&mdash; their most common use,
after all, is simply to typeset a number.  However, their seeming
simplicity is deceptive; the packages <i class="package">babel</i> and
<i class="package">hyperref</i>, at least, fiddle with the definition of
<code>&#x5c;ref</code> and <code>&#x5c;pageref</code> in ways that make
<blockquote>
<pre>
\setcounter{foo}{\ref{bar}}
</pre>
</blockquote>
(etc.) not work; thus the technique may not be relied upon.

<p>
The solution is to use the <i class="package">refcount</i> package (incidentally,
by the author of <i class="package">hyperref</i>).  The package provides four
commands, all similar to:
<blockquote>
<pre>
\usepackage{refcount}
...
\label{bar}
...
\setcounterref{foo}{bar}
</pre>
</blockquote>
(the other three are <code>&#x5c;addtocounterref</code>, <code>&#x5c;setcounterpageref</code>
and <code>&#x5c;addtocounterpageref</code>).

<p>
The package also provides a command
<code>&#x5c;getrefnumber</code><code>&#x7b;label-name&#x7d;</code> that may be used where a
&lsquo;number&rsquo; value is needed.  For example:
<blockquote>
<pre>
... \footnote{foo bar ...\label{foofoot}}
...
\footnotemark[\getrefnumber{foofoot}]
</pre>
</blockquote>
which gives you a second footnote mark reference the the footnote.
(There is also a command <code>&#x5c;getpagerefnumber</code>, of course).

<p>
The commands could be used by one determined not to use
<i class="package">changepage</i> to determine whether 
<a href="FAQ-oddpage.html">the current page is odd</a>, but it&rsquo;s probably no more
trouble to use the fully-developed tool in this case.
<dl>
<dt class="ctanref">refount.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/oberdiek">oberdiek</a>
</dl>

<p class="lastedit">This answer last edited: 2011-09-08</p>

<p>

<p>

<p>
[[[Question]]][Q-fixnam][[[LBRACE]]]How to change LaTeX&rsquo;s &ldquo;fixed names&rdquo;[[[RBRACE]]]

<p>
LaTeX document classes define several typographic operations that
need &lsquo;canned text&rsquo; (text not supplied by the user).  In the earliest
days of LaTeX 2.09 these bits of text were built in to the body of
LaTeX&rsquo;s macros and were rather difficult to change, but &ldquo;fixed
name&rdquo; macros were introduced for the benefit of those wishing to use
LaTeX in languages other than English.
For example, the special section produced by the <code>&#x5c;tableofcontents</code>
command is always called <code>&#x5c;contentsname</code> (or rather, what
<code>&#x5c;contentsname</code> is defined to mean).
Changing the canned text is now one of the easiest customisations a
user can do to LaTeX.

<p>
The canned text macros are all of the form
<code>&#x5c;&lsaquo;<i>thing</i>&rsaquo;name</code>, and changing them is simplicity
itself.  Put:
<blockquote>
<code>&#x5c;renewcommand</code><code>&#x7b;<code>&#x5c;&lsaquo;<i>thing</i>&rsaquo;name</code>&#x7d;</code></code><code>&#x7b;Res minor&#x7d;</code>
</blockquote>
in the preamble of your document, and the job is done.
(However, beware of the <i class="package">babel</i> package, which requires you to
use a different mechanism: be sure to check

<a class="FAquestion.html" href="FAQ-latexwords.html">changing <i class="package">babel</i> names</a> if
you&rsquo;re using it.)

<p>
The names that are defined in the standard LaTeX classes (and the
<i class="package">makeidx</i> package) are listed
below.  Some of the names are only defined in a subset of the classes
(and the <i class="class">letter</i> class has a set of names all of its own);
the list shows the specialisation of each name, where appropriate.

<p>
<table><tbody>
<tr><td><code>&#x5c;abstractname</code> </td><td> Abstract</td></tr>
<tr><td><code>&#x5c;alsoname</code> </td><td> see also (<i class="package">makeidx</i> package)</td></tr>
<tr><td><code>&#x5c;appendixname</code> </td><td> Appendix</td></tr>
<tr><td><code>&#x5c;bibname</code> </td><td> Bibliography (<i class="class">report</i>,<i class="class">book</i>)</td></tr>
<tr><td><code>&#x5c;ccname</code> </td><td> cc (<i class="class">letter</i>)</td></tr>
<tr><td><code>&#x5c;chaptername</code> </td><td> Chapter (<i class="class">report</i>,<i class="class">book</i>)</td></tr>
<tr><td><code>&#x5c;contentsname</code> </td><td> Contents</td></tr>
<tr><td><code>&#x5c;enclname</code> </td><td> encl (<i class="class">letter</i>)</td></tr>
<tr><td><code>&#x5c;figurename</code> </td><td> Figure (for captions)</td></tr>
<tr><td><code>&#x5c;headtoname</code> </td><td> To (<i class="class">letter</i>)</td></tr>
<tr><td><code>&#x5c;indexname</code> </td><td> Index</td></tr>
<tr><td><code>&#x5c;listfigurename</code> </td><td> List of Figures</td></tr>
<tr><td><code>&#x5c;listtablename</code> </td><td> List of Tables</td></tr>
<tr><td><code>&#x5c;pagename</code> </td><td> Page (<i class="class">letter</i>)</td></tr>
<tr><td><code>&#x5c;partname</code> </td><td> Part</td></tr>
<tr><td><code>&#x5c;refname</code> </td><td> References (<i class="class">article</i>)</td></tr>
<tr><td><code>&#x5c;seename</code> </td><td> see (<i class="package">makeidx</i> package)</td></tr>
<code>&#x5c;tablename</code> </td><td> Table (for caption)
</tbody></table>

<p>
[[[Question]]][Q-latexwords][[[LBRACE]]]Changing the words <i class="package">babel</i> uses[[[RBRACE]]]

<p>
LaTeX uses symbolic names for many of the automatically-generated
text it produces (special-purpose section headings, captions, etc.).
As noted in <a class="FAquestion.html" href="FAQ-fixnam.html">&ldquo;LaTeX fixed names&rdquo;</a> (which
includes a list of the names themselves),
this enables the user to change the
names used by the standard classes, which is particularly useful if
the document is being prepared in some language other than LaTeX&rsquo;s
default English.  So, for example, a Danish author may wish that her
table of contents was called &ldquo;Indholdsfortegnelse&rdquo;, and so 
would expect to place a command
<pre>
\renewcommand{\contentsname}%
    {Indholdsfortegnelse}
</pre>
in the preamble of her document.

<p>
However, it&rsquo;s natural for a user of a non-English language to use
<i class="package">babel</i>, because it offers many conveniences and typesetting
niceties for those preparing documents in those languages.  In
particular, when <i class="package">babel</i> is selecting a new language, it
ensures that LaTeX&rsquo;s symbolic names are translated appropriately
for the language in question.  Unfortunately, <i class="package">babel</i>&rsquo;s choice
of names isn&rsquo;t always to everyone&rsquo;s choice, and there is still a need
for a mechanism to replace the &lsquo;standard&rsquo; names.

<p>
Whenever a new language is selected, <i class="package">babel</i> resets all the
names to the settings for that language.  In particular,
<i class="package">babel</i> selects the document&rsquo;s main language when
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code> is executed, which immediately destroys
any changes to these symbolic names made in the prologue of a document
that uses <i class="package">babel</i>. 

<p>
Therefore, babel defines a command to enable users to change the
definitions of the symbolic names, on a per-language basis:
<code>&#x5c;addto</code><code>&#x5c;captions</code><tt>&lsaquo;<i>language</i>&rsaquo;</tt> is the thing
(<tt>&lsaquo;<i>language</i>&rsaquo;</tt> being the language option you gave to
<i class="package">babel</i> in the first place).  For example:
<pre>
\addto\captionsdanish{%
  \renewcommand{\contentsname}%
    {Indholdsfortegnelse}%
}
</pre>

<p>
[[[Question]]][Q-running-nos][[[LBRACE]]]Running equation, figure and table numbering[[[RBRACE]]]

<p>
Many LaTeX classes (including the standard <i class="class">book</i> class)
number things per chapter; so figures in chapter 1 are numbered 1.1,
1.2, and so on.  Sometimes this is not appropriate for the user&rsquo;s
needs.

<p>
Short of rewriting the whole class, one may use the <i class="package">chngcntr</i>
package, which provides commands <code>&#x5c;counterwithin</code> (which
establishes this nested numbering relationship) and
<code>&#x5c;counterwithout</code> (which undoes it).

<p>
So if you have figures numbered by chapter as 1.1, 1.2, 2.1, &hellip;,
the command 
<blockquote>
<pre>
\counterwithout{figure}{chapter}
</pre>
</blockquote>
will convert them to figures 1, 2, 3, &hellip;.  (Note that the command
has also removed the chapter number from the counter&rsquo;s definition.)

<p>
More elaborate use could change things numbered per section to things
numbered per chapter:
<blockquote>
<pre>
\counterwithout{equation}{section}
\counterwithin{equation}{chapter}
</pre>
</blockquote>
(assuming there was a class that did such a thing in the first place...)

<p>
The <i class="package">chngcntr</i> approach doesn&rsquo;t involve much programming, and
the enthusiastic LaTeX programmer might choose to try the technique
that we had to use before the advent of <i class="package">chngcntr</i>.  Each of
the packages <i class="package">removefr</i> and <i class="package">remreset</i> defines a
<code>&#x5c;@removefromreset</code> command, and having included the package one
writes something like:
<blockquote>
<pre>
\makeatletter
\@removefromreset{figure}{chapter}
\makeatother
</pre>
</blockquote>
and the automatic renumbering stops.  You may then need to redefine the
way in which the figure number (in this case) is printed:
<blockquote>
<pre>
\makeatletter
\renewcommand{\thefigure}{\@arabic\c@figure}
\makeatother
</pre>
</blockquote>
(remember to do the whole job, for every counter you want to
manipulate, within <code>&#x5c;makeatletter</code> &hellip; <code>&#x5c;makeatother</code>).

<p>
This technique, too, may be used to change where in a multilevel
structure a counter is reset.  Suppose your class numbers figures as
&lsaquo;<i>chapter</i>&rsaquo;.&lsaquo;<i>section</i>&rsaquo;.&lsaquo;<i>figure</i>&rsaquo;, and you want figures
numbered per chapter, try:
<blockquote>

<pre>
\makeatletter
\@removefromreset{figure}{section}
\@addtoreset{figure}{chapter}
\renewcommand{\thefigure}{\thechapter.\@arabic\c@figure}
\makeatother
</pre>


<pre>
\makeatletter
\@removefromreset{figure}{section}
\@addtoreset{figure}{chapter}
\renewcommand{\thefigure}%
             {\thechapter.\@arabic\c@figure}
\makeatother
</pre>

</blockquote>
(the command <code>&#x5c;@addtoreset</code> is a part of LaTeX itself).
<dl>
<dt class="ctanref">chngcntr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/chngcntr">chngcntr</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">removefr.tex</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/removefr">removefr</a> (note, this is constructed as a
  &ldquo;fragment&rdquo; for use within other packages: load by
  <code>&#x5c;input</code><code>&#x7b;removefr&#x7d;</code>)
<dt class="ctanref">remreset.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/remreset">carlisle</a>
</dl>

<p>
[[[Question]]][Q-labelctr][[[LBRACE]]]Making labels from a counter[[[RBRACE]]]

<p>
Suppose we have a LaTeX counter, which we&rsquo;ve defined with
<code>&#x5c;newcounter</code><code>&#x7b;foo&#x7d;</code>.  We can increment the value of the counter
by <code>&#x5c;addtocounter</code><code>&#x7b;foo&#x7d;</code></code><code>&#x7b;1&#x7d;</code>, but that&rsquo;s pretty clunky for an
operation that happens so often &hellip;&nbsp;so there&rsquo;s a command
<code>&#x5c;stepcounter</code><code>&#x7b;foo&#x7d;</code> that does this special case of
increasing-by-one.

<p>
There&rsquo;s an internal LaTeX variable, the &ldquo;current label&rdquo;, that
remembers the last &lsquo;labellable&rsquo; thing that LaTeX has processed.
You could (if you were to insist) set that value by the relevant
TeX command (having taken the necessary precautions to ensure that
the internal command worked)&nbsp;&mdash; but it&rsquo;s not necessary.  If, instead
of either of the stepping methods above, you say
<code>&#x5c;refstepcounter</code><code>&#x7b;foo&#x7d;</code>, the internal variable is set to the
new value, and (until something else comes along), <code>&#x5c;label</code> will
refer to the counter.

<p>
[[[Question]]][Q-oddpage][[[LBRACE]]]Finding if you&rsquo;re on an odd or an even page[[[RBRACE]]]

<p>
<a class="FAQuestion.html" href="FAQ-marginparside.html">Another question</a> discusses the issue
of getting <code>&#x5c;marginpar</code> commands to put their output in the correct
margin of two-sided documents.  This is an example of the general
problem of knowing where a particular bit of text lies: the output
routine is asynchronous, and (La)TeX will usually process quite a
bit of the &ldquo;next&rdquo; page before deciding to output any page.  As a
result, the <code class="verb">page</code> counter (known internally in LaTeX as
<code>&#x5c;c@page</code>) is normally only reliable when you&rsquo;re actually <em>in</em>
the output routine.

<p>
The solution is to use some version of the <code>&#x5c;label</code> mechanism to
determine which side of the page you&rsquo;re on; the value of the page
counter that appears in a <code>&#x5c;pageref</code> command has been inserted in
the course of the output routine, and is therefore safe.

<p>
However, <code>&#x5c;pageref</code> itself isn&rsquo;t reliable: one might hope that
<blockquote>
<pre>
\ifthenelse{\isodd{\pageref{foo}}}{odd}{even}
</pre>
</blockquote>
would do the necessary, but both the <i class="package">babel</i> and
<i class="package">hyperref</i> packages have been known to interfere with the
output of <code>&#x5c;pageref</code>; be careful!

<p>
The <i class="package">changepage</i> package needs to provide this functionality
for its own use, and therefore provides a command <code>&#x5c;checkoddpage</code>;
this sets a private-use &lsquo;label&rsquo;, and the page reference part of that
label is then examined (in a <i class="package">hyperref</i>-safe way) to set a
conditional <code>&#x5c;ifoddpage</code> true if the command was issued on an odd
page.  (The <i class="class">memoir</i> class has the same command.)  LaTeX
users who are unfamiliar with TeX&rsquo;s <code>&#x5c;if...</code> commands may use
the <i class="package">ifthen</i> package:

<blockquote>
<pre>
\usepackage{ifthen,changepage}
...
\checkoddpage
\ifthenelse{\boolean{oddpage}}{<odd page stuff>}{<even page stuff>}
</pre>
</blockquote>



<pre>
\usepackage{ifthen,changepage}
...
\checkoddpage
\ifthenelse{\boolean{oddpage}}%
    {<odd page stuff>}%
    {<even page stuff>}
</pre>



<p>
Of course, the &lsquo;label&rsquo; contributes to LaTeX&rsquo;s &ldquo;Rerun to get
cross-references right&rdquo; error messages&hellip;

<p>
The Koma-Script classes have an <code class="environment">addmargin*</code> environment
that also provides the sorts of facilities that the <i class="package">changepage</i>
offers.  Koma-Script&rsquo;s supporting command:
<blockquote>
<code>&#x5c;ifthispageodd</code><code>&#x7b;<true>&#x7d;</code></code><code>&#x7b;<false>&#x7d;</code>
</blockquote>
executes different things depending on the page number.

<p>
The package <i class="package">ifoddpage</i> is designed to provide the same
facility; crucially, it can behave &ldquo;sensibly&rdquo; even if you are
typesetting for one-side printing only; like the <i class="package">changepage</i>
it uses a &lsquo;check&rsquo; command <code>&#x5c;checkoddpage</code>.  The conditional &lsquo;side&rsquo;
flags are set using (Plain) TeX conditionals; they are defined
locally, so that you can minimise their use of TeX workspace&nbsp;&mdash;
see the package documentation for the somewhat tricky sequence
involved.  In addition the package provides a command
<code>&#x5c;ifoddpageoroneside</code>, which is true on odd pages of a two-side
document, or on all pages of a one-side document.  Usage is:
<blockquote>
<pre>
\checkoddpage
\ifoddpage
  odd-side text
\else
  even-side text
\fi
</pre>
</blockquote>
The author&rsquo;s recommended usage (trickily) includes the whole operation
in a box; this has the advantage that your test will always work, but
the usual disadvantage that boxes may not split.  In common uses, the
whole work will be done inside a box (as, for example, in the case of
a float), so the elaborate work proposed by the author is not
necessary.
<dl>
<dt class="ctanref">changepage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/changepage">changepage</a>
<dt class="ctanref">ifoddpage.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ifoddpage">ifoddpage</a>
<dt class="ctanref">ifthen.sty</dt><dd>Part of the LaTeX distribution: <a class="ctan" href="https://www.ctan.org/pkg/latex">latex</a>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
</dl>

<p>
[[[Question]]][Q-labelformat][[[LBRACE]]]How to change the format of labels[[[RBRACE]]]

<p>
By default, when a label is created, it takes on the appearance of the
counter labelled, so the label appears as
<code>&#x5c;the</code><tt>&lsaquo;<i>counter</i>&rsaquo;</tt>&nbsp;&mdash; what would be used if you
asked to typeset the counter in your text.  This isn&rsquo;t always what you
need: for example, if you have nested enumerated lists with the outer
numbered and the inner labelled with letters, one might expect to want
to refer to items in the inner list as &ldquo;2(c)&rdquo;.   (Remember, you can

<a href="FAQ-enumerate.html">change the structure of list items</a>.)
The change is of course
possible by explicit labelling of the parent and using that label to
construct the typeset result&nbsp;&mdash; something like
<blockquote>
<pre>
\ref{parent-item}(\ref{child-item})
</pre>
</blockquote>
which would be both tedious and error-prone.  What&rsquo;s more, it would be
undesirable, since you would be constructing a visual representation
which is inflexible (you couldn&rsquo;t change all the references to elements
of a list at one fell swoop).

<p>
LaTeX in fact has a label-formatting command built into every label
definition; by default it&rsquo;s null, but it&rsquo;s available for the user to
program.  For any label &lsaquo;<i>counter</i>&rsaquo; there&rsquo;s a LaTeX internal
command <code>&#x5c;p@</code>&lsaquo;<i><tt>counter</tt></i>&rsaquo;; for example, a label definition
on an inner list item is supposedly done using the command
<code>&#x5c;p@enumii</code><code>&#x7b;<code>&#x5c;theenumii</code>&#x7d;</code>.  Unfortunately, the internal
workings of this aren&rsquo;t quite right, and you need to patch the
<code>&#x5c;refstepcounter</code> command:
<blockquote>

<pre>
\renewcommand*\refstepcounter[1]{%
  \stepcounter{#1}%
  \protected@edef\@currentlabel{%
    \csname p@#1\expandafter\endcsname
      \csname the#1\endcsname
  }%
}
</pre>


<pre>
\renewcommand*\refstepcounter[1]{\stepcounter{#1}%
  \protected@edef\@currentlabel{%
    \csname p@#1\expandafter\endcsname
      \csname the#1\endcsname
  }%
}
</pre>

</blockquote>
With the patch in place you can now, for example, change the labels on
all inner lists by adding the following code in your preamble:
<blockquote>
<pre>
\makeatletter
\renewcommand{\p@enumii}[1]{\theenumi(#1)}
\makeatother
</pre>
</blockquote>
This would make the labels for second-level enumerated lists appear as
&ldquo;1(a)&rdquo; (and so on).  The analogous change works for any counter that
gets used in a <code>&#x5c;label</code> command.

<p>
In fact, the <i class="package">fncylab</i> package does all the above (including
the patch to LaTeX itself).  With the package, the code above is
(actually quite efficiently) rendered by the command:
<blockquote>
<pre>
\labelformat{enumii}{\theenumi(#1)}
</pre>
</blockquote>
In fact, the above example, which we can do in several different ways,
has been rendered obsolete by the appearance of the <i class="package">enumitem</i>
package, which is discussed in the answer about 
<a href="FAQ-enumerate.html">decorating enumeration lists</a>.
<dl>
<dt class="ctanref">enumitem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/enumitem">enumitem</a>
<dt class="ctanref">fncylab.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fncylab">fncylab</a>
</dl>

<p>
[[[Question]]][Q-seccntfmt][[[LBRACE]]]Adjusting the presentation of section numbers[[[RBRACE]]]

<p>
The general issues of adjusting the appearance of section headings are
pretty complex, and are covered in 
the question on
<a href="FAQ-secthead.html">the style of section headings</a>.

<p>
However, people regularly want merely to change the way the section
number appears in the heading, and some such people don&rsquo;t mind writing
out a few macros.  This answer is for <em>them</em>.

<p>
The section number is typeset using the




  <a href="FAQ-atsigns.html">LaTeX internal</a>

<code>&#x5c;@seccntformat</code> command, which is given the &ldquo;name&rdquo; (section,
subsection, &hellip;) of the heading, as argument.  Ordinarily,
<code>&#x5c;@seccntformat</code> 
merely outputs the section number, and then a <code>&#x5c;quad</code> of space:
<blockquote>
<pre>
\renewcommand*{\@seccntformat}[1]{%
  \csname the#1\endcsname\quad
}
</pre>
</blockquote>
Suppose you want to put a stop after every section (subsection,
subsubsection, &hellip;) number, a trivial change may be implemented by
simple modification of the command:
<blockquote>
<pre>
\renewcommand*{\@seccntformat}[1]{%
  \csname the#1\endcsname.\quad
}
</pre>
</blockquote>
However, many people want to modify section numbers, but not
subsection numbers, or any of the others.  To do this, one must make
<code>&#x5c;@seccntformat</code> switch according to its argument.  The following
technique for doing the job is slightly wasteful, but is efficient
enough for a relatively rare operation:
<blockquote>
<pre>
\renewcommand*{\@seccntformat}[1]{%
  \csname the#1\endcsname
  \csname adddot@#1\endcsname\quad
}
</pre>
</blockquote>
which uses a second-level command to provide the dot, if it has been
defined; otherwise it merely appends <code>&#x5c;relax</code> (which does nothing
in this context).  The definition of the second-level command (the
version for the <tt>section</tt>, here) specifies what to put after a
section number, but it could be used to put anything after it:
<blockquote>
<pre>
\newcommand*{\adddot@section}{.}
</pre>
</blockquote>
Note that all the command definitions above are dealing in
<a href="FAQ-atsigns.html">LaTeX internal commands</a>, so the above
code should be in a package file, for preference.

<p>
The <i class="class">Koma-script</i> classes have different commands for specifying
changes to section number presentation: <code>&#x5c;partformat</code>,
<code>&#x5c;chapterformat</code> and <code>&#x5c;othersectionlevelsformat</code>, but otherwise
their facilities are similar to those of &ldquo;raw&rdquo; LaTeX.
<dl>
<dt class="ctanref">KOMA script bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/koma-script">koma-script</a>
</dl>

<p>
[[[Question]]][Q-spaftend][[[LBRACE]]]There&rsquo;s a space added after my environment[[[RBRACE]]]

<p>
You&rsquo;ve written your own environment <code class="environment">env</code>, and it works
except that a space appears at the start of the first line of typeset
text after <code>&#x5c;end</code><code>&#x7b;env&#x7d;</code>.  This doesn&rsquo;t happen with similar
LaTeX-supplied environments.

<p>
You could impose the restriction that your users always put a
&ldquo;<tt>&#x25;</tt>&rdquo; sign after the environment&nbsp;&hellip; but
LaTeX environments don&rsquo;t require that, either.

<p>
The LaTeX environments&rsquo; &ldquo;secret&rdquo; is an internal flag which causes
the unwanted spaces to be ignored.  Fortunately, you don&rsquo;t have to use
the internal form: since 1996, LaTeX has had a user command
<code>&#x5c;ignorespacesafterend</code>, which sets the internal flag.

<p>
[[[Question]]][Q-labundef][[[LBRACE]]]Finding if a label is undefined[[[RBRACE]]]

<p>
People seem to want to know (at run time) if a label is undefined (I
don&rsquo;t actually understand <em>why</em>, particularly: it&rsquo;s a transient
state, and LaTeX deals with it quite well).

<p>
A resolved label is simply a command:
<code>&#x5c;r@</code><tt>&lsaquo;<i>label-name</i>&rsaquo;</tt>; determining if the label is set is
then simply a matter of detecting if the command exists.  The usual
LaTeX internal way of doing this is to use the command
<code>&#x5c;@ifundefined</code>:
<blockquote>
  <code>&#x5c;@ifundefined</code><code>&#x7b;<span class="up">r@</span>label-name&#x7d;</code><code>&#x7b;undef-cmds&#x7d;</code><code>&#x7b;def-cmds&#x7d;</code>
</blockquote>
In which, &lsaquo;<i>label-name</i>&rsaquo; is exactly what you would use in
a <code>&#x5c;label</code> command, and the remaining two arguments are command
sequences to be used if the label is undefined
(&lsaquo;<i>undef-cmds</i>&rsaquo;) or if it is defined
(&lsaquo;<i>def-cmds</i>&rsaquo;).

<p>
Note that any command that incorporates <code>&#x5c;@ifundefined</code> is naturally
fragile, so remember to create it with <code>&#x5c;DeclareRobustCommand</code> or to
use it with <code>&#x5c;protect</code> in a moving argument.

<p>
If you&rsquo;re into this game, you may well not care about LaTeX&rsquo;s
warning about undefined labels at the end of the document; however,
if you are, include the command <code>&#x5c;G@refundefinedtrue</code> in
&lsaquo;<i><tt>undef-cmds</tt></i>&rsaquo;.

<p>
And of course, remember you&rsquo;re dealing in internal commands, and pay
attention to the <a href="FAQ-atsigns.html">at-signs</a>.

<p>
All the above can be avoided by using the <i class="package">labelcas</i> package:
it provides commands that enable you to switch according to the state
of a single label, or the states of a list of labels.  The package&rsquo;s
definition is a bit complicated, but the package itself is pretty
powerful.
<dl>
<dt class="ctanref">labelcas.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/labelcas">labelcas</a>
</dl>

<p>
[[[Question]]][Q-addtoreset][[[LBRACE]]]Master and slave counters[[[RBRACE]]]

<p>
It&rsquo;s common to have things numbered &ldquo;per chapter&rdquo; (for example, in
the standard <i class="class">book</i> and <i class="class">report</i> classes, figures, tables
and footnotes are all numbered thus).  The process of resetting is
done automatically, when the &ldquo;master&rdquo; counter is stepped (when the
<code>&#x5c;chapter</code> command that starts chapter &lsaquo;<i>n</i>&rsaquo; happens, the
<tt>chapter</tt> counter is stepped, and all the dependent counters are set
to zero).

<p>
How would you do that for yourself?  You might want to number
algorithms per section, or corollaries per theorem, for example.  If
you&rsquo;re defining these things by hand, you declare the relationship
when you define the counter in the first place:
<blockquote>
<code>&#x5c;newcounter</code><code>&#x7b;new-name&#x7d;</code>[master]
</blockquote>
says that every time counter &lsaquo;<i>master</i>&rsaquo; is stepped, counter
&lsaquo;<i>new-name</i>&rsaquo; will be reset.

<p>
But what if you have an uncooperative package, that defines the
objects for you, but doesn&rsquo;t provide a programmer interface to make
the counters behave as you want?

<p>
The <code>&#x5c;newcounter</code> command uses a LaTeX internal command, and you
can also use it:
<blockquote>
<code>&#x5c;@addtoreset</code><code>&#x7b;new-name&#x7d;</code></code><code>&#x7b;master&#x7d;</code>
</blockquote>
(but remember that it needs to be between <code>&#x5c;makeatletter</code> and
<code>&#x5c;makeatother</code>, or in a package of your own).

<p>
The <i class="package">chngcntr</i> package encapsulates the <code>&#x5c;@addtoreset</code>
command into a command <code>&#x5c;counterwithin</code>.  So:
<blockquote>
<pre>
\counterwithin*{corrollary}{theorem}
</pre>
</blockquote>
will make the corollary counter slave to theorem counters.  The
command without its asterisk:
<blockquote>
<pre>
\counterwithin{corrollary}{theorem}
</pre>
</blockquote>
will do the same, and also redefine <code>&#x5c;thecorollary</code> as 
&lsaquo;<i>theorem number</i>&rsaquo;.&lsaquo;<i>corollary number</i>&rsaquo;, which is a good scheme
if you ever want to refer to the corollaries&nbsp;&mdash; there are potentially
many &ldquo;corollary&nbsp;1&rdquo; in any document, so it&rsquo;s as well to tie its number
to the counter of the theorem it belongs to.  This is true of pretty
much any such counter-within-another; if you&rsquo;re not using the
<i class="package">chngcntr</i>, refer to the answer to 
<a href="FAQ-the-commands.html">redefining counters&rsquo; <code>&#x5c;the-</code>commands</a> for
the necessary techniques.

<p>
Note that the technique doesn&rsquo;t work if the master counter is <code class="verb">page</code>,
the number of the current page.  The <code class="verb">page</code> counter is stepped deep
inside the output routine, which usually gets called some time after
the text for the new page has started to appear: so special
techniques are required to deal with that.  One special case is dealt
with elsewhere: <a href="FAQ-footnpp.html">footnotes numbered per page</a>.  One
of the techniques described there, using package <i class="package">perpage</i>,
may be applied to any counter.  The command:
<blockquote>
<code>&#x5c;MakePerPage</code><code>&#x7b;counter&#x7d;</code>
</blockquote>
will cause &lsaquo;<i>counter</i>&rsaquo; to be reset for each page.  The package uses
a label-like mechanism, and may require more than one run of LaTeX
to stabilise counter values&nbsp;&mdash; LaTeX will generate the usual
warnings about labels changing.
<dl>
<dt class="ctanref">chngcntr.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/chngcntr">chngcntr</a>
<dt class="ctanref">perpage.sty</dt><dd>Distributed as part <a class="ctan" href="https://www.ctan.org/pkg/perpage">bigfoot</a>
</dl>

<p>
[[[Question]]][Q-fontsize][[[LBRACE]]]Fonts at arbitrary sizes[[[RBRACE]]]

<p>
Almost all fonts, nowadays, are provided with LaTeX control
(<code class="extension">fd</code>) files, so the temptation to risk the
<a href="FAQ-newfont*.html">problems of <code>&#x5c;newfont</code></a> is usually easy to
resist.

<p>
However, one temptation remains, arising from the way that LaTeX
restricts the sizes of fonts.  In fact, the restriction only
significantly applies to the default (Computer Modern) and the
Cork-encoded (T1) EC fonts, but it is widely considered to be
anomalous, nowadays.  In recognition of this problem, there is a
package <i class="package">fix-cm</i> which will allow you to use the fonts, within
LaTeX, at any size you choose.  If you&rsquo;re not using scaleable
versions of the fonts, most modern distributions will just generate an
appropriate bitmap for you.

<p>
So, suppose you want to produce a heading in Computer Modern Roman at
30 points, you might be tempted to write:
<blockquote>
<pre>
\newfont{\bigfont}{cmr10 at 30pt}
\begin{center}
  \bigfont Huge text
\end{center}
</pre>
</blockquote>
which will indeed work, but will actually produce a worse result than
<blockquote>
<pre>
\usepackage{fix-cm}
...
\begin{center}
  \fontsize{30}{36}\selectfont
  Huge text
\end{center}
</pre>
</blockquote>
Note that the <i class="package">fix-cm</i> package was not distributed until the
December 2003 edition of LaTeX; if you have an older distribution,
the packages <i class="package">type1cm</i> (for CM fonts) and
<i class="package">type1ec</i> (for EC fonts) are available.

<p>
<i class="package">Fix-cm</i> doesn&rsquo;t has one or two omissions&nbsp;&mdash; fonts the LaTeX
team did not consider useful, or something; the CM dunhill fonts (as
CM, but with stretched ascenders) and the CM fibonacci font (which is only
available in 8-point design size) are certainly missing.  If
<i class="package">fix-cm</i> doesn&rsquo;t do the job, try the <i class="package">type1xx</i>
packages, or the <i class="package">anyfontsize</i> package.

<p>
A further alternative might be to switch to the
<a href="FAQ-uselmfonts.html"><i class="fontname">Latin</i> <i class="fontname">Modern</i> fonts</a> (which
provide a close simulacrum of the <i class="fontname">Computer</i>
<i class="fontname">Modern</i> set); these fonts were scaleable from their first
distribution, and don&rsquo;t therefore need any such trick as the above.
<dl>
<dt class="ctanref">anyfontsize.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/anyfontsize">anyfontsize</a>
<dt class="ctanref">fix-cm.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/fix-cm">latex</a> (an unpacked
  version is available at <a class="ctan" href="https://www.ctan.org/pkg/fix-cm">fix-cm</a>)
<dt class="ctanref"><i class="fontname">Latin</i> <i class="fontname">Modern</i> fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lm">lm</a>
<dt class="ctanref">type1cm.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/type1cm">type1cm</a>
<dt class="ctanref">type1ec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/type1ec">type1ec</a> (the package is actually part of
  the <a class="ctan" href="https://www.ctan.org/pkg/cm-super">cm-super</a> distribution, but it works happily in
  the absence of the scaled fonts)
</dl>

<p class="lastedit">This answer last edited: 2013-06-04</p>

<p>
[[[Question]]][Q-latexqual][[[LBRACE]]]The quality of your LaTeX[[[RBRACE]]]

<p>
The <i class="package">l2tabu</i> tutorial (mentioned in 
<a class="FAquestion.html" href="FAQ-man-latex.html">online introductions</a>) is undoubtedly a
good read.

<p>
However, it&rsquo;s always difficult to remember the things you should
<em>not</em> do, when there are so many things to remember that you
really must do: some automation is useful&hellip;.

<p>
The nicely-named <i class="package">nag</i> allows you to apply a configurable set
of checks to your document, as you run it through LaTeX; you get
messages like:
<blockquote>

<pre>
Package nag Warning: Command \bf is an old LaTeX 2.09 command. 
(nag)                Use \bfseries or \textbf instead on input line 30.
</pre>


<pre>
Package nag Warning: Command \bf is an old
                          LaTeX 2.09 command. 
(nag)                Use \bfseries or \textbf
                    instead on input line 30.
</pre>

</blockquote>

  (the package provides a demo file which contains most of the sorts
  of errors you might make&nbsp;&mdash; the example is one of them).






While <i class="package">l2tabu</i> and <i class="package">nag</i> alert you to <em>possible</em>
programming errors, you should not forget that they are merely
commenting on <em>style</em>; don&rsquo;t assume that a <i class="package">nag</i> error is
going to damn your code&nbsp;&mdash; rather, note the issue and try to train
your fingers not to do the same &ldquo;next time&rdquo;.

<p>
The <i class="progname">lacheck</i> program analyses your source and comments on
it; its view of what is &ldquo;bad&rdquo; is <em>very</em> subjective (the
documentation says), but it can be useful.

<p>
There&rsquo;s also a web site
<a href="http://www.kohm.name/markus/texidate.html">TeXidate</a>
which will do a static analysis of your document (unfortunately, you
have to paste your document source into a text window).  The site
doesn&rsquo;t seem as comprehensive as <i class="package">nag</i>, but it allows you to
download its script, which you can then juggle with to make it more
draconian.
<dl>
<dt class="ctanref">l2tabu</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/l2tabu">l2tabu</a> for a copy of the document in a
  language that is convenient for you
<dt class="ctanref">lacheck</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/lacheck">lacheck</a>
<dt class="ctanref">nag.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/nag">nag</a>
</dl>

<p class="lastedit">This answer last edited: 2012-10-09</p>

<p>
[[[Question]]][Q-ltx-csv][[[LBRACE]]]Process a CSV file in LaTeX[[[RBRACE]]]

<p>
Comma-separated-variable (CSV) files are a common means of
interchanging simple data between applications; for example, most
spreadsheet applications can provide files containing tables of
numbers with commas between them.  One can envisage these tables as
&ldquo;LaTeX tables&rdquo;, and the packages to process them all provide
table generation, one way or another.

<p>
For rather a long time, the canonical tools for dealing with such
files have been those provided in the <i class="package">datatool</i> bundle;
packages in the bundle allow the user to write procedures to process
numbers, currency amounts, names, etc., and to display them in tables
(including pie charts).

<p>
The <i class="package">csvsimple</i> does similar tasks.  Its processing is
controlled by keys established via the <i class="package">pgfkeys</i> package,
which define how each row of the CSV file is to be processed.

<p>
For usage &ldquo;nearer to the bone&rdquo;, one might consider the commands
<code>&#x5c;docsvlist</code> and <code>&#x5c;forcsvlist</code> (from the <i class="package">etoolbox</i>
package).  The first uses the time-honoured LaTeX technique of
changing the definition of a <code>&#x5c;do</code> command; it runs through the
list, and processes every item of the list as the argument of the
<code>&#x5c;do</code> command; so:
<blockquote>
<pre>
\begin{itemize}
\renewcommand*{\do}[1]{\item #1}
\docsvlist{item1, item2, {item3a, item3b}, item4}
\end{itemize}
</pre>
</blockquote>
will convert the elements of a CSV list into an itemised list.

<p>
The macro <code>&#x5c;forcsvlist</code> applies a function to each element of a
CSV list; this can of course be used to implement
<code>&#x5c;docsvlist</code>, at the cost of a little clarity.
<dl>
<dt class="ctanref">csvsimple.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/csvsimple">csvsimple</a>
<dt class="ctanref">datatool bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/datatool">datatool</a>
<dt class="ctanref">etoolbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etoolbox">etoolbox</a>
<dt class="ctanref">pgfkeys.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pgf">pgf</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-10</p>


<p>

<p>

<p>

<p>
[[[Question]]][Q-enlarge][[[LBRACE]]]Enlarging TeX[[[RBRACE]]]

<p>
The TeX error message &lsquo;capacity exceeded&rsquo; covers a multitude of
problems.  What has been exhausted is listed in brackets after the
error message itself, as in:
<blockquote>
<pre>
! TeX capacity exceeded, sorry
...              [main memory size=263001].
</pre>
</blockquote>
Most of the time this error can be fixed
<em>without</em> enlarging TeX. The most common causes are unmatched braces,
extra-long lines, and poorly-written macros. Extra-long lines are
often introduced when files are transferred incorrectly between
operating systems, and line-endings are not preserved properly (the
tell-tale sign of an extra-long line error is the complaint
that the &lsquo;<code class="verb">buf_size</code>&rsquo; has overflowed).

<p>
If you really need to extend your TeX&rsquo;s capacity, the proper method
depends on your installation.  There is no need (with modern TeX
implementations) to change the defaults in Knuth&rsquo;s WEB source;
but if you do need to do so, use a change file to modify the values set in
module 11, recompile your TeX and regenerate all format files.

<p>
Modern implementations allow the sizes of the various bits of TeX&rsquo;s
memory to be changed semi-dynamically.  Some (such as emTeX) allow
the memory parameters to be changed in command-line switches when
TeX is started; most frequently, a configuration file is read which
specifies the size of the memory.  On <i class="progname">web2c</i>-based systems,
this file is called <i class="filename">texmf.cnf</i>: see the documentation that comes
with the distribution for other implementations.  Almost invariably,
after such a change, the format files need to be regenerated after
changing the memory parameters.

<p>
[[[Question]]][Q-usepictex][[[LBRACE]]]Why can&rsquo;t I load PicTeX?[[[RBRACE]]]

<p>
PicTeX is a resource hog; fortunately, most modern TeX
implementations offer generous amounts of space, and most modern
computers are pretty fast, so users aren&rsquo;t too badly affected by its
performance.

<p>
However, PicTeX has the further unfortunate tendency to fill up
TeX&rsquo;s fixed-size arrays&nbsp;&mdash; notably the array of 256 &lsquo;dimension&rsquo;
registers.  This is a particular problem when you&rsquo;re using
<i class="filename">pictex.sty</i> with LaTeX and some other packages that also need
dimension registers.  When this happens, you will see the TeX error
message:
<blockquote>
<pre>
! No room for a new \dimen.
</pre>
</blockquote>
There is nothing that can directly be done about this error: you
can&rsquo;t extend the number of available <code>&#x5c;dimen</code> registers without
extending TeX itself.
 
  <a href="FAQ-omegaleph.html">Omega</a> and <a href="FAQ-etex.html">e-TeX</a> both do this.







<p>
It&rsquo;s actually quite practical (with most modern distributions) to use
e-TeX&rsquo;s extended register set: use package <i class="package">etex</i> (which
comes with e-TeX distributions) and the allocation mechanism is
altered to cope with the larger register set: PicTeX will now load.

<p>
If you&rsquo;re in some situation where you can&rsquo;t use e-TeX, you need to change
PicTeX; unfortunately PicTeX&rsquo;s author is no longer active in the
TeX world, so one must resort to patching.  There are two solutions
available.

<p>
The CONTeXT module <i class="filename">m-pictex.tex</i> (for Plain TeX and
variants) or the corresponding LaTeX <i class="package">m-pictex</i> package provide
an ingenious solution to the problem based on hacking the code of
<code>&#x5c;newdimen</code> itself.

<p>
Alternatively, Andreas Schrell&rsquo;s <i class="package">pictexwd</i> and related
packages replace PicTeX with a version that uses 33 fewer
<code>&#x5c;dimen</code> registers; so use <i class="package">pictexwd</i> in place of
<i class="package">pictex</i> (either as a LaTeX package, or as a file to read
into Plain TeX).

<p>
And how does one use PicTeX anyway, given that the
manual is so <a href="FAQ-docpictex.html">hard to come by</a>?
Fortunately for us all, the <i class="progname">MathsPic</i>
system may be used to translate a somewhat different language into
PicTeX commands; and the <i class="progname">MathsPic</i> manual is free (and
part of the distribution).  <i class="progname">MathsPic</i> is available either as
a <i class="progname">Basic</i> program for DOS, or as a <i class="progname">Perl</i>
program for other systems (including Windows, nowadays).
<dl>
<dt class="ctanref">etex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etex-pkg">etex-pkg</a>
<dt class="ctanref">m-pictex.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/context-tmf">context-tmf</a>
<dt class="ctanref">m-pictex.tex</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/context-tmf">context-tmf</a>
<dt class="ctanref">MathsPic</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mathspic">mathspic</a>
<dt class="ctanref">pictexwd.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/pictexwd">pictex-addon</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-22</p>

<p>

<p>

<p>
[[[Question]]][Q-floats][[[LBRACE]]]Moving tables and figures in LaTeX[[[RBRACE]]]

<p>
Tables and figures have a tendency to surprise, by <em>floating</em>
away from where they were specified to appear.  This is in fact
perfectly ordinary document design; any professional typesetting
package will float figures and tables to where they&rsquo;ll fit without
violating the certain typographic rules.  Even if you use the
placement specifier&nbsp;&rdquo;<tt>h</tt>&rdquo; (for &lsquo;here&rsquo;), the figure or table
will not be 
printed &lsquo;here&rsquo; if doing so would break the rules; the rules themselves
are pretty simple, and are given on page&nbsp;198, section&nbsp;C.9 of the
LaTeX manual.  In the worst case, LaTeX&rsquo;s rules can cause the
floating items to pile up to the extent that you get an error message
saying &ldquo;<a href="FAQ-tmupfl.html">Too many unprocessed floats</a>&rdquo;.
What follows is a simple checklist of things to do to solve these
problems (the checklist talks throughout about figures, but applies
equally well to tables, or to &ldquo;non-standard&rdquo; floats defined by the
<i class="package">float</i> or other packages).
<ul>
<li> Do your figures need to float at all?  If not, look at the
  recommendations for &ldquo;<a href="FAQ-figurehere.html">non-floating floats</a>&rdquo;
<li> Are the placement parameters on your figures right?  The
  default (&ldquo;<tt>tbp</tt>&rdquo;) is usually satisfactory, but you can
  reasonably change it (for example, to add an &ldquo;<tt>h</tt>&rdquo;).
  Whatever you do, <em>don&rsquo;t</em> 
  omit the &ldquo;<tt>p</tt>&rdquo;: doing so could cause LaTeX to believe that if you
  can&rsquo;t have your figure <em>here</em>, you don&rsquo;t want it
  <em>anywhere</em>.  (LaTeX does try to avoid being confused in
  this way&hellip;)
<li> LaTeX&rsquo;s own float placement parameters could be preventing
  placements that seem entirely &ldquo;reasonable&rdquo; to you&nbsp;&mdash; they&rsquo;re
  notoriously rather conservative.  To encourage LaTeX not to move
  your figure, you may need to loosen its demands.  (The most important
  ones are the ratio of text to float on a given page, but it&rsquo;s
  sensible to have a fixed set that changes the whole lot, to meet
  every eventuality.)
<pre>
\renewcommand{\topfraction}{.85}
\renewcommand{\bottomfraction}{.7}
\renewcommand{\textfraction}{.15}
\renewcommand{\floatpagefraction}{.66}
\renewcommand{\dbltopfraction}{.66}
\renewcommand{\dblfloatpagefraction}{.66}
\setcounter{topnumber}{9}
\setcounter{bottomnumber}{9}
\setcounter{totalnumber}{20}
\setcounter{dbltopnumber}{9}
</pre>
  The meanings of these
  parameters are described on pages&nbsp;199&ndash;200, section&nbsp;C.9 of the
  LaTeX manual.
<li> Are there places in your document where you could &lsquo;naturally&rsquo;
  put a <code>&#x5c;clearpage</code> command?  If so, do: the backlog of floats is
  cleared after a <code>&#x5c;clearpage</code>.  (Note that the <code>&#x5c;chapter</code>
  command in the standard <i class="class">book</i> and <i class="class">report</i> classes
  implicitly executes <code>&#x5c;clearpage</code>, so your floats can&rsquo;t wander past
  the end of a chapter.)
<li> Try the <i class="package">placeins</i> package: it defines a
  <code>&#x5c;FloatBarrier</code> command beyond which floats may not pass.  A
  package option allows you to declare that floats may not pass a
  <code>&#x5c;section</code> command, but you can place <code>&#x5c;FloatBarrier</code>s wherever
  you choose.
<li> If you are bothered by floats appearing at the top of the page
  (before they are specified in your text), try the <i class="package">flafter</i>
  package, which avoids this problem by insisting that floats should
  always appear after their definition.
<li> Have a look at the LaTeX 2e <i class="package">afterpage</i> package.
  Its documentation gives as an example the idea
  of putting <code>&#x5c;clearpage</code> <em>after</em> the current page (where it
  will clear the backlog, but not cause an ugly gap in your text), but
  also admits that the package is somewhat fragile.  Use it as a last
  resort if the other possibilities below don&rsquo;t help.
<li> If you would actually <em>like</em> great blocks of floats at the
  end of each of your chapters, try the <i class="package">morefloats</i> package;
  this allows you to increase the number of floating inserts that LaTeX
  can handle at one time (from its original value of&nbsp;18, in
  LaTeX 2e).  Note that, even with e-TeX&rsquo;s greater supply of
  registers, there is still a modest limit on the total number of
  floating inserts (e-TeX increases the total number of registers
  available, but inserts don&rsquo;t work if they are constructed from
  registers in the extended range).

<p>
  Caveat: if you are using <i class="package">etex</i> to increase the number of
  registers available, you need to &ldquo;reserve&rdquo; some inserts for
  <i class="package">morefloats</i>: something like:
  <blockquote>
<pre>
\usepackage{etex}
\reserveinserts{18}
\usepackage{morefloats}
</pre>
  </blockquote>
<li> If you actually <em>wanted</em> all your figures to float to the
  end (<em>e.g</em>., for submitting a draft copy of a paper), don&rsquo;t
  rely on LaTeX&rsquo;s mechanism: get the <i class="package">endfloat</i> package to do
  the job for you.
</ul>
<dl>
<dt class="ctanref">afterpage.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/afterpage">2etools</a>
<dt class="ctanref">endfloat.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/endfloat">endfloat</a>
<dt class="ctanref">etex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/etex-pkg">etex-pkg</a>
<dt class="ctanref">flafter.sty</dt><dd>Part of the LaTeX distribution
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">morefloats.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/morefloats">morefloats</a>
<dt class="ctanref">placeins.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/placeins">placeins</a>
</dl>

<p>
[[[Question]]][Q-underline][[[LBRACE]]]Underlined text won&rsquo;t break[[[RBRACE]]]

<p>
Knuth made no provision for underlining text: he took the view that
underlining is not a typesetting operation, but rather one that
provides emphasis on typewriters, which typically offer but one
typeface.  The corresponding technique in typeset text is to switch
from upright to italic text (or vice-versa): the LaTeX command
<code>&#x5c;emph</code> does just that to its argument.

<p>
Nevertheless, typographically illiterate people (such as those that
specify double-spaced
<a href="FAQ-linespace.html">thesis styles</a>)
continue to require underlining of us, so LaTeX as distributed
defines an <code>&#x5c;underline</code> command that applies the mathematical
&lsquo;underbar&rsquo; operation to text.  This technique is not entirely
satisfactory, however: the text gets stuck into a box, and won&rsquo;t break
at line end.

<p>
Two packages are available that solve this problem.  The
<i class="package">ulem</i> package redefines the
<code>&#x5c;emph</code> command to underline its argument; the underlined text thus
produced behaves as ordinary emphasised text, and will break over the
end of a line.  (The package is capable of other peculiar effects,
too: read its documentation.)
The <i class="package">soul</i> package defines an <code>&#x5c;ul</code> command (after which the
package is, in part, named) that underlines running text.

<p>
Beware of <i class="package">ulem</i>&rsquo;s default behaviour, which is to convert the
<code>&#x5c;emph</code> command into an underlining command; this can be avoided by
loading the package with:
<blockquote>
<pre>
\usepackage[normalem]{ulem}
</pre>
</blockquote>
<dl>
<dt class="ctanref">ulem.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ulem">ulem</a>
<dt class="ctanref">soul.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/soul">soul</a>
</dl>

<p>
[[[Question]]][Q-widows][[[LBRACE]]]Controlling widows and orphans[[[RBRACE]]]

<p>
Widows (the last line of a paragraph at the start of a page) and
orphans (the first line of paragraph at the end of a page) interrupt
the reader&rsquo;s flow, and are generally considered &ldquo;bad form&rdquo;;
(La)TeX takes some precautions to avoid them, but completely
automatic prevention is often impossible.  If you are typesetting your
own text, consider whether you can bring yourself to change the
wording slightly so that the page break will fall differently.

<p>
The (La)TeX page maker, when forming a page, takes account of variables
<code>&#x5c;widowpenalty</code> and <code>&#x5c;clubpenalty</code> (which relates to orphans!).
These penalties are usually set to the moderate value of <tt>150</tt>; this
offers mild discouragement of bad breaks.  You can increase the values
by saying (for example) <code>&#x5c;widowpenalty</code><tt>=500</tt>; however, vertical
lists (such as pages are made of) typically have rather little
stretchability or shrinkability, so if the page maker has to balance
the effect of stretching the unstretchable and being penalised, the
penalty will seldom win.  Therefore, for typical layouts, there are
only two sensible settings for the penalties: finite (150 or 500, it
doesn&rsquo;t matter which) to allow widows and orphans, and infinite (10000
or greater) to forbid them.

<p>
The problem can be avoided by allowing the pagemaker to run pages
short, by using the <code>&#x5c;raggedbottom</code> directive; however, many
publishers insist on the default <code>&#x5c;flushbottom</code>; it is seldom
acceptable to introduce stretchability into the vertical list, except
at points (such as section headings) where the document design
explicitly permits it.

<p>
Once you&rsquo;ve exhausted the automatic measures, and have a final draft
you want to &ldquo;polish&rdquo;, you should proceed to manual measures.  To
get rid of an orphan is simple: precede the paragraph with
<code>&#x5c;clearpage</code> and the paragraph can&rsquo;t start in the wrong place.

<p>
Getting rid of a widow can be more tricky.  Options are
<ul>
<li> If the previous page contains a long paragraph with a short last
  line, it may be possible to set it &lsquo;tight&rsquo;: write
  <code>&#x5c;looseness</code><tt>=-1</tt> immediately after the last word of the
  paragraph.
<li> If that doesn&rsquo;t work, adjusting the page size, using
  <code>&#x5c;enlargethispage</code><code>&#x7b;<code>&#x5c;baselineskip</code>&#x7d;</code> to &lsquo;add a line&rsquo; to
  the page, which may have the effect of getting the whole paragraph
  on one page.
<li> Reducing the size of the page by
  <code>&#x5c;enlargethispage</code><code>&#x7b;-<code>&#x5c;baselineskip</code>&#x7d;</code> may produce a
  (more-or-less) acceptable &ldquo;two-line widow&rdquo;.
</ul>
Note that <code>&#x5c;looseness</code><tt>=1</tt> (which should increase the line
length by one) seldom has the right effect&nbsp;&mdash; the looser paragraph
typically has a one-word final line, which doesn&rsquo;t look much better
than the original widow.

<p>

<p>

<p>
[[[Question]]][Q-oldfontnames][[[LBRACE]]]Old LaTeX font references such as <code>&#x5c;tenrm</code>[[[RBRACE]]]

<p>
LaTeX 2.09 defined a large set of commands for access to the fonts
that it had built in to itself.  For example, <i class="fontname">cmr</i> might
appear as <code>&#x5c;fivrm</code>, <code>&#x5c;sixrm</code>, <code>&#x5c;sevrm</code>,
<code>&#x5c;egtrm</code>, <code>&#x5c;ninrm</code>, <code>&#x5c;tenrm</code>, <code>&#x5c;elvrm</code>, <code>&#x5c;twlrm</code>,
<code>&#x5c;frtnrm</code>, <code>&#x5c;svtnrm</code>, <code>&#x5c;twtyrm</code> and <code>&#x5c;twfvrm</code>, according
to the size it&rsquo;s being typeset at.
These commands were never documented, but certain packages
nevertheless used them to achieve effects they needed.

<p>
Since the commands weren&rsquo;t public, they weren&rsquo;t included in LaTeX 2e;
to use the unconverted LaTeX 2.09 packages under LaTeX 2e, you need
also to include the <i class="package">rawfonts</i> package (which is part of the
LaTeX 2e distribution).

<p>
[[[Question]]][Q-misssymb][[[LBRACE]]]Missing symbol commands[[[RBRACE]]]

<p>
You&rsquo;re processing an old document, and some symbol commands such as
<code>&#x5c;Box</code> and <code>&#x5c;lhd</code> appear no longer to exist.  These commands were
present in the core of LaTeX 2.09, but are not in current LaTeX.
They are available in the <i class="package">latexsym</i> package (which is part of
the LaTeX distribution), and in the <i class="package">amsfonts</i> package
(which is part of the AMS distribution, and requires AMS
symbol fonts).
<dl>
<dt class="ctanref">AMS fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
</dl>

<p>
[[[Question]]][Q-msxy][[[LBRACE]]]Where are the <tt>msx</tt> and <tt>msy</tt> fonts?[[[RBRACE]]]

<p>
The <i class="fontname">msx</i> and <i class="fontname">msy</i> fonts were designed by the
American Mathematical Society in the very early days of TeX, for
use in typesetting papers for mathematical journals.  They were
designed using the &lsquo;old&rsquo; MetaFont, which wasn&rsquo;t portable and is no longer
available; for a long time they were only available in 300dpi versions
which only imperfectly matched modern printers.  The AMS has
now redesigned the fonts, using the current version of MetaFont, and the
new versions are called the <i class="fontname">msa</i> and <i class="fontname">msb</i>
families.

<p>
Nevertheless, <i class="fontname">msx</i> and <i class="fontname">msy</i> continue to turn up.
There may, of course, still be sites that haven&rsquo;t got around to
upgrading; but, even if everyone upgraded, there would still be the
problem of old documents that specify them.

<p>
If you have a <code class="extension">tex</code> source that requests <i class="fontname">msx</i> and
<i class="fontname">msy</i>, the best technique is to edit it so that it requests
<i class="fontname">msa</i> and <i class="fontname">msb</i> (you only need to change the single
letter in the font names).

<p>
A partial re-implementation of the blackboard-bold part of the
<i class="fontname">msy</i> font (covering C, N, R, S and Z, only) is available in
Type&nbsp;1 format; if your mathematical needs only extend that far, the
font could be a good choice.

<p>
If you have a DVI file that requests the fonts, there is a package
of <a href="FAQ-virtualfonts.html">virtual fonts</a> to map the old to the new series.
<dl>
<dt class="ctanref">msam &amp; msbm fonts</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/amsfonts">amsfonts</a>
<dt class="ctanref">msym fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/msym">msym</a>
<dt class="ctanref">virtual font set</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/msx2msa">msx2msa</a>
</dl>

<p class="lastedit">This answer last edited: 2012-03-09</p>

<p>


<p>
[[[Question]]][Q-amfonts][[[LBRACE]]]Where are the <tt>am</tt> fonts?[[[RBRACE]]]

<p>
One <em>still</em> occasionally comes across a request for the <i class="fontname">am</i>
series of fonts.  The initials stood for &lsquo;Almost [Computer] Modern&rsquo;,
and they were the predecessors of the Computer Modern fonts that we
all know and love (or hate)
<sup class="fmk">&dagger;</sup><span class="footnote">&dagger; 
  The fonts acquired their label &lsquo;Almost&rsquo; following the realisation
  that their first implementation in MetaFont79 still wasn&rsquo;t quite right;
  Knuth&rsquo;s original intention had been that they were the final answer.
</span>.
There&rsquo;s not a lot one can do with these
fonts; they are (as their name implies) almost (but not quite) the
same as the <i class="fontname">cm</i> series; if you&rsquo;re faced with a document that requests
them, the only reasonable approach is to edit the document to replace
<i class="fontname">am*</i> font names with <i class="fontname">cm*</i>.

<p>
The appearance of DVI files that request them is sufficiently
rare that no-one has undertaken the mammoth task of creating a
translation of them by means of virtual fonts.

<p>
You therefore have to fool the system into using <i class="fontname">cm*</i> fonts
where the original author specified <i class="fontname">am*</i>.

<p>
One option is the font substitutions that many
DVI drivers provide via their configuration file&nbsp;&mdash;
specify that every <i class="fontname">am</i> font should be replaced by its
corresponding <i class="fontname">cm</i> font.

<p>
Alternatively, one may try DVI editing&nbsp;&mdash; packages
<i class="package">dtl</i> (DVI Text Language) and <i class="package">dviasm</i>
(DVI assembler) can both provide round trips from DVI to
text and back to DVI.  One therefore edits font names
(throughout the text representation of the file) in the middle of that
round trip.

<p>
The DTL text is pretty straightforward, for this purpose:
fontnames are in single quotes at the end of lines, so:
<blockquote>
  <tt>dv2dt -o</tt> &lsaquo;<i>doc.txt</i>&rsaquo; &lsaquo;<i>doc.dvi</i>&rsaquo;<br>
  (<em>edit the <code class="extension">txt</code> file</em>)<br>
  <tt>dt2dv -o</tt> &lsaquo;<i>edited.dvi</i>&rsaquo; &lsaquo;<i>edited.txt</i>&rsaquo;
</blockquote>
(you have to compile the C programs for this).

<p>
<i class="progname">Dviasm</i> is a <i class="progname">Python</i> script; its output has font
names in a section near the start of the document, and then dotted
about through the body, so:
<blockquote>
  <tt>python dviasm.py -o</tt> &lsaquo;<i>doc.txt</i>&rsaquo; &lsaquo;<i>doc.dvi</i>&rsaquo;<br>
  (<em>edit the <code class="extension">txt</code> file</em>)<br>
  <tt>python dviasm.py -o</tt> &lsaquo;<i>edited.dvi</i>&rsaquo; &lsaquo;<i>edited.txt</i>&rsaquo;
</blockquote>
Both routes seem acceptable ways forward; it is a matter of taste
which any particular user may choose (it&rsquo;s not likely that it will be
necessary very often...).
<dl>
<dt class="ctanref">dviasm.py</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dviasm">dviasm</a>
<dt class="ctanref">dtl</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dtl">dtl</a>
</dl>

<p>
[[[Question]]][Q-initex][[[LBRACE]]]What&rsquo;s happened to <i class="progname">initex</i>?[[[RBRACE]]]

<p>
In the beginning, (La)TeX was stretching the capacity of every
system it was ported to, so there was a premium on reducing the size
of executables.  One way of doing this was to have a separate
executable, <i class="progname">initex</i>, that had things in it that aren&rsquo;t
needed in ordinary document runs&nbsp;&mdash; notably <code>&#x5c;patterns</code> (which
builds hyphenation tables), and <code>&#x5c;dump</code> (which writes out a format).

<p>
On modern systems, the size of this code is insignificant in
comparison to the memory available, and maintaining separate programs
has been found sufficiently error-prone that free Unix-style system
distributions have abolished <i class="progname">initex</i> and its friends and
relations such as <i class="progname">inipdftex</i> in favour of a single
executable (that is, just <i class="progname">tex</i> or <i class="progname">pdftex</i>) that
will &ldquo;do what <i class="progname">initex</i> (or whatever) used to do&rdquo; if it
detects the command option &ldquo;<tt>-ini</tt>&rdquo;.

<p>
The change happened with the advent of teTeX version
3.0, which appeared at the beginning of 2005.  At that time,
texlive was following teTeX, so that year&rsquo;s texlive
distribution would also have dropped <i class="progname">initex</i>.

<p>
It would appear that the equation is somewhat different for the
MiKTeX developers, since that system continues to offer an
<i class="progname">initex</i> executable.


<p>

<p>

<p>

<p>

<p>
[[[Question]]][Q-crossref][[[LBRACE]]]LaTeX gets cross-references wrong[[[RBRACE]]]

<p>
Sometimes, however many times you run LaTeX, the cross-references
are just wrong.  A likely reason is that you have placed the label
before the data for the label was set; if the label is recording a
<code>&#x5c;caption</code> command, the <code>&#x5c;label</code> command must appear
<em>after</em> the <code>&#x5c;caption</code> command, or be part of it. For example:
<blockquote>
<pre>
\begin{figure}
  <the illustration itself>
  \caption{My figure}
  \label{myfig}
\end{figure}
</pre>
</blockquote>
is correct, as is
<blockquote>
<pre>
\begin{figure}
  <the illustration itself>
  \caption{My figure%
    \label{myfig}}
\end{figure}
</pre>
</blockquote>
whereas, in
<blockquote>
<pre>
\begin{figure}
  <the illustration itself>
  \label{myfig}
  \caption{My figure}
\end{figure}
</pre>
</blockquote>
the label will report the number of the section (or whatever) in which
the surrounding text resides, or the like.

<p>
You can, with the same malign effect, shield the <code>&#x5c;caption</code> command
from its associated <code>&#x5c;label</code> command, by enclosing the caption in an
environment of its own.  This effect will be seen with:
<blockquote>
<pre>
\begin{figure}
  <the illustration itself>
  \caption{A Figure}
\end{figure}
\label{myfig}
</pre>
</blockquote>
where the <code>&#x5c;label</code> definitely <em>is</em> after the <code>&#x5c;caption</code>,
but because the <code class="environment">figure</code> environment closed before the
<code>&#x5c;label</code> command, the <code>&#x5c;caption</code> is no longer &ldquo;visible&rdquo;.

<p>
In summary, the <code>&#x5c;label</code> must be <em>after</em> the command that
defines it (e.g., <code>&#x5c;caption</code>), and if the <code>&#x5c;caption</code> is inside
an environment, the <code>&#x5c;label</code> must be in there too.

<p class="lastedit">This answer last edited: 2012-02-07</p>

<p>
[[[Question]]][Q-newlineargs][[[LBRACE]]]Start of line goes awry[[[RBRACE]]]
<!-- asterisk square bracket start line -->

<p>
This answer concerns two sorts of problems: errors of the form
<blockquote>
<pre>
! Missing number, treated as zero.
<to be read again> 
                   p
<*> [perhaps]
</pre>
</blockquote>
and errors where a single asterisk at the start of a line mysteriously
fails to appear in the typeset output.

<p>
Both problems arise because <tt>&#x5c; </tt> takes optional arguments.  The
command <tt>&#x5c; *</tt> means &ldquo;break the line here, and inhibit page break
following the line break&rdquo;; the command <tt>&#x5c; [</tt>&lsaquo;<i>dimen</i>&rsaquo;<tt>]</tt>
means &ldquo;break the line here and add &lsaquo;<i>dimen</i>&rsaquo; extra vertical space
afterwards&rdquo;.

<p>
The problem arises because <tt>&#x5c; </tt> looks for the next
non-blank thing; the test it uses ignores the end of the line in
your input text, so that <tt>&#x5c; </tt> comes to imagine that you
were giving it a &lsquo;modifier&rsquo;.

<p>
An obvious solution is to enclose the stuff at the start of the new
line in braces, typing:
<blockquote>
<pre>
{\ttfamily
  /* C-language comment\\
  {[perhaps]} this could be done better\\
  {*}/
}
</pre>
</blockquote>
This particular example could be coded (without any problems) in
verbatim, but the behaviour does confuse people.

<p>
The problem also appears in maths mode, in arrays and so on.  In this
case, large-scale bracketing of things is <em>not</em> a good idea; the
TeX primitive <code>&#x5c;relax</code> (which does nothing except to block
searches of this nature) may be used.  From another
<i class="newsgroup">comp.text.tex</i> example:
<blockquote>
<pre>
\begin{eqnarray}
  [a] &amp;=&amp; b \\
  \relax[a] &amp;=&amp; b
\end{eqnarray}
</pre>
</blockquote>
which is a usage this FAQ would not recommend, anyway: refer
to the <a href="FAQ-eqnarray.html">reason not to use <code class="environment">eqnarray</code></a>.

<p>
Note that the <i class="package">amsmath</i> package modifies the behaviour of
<tt>&#x5c; </tt> in maths.  With <i class="package">amsmath</i>, the
<code class="environment">eqnarray</code> example doesn&rsquo;t need any special action
(<code>&#x5c;relax</code> or braces).

<p class="lastedit">This answer last edited: 2012-09-02</p>

<p>
[[[Question]]][Q-verbwithin][[[LBRACE]]]Why doesn&rsquo;t verbatim work within&thinsp;&hellip;?[[[RBRACE]]]

<p>
The LaTeX verbatim commands work by changing category codes.  Knuth
says of this sort of thing &ldquo;Some care is needed to get the timing
right&hellip;&rdquo;, since once the category code has been assigned to a
character, it doesn&rsquo;t change.  So <code>&#x5c;verb</code> and
<code>&#x5c;begin</code><code>&#x7b;verbatim&#x7d;</code> have to assume that they are getting the
first look at the parameter text; if they aren&rsquo;t, TeX has already
assigned category codes so that the verbatim command doesn&rsquo;t have a
chance.  For example:
<blockquote>
<pre>
\verb+\error+
</pre>
</blockquote>
will work (typesetting &lsquo;<code>&#x5c;error</code>&rsquo;), but if we define no more than a
no-op macro,
<blockquote>
<pre>
\newcommand{\unbrace}[1]{#1}
</pre>
</blockquote>
which simply regurgitates its argument, and use it as:
<blockquote>
<pre>
\unbrace{\verb+\error+}
</pre>
</blockquote>
the combinartion will not (it will attempt to execute <code>&#x5c;error</code>).
Other errors one
may encounter are &lsquo;<code>&#x5c;verb</code> ended by end of line&rsquo;, or even the
rather more helpful &lsquo;<code>&#x5c;verb</code> illegal in command argument&rsquo;.  The
same sorts of thing happen with <code>&#x5c;begin</code><code>&#x7b;verbatim&#x7d;</code> &hellip;
<code>&#x5c;end</code><code>&#x7b;verbatim&#x7d;</code>:
<blockquote>
<pre>
\ifthenelse{\boolean{foo}}{%
\begin{verbatim}
foobar
\end{verbatim}
}{%
\begin{verbatim}
barfoo
\end{verbatim}
}
</pre>
</blockquote>
provokes errors like &lsquo;File ended while scanning use of
<code>&#x5c;@xverbatim</code>&rsquo;, as <code>&#x5c;begin</code><code>&#x7b;verbatim&#x7d;</code> fails to see its
matching <code>&#x5c;end</code><code>&#x7b;verbatim&#x7d;</code>.

<p>
This is why the LaTeX book insists that verbatim
commands must not appear in the argument of any other command; they
aren&rsquo;t just fragile, they&rsquo;re quite unusable in any &ldquo;normal&rdquo; command
parameter, 
regardless of <a href="FAQ-protect.html"><code>&#x5c;protect</code>ion</a>.  (The <code>&#x5c;verb</code>
command tries hard to detect if you&rsquo;re misusing it; unfortunately, it
can&rsquo;t always do so, and the error message is therefore not reliable as an
indication of problems.)

<p>
The first question to ask yourself is: &ldquo;is <code>&#x5c;verb</code> actually
necessary?&rdquo;.
<ul>
<li> If <code>&#x5c;texttt</code><code>&#x7b;<em>your text</em>&#x7d;</code> produces the same result
  as <code>&#x5c;verb</code><tt>+<em>your text</em>+</tt>, then there&rsquo;s no need of
  <code>&#x5c;verb</code> in the first place.
<li> If you&rsquo;re using <code>&#x5c;verb</code> to typeset a URL or email
  address or the like, then the <code>&#x5c;url</code> command from the
  <i class="package">url</i> will help: it doesn&rsquo;t suffer from all the problems of
  <code>&#x5c;verb</code>, though it&rsquo;s still not robust; 
  &ldquo;<a href="FAQ-setURL.html">typesetting URLs</a>&rdquo; offers advice here.
<li> If you&rsquo;re putting <code>&#x5c;verb</code> into the argument of a boxing
  command (such as <code>&#x5c;fbox</code>), consider using the <code class="environment">lrbox</code>
  environment:
<blockquote>
<pre>
\newsavebox{\mybox}
...
\begin{lrbox}{\mybox}
  \verb!VerbatimStuff!
\end{lrbox}
\fbox{\usebox{\mybox}}
</pre>
</blockquote>
</ul>

<p>
If you can&rsquo;t avoid verbatim, the <code>&#x5c;cprotect</code> command (from the
package <i class="package">cprotect</i>) might help.  The package manages to make a
macro read a verbatim argument in a &ldquo;sanitised&rdquo; way by the simple
medium of prefixing the macro with <code>&#x5c;cprotect</code>:
<blockquote>
<pre>
\cprotect\section{Using \verb|verbatim|}
</pre>
</blockquote>
The package <em>does</em> work in this simple case, and deserves
consideration in many others cases; the package documentation gives
more details.

<p>
Another way out is to use one of &ldquo;argument types&rdquo; of the
<code>&#x5c;NewDocumentCommand</code> command in the experimental LaTeX3 package
<i class="package">xparse</i>:
<blockquote>
<pre>
\NewDocumentCommand\cmd{ m v m }{#1 `#2' #3}
\cmd{Command }|\furble|{ isn't defined}
</pre>
</blockquote>
Which gives us:
<blockquote>
  Command <code>&#x5c;furble</code> isn&rsquo;t defined
</blockquote>
The &ldquo;<tt>m</tt>&rdquo; tag argument specifies a normal mandatory argument,
and the &ldquo;<tt>v</tt>&rdquo; specifies one of these verbatim arguments.
As you see, it&rsquo;s implanting a <code>&#x5c;verb</code>-style command argument in the
argument sequence of an otherwise &ldquo;normal&rdquo; sort of command; that




  &lsquo;<tt>|</tt>&rsquo; 

may be any old character that doesn&rsquo;t
conflict with the content of the argument.

<p>
This is pretty neat (even if the verbatim is in an argument of its
own) but the downside is that <i class="package">xparse</i> pulls in
the experimental LaTeX3 programming environment
(<i class="package">l3kernel</i>) which is pretty big.

<p>
Other than the <i class="package">cprotect</i> package, there are four partial
solutions to the problem:
<ul>
<li> Some packages have macros which are designed to be responsive
  to verbatim text in their arguments.  For example,
  the <i class="package">fancyvrb</i> package defines a command
  <code>&#x5c;VerbatimFootnotes</code>, which redefines the <code>&#x5c;footnotetext</code>
  command, and hence also the behaviour of the <code>&#x5c;footnote</code>)
  command, in such a way that you can include <code>&#x5c;verb</code> commands in
  its argument.  This approach could in principle be extended to the
  arguments of other commands, but it can clash with other packages:
  for example, <code>&#x5c;VerbatimFootnotes</code> interacts poorly with the
  <code class="pkgoption">para</code> option of the <i class="package">footmisc</i> package.

<p>
  The <i class="class">memoir</i> class defines its <code>&#x5c;footnote</code> command so that
  it will accept verbatim in its arguments, without any supporting package.
<li> The <i class="package">fancyvrb</i> package defines a command <code>&#x5c;SaveVerb</code>,
  with a corresponding <code>&#x5c;UseVerb</code> command, that allow you to save
  and then to reuse the content of its argument; for details of this
  extremely powerful facility, see the package documentation.

<p>
  Rather simpler is the <i class="package">verbdef</i> package, whose <code>&#x5c;verbdef</code>
  command defines a (robust) command which expands to the verbatim
  argument given; the <i class="package">newverbs</i> package provides a similar
  function as well as several related ones.
<li> In a similar vein, the <i class="package">verbatimbox</i> package makes it
  possible to put verbatim material in a box:
  <blockquote>
<pre>
\begin{verbbox}
some exotic _&amp;$ stuff
\end{verbbox}
\theverbbox
</pre>
  </blockquote>
  the operation typesets exotic stuff into an anonymous box, and its
  contents may be retrieved using the command <code>&#x5c;theverbbox</code>.  It is
  clear that it&rsquo;s in the same mould as the <code>&#x5c;verbdef</code> command
  mentioned above; the package defines other similar commands.
<li> The <i class="package">tcolorbox</i> package provides a similar facility
<li> If you have a single character that is giving trouble (in
  its absence you could simply use <code>&#x5c;texttt</code>), consider using
  <code>&#x5c;string</code>.  <code>&#x5c;texttt</code><code>&#x7b;my<code>&#x5c;string</code>\_name&#x7d;</code>
  typesets the same as 
  <code>&#x5c;verb+my\_name+</code>, and will work in the argument of a command.  It
  won&rsquo;t, however, work in a moving argument, and no amount of
  <a href="FAQ-protect.html"><code>&#x5c;protect</code>ion</a> will make it work in
  such a case.

<p>
  A robust alternative is:
<blockquote>
<pre>
\chardef\us=`\_
...
\section{... \texttt{my\us name}}
</pre>
</blockquote>
  Such a definition is &lsquo;naturally&rsquo; robust; the construction
  &ldquo;&lsaquo;<i>back-tick</i>&rsaquo;<code>&#x5c;&lsaquo;<i>char</i>&rsaquo;</code>&rdquo; may be used for any
  troublesome character (though it&rsquo;s plainly not necessary for things
  like percent signs for which (La)TeX already provides
  robust macros).

<p>
<li> One may also consider putting verbatim material in an external
  file; this is somewhat more tedious, but the file may be reused
  several times within a single document.  The <i class="package">tcolorbox</i>
  package allows this:
<blockquote>
<pre>
\begin{tcbverbatimwrite}{<file name>}
...
\end{tcbverbatimwrite}
</pre>
</blockquote>
  which (as one might guess) writes to the named file; load the saved
  contents using <code>&#x5c;input</code><code>&#x7b;<file name>&#x7d;</code>

<p>
  A second environment puts your verbatim material in an (apparently)
  anonymous temporary file:
<blockquote>
<pre>
\begin{tcbwritetemp}{<file name>}
...
\end{tcbverbatimwrite}
</pre>
</blockquote>
  In this case, you use the anonymous file with the <code>&#x5c;tcbusetemp</code>
  macro.  (You can change the name used for the &lsquo;anonymous&rsquo; file, if
  its default proves troublesome.)

<p>
  The <i class="package">moreverb</i> package provides a <code>&#x5c;verbatimwrite</code>
  command, which doesn&rsquo;t provide an anonynous file.

<p>
  Macros, to achieve the same effect, are outlined in the
  documentation of the <i class="package">verbatim</i> package; the macros use the
  facilities of the package, but the user has to write a mini-package
  actually to use them.
</ul>
<dl>
<dt class="ctanref">cprotect.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/cprotect">cprotect</a>
<dt class="ctanref">fancyvrb.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fancyvrb">fancyvrb</a>
<dt class="ctanref">l3kernel bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3kernel">l3kernel</a>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">newverbs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/newverbs">newverbs</a>
<dt class="ctanref">tcolorbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tcolorbox">tcolorbox</a>
<dt class="ctanref">url.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/url">url</a>
<dt class="ctanref">verbatim.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/verbatim">verbatim</a>
<dt class="ctanref">verbatimbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/verbatimbox">verbatimbox</a>
<dt class="ctanref">verbdef.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/verbdef">verbdef</a>
<dt class="ctanref">xparse.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/xparse">l3packages</a>
</dl>

<p class="lastedit">This answer last edited: 2013-10-21</p>

<p>
[[[Question]]][Q-noline][[[LBRACE]]]&ldquo;No line here to end&rdquo;[[[RBRACE]]]

<p>
The error
<blockquote>

<pre>
! LaTeX Error: There's no line here to end.

See the LaTeX manual or LaTeX Companion for explanation.
</pre>


<pre>
! LaTeX Error: There's no line here to end.

See the LaTeX manual or LaTeX Companion
...                           for explanation.
</pre>

</blockquote>
appears when you give LaTeX a <tt>&#x5c; </tt> command at a time
when it&rsquo;s not expecting it; it is a <em>line-breaking</em> command, and
is confused if LaTeX isn&rsquo;t building a paragraph when you give the
command.  A common case is where you&rsquo;ve decided you want the label of
a list item to be on a line of its own, and written (for example):
<blockquote>
<pre>
\begin{description}
\item[Very long label] \\
  Text...
\end{description}
</pre>
</blockquote>










<p>
The proper solution to the problem is to write a new sort of
<code class="environment">description</code> environment, that does just what you&rsquo;re after.  (The

<a class="FAquestion.html" href="FAQ-latex-books.html"><em>LaTeX Companion</em></a>
offers a rather wide selection of variants of these things.)

<p>
A straightforward solution, which avoids the warning, is to write:
<blockquote>
<pre>
\begin{description}
\item[Very long label] \leavevmode \\
  Text...
\end{description}
</pre>
</blockquote>
which starts a paragraph before forcing a break.  The
<i class="package">expdlist</i> package provides the same functionality with its
<code>&#x5c;breaklabel</code> command, and <i class="package">mdwlist</i> provides it via its
<code>&#x5c;desclabelstyle</code> command.

<p>
The other common occasion for the message is when you&rsquo;re using the
<tt>center</tt> (or <code class="environment">flushleft</code> or <code class="environment">flushright</code>)
environment, and have decided you need extra separation between lines
in the environment:
<blockquote>
<pre>
\begin{center}
  First (heading) line\\
  \\
  body of the centred text...
\end{center}
</pre>
</blockquote>
The solution here is plain: use the <tt>&#x5c; </tt> command in the way it&rsquo;s
supposed to be used, to provide more than just a single line break
space.  <tt>&#x5c; </tt> takes an optional argument, which specifies
how much extra space to add; the required effect in the text above can
be had by saying:
<blockquote>
<pre>
\begin{center}
  First (heading) line\\[\baselineskip]
  body of the centred text...
\end{center}
</pre>
</blockquote>

<p>
You <em>can</em> use <code>&#x5c;leavevmode</code>, as above:
<blockquote>
<pre>
\begin{center}
  First (heading) line\\
  \leavevmode\\
  body of the centred text...
\end{center}
</pre>
</blockquote>
but that is just as tiresome to type as <tt>&#x5c; </tt> with an optional
argument, and can not be recommended.
<dl>
<dt class="ctanref">expdlist.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/expdlist">expdlist</a>
<dt class="ctanref">mdwlist.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/mdwlist">mdwtools</a>
</dl>

<p class="lastedit">This answer last edited: 2014-01-13</p>

<p>


<p>
[[[Question]]][Q-vertspacefloat][[[LBRACE]]]Extra vertical space in floats[[[RBRACE]]]

<p>
A common complaint is that extra vertical space has crept into
<code class="environment">figure</code> or <code class="environment">table</code> floating environments.
More common still are users who post code that introduces this extra
space, and <em>haven&rsquo;t noticed the problem</em>!

<p>
The trouble arises from the fact that the <code class="environment">center</code>
environment (and its siblings <code class="environment">flushleft</code> and
<code class="environment">flushright</code>) are actually based on LaTeX&rsquo;s
list-handling code; and lists always separate themselves from the
material around them.  Meanwhile, there are parameters provided to
adjust the spacing between floating environments and their
surroundings; so if we have:
<blockquote>
<pre>
\begin{figure}
 \begin{center}
   \includegraphics{...}
   \caption{...}
 \end{center}
\end{figure}
</pre>
</blockquote>
or worse still:
<blockquote>
<pre>
\begin{figure}
 \begin{center}
   \includegraphics{...}
 \end{center}
 \caption{...}
\end{figure}
</pre>
</blockquote>
unwarranted vertical space is going to appear.

<p>
The solution is to let the float and the objects in it position
themselves, and to use &ldquo;generic&rdquo; layout commands rather than their
list-based encapsulations.
<blockquote>
<pre>
\begin{figure}
  \centering
  \includegraphics{...}
  \caption{...}
\end{figure}
</pre>
</blockquote>
(which even involves less typing).

<p>
This alternative code will work with any LaTeX package.  It will
not work with obsolete (pre-LaTeX 2e) packages such as
<i class="package">psfig</i> or <i class="package">epsf</i>&nbsp;&mdash; see 
<a class="FAquestion.html" href="FAQ-impgraph.html">graphics inclusion</a> for discussion of the
genesis of <code>&#x5c;includegraphics</code>.

<p class="lastedit">This answer last edited: 2012-11-16</p>

<p>
[[[Question]]][Q-centre-flt][[[LBRACE]]]Why is my table/figure/&hellip; not centred?[[[RBRACE]]]

<p>
You want a float whose contents are centred, but LaTeX ignores your
<code class="environment">center</code> environment.  Most likely, you have written:
<blockquote>
<pre>
\begin{center}
  \begin{figure}
    ...
  \end{figure}
\end{center}
</pre>
</blockquote>
In this case, LaTeX has &ldquo;taken the <code class="environment">figure</code> away&rdquo;,
and will typeset it at some location it fancies (it does the same with
<code class="environment">table</code>s) the only thing we can say (for sure) about the
location is that it <em>won&rsquo;t</em> be inside that <code class="environment">center</code>
environment.  As a result, the <code class="environment">center</code> environment is
left with nothing to do&nbsp;&hellip; except to 
<a href="FAQ-vertspacefloat.html">make a mess of your vertical spacing</a>.

<p>
The solution is the same as that outlined in 
<a href="FAQ-vertspacefloat.html">the same answer</a>, noting that all control of
an <code class="environment">figure</code> or <code class="environment">table</code> needs to be
inside the environment.  So the example&rsquo;s code should be converted to
<blockquote>
<pre>
\begin{figure}
  \centering
  ...
\end{figure}
</pre>
</blockquote>
(or something similar for a <code class="environment">table</code>).

<p class="lastedit">This answer last edited: 2013-11-19</p>

<p>
[[[Question]]][Q-2colfltorder][[[LBRACE]]]Two-column float numbers out of order[[[RBRACE]]]

<p>
When LaTeX can&rsquo;t place a float immediately, it places it on one of
several &ldquo;defer&rdquo; lists.  If another float of the same type comes
along, and the &ldquo;defer&rdquo; list for that type still has something in it,
the later float has to wait for everything earlier in the list.

<p>
Now, standard LaTeX has different lists for single-column floats,
and double-column floats; this means that single-column figures can
overtake double-column figures (or vice-versa), and you observe later
figures appear in the document before early ones.  The same is true,
of course, for tables, or for any user-defined float.

<p>
The LaTeX team recognise the problem, and provides a package
(<i class="package">fixltx2e</i>) to deal with it.  <i class="package">Fixltx2e</i> amalgamates
the two defer lists, so that floats don&rsquo;t get out of order.

<p>
For those who are still running an older LaTeX distribution, the
package <i class="package">fix2col</i> should serve.  This package (also by a
member of the LaTeX team) was the basis of the relevant part of
<i class="package">fixltx2e</i>.  The functionality has also been included in
<i class="package">dblfloatfix</i>, which also has code to place full-width floats
at <a href="FAQ-2colfloat.html"><tt>[b]</tt> placement</a>.

<p>
Once you have loaded the package, no more remains to be done: the
whole requirement is to patch the output routine; no extra commands
are needed.
<dl>
<dt class="ctanref">dblfloatfix.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/dblfloatfix">dblfloatfix</a>
<dt class="ctanref">fix2col.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fix2col">fix2col</a>
<dt class="ctanref">fixltx2e.sty</dt><dd>Part of the LaTeX distribution
</dl>

<p>
[[[Question]]][Q-tabacc][[[LBRACE]]]Accents misbehave in <code class="environment">tabbing</code>[[[RBRACE]]]

<p>
So you are constructing a <code class="environment">tabbing</code> environment, and you
have the need of some diacriticised text&nbsp;&mdash; perhaps something as simple
as <code>&#x5c;&rsquo;</code><code>&#x7b;e&#x7d;</code>&nbsp;&mdash; and the accent disappears because it has been
interpreted as a <code class="environment">tabbing</code> command, and everything goes
wrong.

<p>
This is really a rather ghastly feature of the <code class="environment">tabbing</code>
environment; in order to type accented characters you need to use the
<code>&#x5c;a</code> kludge: so <code>&#x5c;a&rsquo;</code><code>&#x7b;e&#x7d;</code> inside <code class="environment">tabbing</code> for
<code>&#x5c;&rsquo;</code><code>&#x7b;e&#x7d;</code> outside, and similarly <code>&#x5c;a&lsquo;</code> for <code>&#x5c;&lsquo;</code> and <code>&#x5c;a=</code>
for <code>&#x5c;=</code>.  This whole procedure is of course hideous and
error-prone.

<p>
The simplest alternative is to type in an encoding that has the
diacriticised characters in it, and to use an appropriate encoding
definition file in the <i class="package">inputenc</i> package.  So for example,
type:
<blockquote>
  <code>&#x5c;usepackage</code><code>[latin1]</code></code><code>&#x7b;inputenc&#x7d;</code><br>
  <tt>...</tt><br>
  <code>&#x5c;begin</code><code>&#x7b;tabbing&#x7d;</code><br>
  <tt>...</tt><br>
  <tt>...</tt> <code>&#x5c;></code> <tt>voil&agrave;</tt> <code>&#x5c;></code> <tt>...</tt>
</blockquote>
for:
<blockquote>
  &hellip;&nbsp;voil&agrave;&nbsp;&hellip;
</blockquote>
and the internal mechanisms of the <i class="package">inputenc</i> package will put
the right version of the accent command in there.

<p>
A witty reversal of the r\^oles is introduced by the package
<i class="package">Tabbing</i> (note the capital &ldquo;T&rdquo;): it provides a
<code class="environment">Tabbing</code> environment which duplicates
<code class="environment">tabbing</code>, but all the single-character commands become
complicated objects.  So <code class="environment">tabbing</code>&rsquo;s <code>&#x5c;></code> becomes
<code>&#x5c;TAB></code>, <code>&#x5c;=</code> becomes <code>&#x5c;TAB=</code>, and so on.  The above trivial
example would therefore become:
<blockquote>
<pre>
\usepackage{Tabbing}
...
\begin{Tabbing}
  ...  ... \TAB> voil\`a \TAB> ...
</pre>
</blockquote>
<dl>
<dt class="ctanref">Tabbing.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/Tabbing">Tabbing</a>
</dl>

<p>
[[[Question]]][Q-alreadydef][[[LBRACE]]]Package reports &ldquo;command already defined&rdquo;[[[RBRACE]]]

<p>
You load a pair of packages, and the second reports that one of the
commands it defines is already present.  For example, both the
<i class="package">txfonts</i> and <i class="package">amsmath</i> define a command <code>&#x5c;iint</code>
(and <code>&#x5c;iiint</code> and so on); so
<blockquote>
<pre>
...
\usepackage{txfonts}
\usepackage{amsmath}
</pre>
</blockquote>
produces a string of error messages of the form:
<blockquote>

<pre>
! LaTeX Error: Command \iint already defined.
               Or name \end... illegal, see p.192 of the manual.
</pre>


<pre>
! LaTeX Error: Command \iint already
   defined.  Or name \end... illegal,
   see p.192 of the manual.
</pre>

</blockquote>
As a general rule, things that <i class="package">amsmath</i> defines, it defines
well; however, there is a good case for using the <i class="package">txfonts</i>
version of <code>&#x5c;iint</code>&nbsp;&mdash; the associated <i class="fontname">tx</i> fonts have a
double integral symbol that doesn&rsquo;t need to be &ldquo;faked&rdquo; in the way
<i class="package">amsmath</i> does.  In the case that you are loading several
symbol packages, every one of which defines the same symbol, you are
likely to experience the problem in a big way (<code>&#x5c;euro</code> is a common
victim).

<p>
There are similar cases where one package redefines another&rsquo;s command,
but no error occurs because the redefining package doesn&rsquo;t use
<code>&#x5c;newcommand</code>.  Often, in such a case, you only notice the change
because you assume the definition given by the first package.  The
<i class="package">amsmath</i>&ndash;<i class="package">txfonts</i> packages are just such a pair;
<i class="package">txfonts</i> doesn&rsquo;t provoke errors.

<p>
You may deal with the problem by saving and restoring the command.
Macro programmers may care to do this for themselves; for the rest of
us, there&rsquo;s the package <i class="package">savesym</i>.  The sequence:
<blockquote>
<pre>
\usepackage{savesym}
\usepackage{amsmath}
\savesymbol{iint}
\usepackage{txfonts}
\restoresymbol{TXF}{iint}
</pre>
</blockquote>
does the job; restoring the <i class="package">amsmath</i> version of the command,
and making the <i class="package">txfonts</i> version of the command available as
<code>&#x5c;TXFiint</code>.

<p>
Documentation of <i class="package">savesym</i> doesn&rsquo;t amount to much: the only
commands are <code>&#x5c;savesymbol</code> and <code>&#x5c;restoresymbol</code>, as noted above.
<dl>
<dt class="ctanref">amsmath.sty</dt><dd>Part of <a class="ctan" href="https://www.ctan.org/pkg/amslatex">amslatex</a>
<dt class="ctanref">savesym.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/savesym">savesym</a>
<dt class="ctanref">txfonts.sty</dt><dd>Part of <a class="ctan" href="https://www.ctan.org/pkg/txfonts">txfonts</a>
</dl>

<p>
[[[Question]]][Q-zerochap][[[LBRACE]]]Why are my sections numbered 0.1&thinsp;&hellip;?[[[RBRACE]]]

<p>
This happens when your document is using the standard <i class="class">book</i> or
<i class="class">report</i> class (or one similar), and you&rsquo;ve got a <code>&#x5c;section</code>
before your first <code>&#x5c;chapter</code>.

<p>
What happens is, that the class numbers sections as 
&ldquo;&lsaquo;<i>chapter no</i>&rsaquo;.&lsaquo;<i>section no</i>&rsaquo;&rdquo;, and until the first
<code>&#x5c;chapter</code> has appeared, the chapter number is 0.  (If you
use<code>&#x5c;chapter*</code>, which doesn&rsquo;t number the chapter it produces, the
problem still arises.)

<p>
If you&rsquo;re doing this, it&rsquo;s possible that the <i class="class">article</i> class
is for you; try it and see.  Otherwise, put a <code>&#x5c;chapter</code> before
your sections, or do away with section numbering by using
<code>&#x5c;section*</code> instead.  An alternative way of avoiding numbering is
discussed in 
&ldquo;<a href="FAQ-secnumdep.html">unnumbered sections in the table of contents</a>&rdquo;.

<p>
[[[Question]]][Q-breaklinks][[[LBRACE]]]Link text doesn&rsquo;t break at end line[[[RBRACE]]]
<!-- hyperref overfull link -->

<p>
When using the <i class="package">hyperref</i> package, you make a block of text
&ldquo;active&rdquo; when you define a hyper-link (when the user clicks on
that text, the reader program will divert to the <em>target</em> of the
link).

<p>
The <i class="package">hyperref</i> package uses a <em>driver</em> (in the same way
as the <i class="package">graphics</i> package does), to determine how to implement
all that hyper-stuff.

<p>
If you use the driver for <i class="progname">dvips</i> output (presumably you want
to distill the resulting PostScript), limitations in the way <i class="progname">dvips</i>
deals with the <code>&#x5c;special</code> commands mean that <i class="package">hyperref</i>
must prevent link anchors from breaking at the end of lines.  Other
drivers (notably those for PDFTeX and for <i class="progname">dvipdfm</i>) don&rsquo;t
suffer from this problem.

<p>
The problem may occur in a number of different circumstances.  For a
couple of them, there are work-arounds:

<p>
First, if you have an URL which is active (so that clicking on
it will activate your web browser to &ldquo;go to&rdquo; the URL).  In
this case <i class="package">hyperref</i> employs the <i class="package">url</i> package to
split up the URL (as described in 
<a class="FAquestion.html" href="FAQ-setURL.html">typesetting URLs</a>), but the
<i class="progname">dvips</i> driver then suppresses the breaks.  The way out is
the <i class="package">breakurl</i> package, which modifies the <code>&#x5c;url</code> command
to produce several smaller pieces, between each of which a line break
is permitted.  Each group of pieces, that ends up together in one
line, is converted to a single clickable link.

<p>
Second, if you have a table of contents, list of figure or tables, or
the like, <i class="package">hyperref</i> will ordinarily make the titles in the
table of contents, or captions in the lists, active.  If the title or
caption is long, it will need to break within the table, but the
<i class="progname">dvips</i> driver will prevent that.  In this case, load
<i class="package">hyperref</i> with the option <code class="pkgoption">linktocpage</code>, and only
the page number will be made active.

<p>
Otherwise, if you have a lengthy piece of text that you want active,
you have at present no simple solution: you have to rewrite your text,
or to use a different PDF generation mechanism.
<dl>
<dt class="ctanref">breakurl.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/breakurl">breakurl</a>
</dl>

<p>
[[[Question]]][Q-wrongpn][[[LBRACE]]]Page number is wrong at start of page[[[RBRACE]]]

<p>
This is a long story, whose sources are deep inside the workings of
TeX itself; it all derives from the TeX&rsquo;s striving to generate
the best possible output.

<p>
The page number is conventionally stored in <code>&#x5c;count0</code>; LaTeX
users see this as the counter <tt>page</tt>, and may typeset its value
using <code>&#x5c;thepage</code>.

<p>
The number (that is to say, <code>&#x5c;count0</code>) is only updated when TeX
actually outputs a page.  TeX only even tries to do this when it
detects a hint that it may be a good thing to do.  From TeX&rsquo;s point
of view, the end of a paragraph is a good time to consider outputting
a page; it will output a page if it has <em>more</em> than a page&rsquo;s
worth of material to output.  (Ensuring it always has something in
hand makes some optimisations possible.)  As a result, <code>&#x5c;count0</code>
(<code>&#x5c;thepage</code>) is almost always wrong in the first paragraph of a
page (the exception is where the page number has been &ldquo;forcibly&rdquo;
changed, either by changing its value directly, or by breaking the
page where TeX wouldn&rsquo;t necessarily have chosen to break).

<p>
LaTeX provides a safe way of referring to the page number, by using
label references.  So, rather than writing:
<blockquote>
<pre>
Here is page \thepage{}.
</pre>
</blockquote>
you should write:
<blockquote>
<pre>
Here is page \pageref{here}\label{here}.
</pre>
</blockquote>
(note: no space between the <code>&#x5c;pageref</code> and the <code>&#x5c;label</code>, since
that could potentially end up as a page-break space itself, which
rather defeats the purpose of the exercise!).

<p>
[[[Question]]][Q-matchbrak][[[LBRACE]]]My brackets don&rsquo;t match[[[RBRACE]]]

<p>
(La)TeX has a low-level mechanism for matching braces in document
text.  This means you can type something like:
<blockquote>
<pre>
\section{All \emph{OK} now.}
</pre>
</blockquote>
and know that the first brace (for the argument of <code>&#x5c;section</code>) will
be matched with the last brace, and the internal pair of braces (for
the argument of <code>&#x5c;emph</code>) will be matched with each other.  It&rsquo;s all
very simple.

<p>
However, LaTeX has a convention of enclosing optional arguments in
brackets, as in:
<blockquote>
<pre>
\section[OK]{All \emph{OK} now.}
</pre>
</blockquote>
These brackets are not matched by TeX mechanisms, despite the
superficial similarity of their use.  As a result,
straightforward-looking usages like:
<blockquote>
<pre>
\section[All [OK] now]{All \emph{OK} now.}
</pre>
</blockquote>
aren&rsquo;t OK at all&nbsp;&mdash; the optional argument comes to consist of
&ldquo;All [OK&rdquo;, and <code>&#x5c;section</code> takes the single character &ldquo;n&rdquo; (of
the first &ldquo;now&rdquo;) as its argument.

<p>
Fortunately, TeX&rsquo;s scanning mechanisms helps us by accepting the
syntax &ldquo;<tt>&#x7b;]&#x7d;</tt>&rdquo; to &lsquo;hide&rsquo; the closing bracket from the
scanning mechanism that LaTeX uses.  In practice, the commonest way
to use this facility is:
<blockquote>
<pre>
\section[All {[OK]} now]{All \emph{OK} now.}
</pre>
</blockquote>
since bracing the bracket on its own &ldquo;looks odd&rdquo;.

<p>
LaTeX has another argument syntax, even less regular, where the
argument is enclosed in parentheses, as in:
<blockquote>
<pre>
\put(1,2){foo}
</pre>
</blockquote>
(a picture environment command).

<p>
This mechanism is also prone to problems with matching closing
parentheses, but the issue seldom arises since such arguments rarely
contain text.  If it were to arise, the same solution (enclosing the
confused characters in braces) would solve the problem.

<p>
[[[Question]]][Q-pdf-fig-chars][[[LBRACE]]]Characters disappear from figures in PDFTeX[[[RBRACE]]]

<p>
You have a PDF figure, which you want to use in your
PDFLaTeX document.  When you compile the document, PDFTeX
complains about &ldquo;missing glyphs&rdquo;, and some (or all) of the labelling
text or symbols in the original figure is no longer visible.

<p>
What has happened is:
<ol>
<li> Your figure file (say <i class="filename">fig.pdf</i>) has a font <i class="filename">font.pfb</i>
  embedded in it.
<li> PDFTeX notes that it has <i class="filename">font.pfb</i> on disc, and loads
  that in place of the copy in <i class="filename">fig.pdf</i>.
<li> It turns out that the copy in <i class="filename">fig.pdf</i> has glyphs that
  aren&rsquo;t in <i class="filename">font.pfb</i> on disc, so that you get errors while
  compiling and you see that characters are missing when you view the
  output.  (PDFTeX can&rsquo;t know that the fonts are different, since
  they have the same name.)
</ol>
Which is all very undesirable.

<p>
PDFTeX does this to keep file sizes down: suppose you have a
document that loads figures <i class="filename">fig1.pdf</i> and <i class="filename">fig2.pdf</i>; both
of those use font <i class="filename">font.pfb</i>.  If PDFTeX takes no action,
there will be <em>two</em> copies of <i class="filename">font.pfb</i> in the output.
(If your document also uses the font, there could be three copies.)

<p>
A real case is the URW font <i class="filename">NimbusRomNo9L-Regu</i> (a clone
of Times Roman), which is available in a version with Cyrillic
letters, while the version in TeX distributions doesn&rsquo;t have those
letters.  Both versions, as distributed, have the same name.

<p>
The simple (&ldquo;quick and dirty&rdquo;) solution is to add the command
<blockquote>
  <code>&#x5c;pdfinclusioncopyfonts</code><tt>=1</tt>
</blockquote>
to the preamble of your document.

<p>
The &ldquo;real&rdquo; solution is that one or other font should be renamed.  In
either case, this would require that you reconfigure some program&rsquo;s
(TeX&rsquo;s or your drawing package&rsquo;s) font tables&nbsp;&mdash; inevitably a
tiresome job.

<p>
[[[Question]]][Q-emptynum][[[LBRACE]]]I asked for &ldquo;empty&rdquo;, but the page is numbered[[[RBRACE]]]

<p>
If you use <code>&#x5c;pagestyle</code><code>&#x7b;empty&#x7d;</code> and you find some pages are
numbered anyway, you are probably encountering one of the style
decisions built into the standard LaTeX classes: that certain
special pages should always appear with <code>&#x5c;pagestyle</code><code>&#x7b;plain&#x7d;</code>,
with a page number at the centre of the page foot.  The special pages
in question are those (in <i class="class">article</i> class) containing a
<code>&#x5c;maketitle</code>, or (in <i class="class">book</i> and <i class="class">report</i> classes)
<code>&#x5c;chapter</code> or <code>&#x5c;part</code> commands.

<p>
The simple solution is to reissue the page style <em>after</em> the
command, with effect for a single page, as, for example (in
<i class="class">article</i>):
<blockquote>
<pre>
\maketitle
\thispagestyle{empty}
</pre>
</blockquote>
or (in <i class="class">book</i> or <i class="class">report</i>)
<blockquote>
<pre>
\chapter{foo bar}
\thispagestyle{empty}
</pre>
</blockquote>
A similar technique doesn&rsquo;t work for a <i class="class">book</i> or <i class="class">report</i>
<code>&#x5c;part</code> command pages.  For that, and for other detail, take look
at &ldquo;<a href="FAQ-nopageno.html">getting rid of page numbers</a>&rdquo;.

<p>

<p>

<p>
[[[Question]]][Q-include][[[LBRACE]]]What&rsquo;s going on in my <code>&#x5c;include</code> commands?[[[RBRACE]]]

<p>
The original LaTeX provided the <code>&#x5c;include</code> command to address the
problem of long documents: with the relatively slow computers of the
time, the companion <code>&#x5c;includeonly</code> facility was a boon.  With the
vast increase in computer speed, <code>&#x5c;includeonly</code> is less valuable
(though it still has its place in some very large projects).
Nevertheless, the facility is retained in current LaTeX, and causes
some confusion to those who misunderstand it.

<p>
In order for <code>&#x5c;includeonly</code> to work, <code>&#x5c;include</code> makes a separate
<code class="extension">aux</code> file for each included file, and makes a &lsquo;checkpoint&rsquo; of
important parameters (such as page, figure, table and footnote
numbers).  As a direct result, it <em>must</em> clear the current page
both before and after the <code>&#x5c;include</code> command.  (The requirement
derives from the difficulties of 

  <a href="FAQ-wrongpn.html">observing page numbers</a>.)




What&rsquo;s more, this mechanism doesn&rsquo;t work if a <code>&#x5c;include</code> command
appears in a file that was <code>&#x5c;include</code>d itself: LaTeX diagnoses
this as an error.

<p>
So, we can now answer the two commonest questions about <code>&#x5c;include</code>:
<ul>
<li> Why does LaTeX throw a page before and after <code>&#x5c;include</code>
  commands?

<p>
  Answer: because it has to.  If you don&rsquo;t like it, replace the
  <code>&#x5c;include</code> command with <code>&#x5c;input</code>&nbsp;&mdash; you won&rsquo;t be able to use
  <code>&#x5c;includeonly</code> any more, but you probably don&rsquo;t need it anyway, so
  don&rsquo;t worry.


<p>

<li> Why can&rsquo;t I nest <code>&#x5c;include</code>d files?&nbsp;&mdash; I always used to be
  able to under LaTeX 2.09.

<p>
  Answer: in fact, you couldn&rsquo;t, even under LaTeX 2.09, but the failure
  wasn&rsquo;t diagnosed.  However, since you were happy with the behaviour
  under LaTeX 2.09, replace the <code>&#x5c;include</code> commands with <code>&#x5c;input</code>
  commands (with <code>&#x5c;clearpage</code> as appropriate).
</ul>

<p>

<p>
[[[Question]]][Q-paraparam][[[LBRACE]]]Why does it ignore paragraph parameters?[[[RBRACE]]]

<p>
When TeX is laying out text, it doesn&rsquo;t work from word to word, or
from line to line; the smallest complete unit it formats is the
paragraph.  The paragraph is laid down in a buffer, as it appears, and
isn&rsquo;t touched further until the end-paragraph marker is processed.
It&rsquo;s at this point that the paragraph parameters have effect; and it&rsquo;s
because of this sequence that one often makes mistakes that lead to
the paragraph parameters not doing what one would have hoped (or
expected).

<p>
Consider the following sequence of LaTeX:
<blockquote>
<pre>
{\raggedright % declaration for ragged text
Here's text to be ranged left in our output,
but it's the only such paragraph, so we now
end the group.}

Here's more that needn't be ragged...
</pre>
</blockquote>
TeX will open a group, and impose the ragged-setting parameters within
that group; it will then save a couple of sentences of text and
close the group (thus restoring the previous value of the
parameters that <code>&#x5c;raggedright</code> set).  Then TeX encounters a blank
line, which it knows to treat as a <code>&#x5c;par</code> token, so it typesets the
two sentences; but because the enclosing group has now been closed,
the parameter settings have been lost, and the paragraph will be
typeset normally.

<p>
The solution is simple: close the paragraph inside the group, so that
the setting parameters remain in place.  An appropriate way of doing
that is to replace the last three lines above with:
<blockquote>
<pre>
end the group.\par}
Here's more that needn't be ragged...
</pre>
</blockquote>
In this way, the paragraph is completed while <code>&#x5c;raggedright</code>&rsquo;s
parameters are still in force within the enclosing group.

<p>
Another alternative is to define an environment that does the
appropriate job for you.  For the above example, LaTeX already
defines an appropriate one:
<blockquote>
<pre>
\begin{flushleft}
Here's text to be ranged left...
\end{flushleft}
</pre>
</blockquote>

<p>
In fact, there are a number of parameters for which TeX only
maintains one value per paragraph.  A tiresome one is the set of upper
case/lower case translations, which (oddly enough) constrains
hyphenation of mutilingual texts.  Another that regularly creates
confusion is <a href="FAQ-baselinepar.html"><code>&#x5c;baselineskip</code></a>.

<p>
[[[Question]]][Q-casechange][[[LBRACE]]]Case-changing oddities[[[RBRACE]]]

<p>
TeX provides two primitive commands <code>&#x5c;uppercase</code> and
<code>&#x5c;lowercase</code> to change the case of text; they&rsquo;re not much used, but
are capable creating confusion.

<p>
The two commands do not expand the text that is their parameter&nbsp;&mdash;
the result of <code>&#x5c;uppercase</code><code>&#x7b;abc&#x7d;</code> is &lsquo;<tt>ABC</tt>&rsquo;, but
<code>&#x5c;uppercase</code><code>&#x7b;<code>&#x5c;abc</code>&#x7d;</code> is always &lsquo;<code>&#x5c;abc</code>&rsquo;, whatever the
meaning of <code>&#x5c;abc</code>.  The commands are simply interpreting a table of
equivalences between upper- and lowercase characters.
They have (for example) no mathematical sense, and
<blockquote>
<pre>
\uppercase{About $y=f(x)$}
</pre>
</blockquote>
will produce
<blockquote>
<pre>
ABOUT $Y=F(X)$
</pre>
</blockquote>
which is probably not what is wanted.

<p>
In addition, <code>&#x5c;uppercase</code> and <code>&#x5c;lowercase</code> do not deal very well
with non-American characters, for example
<code>&#x5c;uppercase</code><code>&#x7b;<code>&#x5c;ae</code>&#x7d;</code> is the same as <code>&#x5c;ae</code>.

<p>
LaTeX provides commands <code>&#x5c;MakeUppercase</code> and <code>&#x5c;MakeLowercase</code>
which fixes the latter problem.  These commands are used in the
standard classes to produce upper case running heads for chapters
and sections.

<p>
Unfortunately <code>&#x5c;MakeUppercase</code> and <code>&#x5c;MakeLowercase</code> do not solve
the other problems with <code>&#x5c;uppercase</code>, so for example a section
title containing <code>&#x5c;begin</code><code>&#x7b;tabular&#x7d;</code> &hellip;
<code>&#x5c;end</code><code>&#x7b;tabular&#x7d;</code> will produce a running head containing
<code>&#x5c;begin</code><code>&#x7b;TABULAR&#x7d;</code>.  The simplest solution to this problem is
using a user-defined command, for example: 
<blockquote>
<pre>
\newcommand{\mytable}{\begin{tabular}...
  \end{tabular}}
\section{A section title \protect\mytable{}
  with a table}
</pre>
</blockquote>
Note that <code>&#x5c;mytable</code> has to be protected, otherwise it will be
expanded and made upper case; you can achieve the same result by
declaring it with <code>&#x5c;DeclareRobustCommand</code>, in which case the
<code>&#x5c;protect</code> won&rsquo;t be necessary.

<p>
David Carlisle&rsquo;s <i class="package">textcase</i> package
addresses many of these problems in a transparent way.  It defines
commands <code>&#x5c;MakeTextUppercase</code> and <code>&#x5c;MakeTextLowercase</code> which do
upper- or lowercase, with the fancier features of the LaTeX
standard <code>&#x5c;Make*</code>-commands but without the problems
mentioned above.  Load the package with
<code>&#x5c;usepackage</code><code>[overload]</code></code><code>&#x7b;textcase&#x7d;</code>, and it will redefine the LaTeX
commands (<em>not</em> the TeX primitive commands <code>&#x5c;uppercase</code> and
<code>&#x5c;lowercase</code>), so that section headings and the like don&rsquo;t produce
broken page headings.
<dl>
<dt class="ctanref">textcase.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/textcase">textcase</a>
</dl>

<p>
[[[Question]]][Q-splitfoot][[[LBRACE]]]Why does LaTeX split footnotes across pages?[[[RBRACE]]]

<p>
LaTeX splits footnotes when it can think of nothing better to do.
Typically, when this happens, the footnote mark is at the bottom of
the page, and the complete footnote would overfill the page.  LaTeX
could try to salvage this problem by making the page short of both the
footnote and the line with the footnote mark, but its priorities told
it that splitting the footnote would be preferable.

<p>
As always, the best solution is to change your text so that the
problem doesn&rsquo;t occur in the first place.  Consider whether the text
that bears the footnote could move earlier in the current page, or on
to the next page.

<p>
If this isn&rsquo;t possible, you might want to change LaTeX&rsquo;s perception
of its priorities: they&rsquo;re controlled by
<code>&#x5c;interfootnotelinepenalty</code>&nbsp;&mdash; the larger it is, the less willing
LaTeX is to split footnotes.

<p>
Setting
<blockquote>
<pre>
\interfootnotelinepenalty=10000
</pre>
</blockquote>
inhibits split footnotes altogether, which will cause &lsquo;<tt>Underfull</tt>
<code>&#x5c;vbox</code>&rsquo; messages unless you also specify <code>&#x5c;raggedbottom</code>.  The
default value of the penalty is <tt>100</tt>, which is rather mild.

<p>
An alternative technique is to juggle with the actual size of the
pages.  <code>&#x5c;enlargethispage</code> changes the size of the current page by
its argument (for example, you might say
<code>&#x5c;enlargethispage</code><code>&#x7b;<code>&#x5c;baselineskip</code>&#x7d;</code> to add a single line
to the page, but you can use any ordinary TeX length such as
<tt>15mm</tt> or <tt>-20pt</tt> as argument).  Reducing the size of
the current page could force the offending text to the next page;
increasing the size of the page may allow the footnote to be included
in its entirety.  It may be necessary to change the size of more than
one page.

<p>
The <i class="package">fnbreak</i> package detects (and generates warnings about)
split footnotes.
<dl>
<dt class="ctanref">fnbreak.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/fnbreak">fnbreak</a>
</dl>

<p>
[[[Question]]][Q-marginparside][[[LBRACE]]]Getting <code>&#x5c;marginpar</code> on the right side[[[RBRACE]]]

<p>
In an ideal world, marginal notes would be in &ldquo;analogous&rdquo; places on
every page: notes on an even-side page would be in the left margin,
while those on an odd-side page would be in the right margin.  A
moment&rsquo;s thought shows that a marginal note on the left needs to be
typeset differently from a marginal note on the right.  The LaTeX
<code>&#x5c;marginpar</code> command therefore takes two arguments in a
<tt>twoside</tt> documents: 
<code>&#x5c;marginpar</code><code>[left text]</code></code><code>&#x7b;right text&#x7d;</code>.  LaTeX uses the
&ldquo;obvious&rdquo; test to
get the <code>&#x5c;marginpar</code>s in the correct margin, but a booby-trap arises
because TeX runs its page maker asynchronously.  If a
<code>&#x5c;marginpar</code> is processed while page n is being built, but
doesn&rsquo;t get used until page n+1, then the <code>&#x5c;marginpar</code> will turn
up on the wrong side of the page.  This is an instance of a general
problem: see

&ldquo;<a href="FAQ-oddpage.html">finding if you&rsquo;re on an odd or an even page</a>&rdquo;.

<p>
The solution to the problem is for LaTeX to &lsquo;remember&rsquo; which side
of the page each <code>&#x5c;marginpar</code> <em>should</em> be on.  The
<i class="package">mparhack</i> package does this, using label-like marks stored in
the <code class="extension">aux</code> file; the <i class="class">memoir</i> class does likewise.
<dl>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">mparhack.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mparhack">mparhack</a>
</dl>

<p>
[[[Question]]][Q-misschar][[[LBRACE]]]Where have my characters gone?[[[RBRACE]]]

<p>
You&rsquo;ve typed some apparently reasonable text and processed it, but the
result contains no sign of some of the characters you typed.  A likely
reason is that the font you selected just doesn&rsquo;t have a
representation for the character in question.

<p>
For example, if I type &ldquo;that will be &#xa3;44.00&rdquo; into an ordinary
(La)TeX document, or if I select the font <tt>rsfs10</tt> (which contains
uppercase letters only) and type pretty much anything, the &#xa3;
sign, or any lowercase letters or digits will not appear in the
output.  There&rsquo;s no actual error message, either: you have to read the
log file, where you&rsquo;ll find cryptic little messages like
<blockquote>

<pre>
Missing character: There is no ^^a3 in font cmr10!
Missing character: There is no 3 in font rsfs10!
</pre> 


<pre>
Missing character:
           There is no ^^a3 in font cmr10!
Missing character:
             There is no 3 in font rsfs10!
</pre> 

</blockquote>
(the former demonstrating my TeX&rsquo;s unwillingness to deal in characters
which have the eighth bit set, while the <tt>rsfs10</tt> example shows that
TeX will log the actual character in error, if it thinks it&rsquo;s
possible).

<p>
Somewhat more understandable are the diagnostics you may get from
<i class="package">dvips</i> when using the OT1 and T1 versions of
fonts that were supplied in Adobe standard encoding:
<blockquote>
<pre>
dvips: Warning: missing glyph `Delta'
</pre>
</blockquote>
The process that generates the metrics for using the fonts generates
an instruction to <i class="package">dvips</i> to produce these diagnostics, so
that their non-appearance in the printed output is less surprising
than it might be.  Quite a few glyphs provided in Knuth&rsquo;s text
encodings and in the Cork encoding are not available in the Adobe
fonts.  In these cases, there <em>is</em> a typeset sign of the
character: <i class="progname">dvips</i> produces a black rectangle of whatever
size the concocted font file has specified.

<p>
[[[Question]]][Q-rerun][[[LBRACE]]]&ldquo;Rerun&rdquo; messages won&rsquo;t go away[[[RBRACE]]]

<p>
The LaTeX message &ldquo;Rerun to get crossreferences right&rdquo; is
supposed to warn the user that the job needs to be processed again,
since labels seem to have changed since the previous run.  (LaTeX
compares the labels it has created this time round with what it found
from the previous run when it started; it does this comparison at
<code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>.)

<p>
Sometimes, the message won&rsquo;t go away: however often you reprocess your
document, LaTeX still tells you that &ldquo;Label(s) may have
changed&rdquo;.  This can sometimes be caused by a broken package: both
<i class="package">footmisc</i> (with the <code class="pkgoption">perpage</code> option) and <i class="package">hyperref</i>
have been known to give trouble, in the past: if you are using either,
check you have the latest version, and upgrade if possible.

<p>
However, there <em>is</em> a rare occasion when this error can happen
as a result of pathological structure of the document itself.  Suppose
you have pages numbered in roman, and you add a reference to a label
on page &ldquo;ix&rdquo; (9).  The presence of the reference pushes the thing
referred to onto page &ldquo;x&rdquo; (10), but since that&rsquo;s a shorter reference
the label moves back to page &ldquo;ix&rdquo; at the next run.  Such a sequence
can obviously not terminate.

<p>
The only solution to this problem is to make a small change to your
document (something as small as adding or deleting a comma will often
be enough).
<dl>
<dt class="ctanref">footmisc.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/footmisc">footmisc</a>
<dt class="ctanref">hyperref.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/hyperref">hyperref</a>
</dl>

<p>
[[[Question]]][Q-xspace][[[LBRACE]]]Commands gobble following space[[[RBRACE]]]

<p>
People are forever surprised that simple commands gobble the space
after them: this is just the way it is.  The effect arises from the
way TeX works, and Lamport describes a solution (place a pair of braces
after a command&rsquo;s invocation) in the description of LaTeX syntax.
Thus the requirement is in effect part of the definition of LaTeX.

<p>
These FAQs,
for example, is written in LaTeX for production of a web site.  The
HTML code is generated by a script that <em>requires</em> a pair of
braces, to make a null argument, as in:
<blockquote>
  <code>&#x5c;fred</code><code>&#x7b;&#x7d;</code> 
                           
                           
</blockquote>
for almost all macro invocations, regardless
of whether the following space is required: however, these FAQs
should not itself be regarded as a model of LaTeX style.

<p>
Many users find all those braces become very tedious very
quickly, and would really rather not type them all.

<p>
An alternative structure, that doesn&rsquo;t violate the design of LaTeX,
is to say <code>&#x5c;fred</code><code>&#x5c; </code>&nbsp;&mdash; the <code>&#x5c; </code> command is &ldquo;self
terminating&rdquo; (like <tt>&#x5c; </tt>) and you don&rsquo;t need braces after
<em>it</em>.  Thus one can reduce to one the number of extra characters
one needs to type.

<p>
If even that one character is too many, the package <i class="package">xspace</i>
defines a command <code>&#x5c;xspace</code> that guesses whether there should have
been a space after it, and if so introduces that space.  So

&ldquo;<tt>fred<code>&#x5c;xspace</code> jim</tt>&rdquo; produces &ldquo;fred jim&rdquo;, while
&ldquo;<tt>fred<code>&#x5c;xspace</code>. jim</tt>&rdquo; produces &ldquo;fred. jim&rdquo;.  Which
usage would of course be completely pointless; but you can incorporate
<code>&#x5c;xspace</code> in your own macros:
<blockquote>

<pre>
\usepackage{xspace}
...
\newcommand{\restenergy}{\ensuremath{mc^2}\xspace}
...
and we find \restenergy available to us...
</pre>


<pre>
\usepackage{xspace}
...
\newcommand{\restenergy}%
           {\ensuremath{mc^2}\xspace}
...
and we find \restenergy available to us...
</pre>

</blockquote>
The <code>&#x5c;xspace</code> command must be the last thing in your macro
definition (as in the example); it&rsquo;s not completely foolproof, but it
copes with most obvious situations in running text.

<p>
The <i class="package">xspace</i> package doesn&rsquo;t save you anything if you use it in
a macro that appears only once or twice within your document, and it
is not totally foolproof.  (The original author of the package wrote
it because he had been bitten by lost spaces.  He no longer recommends
its use, simply because of the possibility of error.)

<p>
In any case, be
careful with usage of <code>&#x5c;xspace</code>&nbsp;&mdash; it changes your input syntax,
which can be confusing, notably to a collaborating author
(particularly if you create some commands which use it and some which
don&rsquo;t).  No command built into LaTeX or into any
&ldquo;standard&rdquo; class or package will use <code>&#x5c;xspace</code>.
<dl>
<dt class="ctanref">xspace.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/xspace">2etools</a>
</dl>

<p class="lastedit">This answer last edited: 2013-11-26</p>

<p>
[[[Question]]][Q-overfull][[[LBRACE]]](La)TeX makes overfull lines[[[RBRACE]]]

<p>
When TeX is building a paragraph, it can make several attempts to
get the line-breaking right; on each attempt it runs the same
algorithm, but gives it different parameters.  You can affect the way
TeX&rsquo;s line breaking works by adjusting the parameters: this answer
deals with the &ldquo;tolerance&rdquo; and stretchability parameters.  The other
vital &lsquo;parameter&rsquo; is the set of hyphenations to be applied: see
&ldquo;<a class="FAquestion.html" href="FAQ-nohyph.html">my words aren&rsquo;t being hyphenated</a>&rdquo;
(and the questions it references) for advice.

<p>
If you&rsquo;re getting an undesired &ldquo;overfull box&rdquo;, what has happened is
that TeX has given up: the parameters you gave it don&rsquo;t allow it to
produce a result that <em>doesn&rsquo;t</em> overfill.  In this circumstance,
Knuth decided the best thing to do was to produce a warning, and to
allow the user to solve the problem.  (The alternative, silently to go
beyond the envelope of &ldquo;good taste&rdquo; defined for this run of TeX,
would be distasteful to any discerning typographer.)  The user can
almost always address the problem by rewriting the text that&rsquo;s
provoking the problem&nbsp;&mdash; but that&rsquo;s not always possible, and in some
cases it&rsquo;s impossible to solve the problem without adjusting the
parameters.  This answer discusses the approaches one might take to
resolution of the problem, on the assumption that you&rsquo;ve got the
hyphenation correct.

<p>
The simplest case is where a &lsquo;small&rsquo; word fails to break at the end of
a line; pushing the entire word to a new line isn&rsquo;t going to make much
difference, but it might make things just bad enough that TeX won&rsquo;t
do it by default.  In such a case on can <em>try</em> the LaTeX
<code>&#x5c;linebreak</code> command: it may solve the problem, and if it does, it
will save an awful lot of fiddling.  Otherwise, one needs to adjust
parameters: to do that we need to recap the details of TeX&rsquo;s line
breaking mechanisms.

<p>
TeX&rsquo;s first attempt at breaking lines is performed without even
trying hyphenation: TeX sets its &ldquo;tolerance&rdquo; of line breaking
oddities to the internal value <code>&#x5c;pretolerance</code>, and sees what
happens.  If it can&rsquo;t get an acceptable break, TeX adds the
hyphenation points allowed by the current patterns, and tries again
using the internal <code>&#x5c;tolerance</code> value.  If this pass also fails, and
the internal <code>&#x5c;emergencystretch</code> value is positive, TeX will try
a pass that allows <code>&#x5c;emergencystretch</code> worth of extra stretchability
to the spaces in each line.

<p>
In principle, therefore, there are three parameters (other than
hyphenation) that you can change: <code>&#x5c;pretolerance</code>, <code>&#x5c;tolerance</code>
and <code>&#x5c;emergencystretch</code>.  Both the <tt>tolerance</tt> values are
simple numbers, and should be set by TeX primitive count
assignment&nbsp;&mdash; for example
<blockquote>
<pre>
\pretolerance=150
</pre>
</blockquote>
For both, an &ldquo;infinite&rdquo; tolerance is represented by the value
<tt>10</tt><tt>000</tt>, but infinite tolerance is rarely
appropriate, since it can lead to very bad line breaks indeed.

<p>
<code>&#x5c;emergencystretch</code> is a TeX-internal &lsquo;dimen&rsquo; register, and can
be set as normal for dimens in Plain TeX; in LaTeX, use
<code>&#x5c;setlength</code>&nbsp;&mdash; for example:
<blockquote>
<pre>
\setlength{\emergencystretch}{3em}
</pre>
</blockquote>

<p>
The choice of method has time implications&nbsp;&mdash; each of the
passes takes time, so adding a pass (by changing
<code>&#x5c;emergencystretch</code>) is less desirable than suppressing one (by
changing <code>&#x5c;pretolerance</code>).  However, it&rsquo;s unusual nowadays to find a
computer that&rsquo;s slow enough that the extra passes are really
troublesome.

<p>
In practice, <code>&#x5c;pretolerance</code> is rarely used other than to manipulate
the use of hyphenation; Plain TeX and LaTeX both set its value
to <tt>100</tt>.  To suppress the first scan of paragraphs, set
<code>&#x5c;pretolerance</code> to <tt>-1</tt>.

<p>
<code>&#x5c;tolerance</code> is often a good method for adjusting spacing;
Plain TeX and LaTeX both set its value to <tt>200</tt>.  LaTeX&rsquo;s
<code>&#x5c;sloppy</code> command sets it to <tt>9999</tt>, as does the
<code class="environment">sloppypar</code> environment.  This value is the largest
available, this side of infinity, and can allow pretty poor-looking
breaks (this author rarely uses <code>&#x5c;sloppy</code> &ldquo;bare&rdquo;, though he does
occasionally use <code class="environment">sloppypar</code>&nbsp;&mdash; that way, the change of
<code>&#x5c;tolerance</code> is confined to the environment).  More satisfactory is
to make small changes to <code>&#x5c;tolerance</code>, incrementally, and then to look to
see how the change affects the result; very small increases can often
do what&rsquo;s necessary.  Remember that <code>&#x5c;tolerance</code> is a paragraph
parameter, so you need to ensure it&rsquo;s actually applied&nbsp;&mdash; see
&ldquo;<a class="FAquestion.html" href="FAQ-paraparam.html">ignoring paragraph parameters</a>&rdquo;.
LaTeX users could use an environment like:
<blockquote>
<pre>
\newenvironment{tolerant}[1]{%
  \par\tolerance=#1\relax
}{%
  \par
}
</pre>
</blockquote>
enclosing entire paragraphs (or set of paragraphs) in it.

<p>
The value of <code>&#x5c;emergencystretch</code> is added to the assumed
stretchability of each line of a paragraph, in a further run of the
paragraph formatter in case that the paragraph can&rsquo;t be made to look
right any other way.  (The extra scan happens if
<code>&#x5c;emergencystretch&gt;0pt</code>&nbsp;&mdash; if it&rsquo;s zero or negative, no gain
could be had from rerunning the paragraph setter.)  The example above
set it to <tt>3em</tt>; the Computer Modern fonts ordinarily fit three
space skips to the <tt>em</tt>, so the change would allow anything up
to the equivalent of nine extra spaces in each line.  In a line with
lots of spaces, this could be reasonable, but with (say) only three
spaces on the line, each could stretch to four times its natural
width.  It is therefore clear that <code>&#x5c;emergencystretch</code> needs to be
treated with a degree of caution.

<p>
More subtle (but more tricky to manage) are the microtypographic
extensions provided by PDFTeX.  Since PDFTeX is the default
&lsquo;engine&rsquo; for LaTeX and CONTeXT work in all distributions,
nowadays, the extensions are available to all.  There are two
extensions, margin kerning and font expansion; margin kerning only
affects the visual effect of the typeset page, and has little effect
on the ability of the paragraph setter to &ldquo;get things right&rdquo;.
Font expansion works like a subtler version of the trick that
<code>&#x5c;emergencystretch</code> plays: PDFTeX &lsquo;knows&rsquo; that your current font
may be stretched (or shrunk) to a certain extent, and will do that
&ldquo;on the fly&rdquo; to optimise the setting of a paragraph.  This is a
powerful tool in the armoury of the typesetter.

<p>
As mentioned above, the microtypographic extensions are tricky beasts
to control; however, the <i class="package">microtype</i> package relieves the user
of the tedious work of specifying how to perform margin adjustments
and how much to scale each font&nbsp;&hellip; for the fonts the package
knows about; it&rsquo;s a good tool, and users who can take on the
specification of adjustments for yet more fonts are always welcome.
<dl>
<dt class="ctanref">microtype.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/microtype">microtype</a>
</dl>

<p>
[[[Question]]][Q-exscale][[[LBRACE]]]Maths symbols don&rsquo;t scale up[[[RBRACE]]]

<p>
By default, the &ldquo;large&rdquo; maths symbols stay at the same size
regardless of the font size of the text of the document.  There&rsquo;s good
reason for this: the <i class="fontname">cmex</i> fonts aren&rsquo;t really designed to
scale, so that TeX&rsquo;s maths placement algorithms don&rsquo;t perform as
well as they might when the fonts are scaled.

<p>
However, this behaviour confounds user expectations, and can lead to
slightly odd-looking documents.  If you want the fonts to scale,
despite the warning above, use the <i class="package">exscale</i> package&nbsp;&mdash; just
loading it is enough.




<dl>
<dt class="ctanref">exscale.sty</dt><dd>Part of the LaTeX distribution.
</dl>

<p>
[[[Question]]][Q-linespread][[[LBRACE]]]Why doesn&rsquo;t <code>&#x5c;linespread</code> work?[[[RBRACE]]]

<p>
The command <code>&#x5c;linespread</code><code>&#x7b;factor&#x7d;</code> is supposed to multiply
the current <code>&#x5c;baselineskip</code> by &lsaquo;<i>factor</i>&rsaquo;; but, to all
appearances, it doesn&rsquo;t.

<p>
In fact, the command is equivalent to
<code>&#x5c;renewcommand</code><code>&#x7b;<code>&#x5c;baselinestretch</code>&#x7d;</code></code><code>&#x7b;factor&#x7d;</code>: written that
way, it somehow feels less surprising that the effect isn&rsquo;t immediate.
The <code>&#x5c;baselinestretch</code> factor is only used when a font is selected;
a mere change of <code>&#x5c;baselinestretch</code> doesn&rsquo;t change the font, any
more than does the command
<code>&#x5c;fontsize</code><code>&#x7b;size&#x7d;</code></code><code>&#x7b;baselineskip&#x7d;</code>&nbsp;&mdash; you have to follow
either command with <code>&#x5c;selectfont</code>.  So:
<blockquote>
<pre>
\fontsize{10}{12}%
\selectfont
</pre>
</blockquote>
or:
<blockquote>
<pre>
\linespread{1.2}%
\selectfont
</pre>
</blockquote>
Of course, a package such as <i class="package">setspace</i>, whose job is to
manage the baseline, will deal with all this stuff&nbsp;&mdash; see
&ldquo;<a class="FAquestion.html" href="FAQ-linespace.html">managing double-spaced documents</a>&rdquo;.  If
you want to avoid <i class="package">setspace</i>, beware the behaviour of
linespread changes within a paragraph: read 
&ldquo;<a class="FAquestion.html" href="FAQ-baselinepar.html"><code>&#x5c;baselineskip</code> is a paragraph parameter</a>&rdquo;.
<dl>
<dt class="ctanref">setspace.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/setspace">setspace</a>
</dl>

<p>
[[[Question]]][Q-baselinepar][[[LBRACE]]]Only one <code>&#x5c;baselineskip</code> per paragraph[[[RBRACE]]]

<p>
The <code>&#x5c;baselineskip</code>, which determines the space between lines, is
not (as one might hope) a property of a line, but of a paragraph.  As
a result, in a <tt>10pt</tt> (nominal) document (with a default
<code>&#x5c;baselineskip</code> of <tt>12pt</tt>), a single character with a larger
size, as:
<blockquote>
<pre>
{\Huge A}
</pre>
</blockquote>
will be squashed into the paragraph: TeX will make sure it doesn&rsquo;t
scrape up against the line above, but won&rsquo;t give it &ldquo;room to
breathe&rdquo;, as it does the text at standard size; that is, its size
(<tt>24.88pt</tt>) is taken account of, but its <code>&#x5c;baselineskip</code>
(<tt>30pt</tt>) isn&rsquo;t.  This problem may be solved by a <em>strut</em>:
the name comes from movable metal typography, and refers to a spacer
that held the boxes (that contained the metal character shapes) apart.
Every time you change font size, LaTeX redefines the command
<code>&#x5c;strut</code> to provide the equivalent of a metal-type strut for the
size chosen.  So for the example above, we would type
<blockquote>
<pre>
Paragraph text ...
   {\Huge A\strut}
   ... paragraph continues ...
</pre>
</blockquote>
This technique <em>only</em> works for such very short intrusions; if
you need several lines, you should convert your intrusion into a
<code class="environment">quote</code> environment, since it&rsquo;s not possible to provide a
<code>&#x5c;strut</code> command for every line of the intrusion, in a sensible
way, so proceed by:
<blockquote>
<pre>
\begin{quote}
  \Huge A LENGTHY TEXT ...
  SHOUTING AT THE READER!
\end{quote}
</pre>
</blockquote>

<p>
The contrary case:
<blockquote>
<pre>
Paragraph text ...
{\footnotesize Extended interjection ...
   ... into the paragraph.}
      ... paragraph continues ...
</pre>
</blockquote>
will look wrong, since the <tt>8pt</tt> interjection will
end up set on the <tt>12pt</tt> <code>&#x5c;baselineskip</code> of the paragraph,
rather than its preferred <tt>8.5pt</tt>.  A <code>&#x5c;strut</code> here is no
help: there is no such thing as a &ldquo;negative strut&rdquo;, that draws lines
together, so once more, one falls back on the <code class="environment">quote</code> to
separate the interjection:
<blockquote>
<pre>
Paragraph text ...
\begin{quote}
  \footnotesize Extended interjection ...
  ... into the paragraph.
\end{quote}
... paragraph continues ...
</pre>
</blockquote>

<p>
The same effect is at work when we have something like:
<blockquote>
<pre>
Paragraph text ...
  ... paragraph body ends.
{\footnotesize Comment on the paragraph.}

Next paragraph starts...
</pre>
</blockquote>
which will set the body of the first paragraph on the constricted
<code>&#x5c;baselineskip</code> of the <code>&#x5c;footnotesize</code> comment.  Solve this
problem by ending the initial paragraph before starting the comment:
<blockquote>
<pre>
Paragraph text ...
  ... paragraph body ends.
\par\nothtml{\noindent}
{\footnotesize Comment on the paragraph.}

Next paragraph starts...
</pre>
</blockquote>
(We suggest <code>&#x5c;noindent</code> to make the comment look as if it is part
of the paragraph it discusses; omit <code>&#x5c;noindent</code> if that is inappropriate.)

<p>
A variation of the previous issue arises from a paragraph whose size
is different from those around it:
<blockquote>
<pre>
{\Large (Extended) IMPORTANT DETAILS ...}

Main body of text...
</pre>
</blockquote>
Again, the problem is solved by ending the paragraph in the same group
as the text with a different size:
<blockquote>
<pre>
{\Large (Extended) IMPORTANT DETAILS ...\par}

Main body of text...
</pre>
</blockquote>

<p>
[[[Question]]][Q-tocloftwrong][[[LBRACE]]]Numbers too large in table of contents, etc.[[[RBRACE]]]

<p>
<!-- memoir table-of-contents spacing -->
LaTeX constructs the table of contents, list of figures, tables,
and similar tables, on the basis of a layout specified in the class.
As a result, they do <em>not</em> react to the sizes of things in them,
as they would if a <code class="environment">tabular</code> environment (or something
similar) was used.

<p>
This arrangement can provoke problems, most commonly with deep section
nesting or very large page numbers: the numbers in question just don&rsquo;t
fit in the space allowed for them in the class.

<p>
A separate answer discusses 
 
<a href="FAQ-tocloft.html">re-designing the tables</a>
and techniques from that answer may be employed to make the numbers
fit:
<blockquote>
<pre>
\setlength\cftsectionnumwidth{4em}
</pre>
</blockquote>

<p>
The same command may be employed in documents typeset with the
<i class="class">memoir</i> package (by the same author as <i class="package">tocloft</i>).

<p>
<i class="class">Memoir</i> has another mechanism for the job:
<code>&#x5c;cftsetindents</code><code>&#x7b;&lsaquo;<i>kind</i>&rsaquo;&#x7d;</code><code>&#x7b;indent&#x7d;</code><code>&#x7b;numwidth&#x7d;</code>.  Here
<em>kind</em> is <tt>chapter</tt>, <tt>section</tt>, or whatever; the
<em>indent</em> specifies the &lsquo;margin&rsquo; before the entry starts; and the
<em>width</em> is of the box into which the number is typeset (so needs
to be wide enough for the largest number, with the necessary spacing
to separate it from what comes after it in the line.
<dl>
<dt class="ctanref">memoir.cls</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/memoir">memoir</a>
<dt class="ctanref">tocloft.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tocloft">tocloft</a>
</dl>

<p class="lastedit">This answer last edited: 2013-08-20</p>

<p>
[[[Question]]][Q-gutter][[[LBRACE]]]Why is the inside margin so narrow?[[[RBRACE]]]

<p>
If you give the standard classes the <code class="pkgoption">twoside</code> option, the
class sets the margins narrow on the left of odd-numbered pages, and
on the right of even-numbered pages.  This is often thought to look
odd, but it is quite right.

<p>
The idea is that the typographic urge for symmetry should also apply
to margins: if you lay an even numbered page to the left of an
odd-numbered one, you will see that you&rsquo;ve three equal chunks of
un-printed paper: the left margin of the even page, the right margin
of the odd page, and the two abutting margins together.

<p>
This is all very fine in the abstract, but in practical book(let)
production it only works &ldquo;sometimes&rdquo;.

<p>
If your booklet is produced on double-width paper and stapled, the
effect will be good; if your book(let) is produced using a so-called
&ldquo;perfect&rdquo; binding, the effect will again be good.

<p>
However, almost any &ldquo;quality&rdquo; book-binder will need some of your
paper to grab hold of, and a book bound in such a way won&rsquo;t exhibit
the treasured symmetry unless you&rsquo;ve done something about the margin
settings.

<p>
The packages recommended in 
&ldquo;<a href="FAQ-marginpkgs.html">setting up margins</a>&rdquo; mostly have provision for
a &ldquo;binding offset&rdquo; or a &ldquo;binding correction&rdquo;&nbsp;&mdash; search for
&ldquo;binding&rdquo; in the manuals (<i class="package">vmargin</i> doesn&rsquo;t help, here).

<p>
If you&rsquo;re doing the job by hand (see 
<a class="FAquestion.html" href="FAQ-marginmanual.html">manual margin setup</a>), the trick is to
calculate your page and margin dimensions as normal, and then:
<ul>
<li> subtract the binding offset from <code>&#x5c;evensidemargin</code>, and
<li> add the binding offset to <code>&#x5c;oddsidemargin</code>.
</ul>
which can be achieved by:
<blockquote>
<pre>
\addtolength{\evensidemargin}{-offset}
\addtolength{\oddsidemargin}{offset}
</pre>
</blockquote>
(substituting something sensible like &ldquo;<tt>5mm</tt>&rdquo; for
&ldquo;<tt>offset</tt>&rdquo;, above).

<p>
The above may not be the best you can do: you may well choose to
change the <code>&#x5c;textwidth</code> in the presence of the binding offset; but
the changes do work for constant <code>&#x5c;textwidth</code>.

<p>

<p>

<p>
[[[Question]]][Q-t1enc][[[LBRACE]]]Why use <i class="package">fontenc</i> rather than <i class="package">t1enc</i>?[[[RBRACE]]]

<p>
In the very earliest days of LaTeX 2e, the only way to use the
T1 encoding was <i class="package">t1enc</i>; with the summer 1994
&ldquo;production&rdquo; release, the <i class="package">fontenc</i> package appeared, and
provided comprehensive support for use of the encoding.

<p>
Nevertheless, the <i class="package">t1enc</i> package remains (as part of the
LaTeX 2.09 compatibility code), but it does very little: it merely
selects font encoding T1, and leaves to the user the business
of generating the character codes required.

<p>
Generating such character codes could be a simple matter, <em>if</em>
the T1 encoding matched any widely-supported encoding standard,
since in that case, one might expect one&rsquo;s keyboard to generate the
character codes.  However, the T1 encoding is a mix of several
standard encodings, and includes code points in areas of the table
which standard encodings specifically exclude, so no T1
keyboards have been (or ever will be) manufactured.

<p>
By contrast, the <i class="package">fontenc</i> package generates the T1
code points from ordinary LaTeX commands (e.g., it generates the
<tt>&eacute;</tt> character codepoint from the command <code>&#x5c;&rsquo;</code><tt>e</tt>).
So, unless you have program-generated T1 input (which is almost
inconceivable), use <code>&#x5c;usepackage</code><code>[T1]</code></code><code>&#x7b;fontenc&#x7d;</code> rather than
<code>&#x5c;usepackage</code><code>&#x7b;t1enc&#x7d;</code>.

<p>
[[[Question]]][Q-why-inp-font][[[LBRACE]]]Why bother with <i class="package">inputenc</i> and <i class="package">fontenc</i>?[[[RBRACE]]]

<p>
The standard input encoding for Western Europe (pending the arrival of
Unicode) is ISO&nbsp;8859&ndash;1 (commonly known by the standard&rsquo;s
subtitle &lsquo;Latin-1&rsquo;).  Latin-1 is remarkably close, in the codepoints
it covers, to the (La)TeX T1 encoding.

<p>
In this circumstance, why should one bother with <i class="package">inputenc</i>
and <i class="package">fontenc</i>?  Since they&rsquo;re pretty exactly mirroring each
other, one could do away with both, and use just <i class="package">t1enc</i>,
despite its <a href="FAQ-t1enc.html">shortcomings</a>.

<p>
One doesn&rsquo;t do this for a variety of small reasons:
<dl>
<dt class="description">Confusion</dt><dd> You&rsquo;ve been happily working in this mode, and for
  some reason find you&rsquo;re to switch to writing in German: the effect
  of using &ldquo;<tt>&szlig;</tt>&rdquo; is somewhat startling, since T1
  and Latin-1 treat the codepoint differently.
<dt class="description">Compatibility</dt><dd> You find yourself needing to work with a
  colleague in Eastern Europe: their keyboard is likely to be set to
  produce Latin-2, so that the simple mapping doesn&rsquo;t work.
<dt class="description">Traditional LaTeX</dt><dd> You lapse and write something like
  <code>&#x5c;&rsquo;</code><code>&#x7b;e&#x7d;</code> rather than typing <tt>&eacute;</tt>; only <i class="package">fontenc</i>
  has the means to convert this LaTeX sequence into the T1
  character, so an <code>&#x5c;accent</code> primitive slips through into the
  output, and hyphenation is in danger.
</dl>
The <i class="package">inputenc</i>&ndash;<i class="package">fontenc</i> combination seems slow and
cumbersome, but it&rsquo;s safe.

<p>
[[[Question]]][Q-eqnarray][[[LBRACE]]]Why not use <code class="environment">eqnarray</code>?[[[RBRACE]]]

<p>
The environment <code class="environment">eqnarray</code> is attractive for the
occasional user of mathematics in LaTeX documents: it seems to
allow aligned systems of equations.  Indeed it <em>does</em> supply such
things, but it makes a serious mess of spacing.  In the system:
<blockquote>
<pre>
\begin{eqnarray}
  a &amp; = &amp; b + c \\
  x &amp; = &amp; y - z
\end{eqnarray}
</pre>
</blockquote>
the spacing around the &ldquo;=&rdquo; signs is <em>not</em> that defined in the
metrics for the font from which the glyph comes&nbsp;&mdash; it&rsquo;s
<code>&#x5c;arraycolsep</code>, which may be set to some very odd value for reasons
associated with real arrays elsewhere in the document.

<p>
The user is far better served by the AMSLaTeX bundle, which
provides an <code class="environment">align</code> environment, which is designed with
the needs of mathematicians in mind (as opposed to the convenience of
LaTeX programmers).  For this simple case (<code class="environment">align</code> and
other AMSLaTeX alignment environments are capable of far greater
things), code as:
<blockquote>
<pre>
\begin{align}
  a &amp; = b + c \\
  x &amp; = y - z
\end{align}
</pre>
</blockquote>
The matter is discussed in more detail in a 
<a href="http://tug.org/pracjourn/2006-4/madsen/madsen.pdf">PracTeX journal paper</a>
by Lars Madsen; Stefan Kottwitz offers a 
<a href="http://texblog.net/latex-archive/maths/eqnarray-align-environment/">TeX blog entry</a>
which includes screen shots of the output, convincingly demonstrating
the problem.
<dl>
<dt class="ctanref">AMSLaTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amslatex">amslatex</a>
</dl>

<p>
[[[Question]]][Q-dolldoll][[[LBRACE]]]Why use <code>&#x5c;[</code>&thinsp;&hellip;<code>&#x5c;]</code> in place of <tt>&#x24;&#x24;</tt>&thinsp;&hellip;&thinsp;<tt>&#x24;&#x24;</tt>?[[[RBRACE]]]

<p>
LaTeX defines inline- and display-maths commands, apparently
duplicating the TeX primitive maths sequences which surround maths
commands with single (or pairs of) dollar signs.

<p>
In fact, LaTeX&rsquo;s inline maths grouping, 
<code>&#x5c;(</code><tt> ... </tt><code>&#x5c;)</code>, has (almost) exactly the same effect as the
TeX primitive version <tt>&#x24; ... &#x24;</tt>.  (The exception:
the LaTeX version checks to ensure you don&rsquo;t put <code>&#x5c;(</code> and
<code>&#x5c;)</code> the wrong way round; this does occasionally detect errors&hellip;.)

<p>
Since this is the case, one often finds LaTeX users, who have some
experience of using Plain TeX, merely assuming that LaTeX&rsquo;s
display maths grouping <code>&#x5c;[</code><tt> ... </tt><code>&#x5c;]</code> may be replaced by
the TeX primitive display maths <tt>&#x24;&#x24; ... &#x24;&#x24;</tt>.

<p>
Unfortunately, the assumption is wrong: some LaTeX code needs to
patch display maths, it can only do so by patching <code>&#x5c;[</code> and <code>&#x5c;]</code>
(or their equivalents).  Most obviously, the class option <code class="pkgoption">fleqn</code>
simply does not work for equations coded using 
<tt>&#x24;&#x24; ... &#x24;&#x24;</tt>, whether you&rsquo;re using the standard classes
alone, or using package <i class="package">amsmath</i>.  Also, the <code>&#x5c;[</code> and
<code>&#x5c;]</code> construct has code for rationalising vertical spacing in some
extreme cases; that code is not provided <tt>&#x24;&#x24; ... &#x24;&#x24;</tt>, so if
you use the Plain TeX version, you may occasionally observe
inconsistent vertical spacing.  Similar behaviour can bite if you are
writing a <em>proof</em>; placing the &ldquo;QED symbol&rdquo; doesn&rsquo;t work
if it is in <tt>&#x24;&#x24;</tt>-displayed maths.

<p>
There are more subtle effects (especially with package
<i class="package">amsmath</i>), and the simple rule is &ldquo;use 
<code>&#x5c;[</code><tt> ... </tt><code>&#x5c;]</code> (at least) whenever displayed maths is
needed in LaTeX&rdquo;.

<p>
(Note that the sequence <code>&#x5c;[</code><tt> ... </tt><code>&#x5c;]</code> is duplicated by
the <code class="environment">displaymath</code> environment, which can be said to &ldquo;look
nicer&rdquo;, and actually <em>describes</em> what&rsquo;s being done.)

<p class="lastedit">This answer last edited: 2013-06-05</p>

<p>
[[[Question]]][Q-2letterfontcmd][[[LBRACE]]]What&rsquo;s wrong with <code>&#x5c;bf</code>, <code>&#x5c;it</code>, etc.?[[[RBRACE]]]

<p>
The font-selection commands of LaTeX 2.09 were <code>&#x5c;rm</code>, <code>&#x5c;sf</code>,
<code>&#x5c;tt</code>, <code>&#x5c;it</code>, <code>&#x5c;sl</code>, <code>&#x5c;em</code> and <code>&#x5c;bf</code>; they were modal
commands, so you used them as:
<blockquote>
<pre>
{\bf Fred} was {\it here\/}.
</pre>
</blockquote>
with the font change enclosed in a group, so as to limit its effect;
note the italic correction command <code>&#x5c;/</code> that was necessary at the
end of a section in italics.

<p>
At the release of LaTeX 2e in summer 1994, these simple commands were
deprecated, but recognising that their use is deeply embedded in the
brains of LaTeX users, the commands themselves remain in LaTeX,
<em>with their LaTeX 2.09 semantics</em>.  Those semantics were part of
the reason they were deprecated: each <code>&#x5c;<em>xx</em></code> overrides
any other font settings, keeping only the size.  So, for example,
<blockquote>
<pre>
{\bf\it Here we are again\/}
</pre>
</blockquote>
ignores <code>&#x5c;bf</code> and produces text in italic, medium weight (and the
italic correction has a real effect), whereas
<blockquote>
<pre>
{\it\bf happy as can be\/}
</pre>
</blockquote>
ignores <code>&#x5c;it</code> and produces upright text at bold weight (and the
italic correction has nothing to do).  The same holds if you mix
LaTeX 2e font selections with the old style commands:
<blockquote>
<pre>
\textbf{\tt all good friends}
</pre>
</blockquote>
ignores the <code>&#x5c;textbf</code> that encloses the text, and produces
typewriter text at medium weight.

<p>
So why are these commands deprecated?&nbsp;&mdash; it is because of confusions
such as that in the last example.  The alternative (LaTeX 2e)
commands are discussed in the rest of this answer.

<p>
LaTeX 2e&rsquo;s font commands come in two forms: modal commands and
text-block commands.  The default set of modal commands offers weights
<code>&#x5c;mdseries</code> and <code>&#x5c;bfseries</code>, shapes <code>&#x5c;upshape</code>,
<code>&#x5c;itshape</code>, <code>&#x5c;scshape</code> and <code>&#x5c;slshape</code>, and families
<code>&#x5c;rmfamily</code>, <code>&#x5c;sffamily</code> and <code>&#x5c;ttfamily</code>.  A font selection
requires a family, a shape and a series (as well as a size, of
course).  A few examples
<blockquote>

<pre>
{\bfseries\ttfamily
    and jolly good company!}
</pre>


<pre>
{\bfseries\ttfamily and jolly good company!}
</pre>

</blockquote>
produces bold typewriter text (but note the lack of a 




  <a href="FAQ-bold-extras.html">bold typewriter font</a>

in the default Computer Modern fonts), or
<blockquote>

<pre>
{\slshape\sffamily
    Never mind the weather\/}
</pre>


<pre>
{\slshape\sffamily Never mind the weather\/}
</pre>

</blockquote>
(note the italic correction needed on slanted fonts, too).

<p>
LaTeX 2e&rsquo;s text block commands take the first two letters of the
modal commands, and form a <code>&#x5c;text</code><em><tt>xx</tt></em> command from
them.  Thus <code>&#x5c;bfseries</code> becomes <code>&#x5c;textbf</code><code>&#x7b;text&#x7d;</code>,
<code>&#x5c;itshape</code> becomes <code>&#x5c;textit</code><code>&#x7b;text&#x7d;</code>, and <code>&#x5c;ttfamily</code>
becomes <code>&#x5c;texttt</code><code>&#x7b;text&#x7d;</code>.  Block commands may be nested, as:
<blockquote>
<pre>
\textit{\textbf{Never mind the rain}}
</pre>
</blockquote>
to produce bold italic text (note that the block commands supply
italic corrections where necessary), and they be nested with the
LaTeX 2e modal commands, too:
<blockquote>

<pre>
\texttt{\bfseries
    So long as we're together}
</pre>


<pre>
\texttt{\bfseries So long as we're together}
</pre>

</blockquote>
for bold typewriter, or
<blockquote>

<pre>
{\slshape\textbf{%
    Whoops!  she goes again}\/}
</pre>


<pre>
{\slshape \textbf{Whoops!  she goes again}\/}
</pre>

</blockquote>
for a bold slanted instance of the current family (note the italic
correction applied at the end of the modal command group, again).

<p>
The new commands (as noted above) override commands of the same type.
In almost all cases, this merely excludes ludicrous ideas such as
&ldquo;upright slanted&rdquo; fonts, or &ldquo;teletype roman&rdquo; fonts.  There are a
couple of immediate oddities, though.  The first is the conflict
between <code>&#x5c;itshape</code> (or <code>&#x5c;slshape</code>) and <code>&#x5c;scshape</code>: while many
claim that an italic small-caps font is typographically unsound, such
fonts do exist.  Daniel Taupin&rsquo;s <i class="package">smallcap</i> package enables
use of the instances in the <a href="FAQ-ECfonts.html">EC fonts</a>, and
similar techniques could be brought to bear on many other font sets.
The second is the conflict between <code>&#x5c;upshape</code> and <code>&#x5c;itshape</code>:
Knuth actually offers an upright-italic font which LaTeX uses for
the &ldquo;&#xa3;&rdquo; symbol in the default font set.  The combination is
sufficiently weird that, while there&rsquo;s a defined font shape, no
default LaTeX commands exist; to use the shape, the (eccentric) user
needs LaTeX&rsquo;s simplest font selection commands:
<blockquote>

<pre>
{\fontshape{ui}\selectfont
    Tra la la, di dee}
</pre>


<pre>
{\fontshape{ui}\selectfont Tra la la, di dee}
</pre>

</blockquote>
<dl>
<dt class="ctanref">smallcap.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/smallcap">smallcap</a>
</dl>

<p>
[[[Question]]][Q-newfont*][[[LBRACE]]]What&rsquo;s wrong with <code>&#x5c;newfont</code>?[[[RBRACE]]]

<p>
If all else fails, you <em>can</em> specify a font using the LaTeX
<code>&#x5c;newfont</code> command.  The font so specified doesn&rsquo;t fit into the
LaTeX font selection mechanism, but the technique can be tempting
under several circumstances.  The command is merely the thinnest of
wrappers around the <code>&#x5c;font</code> primitive, and doesn&rsquo;t really fit with
LaTeX at all.  A simple, but really rather funny, example of the
problems it poses, may be seen in:
<blockquote>
<pre>
\documentclass[10pt]{article}
\begin{document}
\newfont{\myfont}{cmr17 scaled 2000}
\myfont
\LaTeX
\end{document}
</pre>
</blockquote>
(the reader is encouraged to try this).  The &ldquo;A&rdquo; of <code>&#x5c;LaTeX</code> pretty
much disappears: LaTeX chooses the size on the &ldquo;A&rdquo; according to
<em>its</em> idea of the font size (10pt), but positions it according to
the dimensions of &ldquo;<code>&#x5c;myfont</code>&rdquo;, which is more than three times
that size.

<p>
Another &ldquo;<code>&#x5c;myfont</code>&rdquo; example arises from an entirely different
source.  The mini-document:
<blockquote>
<pre>
\documentclass{article}
\begin{document}
\newfont{\myfont}{ecrm1000}
{\myfont voil\`a}
\end{document}
</pre>
</blockquote>
gives you &ldquo;German low double quotes&rdquo; (under the &ldquo;a&rdquo;) in place of
the grave accent.  This happens because <i class="fontname">ecrm1000</i> is in a
different <a href="FAQ-whatenc.html">font encoding</a> than LaTeX is
expecting&nbsp;&mdash; if you use the LaTeX <i class="package">fontenc</i> package to
select the EC fonts, all these tiresome encoding issues are
solved for you, behind the scenes.

<p>
There does however remain a circumstance when you will be tempted to
use <code>&#x5c;newfont</code>&nbsp;&mdash; viz., to get a font size that doesn&rsquo;t fall into
the Knuth standard set of sizes: LaTeX (by default) won&rsquo;t allow you
to use such a size.  Don&rsquo;t despair: see the answer 
&ldquo;<a href="FAQ-fontsize.html">arbitrary font sizes</a>&rdquo;.

<p>

<p>


<p>

<p>

<p>
[[[Question]]][Q-erroradvice][[[LBRACE]]]How to approach errors[[[RBRACE]]]

<p>
Since TeX is a macroprocessor, its error messages are often
difficult to understand; this is a (seemingly invariant) property of
macroprocessors.  Knuth makes light of the problem in the TeXbook,
suggesting that you acquire the sleuthing skills of a latter-day
Sherlock Holmes; while this approach has a certain romantic charm to
it, it&rsquo;s not good for the &lsquo;production&rsquo; user of (La)TeX.  This
answer (derived, in part, from an article by Sebastian Rahtz in
TUGboat 16(4)) offers some general guidance in dealing with TeX
error reports, and other answers in this section deal with common (but
perplexing) errors that you may encounter.  There&rsquo;s a long list of
&ldquo;hints&rdquo; in Sebastian&rsquo;s article, including the following:
<ul>
<li> Look at TeX errors; those messages may seem cryptic at first,
  but they often contain a straightforward clue to the problem.  See
  <a class="FAquestion.html" href="FAQ-errstruct.html">the structure of errors</a> for further
  details. 
<li> Read the <code class="extension">log</code> file; it contains hints to things you may
  not understand, often things that have not even presented as error
  messages.
<li> Be aware of the amount of context that TeX gives you.  The
  error messages gives you some bits of TeX code (or of the
  document itself), that show where the error &ldquo;actually happened&rdquo;;
  it&rsquo;s possible to control how much of this &lsquo;context&rsquo; TeX actually
  gives you.  LaTeX (nowadays) instructs TeX only to give you
  one line of context, but you may tell it otherwise by saying
<blockquote>
<pre>
\setcounter{errorcontextlines}{999}
</pre>
</blockquote>
  in the preamble of your document.  (If you&rsquo;re not a confident macro
  programmer, don&rsquo;t be ashamed of cutting that 999 down a bit; some
  errors will go on and <em>on</em>, and spotting the differences
  between those lines can be a significant challenge.)
<li> As a last resort, tracing can be a useful tool; reading a full
  (La)TeX trace takes a strong constitution, but once you know how,
  the trace can lead you quickly to the source of a problem.  You need
  to have read the TeXbook (see

  <a class="FAquestion.html" href="FAQ-tex-books.html">books about TeX</a>) in some detail, fully
  to understand the trace.

<p>
  The command <code>&#x5c;tracingall</code> sets up maximum tracing; it also sets
  the output to come to the interactive terminal, which is somewhat of
  a mixed blessing (since the output tends to be so vast&nbsp;&mdash; all but
  the simplest traces are best examined in a text editor after the event).

<p>
  The LaTeX <i class="package">trace</i> package (first distributed with the
  2001 release of LaTeX) provides more manageable tracing.  Its
  <code>&#x5c;traceon</code> command gives you what <code>&#x5c;tracingall</code> offers, but
  suppresses tracing around some of the truly verbose parts of
  LaTeX itself.  The package also provides a <code>&#x5c;traceoff</code>
  command (there&rsquo;s no &ldquo;off&rdquo; command for <code>&#x5c;tracingall</code>), and a
  package option (<code class="verb">logonly</code>) allows you to suppress output to the
  terminal.
</ul>
The best advice to those faced with TeX errors is not to panic:
most of the common errors are plain to the eye when you go back to the
source line that TeX tells you of.  If that approach doesn&rsquo;t work,
the remaining answers in this section deal with some of the odder
error messages you may encounter.  You should not ordinarily need to
appeal to the <a class="FAquestion.html" href="FAQ-gethelp.html">wider public</a>
for assistance, but if you do, be sure to
report full backtraces (see <code class="verb">errorcontextlines</code> above) and so on.
<dl>
<dt class="ctanref">trace.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/trace">2etools</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-errstruct][[[LBRACE]]]The structure of TeX error messages[[[RBRACE]]]

<p>
TeX&rsquo;s error messages are reminiscent of the time when TeX itself
was conceived (the 1970s): they&rsquo;re not terribly user-friendly, though
they do contain all the information that TeX can offer, usually in
a pretty concise way.

<p>
TeX&rsquo;s error reports all have the same structure:
<ul>
<li> An error message
<li> Some &lsquo;context&rsquo;
<li> An error prompt
</ul>
The error message will relate to the <em>TeX</em> condition that is
causing a problem.  Sadly, in the case of complex macro packages such
as LaTeX, the underlying TeX problem may be superficially
difficult to relate to the actual problem in the &ldquo;higher-level&rdquo;
macros.  Many LaTeX-detected problems manifest themselves as
&lsquo;generic&rsquo; errors, with error text provided by LaTeX itself (or by a
LaTeX class or package).

<p>
The context of the error is a stylised representation of what TeX
was doing at the point that it detected the error.  As noted in
<a class="FAquestion.html" href="FAQ-erroradvice.html">approaching errors</a>, a macro package
can tell TeX how much context to display, and the user may need to
undo what the package has done.  Each line of context is split at the
point of the error; if the error <em>actually</em> occurred in a macro
called from the present line, the break is at the point of the call.
(If the called object is defined with arguments, the &ldquo;point of call&rdquo;
is after all the arguments have been scanned.)  For example:
<pre>
\blah and so on
</pre>
produces the error report
<pre>
! Undefined control sequence.
l.4 \blah
          and so on
</pre>
while:
<pre>
\newcommand{\blah}[1]{\bleah #1}
\blah{to you}, folks
</pre>
produces the error report
<pre>
! Undefined control sequence.
\blah #1->\bleah 
                 #1
l.5 \blah{to you}
                 , folks
</pre>
If the argument itself is in error, we will see things such as
<pre>
\newcommand{\blah}[1]{#1 to you}
\blah{\bleah}, folks
</pre>
producing
<pre>
! Undefined control sequence.
<argument> \bleah 
                  
l.5 \blah{\bleah}
                 , folks
</pre>

<p>
The prompt accepts single-character commands: the list of what&rsquo;s
available may be had by typing <code class="verb">?</code>.  One immediately valuable
command is <code class="verb">h</code>, which gives you an expansion of TeXs original
pr&eacute;cis message, sometimes accompanied by a hint on what to do to
work round the problem in the short term.  If you simply type &lsquo;return&rsquo;
(or whatever else your system uses to signal the end of a line) at the
prompt, TeX will attempt to carry on (often with rather little
success).

<p>
[[[Question]]][Q-extrabrace][[[LBRACE]]]An extra &lsquo;<tt>&#x7d;</tt>&rsquo;??[[[RBRACE]]]
<!-- caption heading -->

<p>
You&rsquo;ve looked at your LaTeX source and there&rsquo;s no sign of a misplaced
<tt>&#x7d;</tt> on the line in question.

<p>
Well, no: this is TeX&rsquo;s cryptic way of hinting that you&rsquo;ve put a
 
<a href="FAQ-protect.html">fragile command</a> in a moving argument.





<p>
For example, <code>&#x5c;footnote</code> is fragile, and if we put that in the
moving argument of a <code>&#x5c;section</code> command, as
<blockquote>

<pre>
\section{Mumble\footnote{%
    I couldn't think of anything better}}
</pre>


<pre>
\section{Mumble\footnote{I couldn't think of anything better}}
</pre>

</blockquote>
we get told
<blockquote>
<pre>
! Argument of \@sect has an extra }.
</pre>
</blockquote>
The same happens with captions (the following is a simplification of a
<i class="newsgroup">comp.text.tex</i> post):
<blockquote>
<pre>
\caption{Energy: \[e=mc^2\]}
</pre>
</blockquote>
giving us the error message
<blockquote>
<pre>
! Argument of \@caption has an extra }.
</pre>
</blockquote>
The similar (but more sensible):
<blockquote>
<pre>
\caption{Energy: \(e=mc^2\)}
</pre>
</blockquote>
is more tiresome, still: there&rsquo;s no error when you first run the
job&nbsp;&hellip; but there is on the second pass, when the list of figures
(or tables) is generated, giving:
<blockquote>
<pre>
! LaTeX Error: Bad math environment delimiter.
</pre>
</blockquote>
in the <code>&#x5c;listoffigures</code> processing.

<p>
The solution is usually to use a robust command in place of the one
you are using, or to force your command to be robust by prefixing it
with <code>&#x5c;protect</code>, which in the <code>&#x5c;section</code> case would show as
<blockquote>

<pre>
\section{Mumble\protect\footnote{%
    I couldn't think of anything better}}
</pre>


<pre>
\section{Mumble\protect\footnote{I couldn't think of anything better}}
</pre>

</blockquote>
However, in both the <code>&#x5c;section</code> case and the <code>&#x5c;caption</code> case,
you can separate the moving argument, as in
<code>&#x5c;section</code><code>[moving]</code></code><code>&#x7b;static&#x7d;</code>; this gives us another standard
route&nbsp;&mdash; simply to omit (or otherwise sanitise) the fragile command
in the moving argument.  So, one might rewrite the <code>&#x5c;caption</code>
example as:
<blockquote>

<pre>
\caption[Energy: (Einstein's equation)]%
        {Energy: \(E=mc^2\)}
</pre>


<pre>
\caption[Energy: (Einstein's equation)]{Energy: \(E=mc^2\)}
</pre>

</blockquote>
In practice, inserting mathematics in a moving argument has already
been addressed in LaTeX 2e by the robust command <code>&#x5c;ensuremath</code>:
<blockquote>
<pre>
\caption{Energy: \ensuremath{E=mc^2}}
</pre>
</blockquote>
So: always look for alternatives to the <code>&#x5c;protect</code> route.

<p>
Footnotes can be even more complex; 
&ldquo;<a class="FAquestion.html" href="FAQ-ftnsect.html">footnotes in LaTeX section headings</a>&rdquo;
deals specifically with that issue.

<p class="lastedit">This answer last edited: 2012-02-09</p>

<p>
[[[Question]]][Q-semanticnest][[[LBRACE]]]Capacity exceeded [semantic nest&thinsp;&hellip;][[[RBRACE]]]

<p>

<pre>
! TeX capacity exceeded, sorry [semantic nest
                                      size=100].
...
If you really absolutely need more capacity,
you can ask a wizard to enlarge me.
</pre>


<pre>
! TeX capacity exceeded, sorry [semantic nest size=100].
...
If you really absolutely need more capacity,
you can ask a wizard to enlarge me.
</pre>

Even though TeX suggests (as always) that enlargement by a wizard
may help, this message usually results from a broken macro or bad
parameters to an otherwise working macro.

<p>
The &ldquo;semantic nest&rdquo; TeX talks about is the nesting
of boxes within boxes.  A stupid macro can provoke the error pretty
easily:
<blockquote>

<pre>
\def\silly{\hbox{here's \silly
                         being executed}}
\silly
</pre>


<pre>
\def\silly{\hbox{here's \silly being executed}}
\silly
</pre>

</blockquote>
The extended traceback

(see <a href="FAQ-erroradvice.html"><em>general advice</em> on errors</a>)
<em>does</em> help, though it does rather run on.  In the case above,
the traceback consists of
<pre>
\silly ->\hbox {
                here's \silly being executed}
</pre>
followed by 100 instances of
<pre>
\silly ->\hbox {here's \silly 
                              being executed}
</pre>
The repeated lines are broken at exactly the offending macro; of
course the loop need not be as simple as this&nbsp;&mdash; if <code>&#x5c;silly</code> calls
<code>&#x5c;dopy</code> which boxes <code>&#x5c;silly</code>, the effect is just the same and
alternate lines in the traceback are broken at alternate positions.

<p>
There are in fact two items being consumed when you nest boxes: the
other is the grouping level.  Whether you exhaust your 
<em>semantic nest</em> or your permitted <em>grouping levels</em> first is
controlled entirely by the relative size of the two different sets of
buffers in your (La)TeX executable.

<p>
[[[Question]]][Q-noroom][[[LBRACE]]]No room for a new &lsquo;<em>thing</em>&rsquo;[[[RBRACE]]]

<p>
The technology available to Knuth at the time TeX was written is
said to have been particularly poor at managing dynamic storage; as a
result much of the storage used within TeX is allocated as fixed
arrays, in the reference implementations.  Many of these fixed arrays
are expandable in modern TeX implementations, but size of the
arrays of &ldquo;registers&rdquo; is written into the specification as being 256
(usually); this number may not be changed if you still wish to call
the result TeX

(see <a class="FAquestion.html" href="FAQ-triptrap.html">testing TeX implementations</a>).

<p>
If you fill up one of these register arrays, you get a TeX error
message saying
<blockquote>
<pre>
! No room for a new \<thing>.
</pre>
</blockquote>
The <code>&#x5c;thing</code>s in question may be <code>&#x5c;count</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newcounter</code> command), <code>&#x5c;skip</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newlength</code> command), <code>&#x5c;box</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newsavebox</code> command), or <code>&#x5c;dimen</code>, <code>&#x5c;muskip</code>,
<code>&#x5c;toks</code>, <code>&#x5c;read</code>, <code>&#x5c;write</code> or <code>&#x5c;language</code> (all types of object
whose use is &ldquo;hidden&rdquo; in LaTeX; the limit on the number of
<code>&#x5c;read</code> or <code>&#x5c;write</code> objects is just 16).

<p>
There is nothing that can directly be done about this error, as you can&rsquo;t
extend the number of available registers without extending TeX
itself.

  Of course, <a href="FAQ-etex.html">e-TeX</a>, <a href="FAQ-omegaleph.html">Omega</a> and
  <a href="FAQ-luatex.html">LuaTeX</a>







all do this, as does <a href="FAQ-commercial.html">MicroPress Inc&rsquo;s VTeX</a>.

<p>
The commonest way to encounter one of these error messages is to have
broken macros of some sort, or incorrect usage of macros (an example
is discussed in <a class="FAquestion.html" href="FAQ-epsf.html">epsf problems</a>).

<p>
However, sometimes one just <em>needs</em> more than TeX can offer,
and when this happens, you&rsquo;ve just got to work out a different way of
doing things.  An example is the 
<a href="FAQ-usepictex.html">difficulty of loading PicTeX with LaTeX</a>.
The more modern drawing package, <i class="package">pgf</i> with its higher-level
interface <i class="package">TikZ</i> is also a common source of such problems.

<p>
In such cases, it is usually possible to use the
<a href="FAQ-etex.html">e-TeX</a> extensions (all modern distributions provide
them).  The LaTeX package <i class="package">etex</i> modifies the register allocation
mechanism to make use of e-TeX&rsquo;s extended register sets.
<i class="package">Etex</i> is a
derivative of the Plain TeX macro file <i class="package">etex.src</i>, which is
used in building the e-TeX Plain format; both files are part of the
e-TeX distribution and are available in current distributions.

<p>
It is possible that, even with <i class="package">etex</i> loaded, you still find
yourself running out of things.  Problems can be caused by packages
that use large numbers of &ldquo;inserts&rdquo; (inserts are combinations of
counter, box, dimension and skip registers, used for storing floats
and footnotes).  <i class="package">Morefloats</i> does this, of course (naturally enough,
allocating new floats), and footnote packages such as
<i class="package">manyfoot</i> and <i class="package">bigfoot</i> (which uses <i class="package">manyfoot</i>)
can also give problems.  The <i class="package">etex</i> extensions allow you to deal with
these things: the command <code>&#x5c;reserveinserts</code><code>&#x7b;n&#x7d;</code> ensures there
is room for &lsaquo;<i>n</i>&rsaquo; more inserts.  Hint: by default
<i class="package">morefloats</i> adds 18 inserts (though it can be instructed to
use more), and <i class="package">manyfoot</i> seems to be happy with 10 reserved,
but there are &lsquo;hard&rsquo; limits that we cannot program around&nbsp;&mdash; the
discussion of <a href="FAQ-tmupfl.html">running out of floats</a> has more about this.
It is essential that you load <i class="package">etex</i> before any other
packages, and reserve any extra inserts immediately:
<blockquote>
<pre>
\documentclass[...]{...}
\usepackage{etex}
\reserveinserts{28}
</pre>
</blockquote>

<p>
The e-TeX extensions don&rsquo;t help with <code>&#x5c;read</code> or <code>&#x5c;write</code>
objects (and neither will the <i class="package">etex</i> package), but the
<i class="package">morewrites</i> package can provide the <em>illusion</em> of large
numbers of <code>&#x5c;write</code> objects.
<dl>
<dt class="ctanref">morewrites.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/morewrites">morewrites</a>
</dl>

<p>
[[[Question]]][Q-epsf][[[LBRACE]]]<tt>epsf</tt> gives up after a bit[[[RBRACE]]]

<p>
Some copies of the documentation of <i class="filename">epsf.tex</i> seemed once to
suggest that the command
<pre>
  \input epsf
</pre>
is needed for every figure included.  If you follow this suggestion
too literally, you get an error
<pre>
  ! No room for a new \read .
</pre>
after a while; this is because each time <i class="filename">epsf.tex</i> is loaded, it
allocates itself a <em>new</em> file-reading handle to check the figure
for its bounding box, and there just aren&rsquo;t enough of these things
(see <a class="FAquestion.html" href="FAQ-noroom.html">no room for a new thing</a>).

<p>
The solution is simple&nbsp;&mdash; this is in fact an example of misuse of
macros; one only need read <i class="filename">epsf.tex</i> once, so change
<pre>
  ...
  \input epsf
  \epsffile{...}
  ...
  \input epsf
  \epsffile{...}
</pre>
(and so on) with a single
<pre>
  \input epsf
</pre>
somewhere near the start of your document, and then decorate your
<code>&#x5c;epsffile</code> statements with no more than adjustments of
<code>&#x5c;epsfxsize</code> and so on.

<p>
[[[Question]]][Q-badhyph][[[LBRACE]]]Improper <code>&#x5c;hyphenation</code> will be flushed[[[RBRACE]]]

<p>
For example
<pre>
! Improper \hyphenation will be flushed.
\'#1->{
       \accent 19 #1}
<*> \hyphenation{Ji-m\'e
                        -nez}
</pre>
(in Plain TeX) or
<pre>
! Improper \hyphenation will be flushed.
\leavevmode ->\unhbox 
                      \voidb@x 
<*> \hyphenation{Ji-m\'e
                        -nez}
</pre>
in LaTeX.

<p>
As mentioned in




  &ldquo;<a class="FAquestion.html" href="FAQ-nohyph.html">hyphenation failures</a>&rdquo;,

&ldquo;words&rdquo; containing <code>&#x5c;accent</code> commands may not be hyphenated.  As
a result, any such word is deemed improper in a <code>&#x5c;hyphenation</code>
command.

<p>
Hyphenation happens as paragraphs are laid out; by this time, TeX
knows what font is used for each glyph; thus it knows the encoding
being used.  So the solution to the problem is to use a font that
contains the accented character; doing this this &ldquo;hides&rdquo; the accent
from the hyphenation mechanisms.

<p>
For LaTeX users, this is quite an easy task; they select an 8-bit
font with the package, as in <code>&#x5c;usepackage</code><code>[T1]</code></code><code>&#x7b;fontenc&#x7d;</code>, and
accented-letter commands such as the <code>&#x5c;&rsquo;</code><tt>e</tt> in
<code>&#x5c;hyphenation</code><code>&#x7b;Ji-m<code>&#x5c;&rsquo;</code>e-nez&#x7d;</code> automatically become the
single accented character by the time the hyphenation gets to look at
it.

<p>

<p>
[[[Question]]][Q-optionclash][[[LBRACE]]]Option clash for package[[[RBRACE]]]

<p>
So you&rsquo;ve innocently added:
<blockquote>
<code>&#x5c;usepackage</code><code>[draft]</code></code><code>&#x7b;foo&#x7d;</code>
</blockquote>
to your document, and LaTeX responds with
<blockquote>

<pre>
! LaTeX Error: Option clash for package foo.
</pre>


<pre>
! LaTeX Error: Option clash for package foo.
</pre>

</blockquote>

<p>
The error is a complaint about loading a package 
<em>with options</em>, more than once.  LaTeX complains because it
has no means of examining the options, rather than because it
<em>knows</em> there is a problem.  (You may load a package any number
of times in a document&rsquo;s preamble, with no options, and LaTeX will
ignore every loading request after the first; but you may only supply
options when you first load the package.)

<p>
So perhaps you weren&rsquo;t entirely innocent&nbsp;&mdash; the error would have
occurred on the second line of:
<blockquote>
<code>&#x5c;usepackage</code><code>[dvips]</code></code><code>&#x7b;graphics&#x7d;</code><br>
<code>&#x5c;usepackage</code><code>[draft]</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>
which could quite reasonably (and indeed correctly) have been typed:
<blockquote>
<code>&#x5c;usepackage</code><code>[dvips,draft]</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>

<p>
But if you&rsquo;ve not made that mistake (even with several lines
separating the <code>&#x5c;usepackage</code> commands, it&rsquo;s pretty easy to spot),
the problem could arise from something else loading the package for
you.  How do you find the culprit?  The "<tt>h</tt>" response to the
error message tells you which options were loaded each time.
Otherwise, it&rsquo;s down to the log analysis games discussed in 
&ldquo;<a href="FAQ-erroradvice.html">How to approach errors</a>&rdquo;; the trick to remember
is that that the process of loading each file is parenthesised in the
log; so if package <i class="package">foo</i> loads <i class="package">graphics</i>, the log
will contain something like:
<blockquote>
<pre>
(<path>/foo.sty ...
...
(<path>/graphics.sty ...
...)
...
)
</pre>
</blockquote>
(the parentheses for <i class="package">graphics</i> are completely enclosed in
those for <i class="package">foo</i>; the same is of course true if your class
<i class="class">bar</i> is the culprit, except that the line will start with the
path to <tt>bar.cls</tt>).

<p>
If we&rsquo;re dealing with a package that loads the package you are
interested in, you need to ask LaTeX to slip in options when
<i class="package">foo</i> loads it.  Instead of:
<blockquote>
<code>&#x5c;usepackage</code><code>&#x7b;foo&#x7d;</code><br>
<code>&#x5c;usepackage</code><code>[draft]</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>
you would write:
<blockquote>
<code>&#x5c;PassOptionsToPackage</code><code>&#x7b;draft&#x7d;</code></code><code>&#x7b;graphics&#x7d;</code><br>
<code>&#x5c;usepackage</code><code>&#x7b;foo&#x7d;</code>
</blockquote>
The command <code>&#x5c;PassOptionsToPackage</code> tells LaTeX to behave as if
its options were passed, when it finally loads a package.  As you would
expect from its name, <code>&#x5c;PassOptionsToPackage</code> can deal with a list
of options, just as you would have in the the options brackets of
<code>&#x5c;usepackage</code>.

<p>
The problem is more tricky if your document class loads a package you
want options for.  In this case, instead of:
<blockquote>
<code>&#x5c;documentclass</code><code>[...]</code></code><code>&#x7b;bar&#x7d;</code><br>
<code>&#x5c;usepackage</code><code>[draft]</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>
you would write:
<blockquote>
<code>&#x5c;PassOptionsToPackage</code><code>&#x7b;draft&#x7d;</code></code><code>&#x7b;graphics&#x7d;</code><br>
<code>&#x5c;documentclass</code><code>[...]</code></code><code>&#x7b;bar&#x7d;</code>
</blockquote>
with <code>&#x5c;PassOptionsToPackage</code> <em>before</em> the <code>&#x5c;documentclass</code>
command.

<p>
However, if the <i class="package">foo</i> package or the <i class="class">bar</i> class loads
<i class="package">graphics</i> with an option of its own that clashes with
what you need in some way, you&rsquo;re stymied.  For example:
<blockquote>
<code>&#x5c;PassOptionsToPackage</code><code>&#x7b;draft&#x7d;</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>
where the package or class does:
<blockquote>
<code>&#x5c;usepackage</code><code>[final]</code></code><code>&#x7b;graphics&#x7d;</code>
</blockquote>
sets <code class="pkgoption">final</code> <em>after</em> it&rsquo;s dealt with option you passed to
it, so your <code class="pkgoption">draft</code> will get forgotten.  In extreme cases,
the package might generate an error here (<i class="package">graphics</i> doesn&rsquo;t
go in for that kind of thing, and there&rsquo;s no indication that
<code class="pkgoption">draft</code> has been forgotten).

<p>
In such a case, you have to modify the package or class itself
(subject to the terms of its licence).  It may prove useful to contact
the author: she may have a useful alternative to suggest.

<p>
[[[Question]]][Q-optclash][[[LBRACE]]]Option clash for package[[[RBRACE]]]

<p>
The error message
<blockquote>
<pre>
! LaTeX Error: Option clash for package footmisc
</pre>
</blockquote>
means what it says&nbsp;&mdash; your document contains a (potentially) clashing
pair of options; sadly, it is not always obvious how the error has
arisen.

<p>
If you simply write:
<blockquote>
<pre>
\usepackage[a]{foo}
...
\usepackage{foo}
</pre>
</blockquote>
LaTeX is happy, as it is with:
<blockquote>
<pre>
\usepackage[a]{foo}
...
\usepackage[a]{foo}
</pre>
</blockquote>
since LaTeX can see there&rsquo;s no conflict (in fact, the second load
does nothing).

<p>
Similarly,
<blockquote>
<pre>
\usepackage[a,b]{foo}
...
\usepackage[a]{foo}
</pre>
</blockquote>
produces no error and does nothing for the second load.

<p>
However
<blockquote>
<pre>
\usepackage[a]{foo}
...
\usepackage[b]{foo}
</pre>
</blockquote>
produces the error; even if option &lsquo;<code class="pkgoption">b</code>&rsquo; is an alias for
option &lsquo;<code class="pkgoption">a</code>&rsquo;&nbsp;&mdash; LaTeX doesn&rsquo;t &ldquo;look inside&rdquo; the package
to check anything like that.

<p>
The general rule is: the first load of a package defines a set of
options; if a further <code>&#x5c;usepackage</code> or <code>&#x5c;RequirePackage</code> also
calls for the package, the options on that call may not extend the set
on the first load.

<p>
Fortunately, the error (in that sort of case) is easily curable
once you&rsquo;ve examined the preamble of your document.

<p>
Now, suppose package <i class="package">foo</i> loads <i class="package">bar</i> with option
<code class="pkgoption">b</code>, and your document says:
<blockquote>
<pre>
\usepackage{foo}
...
\usepackage[a]{bar}
</pre>
</blockquote>
or
<blockquote>
<pre>
\usepackage[a]{bar}
...
\usepackage{foo}
</pre>
</blockquote>
the error will be detected, even though you have only explicitly
loaded <i class="package">bar</i> once.  Debugging such errors is tricky: it may
involve reading the logs (to spot which packages were called), or the
documentation of package <i class="package">foo</i>.

<p>
[[[Question]]][Q-tmupfl][[[LBRACE]]]&ldquo;Too many unprocessed floats&rdquo;[[[RBRACE]]]

<p>
If LaTeX responds to a <code>&#x5c;begin</code><code>&#x7b;figure&#x7d;</code> or
<code>&#x5c;begin</code><code>&#x7b;table&#x7d;</code> command with the error message
<blockquote>

<pre>
! LaTeX Error: Too many unprocessed floats.

See the LaTeX manual or LaTeX Companion for explanation.
</pre>


<pre>
! LaTeX Error: Too many unprocessed floats.

See the LaTeX manual or LaTeX Companion
...                        for explanation.
</pre>

</blockquote>
your figures (or tables) are not being placed properly.  LaTeX
has a limited amount of storage for &lsquo;floats&rsquo; (figures, tables, or
floats you&rsquo;ve defined yourself with the <i class="package">float</i> package); if
something you have done has prevented LaTeX from typesetting
floats, it will run out of storage space.

<p>
This failure usually occurs in extreme cases of 
<a href="FAQ-floats.html">floats moving &ldquo;wrongly&rdquo;</a>;
LaTeX has found it can&rsquo;t place a float, and floats of the same type
have piled up behind it.

<p>
How does this happen?&nbsp;&mdash; LaTeX guarantees that caption numbers are
sequential in the document, but the caption number is allocated when
the figure (or whatever) is created, and can&rsquo;t be changed.  Thus, if
floats are placed out of order, their caption numbers would also
appear out of order in the body of the document (and in the list of
figures, or whatever).  As a result, enforcement of the guarantee
means that simple failure to place a float means that no subsequent
float can be placed; and hence (eventually) the error.

<p>
Techniques for solving the problem are discussed in the 
<a href="FAQ-floats.html">floats question</a> already referenced.

<p>
An alternative <em>may</em> be to use the <i class="package">morefloats</i> package.
The package will allocate more &ldquo;float skeletons&rdquo; than LaTeX
does by default; each such skeleton may then be used to store a
float.  Beware that even with <i class="package">morefloats</i>, the number you can
allocate is limited; even with the <i class="package">etex</i> package (which makes
available many more registers, etc., than LaTeX does by default;
e-TeX can create lots more registers, but none of those &ldquo;beyond
the original TeX default&rdquo; may be used in float skeletons).  Thus,
<i class="package">etex</i> may offer some relief, but it can <em>not</em> be
regarded as a panacea

<p>
The error also occurs in a long sequence of float environments, with
no intervening text.  Unless the environments will fit &ldquo;here&rdquo; (and
you&rsquo;ve allowed them to go &ldquo;here&rdquo;), there will never be a page break,
and so there will never be an opportunity for LaTeX to reconsider
placement.  (Of course, the floats can&rsquo;t all fit &ldquo;here&rdquo; if the
sequence is sufficiently prolonged: once the page fills, LaTeX
won&rsquo;t place any more floats, leading to the error.

<p>
Techniques for resolution may involve redefining the floats using the
<i class="package">float</i> package&rsquo;s <tt>[H]</tt> float qualifier, but you are unlikely
to get away without using <code>&#x5c;clearpage</code> from time to time.
<dl>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
<dt class="ctanref">morefloats.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/morefloats">morefloats</a>
</dl>

<p>
[[[Question]]][Q-atvert][[[LBRACE]]]<code>&#x5c;spacefactor</code> complaints[[[RBRACE]]]

<p>
The errors
<blockquote>

<pre>
! You can't use `\spacefactor' in
...                           vertical mode.
\@->\spacefactor 
                 \@m 
</pre>


<pre>
! You can't use `\spacefactor' in vertical mode.
\@->\spacefactor 
                 \@m 
</pre>

</blockquote>
or
<blockquote>
<pre>
! You can't use `\spacefactor' in math mode.
\@->\spacefactor 
                 \@m 
</pre>
</blockquote>
or simply
<blockquote>
<pre>
! Improper \spacefactor.
...
</pre>
</blockquote>
bite the LaTeX programmer who uses an internal command without
taking &ldquo;precautions&rdquo;.  An internal-style command such as <code>&#x5c;@foo</code>
has been defined or used in a private macro, and it is interpreted as
<code>&#x5c;@</code>, followed by the &lsquo;text&rsquo; <tt>foo</tt>.  (<code>&#x5c;@</code> is used, for
real, to set up end-of-sentence space in some circumstances; it uses
<code>&#x5c;spacefactor</code> to do that.)

<p>
The problem is discussed in detail in

&ldquo;<a class="FAquestion.html" href="FAQ-atsigns.html"><tt>@</tt> in macro names</a>&rdquo;,
together with solutions.

<p>
[[[Question]]][Q-endingroup][[[LBRACE]]]<code>&#x5c;end</code> occurred inside a group[[[RBRACE]]]

<p>
The actual error we observe is:

<p>

<code class="verb">&#x5c;end occurred inside a group at level &gt;</code><tt><em>n</em></tt><code class="verb">>)</code>

<p>

and it tells us that something we started in the document never got
finished before we ended the document itself.  The things involved
(&lsquo;groups&rsquo;) are what TeX uses for restricting the scope of things:
you see them, for example, in the &ldquo;traditional&rdquo; font selection
commands: <code class="verb">&#x7b;&#x5c;it stuff&#x7d;</code>&nbsp;&mdash; if the closing brace is left off such a
construct, the effect of <code>&#x5c;it</code> will last to the end of the document,
and you&rsquo;ll get the diagnostic.

<p>
TeX itself doesn&rsquo;t tell you where your problem is, but you can
often spot it by looking at the typeset output in a previewer.
Otherwise, you can usually find mismatched braces using an intelligent
editor (at least <i class="progname">emacs</i> and <i class="progname">winedt</i> offer this facility).
However, groups are not <em>only</em> created by matching
<tt>&#x7b;</tt> with <tt>&#x7d;</tt>:
other grouping commands are discussed elsewhere in these FAQs,
and are also a potential source of unclosed group.

<p>
<code>&#x5c;begin</code><code>&#x7b;&lsaquo;<i>environment</i>&rsaquo;&#x7d;</code> encloses the environment&rsquo;s body
in a group, and establishes its own diagnostic mechanism.  If you end
the document before closing some other environment, you get the
&lsquo;usual&rsquo; LaTeX diagnostic


<pre>
! LaTeX Error: \begin{blah} on input line 6
                       ended by \end{document}.
</pre>


<pre>
! LaTeX Error: \begin{blah} on input line 6 ended by \end{document}.
</pre>



<pre>
! LaTeX Error: \begin{blah} on input line 6 ended by \end{document}.
</pre>

which (though it doesn&rsquo;t tell you which <em>file</em> the
<code>&#x5c;begin</code><code>&#x7b;blah&#x7d;</code> was in) is usually enough to locate the
immediate problem.  If you press on past the LaTeX error, you get
one or more repetitions of the &ldquo;occurred inside a group&rdquo; message
before LaTeX finally exits.  The <i class="package">checkend</i> package
recognises other unclosed <code>&#x5c;begin</code><code>&#x7b;blob&#x7d;</code> commands, and
generates an &ldquo;ended by&rdquo; error message for each one, rather than
producing the &ldquo;occurred inside a group&rdquo; message, which is sometimes
useful (if you remember to load the package).

<p>
In the absence of such information from LaTeX, you need to use
&ldquo;traditional&rdquo; binary search to find the offending group.  Separate
the preamble from the body of your file, and process each half on its
own with the preamble; this tells you which half of the file is at
fault.  Divide again and repeat.  The process needs to be conducted
with care (it&rsquo;s obviously possible to split a correctly-written group
by chopping in the wrong place), but it will usually find the problem
fairly quickly.

<p>
e-TeX (and e-LaTeX&nbsp;&mdash; LaTeX run on e-TeX) gives you
further diagnostics after the traditional infuriating TeX one&nbsp;&mdash; it
actually keeps the information in a similar way to LaTeX:


<pre>
(\end occurred inside a group at level 3)

### semi simple group (level 3) entered
                         at line 6 (\begingroup)
### simple group (level 2) entered at line 5 ({)
### simple group (level 1) entered at line 4 ({)
### bottom level
</pre>


<pre>
(\end occurred inside a group at level 3)

### semi simple group (level 3) entered at line 6 (\begingroup)
### simple group (level 2) entered at line 5 ({)
### simple group (level 1) entered at line 4 ({)
### bottom level
</pre>



<pre>
(\end occurred inside a group at level 3)

### semi simple group (level 3) entered at line 6 (\begingroup)
### simple group (level 2) entered at line 5 ({)
### simple group (level 1) entered at line 4 ({)
### bottom level
</pre>

The diagnostic not only tells us where the group started, but also the
<em>way</em> it started: <code>&#x5c;begingroup</code> or <code class="verb">&#x7b;</code> (which is an alias of
<code>&#x5c;bgroup</code>, and the two are not  distinguishable at the TeX-engine
level).
<dl>
<dt class="ctanref">checkend.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/checkend">bezos</a>
</dl>

<p>
[[[Question]]][Q-nonum][[[LBRACE]]]&ldquo;Missing number, treated as zero&rdquo;[[[RBRACE]]]

<p>
In general, this means you&rsquo;ve tried to assign something to a count,
dimension or skip register that isn&rsquo;t (in TeX&rsquo;s view of things) a
number.  Usually the problem will become clear using the
<a href="FAQ-erroradvice.html">ordinary techniques of examining errors</a>.

<p>
Two LaTeX-specific errors are commonly aired on the newsgroups.

<p>
The commonest arises from attempting to use an example from the
<a href="FAQ-latex-books.html"><em>The LaTeX Companion</em> (first edition)</a>, and is
exemplified by the following error text:
<pre>
! Missing number, treated as zero.
<to be read again> 
                   \relax 
l.21 \begin{Ventry}{Return values}
</pre>
The problem arises because, in its first edition, the
<em>Companion</em>&rsquo;s examples always assumed that the <i class="package">calc</i>
package is loaded: this fact is mentioned in the book, but often not
noticed.  The remedy is to load the <i class="package">calc</i> package in any
document using such examples from the <em>Companion</em>.  (The problem
does not really arise with the second edition; copies of all the
examples are available on the accompanying CD-ROM, or on
CTAN.)

<p>
The other problem, which is increasingly rare nowadays, arises from
misconfiguration of a system that has been upgraded from LaTeX 2.09:
the document uses the <i class="package">times</i> package, and the error appears
at <code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>.  The file search paths are wrongly set
up, and your <code>&#x5c;usepackage</code><code>&#x7b;times&#x7d;</code> has picked up a LaTeX 2.09
version of the package, which in its turn has invoked another which
has no equivalent in LaTeX 2e.  The obvious solution is to rewrite
the paths so that LaTeX 2.09 packages are chosen only as a last resort
so that the startlingly simple LaTeX 2e <i class="package">times</i> package will
be picked up.  Better still is to replace the whole thing with
something more modern still; current <i class="package">psnfss</i> doesn&rsquo;t provide
a <i class="package">times</i> package&nbsp;&mdash; the alternative <i class="package">mathptmx</i>
incorporates <i class="fontname">Times</i>-like mathematics, and a sans-serif face
based on <i class="fontname">Helvetica</i>, but scaled to match <i class="fontname">Times</i>
text rather better.
<dl>
<dt class="ctanref">calc.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/calc">2etools</a>
<dt class="ctanref">Examples for LaTeX Companion</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tlc2">tlc2</a>
<dt class="ctanref">The psnfss bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/psnfss">psnfss</a>
</dl>

<p class="lastedit">This answer last edited: 2011-06-01</p>

<p>
[[[Question]]][Q-typend][[[LBRACE]]]&ldquo;Please type a command or say <code>&#x5c;end</code>&rdquo;[[[RBRACE]]]

<p>
Sometimes, when you are running (La)TeX, it will abruptly stop and
present you with a prompt (by default, just a <code class="verb">*</code> character).  Many
people (including this author) will reflexively hit the &lsquo;return&rsquo;
key, pretty much immediately, and of course this is no help at all&nbsp;&mdash;
TeX just says:
<pre>
(Please type a command or say `\end')
</pre>
and prompts you again.

<p>
What&rsquo;s happened is that your (La)TeX file has finished prematurely,
and TeX has fallen back to a supposed including file, from the
terminal.  This could have happened simply because you&rsquo;ve omitted
the <code>&#x5c;bye</code> (Plain TeX), <code>&#x5c;end</code><code>&#x7b;document&#x7d;</code> (LaTeX), or
whatever.  Other common errors are failure to close the braces round a
command&rsquo;s argument, or (in LaTeX) failure to close a verbatim
environment: in such cases you&rsquo;ve already read and accepted an
error message about encountering end of file while scanning something.

<p>
If the error is indeed because you&rsquo;ve forgotten to end your document,
you can insert the missing text: if you&rsquo;re running Plain TeX, the
advice, to &ldquo;say <code>&#x5c;end</code>&rdquo; is good enough: it will kill the run; if
you&rsquo;re running LaTeX, the argument will be necessary:
<code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>.  

<p>
However, as often as not this isn&rsquo;t the problem, and (short of
debugging the source of the document before ending) brute force is
probably necessary.  Excessive force (killing the job that&rsquo;s
running TeX) is to be avoided: there may well be evidence in the
<code class="extension">log</code> file that will be useful in determining what the
problem is&nbsp;&mdash; so the aim is to persuade TeX to shut itself down
and hence flush all log output to file.

<p>
If you can persuade TeX to read it, an end-of-file indication
(control-<code class="verb">D</code> under Unix, control-<code class="verb">Z</code> under Windows) will provoke
TeX to report an error and exit immediately.  Otherwise you should
attempt to provoke an error dialogue, from which you can exit (using
the <code class="verb">x</code> &lsquo;command&rsquo;).  An accessible error could well be inserting an
illegal character: what it is will depend on what macros you are
running.  If you can&rsquo;t make that work, try a silly command name or
two.

<p>
[[[Question]]][Q-unkgrfextn][[[LBRACE]]]&ldquo;Unknown graphics extension&rdquo;[[[RBRACE]]]

<p>
The LaTeX graphics package deals with several different types of
DVI (or other) output drivers; each one of them has a potential
to deal with a different selection of graphics formats.  The package
therefore has to be told what graphics file types its output driver
knows about; this is usually done in the &lsaquo;<i>driver</i>&rsaquo;<code class="extension">def</code> file
corresponding to the output driver you&rsquo;re using.

<p>
The error message arises, then, if you have a graphics file whose
extension doesn&rsquo;t correspond with one your driver knows about.  Most
often, this is because you&rsquo;re being optimistic: asking
<i class="progname">dvips</i> to deal with a <code class="extension">png</code> file, or PDFTeX to deal with
a <code class="extension">eps</code> file: the solution in this case is to transform the graphics
file to a format your driver knows about.

<p>
If you happen to <em>know</em> that your device driver deals with the
format of your file, you are probably falling foul of a limitation of
the file name parsing code that the graphics package uses.  Suppose
you want to include a graphics file <i class="filename">home.bedroom.eps</i> using the
<i class="progname">dvips</i> driver; the package will conclude that your file&rsquo;s
extension is <code class="extension">bedroom.eps</code>, and will complain.

<p>
The <i class="package">grffile</i> package deals with the last problem (and
others&nbsp;&mdash; see the package documentation); using the package, you may
write:
<blockquote>
<pre>
\usepackage{graphicx}
\usepackage{grffile}
...
\includegraphics{home.bedroom.eps}
</pre>
</blockquote>
or you may even write
<blockquote>
<pre>
\includegraphics{home.bedroom}
</pre>
</blockquote>
and <i class="package">graphicx</i> will find a <code class="extension">eps</code> or <code class="extension">pdf</code>
(or whatever) version, according to what version of (La)TeX you&rsquo;re
running.

<p>
If for some reason you can&rsquo;t use <i class="package">grffile</i>, you have three
unsatisfactory alternatives:
<ul>
<li> Rename the file&nbsp;&mdash; for example <i class="filename">home.bedroom.eps</i>&rarr;
  <i class="filename">home-bedroom.eps</i>
<li> Mask the first dot in the file name:
<pre>
\newcommand*{\DOT}{.}
\includegraphics{home\DOT bedroom.eps}
</pre>
<li> Tell the graphics package what the file is, by means of options
  to the <code>&#x5c;includegraphics</code> command:

<pre>
\includegraphics[type=eps,ext=.eps,
                 read=.eps]{home.bedroom}
</pre>


<pre>
\includegraphics[type=eps,ext=.eps,read=.eps]{home.bedroom}
</pre>

</ul>
<dl>
<dt class="ctanref">grffile.sty</dt><dd>Distributed as part of the Oberdiek collection
  <a class="ctan" href="https://www.ctan.org/pkg/grffile">oberdiek</a>
</dl>

<p>
[[[Question]]][Q-nodollar][[[LBRACE]]]&ldquo;Missing <tt>&#x24;</tt> inserted&rdquo;[[[RBRACE]]]

<p>
There are certain things that <em>only</em> work in maths mode.  If your
document is not in maths mode and you have an <code class="verb">_</code> or a <code class="verb">^</code> character,
TeX (and by inheritance, LaTeX too) will say
<pre>
! Missing $ inserted
</pre>
as if you couldn&rsquo;t possibly have misunderstood the import of what you
were typing, and the only possible interpretation is that you had
committed a typo in failing to enter maths mode.  TeX, therefore,
tries to patch things up by inserting the <tt>&#x24;</tt> you &lsquo;forgot&rsquo;, so that
the maths-only object will work; as often as not this will land you in
further confusion.

<p>
It&rsquo;s not just the single-character maths sub- and superscript
operators: anything that&rsquo;s built in or declared as a maths operation,
from the simplest lower-case <code>&#x5c;alpha</code> through the inscrutable
<code>&#x5c;mathchoice</code> primitive, and beyond, will provoke the error if
misused in text mode.

<p>
LaTeX offers a command <code>&#x5c;ensuremath</code>, which will put you in maths
mode for the execution of its argument, if necessary: so if you want
an <code>&#x5c;alpha</code> in your running text, say
<code>&#x5c;ensuremath</code><code>&#x7b;<code>&#x5c;alpha</code>&#x7d;</code>; if the bit of running text somehow
transmutes into a bit of mathematics, the <code>&#x5c;ensuremath</code> will become
a no-op, so it&rsquo;s pretty much always safe.

<p>
[[[Question]]][Q-fontunavail][[[LBRACE]]]Warning: &ldquo;Font shape &hellip; not available&rdquo;[[[RBRACE]]]

<p>
LaTeX&rsquo;s font selection scheme maintains tables of the font families
it has been told about.  These tables list the font families that
LaTeX knows about, and the shapes and series in which those font
families are available.  In addition, in some cases, the tables list
the sizes at which LaTeX is willing to load fonts from the family.

<p>
When you specify a font, using one of the LaTeX font selection
commands, LaTeX looks for the font (that is, a font that matches
the encoding, family, shape, series and size that you want) in its
tables.  If the font isn&rsquo;t there at the size you want, you will see a
message like:


<pre>
LaTeX Font Warning: Font shape `OT1/cmr/m/n' in
...                 size <11.5> not available
(Font)              size <12> substituted on
...                 input line ...
</pre>







<pre>
LaTeX Font Warning: Font shape `OT1/cmr/m/n' in size <11.5> not available
(Font)              size <12> substituted on input line ...
</pre>



<pre>
LaTeX Font Warning: Font shape `OT1/cmr/m/n' in size <11.5> not available
(Font)              size <12> substituted on input line ...
</pre>

There will also be a warning like:


<pre>
LaTeX Font Warning: Size substitutions with
...                 differences
(Font)              up to 0.5pt have occurred.
</pre>


<pre>
LaTeX Font Warning: Size substitutions with differences
(Font)              up to 0.5pt have occurred.
</pre>



<pre>
LaTeX Font Warning: Size substitutions with differences
(Font)              up to 0.5pt have occurred.
</pre>

after LaTeX has encountered <code>&#x5c;end</code><code>&#x7b;document&#x7d;</code>.

<p>
The message tells you that you&rsquo;ve chosen a font size that is not in
LaTeX&rsquo;s list of &ldquo;allowed&rdquo; sizes for this font; LaTeX has
chosen the nearest font size it knows is allowed.  In fact, you can
tell LaTeX to allow <em>any</em> size: the restrictions come from the
days when only bitmap fonts were available, and they have never
applied to fonts that come in scaleable form in the first place.
Nowadays, most of the fonts that were once bitmap-only are also
available in scaleable (Adobe Type&nbsp;1) form.  If your installation uses
scaleable versions of the Computer Modern or European Computer Modern
(EC) fonts, you can tell LaTeX to remove the restrictions;
use the <i class="package">type1cm</i> or <i class="package">type1ec</i> package as appropriate.

<p>
If the combination of font shape and series isn&rsquo;t available, LaTeX
will usually have been told of a fall-back combination that may be
used, and will select that:


<pre>
LaTeX Font Warning: Font shape `OT1/cmr/bx/sc'
...                 undefined
(Font)              using `OT1/cmr/bx/n'
...                 instead on input line 0.
</pre>


<pre>
LaTeX Font Warning: Font shape `OT1/cmr/bx/sc' undefined
(Font)              using `OT1/cmr/bx/n' instead on input line 0.
</pre>



<pre>
LaTeX Font Warning: Font shape `OT1/cmr/bx/sc' undefined
(Font)              using `OT1/cmr/bx/n' instead on input line 0.
</pre>


<p>
Substitutions may also be &ldquo;silent&rdquo;; in this case, there is no more
than an &ldquo;information&rdquo; message in the log file.  For example, if you
specify an encoding for which there is no version in the current font
family, the &lsquo;default family for the encoding&rsquo; is selected.  This
happens, for example, if you use command <code>&#x5c;textbullet</code>, which is
normally taken from the maths symbols font, which is in <code class="verb">OMS</code>
encoding.  My test log contained:


<pre>
LaTeX Font Info:    Font shape `OMS/cmr/m/n' in
...                 size <10> not available
(Font)              Font shape `OMS/cmsy/m/n'
...                 tried instead on input
...                 line ...
</pre>


<pre>
LaTeX Font Info:    Font shape `OMS/cmr/m/n' in size <10> not available
(Font)              Font shape `OMS/cmsy/m/n' tried instead on input line ...
</pre>



<pre>
LaTeX Font Info:    Font shape `OMS/cmr/m/n' in size <10> not available
(Font)              Font shape `OMS/cmsy/m/n' tried instead on input line ...
</pre>


<p>
In summary, these messages are not so much error messages, as
information messages, that tell you what LaTeX has made of your
text.  You should check what the messages say, but you will ordinarily
not be surprised at their content.
<dl>
<dt class="ctanref">type1cm.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/type1cm">type1cm</a>
<dt class="ctanref">type1ec.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/type1ec">type1ec</a>
</dl>

<p>
[[[Question]]][Q-buffovl][[[LBRACE]]]Unable to read an entire line[[[RBRACE]]]

<p>
TeX belongs to the generation of applications written for
environments that didn&rsquo;t offer the sophisticated string and i/o
manipulation we nowadays take for granted (TeX was written in
Pascal, and the original Pascal standard made no mention of i/o, so
that anything but the most trivial operations were likely to be
unportable).

<p>
When you overwhelm TeX&rsquo;s input mechanism, you get told:
<pre>
! Unable to read an entire line---bufsize=3000.
    Please ask a wizard to enlarge me.
</pre>
(for some value of &lsquo;3000&rsquo;&nbsp;&mdash; the quote was from a
<i class="newsgroup">comp.text.tex</i> posting by a someone who was presumably
using an old TeX).

<p>
As the message implies, there&rsquo;s (what TeX thinks of as a) line in
your input that&rsquo;s &ldquo;too long&rdquo; (to TeX&rsquo;s way of thinking).  Since
modern distributions tend to have tens of thousands of bytes of input
buffer, it&rsquo;s somewhat rare that these messages occur &ldquo;for real&rdquo;.
Probable culprits are:
<ul>
<li> A file transferred from another system, without translating
  record endings.  With the decline of fixed-format records (on
  mainframe operating systems) and the increased intelligence of
  TeX distributions at recognising other systems&rsquo; explicit
  record-ending characters, this is nowadays rather a rare cause of
  the problem.
<li> A graphics input file, which a package is examining for its
  bounding box, contains a binary preview section.  Again,
  sufficiently clever TeX distributions recognise this situation,
  and ignore the previews (which are only of interest, if at all, to a
  TeX previewer).
</ul>

<p>
The usual advice is to ignore what TeX says (i.e., anything about
enlarging), and to put the problem right in the source. 

<p>
If the real problem is over-long text lines, most self-respecting text
editors will be pleased to automatically split long lines (while
preserving the &ldquo;word&rdquo; structure) so that they are nowhere any longer
than a given length; so the solution is just to edit the file.

<p>
If the problem is a ridiculous preview section, try using
<a href="http://www.ghostscript.com/"><i class="progname">ghostscript</i></a>
to reprocess the file, outputting a &ldquo;plain
<code class="extension">eps</code>&rdquo; file.  (<i class="progname">Ghostscript</i>&rsquo;s distribution
includes a script <i class="progname">ps2epsi</i> which will regenerate the preview
if necessary.)  Users of the shareware program 
<a href="http://www.ghostgum.com.au/"><i class="progname">gsview</i></a>
will find buttons to perform the required transformation of the file
being displayed.

<p class="lastedit">This answer last edited: 2013-06-03</p>

<p>
[[[Question]]][Q-formatstymy][[[LBRACE]]]&ldquo;Fatal format file error; I&rsquo;m stymied&rdquo;[[[RBRACE]]]

<p>
(La)TeX applications often fail with this error when you&rsquo;ve been
playing with the configuration, or have just installed a new version.

<p>
The format file contains the macros that define the system you want to
use: anything from the simplest (Plain TeX) all the way to the most
complicated, such as LaTeX or CONTeXT.  From the command you
issue, TeX knows which format you want.

<p>
The error message
<pre>
  Fatal format file error; I'm stymied
</pre>
means that TeX itself can&rsquo;t understand the format you want.
Obviously, this could happen if the format file had got corrupted, but
it usually doesn&rsquo;t.  The commonest cause of the message, is that a new
binary has been installed in the system: no two TeX binaries on the
same machine can
understand each other&rsquo;s formats.  So the new version of TeX you
have just installed, won&rsquo;t understand the format generated by the one
you installed last year.

<p>
Resolve the problem by regenerating the format; of course, this
depends on which system you are using.
<ul>
<li> On a teTeX-based system, run
<pre>
  fmtutil --all
</pre>
  or
<pre>
  fmtutil --byfmt=<format name>
</pre>
  to build only the format that you are interested in.
<li> On a MiKTeX system, click <tt>Start</tt>&rarr;
<tt>Programs</tt>&rarr;
<tt>MiKTeX <em>version</em></tt>&rarr;
<tt>MiKTeX Options</tt>, and in the options window, click
  <tt>Update now</tt>.
</ul>

<p>
[[[Question]]][Q-nonpdfsp][[[LBRACE]]]Non-PDF special ignored![[[RBRACE]]]

<p>
This is a PDFTeX error: PDFTeX is running in PDF output

mode, and it has encountered a 
<a href="FAQ-specials.html"><code>&#x5c;special</code></a> command.  PDFTeX is
able to generate its own output, and in this mode of operation has no
need of <code>&#x5c;special</code> commands (which allow the user to pass
information to the driver being used to generate output).

<p>
Why does this happen?  LaTeX users, nowadays, hardly ever use
<code>&#x5c;special</code> commands on their own&nbsp;&mdash; they employ packages to do the
job for them.  Some packages will generate <code>&#x5c;special</code> commands
however they are invoked: <i class="package">pstricks</i> is an example (it&rsquo;s very
raison d&rsquo;\^etre is to emit PostScript code in a sequence of <code>&#x5c;special</code>
commands).  <i class="package">Pstricks</i> may be dealt with by other means (the
<i class="package">pdftricks</i> package offers a usable technique).

<p>
More amenable to correction, but more confusing, are packages (such as
<i class="package">color</i>, <i class="package">graphics</i> and <i class="package">hyperref</i>) that
specify a &ldquo;driver&rdquo;.  These packages have plug-in modules that
determine what <code>&#x5c;special</code> (or other commands) are needed to generate
any given effect: the <tt>pdftex</tt> driver for such packages knows not to
generate <code>&#x5c;special</code> commands.  In most circumstances, you can let
the system itself choose which driver you need; in this case
everything will act properly when you switch to using PDFLaTeX.  If
you&rsquo;ve been using <i class="progname">dvips</i> (and specifying the <code class="verb">dvips</code> driver)
or <i class="progname">dvipdfm</i> (for which you have to specify the driver), and
decide to try PDFLaTeX, you <em>must</em> remove the <code class="verb">dvips</code> or
<code class="verb">dvipdfm</code> driver specification from the package options, and let the
system recognise which driver is needed.
<dl>
<dt class="ctanref">pdftricks.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdftricks">pdftricks</a>
<dt class="ctanref">pstricks.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pstricks">pstricks</a>
</dl>

<p>
[[[Question]]][Q-8000][[[LBRACE]]]Mismatched mode ljfour and resolution 8000[[[RBRACE]]]

<p>
You&rsquo;re running <i class="progname">dvips</i>, and you encounter a stream of error
messages, starting with &ldquo;<tt>Mismatched mode</tt>&rdquo;.  The mode is the
default used in your installation&nbsp;&mdash; it&rsquo;s set in the <i class="progname">dvips</i>
configuration file, and <tt>ljfour</tt> is commonest (since it&rsquo;s the
default in most distributions), but not invariable.

<p>
The problem is that <i class="progname">dvips</i> has encountered a font for which
it must generate a bitmap (since it can&rsquo;t find it in Type&nbsp;1 format),
and there is no proforma available to provide instructions to give to
MetaFont.

<p>
So what to do?  The number 8000 comes from the &lsquo;<tt>-Ppdf</tt>&rsquo; option
to <i class="progname">dvips</i>, which you might have found from the answer

<a href="FAQ-fuzzy-type3.html">&ldquo;wrong type of fonts&rdquo;</a>.  The obvious
solution is to switch to the trivial substitute &lsquo;<tt>-Pwww</tt>&rsquo;,
which selects the necessary type&nbsp;1 fonts for PDF generation,
but nothing else: however, this will leave you with undesirable bitmap
fonts in your PDF file.  The &ldquo;proper&rdquo; solution is to find a
way of expressing what you want to do, using type&nbsp;1 fonts.

<p>
[[[Question]]][Q-toodeep][[[LBRACE]]]&ldquo;Too deeply nested&rdquo;[[[RBRACE]]]

<p>
This error appears when you start a LaTeX list.

<p>
LaTeX keeps track of the nesting of one list inside another.  There
is a set of list formatting parameters built-in for application to
each of the list nesting levels; the parameters determine indentation,
item separation, and so on.  The <code class="environment">list</code> environment (the
basis for list environments like <code class="environment">itemize</code> and
<code class="environment">enumerate</code>) &ldquo;knows&rdquo; there are only 6 of these sets.

<p>
There are also different label definitions for the
<code class="environment">enumerate</code> and <code class="environment">itemize</code> environments at
their own private levels of nesting.  Consider this example:
<blockquote>
<pre>
\begin{enumerate}
\item first item of first enumerate
  \begin{itemize}
  \item first item of first itemize
    \begin{enumerate}
    \item first item of second enumerate
    ...
    \end{enumerate}
  ...
  \end{itemize}
...
\end{enumerate}
</pre>
</blockquote>
In the example,
<ul>
<li> the first <code class="environment">enumerate</code> has labels as for a
  first-level <code class="environment">enumerate</code>, and is indented as for a
  first-level list;
<li> the first <code class="environment">itemize</code> has labels as for a first level
  <code class="environment">itemize</code>, and is indented as for a second-level list;
  and
<li> the second <code class="environment">enumerate</code> has labels as for a
  second-level <code class="environment">enumerate</code>, and is indented as for a
  third-level list.
</ul>
Now, as well as LaTeX <em>knowing</em> that there are 6&nbsp;sets of
parameters for indentation, it also <em>knows</em> that there are only
4&nbsp;types of labels each, for the environments <code class="environment">enumerate</code>
and <code class="environment">itemize</code> (this &ldquo;knowledge&rdquo; spells out a requirement
for class writers, since the class supplies the sets of parameters).

<p>
From the above, we can deduce that there are several ways we can run
out of space: we can have 6&nbsp;lists (of any sort) nested, and try to
start a new one; we can have 4&nbsp;<code class="environment">enumerate</code> environments
somewhere among the set of nested lists, and try to add another one;
and we can have 4&nbsp;<code class="environment">itemize</code> environments somewhere among
the set of nested lists, and try to add another one.

<p>
What can be done about the problem?  Not much, short of rewriting
LaTeX&nbsp;&mdash; you really need to rewrite your document in a slightly
less labyrinthine way.

<p>
[[[Question]]][Q-inputlev][[[LBRACE]]]Capacity exceeded&nbsp;&mdash; input levels[[[RBRACE]]]

<p>
The error

<pre>
! TeX capacity exceeded, sorry [text input levels=15].
</pre>


<pre>
! TeX capacity exceeded, sorry
                         [text input levels=15].
</pre>

is caused by nesting your input too deeply.  You can provoke it with
the trivial (Plain TeX) file <i class="filename">input.tex</i>, which contains
nothing but: 
<pre>
\input input
</pre>
In the real world, you are unlikely to encounter the error with a
modern TeX distribution.  TeTeX (used to produce the error
message above) allows 15 files open for TeX input at any one time,
which is improbably huge for a document generated by real human
beings.

<p>
However, for those improbable (or machine-generated) situations,
some distributions offer the opportunity to adjust the parameter
<code class="verb">max_in_open</code> in a configuration file.

<p>
[[[Question]]][Q-hyperdupdest][[[LBRACE]]]PDFTeX destination &hellip; ignored[[[RBRACE]]]

<p>
The warning:
<blockquote>

<pre>
! pdfTeX warning (ext4): destination with the same identifier
(name{page.1}) has been already used, duplicate ignored
</pre>


<pre>
! pdfTeX warning (ext4): destination with
  the same identifier (name{page.1}) has
  been already used, duplicate ignored
</pre>


</blockquote>
arises because of duplicate page numbers in your document.  The
problem is usually soluble: see 
<a class="FAquestion.html" href="FAQ-pdfpagelabels.html">PDF page destinations</a>&nbsp;&mdash; which
answer also describes the problem in more detail.

<p>
If the identifier in the message is different, for example
<tt>name&#x7b;figure.1.1&#x7d;</tt>, the problem is (often) due to a problem of
package interaction.  The <i class="filename">README</i> in the <i class="package">hyperref</i>
distribution mentions some of these issues&nbsp;&mdash; for example,
<code class="environment">equation</code> and <code class="environment">eqnarray</code> as supplied by the
<i class="package">amsmath</i> package; means of working around the problem are
typically supplied there.

<p>
Some packages are simply incompatible with
<i class="package">hyperref</i>, but most work simply by ignoring it.  In most
cases, therefore, you should load your package before you load
<i class="package">hyperref</i>, and <i class="package">hyperref</i> will patch things up so
that they work, so you can utilise your (patched) package <em>after</em>
loading both:
<blockquote>
  <code>&#x5c;usepackage</code><code>&#x7b;<em>your package</em>&#x7d;</code><br>
  <tt>...</tt><br>
  <code>&#x5c;usepackage</code><code>[<em>opts</em>]</code></code><code>&#x7b;hyperref&#x7d;</code><br>
  <tt>...</tt><br>
  &lsaquo;<i>code that uses your package</i>&rsaquo;
</blockquote>

For example:
<blockquote>
<pre>
\usepackage{float}          % defines \newfloat
...
\usepackage[...]{hyperref}  % patches \newfloat
...
\newfloat{...}{...}{...}
</pre>
</blockquote>
















You should load packages in this order as a matter of course, unless
the documentation of a package says you <em>must</em> load it after
<i class="package">hyperref</i>.  (There are few packages that require to be
loaded after hyperref: one such is <i class="class">memoir</i>&rsquo;s
&ldquo;<i class="package">hyperref</i> fixup&rdquo; package <i class="package">memhfixc</i>.)

<p>
If loading your packages in the (seemingly) &ldquo;correct&rdquo; order doesn&rsquo;t
solve the problem, you need to <a href="FAQ-gethelp.html">seek further help</a>.

<p>
[[[Question]]][Q-altabcr][[[LBRACE]]]Alignment tab changed to <code>&#x5c;cr</code>[[[RBRACE]]]

<p>
This is an error you may encounter in LaTeX when a tabular
environment is being processed.  &ldquo;Alignment tabs&rdquo; are the
<tt>&amp;</tt> signs that separate the columns of a <code class="environment">tabular</code>
(or <code class="environment">array</code> or matrix) environment; so the error message
<blockquote>

<pre>
! Extra alignment tab has been 
                            changed to \cr
</pre>


<pre>
! Extra alignment tab has been changed to \cr
</pre>

</blockquote>
could arise from a simple typo, such as:
<blockquote>
<pre>
\begin{tabular}{ll}
  hello   &amp; there &amp; jim \\
  goodbye &amp; now
\end{tabular}
</pre>
</blockquote>
where the second <tt>&amp;</tt> in the first line of the table is more than the
two-column <tt>ll</tt> column specification can cope with. In this
case, an extra &ldquo;<tt>l</tt>&rdquo; in that solves the problem.  (If you
continue from the error in this case, &ldquo;<tt>jim</tt>&rdquo; will be moved
to a row of his own.)  Another simple typo that can provoke the error
is:
<blockquote>
<pre>
\begin{tabular}{ll}
  hello   &amp; there
  goodbye &amp; now
\end{tabular}
</pre>
</blockquote>
where the &lsquo;<tt>&#x5c; </tt>&rsquo; has been missed from the first line of the table.
In this case, if you continue from the error, you will find that
LaTeX has made a table equivalent to:
<blockquote>
<pre>
\begin{tabular}{ll}
  hello   &amp; there goodbye\\
  now
\end{tabular}
</pre>
</blockquote>
(with the second line of the table having only one cell).

<p>
Rather more difficult to spot is the occurrence of the error when
you&rsquo;re using alignment instructions in a &ldquo;<tt>p</tt>&rdquo; column:
<blockquote>
<pre>
\usepackage{array}
...
\begin{tabular}{l>{\raggedright}p{2in}}
here &amp; we are again \\
happy &amp; as can be
\end{tabular}
</pre>
</blockquote>
the problem here (as explained in 
<a class="FAquestion.html" href="FAQ-tabcellalign.html">tabular cell alignment</a>) is that the
<code>&#x5c;raggedright</code> command in the column specification has overwritten
<code class="environment">tabular</code>&rsquo;s definition of <tt>&#x5c; </tt>, so that
&ldquo;<tt>happy</tt>&rdquo; appears in a new line of the second column, and the
following <tt>&amp;</tt> appears to LaTeX just like the second
<tt>&amp;</tt> in the first example above.

<p>
Get rid of the error in the way described in 
<a class="FAquestion.html" href="FAQ-tabcellalign.html">tabular cell alignment</a>&nbsp;&mdash; either use
<code>&#x5c;tabularnewline</code> explicitly, or use the <code>&#x5c;RBS</code> trick described
there.

<p>
The <i class="package">amsmath</i> package adds a further twist; when typesetting
a matrix (the package provides many matrix environments), it has a
fixed maximum number of columns in a matrix&nbsp;&mdash; exceed that maximum,
and the error will appear.  By default, the maximum is set to 10, but
the value is stored in counter <tt>MaxMatrixCols</tt> and may be
changed (in the same way as any counter):
<blockquote>
<pre>
\setcounter{MaxMatrixCols}{20}
</pre>
</blockquote>
<dl>
<dt class="ctanref">array.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/array">2etools</a>
</dl>

<p class="lastedit">This answer last edited: 2011-07-06</p>

<p>
[[[Question]]][Q-divzero][[[LBRACE]]]Graphics division by zero[[[RBRACE]]]

<p>
While the error
<blockquote>
<pre>
! Package graphics Error: Division by 0.
</pre>
</blockquote>
can actually be caused by offering the package a figure which claims
to have a zero dimension, it&rsquo;s more commonly caused by rotation.

<p>
Objects in TeX may have both height (the height above the baseline)
and depth (the distance the object goes below the baseline).  If you
rotate an object by 180&thinsp;degrees, you convert its height into depth,
and vice versa; if the object started with zero depth, you&rsquo;ve
converted it to a zero-height object.

<p>
Suppose you&rsquo;re including your graphic with a command like:
<blockquote>

<pre>
\includegraphics[angle=180,height=5cm]{myfig.eps}
</pre>


<pre>
\includegraphics[angle=180,%
                height=5cm]{myfig.eps}
</pre>

</blockquote>
In the case that <i class="filename">myfig.eps</i> has no depth to start with, the
scaling calculations will produce the division-by-zero error.

<p>
Fortunately, the <i class="package">graphicx</i> package has a keyword
<code class="pkgoption">totalheight</code>, which allows you to specify the size of the
image relative to the sum of the object&rsquo;s <code class="pkgoption">height</code> and
<code class="pkgoption">depth</code>, so
<blockquote>

<pre>
\includegraphics[angle=180,totalheight=5cm]{myfig.eps}
</pre>


<pre>
\includegraphics[angle=180,%
           totalheight=5cm]{myfig.eps}
</pre>

</blockquote>
will resolve the error, and will behave as you might hope.

<p>
If you&rsquo;re using the simpler <i class="package">graphics</i> package, use the
<tt>*</tt> form of the <code>&#x5c;resizebox</code> command to specify the use of
<code class="pkgoption">totalheight</code>:
<blockquote>
<pre>
\resizebox*{!}{5cm}{%
  \rotatebox{180}{%
    \includegraphics{myfig.eps}%
  }%
}
</pre>
</blockquote>
<dl>
<dt class="ctanref">graphics.sty,graphicx.sty</dt><dd>Both parts of the <a class="ctan" href="https://www.ctan.org/pkg/graphics">graphics</a> bundle
</dl>

<p>
[[[Question]]][Q-missbegdoc][[[LBRACE]]]Missing <code>&#x5c;begin</code>&#x7b;document&#x7d;[[[RBRACE]]]

<p>
The <em>preamble</em> of your document is the stuff before
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>; you put <code>&#x5c;usepackage</code> commands and
your own macro definitions in there.  LaTeX doesn&rsquo;t like
<em>typesetting</em> anything in the preamble, so if you have:
<ul>
<li> typed the odd grumble,
<li> created a box with <code>&#x5c;newsavebox</code> and put something in it
  using <code>&#x5c;sbox</code> (or the like),
<li> forgotten to put <code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code> into the document,
  at all, or even
<li> gave it the wrong file
</ul>
the error is inevitable and the solution is simple&nbsp;&mdash; judicious use
of comment markers (&lsquo;<tt>&#x25;</tt>&rsquo;) at the beginning of a
line, moving things around, providing something that was
missing&nbsp;&hellip; or switching to the correct file.

<p>
The error may also occur while reading the <code class="extension">aux</code> file from an
earlier processing run on the document; if so, delete the
<code class="extension">aux</code> file and start again from scratch.  If the error
recurs, it could well be due to a buggy class or package.

<p>
However, it may be that none of the above solves the problem.

<p>
If so, remember that things that appear before <code>&#x5c;documentclass</code> are
also problematical: they are inevitably before
<code>&#x5c;begin</code><code>&#x7b;document&#x7d;</code>!

<p>
Unfortunately, modern editors are capable of putting things there, and
preventing you from seeing them.  This can happen when your document
is being &lsquo;written&rsquo; in <a href="FAQ-unicode.html">Unicode</a>.  The Unicode
standard defines &ldquo;Byte Order Marks&rdquo; (BOM), that reassure a
program (that reads the document) of the way the Unicode codes are
laid out.  Sadly ordinary LaTeX or PDFLaTeX choke on
BOMs, and consider them typesetting requests.  The error
message you see will look like:
<blockquote>
<pre>
! LaTeX Error: Missing \begin{document}.
...
l.1 <?>
       <?><?>\documentclass{article}
</pre>
</blockquote>
(Those <tt><?></tt>s are your operating system&rsquo;s representation of an
unknown character; on the author&rsquo;s system it&rsquo;s a reverse video
&lsquo;<tt>?</tt>&rsquo; sign.)

<p>
You can spot the BOM by examining the bytes; for example, the
Unix <i class="progname">hexdump</i> application can help:
<blockquote>
<pre>
$ hexdump -C <file>
00000000  ef bb bf 5c 64 6f 63 75 ...
</pre>
</blockquote>
The <tt>5c 64 6f 63 75</tt> are the &ldquo;<code>&#x5c;docu</code>&rdquo; at the start of
(the &lsquo;real&rsquo; part of) your document; the three bytes before it form the
BOM.

<p>
How to stop your editor from doing this to you depends, of course, on
the editor you use; if you are using GNU Emacs, you have to
change the encoding from <tt>utf-8-with-signature</tt> to &lsquo;plain&rsquo;
<tt>utf-8</tt>; instructions for that are found on

<a href="http://stackoverflow.com/questions/3859274/">the &ldquo;stack overflow&rdquo; site</a>

<p>
(So far, all instances of this problem that the author has seen have
afflicted GNU Emacs users.)

<p>
Fortunately XeTeX and LuaTeX know about BOMs and what to
do with them, so LaTeX using them is &ldquo;safe&rdquo;.

<p>
[[[Question]]][Q-normalszmiss][[[LBRACE]]]<code>&#x5c;normalsize</code> not defined[[[RBRACE]]]

<p>
The LaTeX error:
<blockquote>

<pre>
The font size command \normalsize is not
   defined: there is probably something
   wrong with the class file.
</pre>


<pre>
The font size command \normalsize is not defined:
there is probably something wrong with the class file.
</pre>

</blockquote>
reports something pretty fundamental (document base font size has not
been set, something the document class does for you).  It <em>can</em>,
in principle, be a problem with the document class, but is more often
caused by the user forgetting to start their document with a
<code>&#x5c;documentclass</code> command.

<p class="lastedit">This answer last edited: 2013-11-20</p>

<p>
[[[Question]]][Q-manymathalph][[[LBRACE]]]Too many math alphabets[[[RBRACE]]]

<p>
TeX mathematics is one of its most impressive features, yet the
internal structure of the mechanism that produces it is painfully
complicated and (in some senses) pathetically limited.  One area of
limitation is that one is only allowed 16&nbsp;&ldquo;maths alphabets&rdquo;

<p>
LaTeX offers the user quite a lot of flexibility with allocating
maths alphabets, but few people use the flexibility directly.
Nevertheless, there are many packages that provide symbols, or that
manipulate them, which allocate themselves one or more maths alphabet.

<p>
If you can&rsquo;t afford to drop any of these packages, you might be able
to consider switching to use of <a href="FAQ-xetex.html">XeTeX</a> or
<a href="FAQ-luatex.html">LuaTeX</a>, which both have 65536 alphabet slots
available.  (Such a change is best not done when under pressure to
complete a document; other issues, such as font availability) could
make a change impractical.)

<p>
Even if switching is not possible, there&rsquo;s still hope if you&rsquo;re using
the <i class="package">bm</i> package to support <a href="FAQ-boldgreek.html">bold maths</a>:
<i class="package">bm</i> is capable of gobbling alphabets as if there is no
tomorrow.  The package defines two limiter commands: <code>&#x5c;bmmax</code> (for
<em>bold</em> symbols; default&nbsp;4) and <code>&#x5c;hmmax</code> (for <em>heavy</em>
symbols, if you have them; default&nbsp;3), which control the number of
alphabets to be used.

<p>
Any reduction of the <code>&#x5c;<em>xx</em>max</code> variables will slow
<i class="package">bm</i> down&nbsp;&mdash; but that&rsquo;s surely better than the document not
running at all.  So unless you&rsquo;re using maths fonts (such as
<i class="fontname">Mathtime Plus</i>) that feature a heavy symbol weight, suppress all
use of heavy families by
<blockquote>
<pre>
  \newcommand{\hmmax}{0}
</pre>
</blockquote>
(before loading <i class="package">bm</i>), and then steadily reduce the bold
families, starting with 
<blockquote>
<pre>
  \newcommand{\bmmax}{3}
</pre>
</blockquote>
(again before loading <i class="package">bm</i>), until (with a bit of luck) the
error goes away.
<dl>
<dt class="ctanref">bm.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/bm">2etools</a>
</dl>

<p>
[[[Question]]][Q-ouparmd][[[LBRACE]]]Not in outer par mode[[[RBRACE]]]

<p>
The error:
<blockquote>
<pre>
! LaTeX Error: Not in outer par mode.
</pre>
</blockquote>
comes when some &ldquo;main&rdquo; document feature is shut up somewhere it
doesn&rsquo;t like.

<p>
The commonest occurrence is when the user wants a figure somewhere
inside a table:
<blockquote>
<pre>
\begin{tabular}{|l|}
  \hline
  \begin{figure}
  \includegraphics{foo}
  \end{figure}
  \hline
\end{tabular}
</pre>
</blockquote>
a construction that was supposed to put a frame around the diagram,
but doesn&rsquo;t work, any more than:
<blockquote>
<pre>
\framebox{\begin{figure}
  \includegraphics{foo}
  \end{figure}%
}
</pre>
</blockquote>
The problem is, that the <code class="environment">tabular</code> environment, and the
<code>&#x5c;framebox</code> command restrain the <code class="environment">figure</code> environment
from its natural m&eacute;tier, which is to float around the document.

<p>
The solution is simply not to use the <code class="environment">figure</code> environment
here:
<blockquote>
<pre>
\begin{tabular}{|l|}
  \hline
  \includegraphics{foo}
  \hline
\end{tabular}
</pre>
</blockquote>
What was the float for?&nbsp;&mdash; as written in the first two examples, it
serves no useful purpose; but perhaps you actually wanted a diagram
and its caption framed, in a float.

<p>
It&rsquo;s simple to achieve this&nbsp;&mdash; just reverse the order of the
environments (or of the <code class="environment">figure</code> environment and the
command):
<blockquote>
<pre>
\begin{figure}
  \begin{tabular}{|l|}
    \hline
    \includegraphics{foo}
    \caption{A foo}
    \hline
  \end{tabular}
\end{figure}
</pre>
</blockquote>
The same goes for <code class="environment">table</code> environments (or any other sort
of float you&rsquo;ve defined for yourself) inside tabulars or box commands;
you <em>must</em> get the float environment out from inside, one way or
another.

<p>
[[[Question]]][Q-errmissitem][[[LBRACE]]]Perhaps a missing <code>&#x5c;item</code>?[[[RBRACE]]]

<p>
Sometimes, the error
<blockquote>
<pre>
Something's wrong--perhaps a missing \item
</pre>
</blockquote>
actually means what it says:
<blockquote>
<pre>
\begin{itemize}
  boo!
\end{itemize}
</pre>
</blockquote>
produces the error, and is plainly in need of an <code>&#x5c;item</code> command.

<p>
You can also have the error appear when at first sight things are
correct:
<blockquote>
<pre>
\begin{tabular}{l}
  \begin{enumerate}
  \item foo\\
  \item bar
  \end{enumerate}
\end{tabular}
</pre>
</blockquote>
produces the error at the <tt>&#x5c; </tt>.  This usage is just wrong; if you
want to number the cells in a table, you have to do it &ldquo;by hand&rdquo;:
<blockquote>
<pre>
\newcounter{tablecell}
...
\begin{tabular}{l}
  \stepcounter{tablecell}
  \thetablecell. foo\\
  \stepcounter{tablecell}
  \thetablecell. bar
\end{tabular}
</pre>
</blockquote>
This is obviously untidy; a command <code>&#x5c;numbercell</code> defined as:
<blockquote>
<pre>
\newcounter{tablecell}
...
\newcommand*{\numbercell}{%
  \stepcounter{tablecell}%
  \thetablecell. % **
}
</pre>
</blockquote>
could make life easier:
<blockquote>
<pre>
\begin{tabular}{l}
  \numbercell foo\\
  \numbercell bar
\end{tabular}
</pre>
</blockquote>
Note the deliberate introduction of a space as part of the command,
marked with asterisks.  Omitted above, the code needs to set the
counter <code class="counter">tablecell</code> to zero
(<code>&#x5c;setcounter</code><code>&#x7b;tablecell&#x7d;</code></code><code>&#x7b;0&#x7d;</code>) before each tabular that uses it.

<p>
The error also regularly appears when you would never have thought
that a <code>&#x5c;item</code> command  might be appropriate.  For example, the
seemingly innocent:
<blockquote>
<pre>
\fbox{%
  \begin{alltt}
    boo!
  \end{alltt}%
}
</pre>
</blockquote>
produces the error (the same happens with <code>&#x5c;mbox</code> in place of
<code>&#x5c;fbox</code>, or with either of their &ldquo;big brothers&rdquo;, <code>&#x5c;framebox</code> and
<code>&#x5c;makebox</code>).  This is because the <code class="environment">alltt</code> environment
uses a &ldquo;trivial&rdquo; list, hidden inside its definition.  (The
<code class="environment">itemize</code> environment also has this construct inside
itself, in fact, so <code>&#x5c;begin</code><code>&#x7b;itemize&#x7d;</code> won&rsquo;t work inside an
<code>&#x5c;fbox</code>, either.)  The list construct wants to happen between
paragraphs, so it makes a new paragraph of its own.  Inside the
<code>&#x5c;fbox</code> command, that doesn&rsquo;t work, and subsequent macros convince
themselves that there&rsquo;s a missing <code>&#x5c;item</code> command.

<p>
To solve this rather cryptic error, one must put the
<code class="environment">alltt</code> inside a paragraph-style box.  The following
modification of the above <em>does</em> work:
<blockquote>
<pre>
\fbox{%
  \begin{minipage}{0.75\textwidth}
    \begin{alltt}
      hi, there!
    \end{alltt}
  \end{minipage}
}
</pre>
</blockquote>
The code above produces a box that&rsquo;s far too wide for the text.  One
may want to use something that allows 
<a href="FAQ-varwidth.html">variable size boxes</a> in place of the
<code class="environment">minipage</code> environment.

<p>
Oddly, although the <code class="environment">verbatim</code> environment wouldn&rsquo;t work
inside a <code>&#x5c;fbox</code> command argument (see 
<a class="FAquestion.html" href="FAQ-verbwithin.html">verbatim in command arguments</a>), you
get an error that complains about <code>&#x5c;item</code>: the environment&rsquo;s
internal list bites you before <code class="environment">verbatim</code> has even had a
chance to create its own sort of chaos.

<p>
Another (seemingly) obvious use of <code>&#x5c;fbox</code> also falls foul of this
error:
<blockquote>
<pre>
\fbox{\section{Boxy section}}
</pre>
</blockquote>
This is a case where you&rsquo;ve simply got to be more subtle; you should
either write your own macros to replace the insides of LaTeX&rsquo;s
sectioning macros, or  look for some alternative in the packages
discussed in 
&ldquo;<a class="FAquestion.html" href="FAQ-secthead.html">The style of section headings</a>&rdquo;.

<p>
[[[Question]]][Q-errparnum][[[LBRACE]]]Illegal parameter number in definition[[[RBRACE]]]

<p>
The error message means what it says.  In the simple case, you&rsquo;ve
attempted a definition like:
<blockquote>
<pre>
\newcommand{\abc}{joy, oh #1!}
</pre>
</blockquote>
or (using TeX primitive definitions):
<blockquote>
<pre>
\def\abc{joy, oh #1!}
</pre>
</blockquote>
In either of the above, the definition uses an argument, but the
programmer did not tell (La)TeX, in advance, that she was going to.
The fix is simple&nbsp;&mdash; <code>&#x5c;newcommand</code><code>&#x7b;<code>&#x5c;abc</code>&#x7d;</code>[1], in the
LaTeX case, <code class="verb">&#x5c;def&#x5c;abc#1</code> in the basic TeX case.

<p>
The more complicated case is exemplified by the attempted definition:
<blockquote>
<pre>
\newcommand{\abc}{joy, oh joy!%
  \newcommand{\ghi}[1]{gloom, oh #1!}%
}
</pre>
</blockquote>
will also produce this error, as will its TeX primitive equivalent:
<blockquote>
<pre>
\def\abc{joy, oh joy!%
  \def\ghi#1{gloom, oh #1!}%
}
</pre>
</blockquote>
This is because special care is needed when defining one macro within
the code of another macro.  This is explained elsewhere, separately
for <a class="FAquestion.html" href="FAQ-ltxhash.html">LaTeX definitions</a> and for
<a class="FAquestion.html" href="FAQ-hash.html">TeX primitive definitions</a>

<p>
[[[Question]]][Q-fllost][[[LBRACE]]]Float(s) lost[[[RBRACE]]]

<p>
The error
<blockquote>
<pre>
! LaTeX Error: Float(s) lost.
</pre>
</blockquote>
seldom occurs, but always seems deeply cryptic when it <em>does</em>
appear.

<p>
The message means what it says: one or more figures, tables, etc., or
marginpars has not been typeset.  (Marginpars are treated internally
as floats, which is how they come to be lumped into this error
message.)

<p>
The most likely reason is that you placed a float or a <code>&#x5c;marginpar</code>
command inside another float or marginpar, or inside a
<code class="environment">minipage</code> environment, a <code>&#x5c;parbox</code> or <code>&#x5c;footnote</code>.
Note that the error may be detected a long way from the problematic
command(s), so the techniques of 
<a href="FAQ-erroradvice.html">tracking down elusive errors</a> all need to be
called into play.

<p>
This author has also encountered the error when developing macros that
used the LaTeX internal float mechanisms.  Most people doing that
sort of thing are expected to be able to work out their own problems&hellip;

<p>
[[[Question]]][Q-parmoderr][[[LBRACE]]]Not in outer par mode[[[RBRACE]]]

<p>
For example:
<blockquote>
<pre>
*\mbox{\marginpar{foo}}

! LaTeX Error: Not in outer par mode.
</pre>
</blockquote>
The error comes when you try to build something movable inside a box.
Movable things, in this context, are floating environments
(<code class="environment">figure</code> and <code class="environment">table</code>, for example), and
<code>&#x5c;marginpar</code>s.  LaTeX simply doesn&rsquo;t have the mechanisms for
floating out of boxes.  In fact, floats and <code>&#x5c;marginpar</code>s
themselves are built out of boxes, so that they can&rsquo;t be nested.

<p>
If your error arises from <code>&#x5c;marginpar</code>, you simply have to think of
an alternative way of placing the command; there is no slick solution.

<p>
If a floating environment is the culprit, it may be possible to use
the &ldquo;<tt>H</tt>&rdquo; placement option, provided (for example) by the
<i class="package">float</i> package:
<blockquote>
<pre>
\parbox{25cm}{%
  \begin{figure}[H]
  ...
  \caption{Apparently floating...}
  \end{figure}%
}
</pre>
</blockquote>
This example makes little sense as it stands; however, it is
conceivable that sane uses could be found (for example, using a
package such as <i class="package">algorithm2e</i> to place two algorithms
side-by-side).
<dl>
<dt class="ctanref">algorithm2e.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/algorithm2e">algorithm2e</a>
<dt class="ctanref">float.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/float">float</a>
</dl>

<p class="lastedit">This answer last edited: 2013-09-09</p>

<p>
[[[Question]]][Q-texorpdf][[[LBRACE]]]Token not allowed in PDFDocEncoded string[[[RBRACE]]]

<p>
The package <i class="package">hyperref</i> produces this error when it doesn&rsquo;t
know how to make something into a &ldquo;character&rdquo; that will go into one
of its PDF entries.  For example, the (unlikely) sequence
<blockquote>
<pre>
\newcommand{\filled}[2]{%
  #1%
  \hfil
  #2%
}
\section{\filled{foo}{bar}}
</pre>
</blockquote>
provokes the error.  <i class="package">Hyperref</i> goes on to tell you:
<blockquote>
<pre>
removing `\hfil' on input line ...
</pre>
</blockquote>
It&rsquo;s not surprising: how would <em>you</em> put the
typesetting instruction <code>&#x5c;hfil</code> into a PDF bookmark?

<p>
<i class="package">Hyperref</i> allows you to define an alternative for such
things: the command <code>&#x5c;texorpdfstring</code>, which takes two
arguments&nbsp;&mdash; the first is what is typeset, the second is what is put
into the bookmark.  For example, what you would probably like in this
case is just a single space in the bookmark; if so, the erroneous
example above would become:
<blockquote>
<pre>
\newcommand{\filled}[2]{%
  #1%
  \texorpdfstring{\hfil}{\space}%
  #2%
}
\section{\filled{foo}{bar}}
</pre>
</blockquote>
and with that definition, the example will compile succesfully
(<i class="package">hyperref</i> knows about the macro <code>&#x5c;space</code>).

<p class="lastedit">This answer last edited: 2009-05-29</p>

<p>
[[[Question]]][Q-checksum][[[LBRACE]]]Checksum mismatch in font[[[RBRACE]]]

<p>
When MetaFont generates a font it includes a checksum in the font bitmap
file, and in the font metrics file (TFM).  (La)TeX includes
the checksum from the TFM file in the DVI file.

<p>
When <i class="progname">dvips</i> (or other DVI drivers) process a
DVI file, they compare checksums in the DVI file to
those in the bitmap fonts being used for character images.  If the
checksums don&rsquo;t match, it means the font metric file used by (La)TeX
was not generated from the same MetaFont program that generated the
font.

<p>
This commonly occurs when you&rsquo;re processing someone else&rsquo;s DVI
file.

<p>
The fonts on your system may also be at fault: possibilities are that
the new TFM was not installed, or installed in a path after an
old TFM file, or that you have a personal cache of bitmaps from
an old version of the font.

<p>
In any case, look at the output &ndash; the chances are that it&rsquo;s perfectly
OK, since metrics tend not to change, even when the bitmaps are
improved.  (Indeed, many font designers&nbsp;&mdash; Knuth included&nbsp;&mdash;
maintain the metrics come what may.)

<p>
If the output <em>does</em> look bad, your only chance is to regenerate
things from scratch.  Options include: flushing your bitmap cache,
rebuild the TFM file locally, and so on.

<p>
[[[Question]]][Q-entercompmode][[[LBRACE]]]Entering compatibility mode[[[RBRACE]]]

<p>
You run your LaTeX job, and it starts by saying
<blockquote>
<pre>
Entering LaTeX 2.09 COMPATIBILITY MODE
</pre>
</blockquote>
followed by lines of asterisks and <tt>!!WARNING!!</tt>.

<p>
This means that the document is not written in &ldquo;current&rdquo; LaTeX
syntax, and that there is no guarantee that all parts of the document
will be formatted correctly.

<p>
If the document is someone else&rsquo;s, and you want no more than a copy to
read, ignore the error.  The document may fail elsewhere, but as often
as not it will provide a <code class="extension">dvi</code> or <code class="extension">pdf</code> that&rsquo;s
adequate for most purposes.

<p>
If it&rsquo;s a new document you have just started working on, you have been
misled by someone.  You have written something like:
<blockquote>
  <code>&#x5c;documentstyle</code><code>&#x7b;article&#x7d;</code>
</blockquote>
or, more generally:
<blockquote>
  <code>&#x5c;documentstyle</code><code>[options]</code></code><code>&#x7b;class&#x7d;</code>
</blockquote>
These forms are (as the warning says) LaTeX 2.09 syntax, and to get rid
of the warning, you must change the command.

<p>
The simple form is easy to deal with:
<blockquote>
  <code>&#x5c;documentstyle</code><code>&#x7b;article&#x7d;</code>
</blockquote>
should become:
<blockquote>
  <code>&#x5c;documentclass</code><code>&#x7b;article&#x7d;</code>
</blockquote>
The complex form is more difficult, since LaTeX 2.09 &ldquo;options&rdquo;
conflate two sorts of things&nbsp;&mdash; options for the class (such as
<code class="pkgoption">11pt</code>, <code class="pkgoption">fleqn</code>), and packages to be loaded.
So:
<blockquote>
  <code>&#x5c;documentstyle</code><code>[11pt,verbatim]</code></code><code>&#x7b;article&#x7d;</code>
</blockquote>
should become:
<blockquote>
  <code>&#x5c;documentclass</code><code>[11pt]</code></code><code>&#x7b;article&#x7d;</code><br>
  <code>&#x5c;usepackage</code><code>&#x7b;verbatim&#x7d;</code>
</blockquote>
because <code class="pkgoption">11pt</code> happens to be a class option, while
<i class="package">verbatim</i> is a package.

<p>
There&rsquo;s no simple way to work out what are class options under
LaTeX 2.09; for <i class="class">article</i>, the list includes <code class="pkgoption">10pt</code>,
<code class="pkgoption">11pt</code>, <code class="pkgoption">12pt</code>, <code class="pkgoption">draft</code>,
<code class="pkgoption">fleqn</code>, <code class="pkgoption">leqno</code>, <code class="pkgoption">twocolumn</code> and
<code class="pkgoption">twoside</code>&nbsp;&mdash; anything else must be a package.

<p>
Your document may well &ldquo;just work&rdquo; after changes like those above;
if not, you should think through what you&rsquo;re trying to do, and consult
documentation on how to do it&nbsp;&mdash; there are lots of 
<a href="FAQ-tutorials*.html">free tutorials</a> to help you on your way, if you
don&rsquo;t have access to a LaTeX manual of any sort.

<p>
[[[Question]]][Q-includeother][[[LBRACE]]]LaTeX won&rsquo;t include from other directories[[[RBRACE]]]

<p>
You wanted to <code>&#x5c;include</code><code>&#x7b;../bar/xyz.tex&#x7d;</code>, but LaTeX says:
<blockquote>

<pre>
latex: Not writing to ../bar/xyz.aux (openout_any = p).
! I can't write on file `../bar/xyz.aux'.
</pre>


<pre>
LaTeX: Not writing to ../bar/xyz.aux
                          (openout_any = p).
! I can't write on file `../bar/xyz.aux'.
</pre>


</blockquote>
The error comes from TeX&rsquo;s protection against writing to
directories that aren&rsquo;t descendents of the one where your document
resides.  (The restriction protects against problems arising from
LaTeXing someone else&rsquo;s malicious, or merely broken, document.  If
such a document overwrites something you wanted kept, there is obvious
potential for havoc.)

<p>
Document directory structures that can lead to this problem will look
like the fictional <i class="filename">mybook</i>:
<blockquote>
<pre>
./base/mybook.tex
./preface/Preface.tex
./preface/***
./chapter1/Intro.tex
...
</pre>
</blockquote>
With such a structure, any document directory (other than the one
where <i class="filename">mybook.tex</i> lives), seems &ldquo;up&rdquo; the tree from the
base directory.  (References to such files will look like
<code>&#x5c;include</code><code>&#x7b;../preface/Preface&#x7d;</code>: the &ldquo;<tt>..</tt>&rdquo; is the
hint.)

<p>
But why did it want to write at all?&nbsp;&mdash; 
&ldquo;<a href="FAQ-include.html">what&rsquo;s going in in my <code>&#x5c;include</code></a>&rdquo; explains
how <code>&#x5c;include</code> works, among other things by writing an
<code class="extension">aux</code> file for every <code>&#x5c;includ</code>ed file.

<p>
Solutions to the problem tend to be drastic:
<ol>
<li> Restructure the directories that hold your document so that the
  master file is at the root of the tree:
  <blockquote>
<pre>
./mybook.tex
./mybook/preface/Preface.tex
./mybook/preface/***
./mybook/chapter1/Intro.tex
...
</pre>
  </blockquote>
  and so on.
<li> Did you actually <em>need</em> <code>&#x5c;include</code>?&nbsp;&mdash; if not, you can
  replace <code>&#x5c;include</code> by <code>&#x5c;input</code> throughout.  (This only works
  if you don&rsquo;t need <code>&#x5c;includeonly</code>.)
<li> You <em>could</em> patch your system&rsquo;s <i class="filename">texmf.cnf</i>&nbsp;&mdash; if you
  know what you&rsquo;re doing, the error message should be enough of a
  hint; this action is definitely not recommended, and is left to
  those who can &ldquo;help themselves&rdquo; in this respect.
</ol>

<p class="lastedit">This answer last edited: 2012-02-13</p>

<p>
[[[Question]]][Q-expl3-old][[[LBRACE]]]Support package <i class="package">expl3</i> too old[[[RBRACE]]]

<p>
Some (rather modern) packages are written using the 
<a href="FAQ-LaTeX3.html">LaTeX3 programming environment</a>.  Since LaTeX3
is still under development, the author cannot reliably guess what
version of LaTeX3 the user has installed, and whether that version
is adequate for the current package.  Thus the package&rsquo;s code often
checks the user&rsquo;s installation, and complains if it&rsquo;s older than the
author&rsquo;s installation at time of testing.  The error message is:
<blockquote>
<pre>
! Support package expl3 too old.
</pre>
</blockquote>
The &ldquo;additional help&rdquo; tells you the solution: update your LaTeX3
installation.  The relevant things are <i class="package">l3kernel</i> (the
programming environment, which contains the <i class="package">expl3</i> mentioned
in the error message) and <i class="package">l3packages</i> (LaTeX3 constructs
such as command definitions).

<p>
While this sounds a drastic remedy, it is no longer the major
undertaking it once was&nbsp;&mdash; if you are using a modern TeX
distribution that you installed yourself, ask it to update over the
internet; if that choice is not available, install from the
<code class="extension">tds.zip</code> files available for both packages on CTAN.
<dl>
<dt class="ctanref">l3kernel bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3kernel">l3kernel</a>
<dt class="ctanref">l3packages bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3packages">l3packages</a>
</dl>

<p class="lastedit">This answer last edited: 2013-02-20</p>


<p>

<p>

<p>
[[[Question]]][Q-LaTeX3][[[LBRACE]]]The LaTeX project[[[RBRACE]]]

<p>
The LaTeX project team (see <a href="http://www.latex-project.org/latex3.html">http://www.latex-project.org/latex3.html</a>)
is a small group of volunteers whose aim is
to produce a major new document processing system based on the
principles pioneered by Leslie Lamport in the current LaTeX.  The
new system is (provisionally) called LaTeX3; it
will remain freely available and it will be fully documented at
all levels.

<p>
The LaTeX team&rsquo;s first product (LaTeX 2e) was delivered in 1994
(it&rsquo;s now properly called &ldquo;LaTeX&rdquo;, since no other version is current).

<p>
LaTeX 2e was intended as a consolidation exercise, unifying several
sub-variants of LaTeX while changing nothing whose change wasn&rsquo;t
absolutely necessary.  This has permitted the team to support a single
version of LaTeX, in parallel with development of LaTeX3.

<p>
Some of the older discussion papers about directions for LaTeX3 are
to be found on CTAN; other (published) articles are to be found
on the project web site (<a href="http://www.latex-project.org/papers/">http://www.latex-project.org/papers/</a>).

<p>
Some of the project&rsquo;s experimental code is visible on the net:
<ul>
<li> via <a href="http://www.latex-project.org/code.html">http://www.latex-project.org/code.html</a>, which points
  to the project&rsquo;s SVN repository;
<li> via the project&rsquo;s
  <a href="https://github.com/latex3/svn-mirror"><em>GitHub</em> mirror</a>;
<li> from CTAN: snapshots of two major collections from the
  code, <i class="package">l3kernel</i> (supporting LaTeX3 coding conventions in
  a LaTeX 2e environment), <i class="package">l3packages</i> (a first cut of a
  &ldquo;document designer&rsquo;s interface&rdquo;) as well as
  <i class="package">l3experimental</i> (new stuff that&rsquo;s still under
  development).
</ul>
The packages <i class="package">l3kernel</i> and <i class="package">l3packages</i> provide an
&ldquo;experimental harness&rdquo; that may be used as a testbed for LaTeX3
work.

<p>
Note that <i class="package">l3kernel</i> introduces a coding structure quite
different from earlier LaTeX code; a few hardy authors, who are not
members of the project, are nevertheless using it in their development
work.

<p>
Anyone may participate in discussions of the future of LaTeX
through the mailing list <tt>latex-l</tt>; some development work
(outside the project) is discussed on the list.  Subscribe to the list
by sending a message &lsquo;<tt>subscribe latex-l <<em>your name</em>></tt>&rsquo;
to  <a href="mailto:listserv@urz.Uni-Heidelberg.de">listserv@urz.Uni-Heidelberg.de</a>
<dl>
<dt class="ctanref">l3experimental bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3experimental">l3experimental</a>
<dt class="ctanref">l3kernel bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3kernel">l3kernel</a>
<dt class="ctanref">LaTeX project publications</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ltx3pub">ltx3pub</a>
<dt class="ctanref">l3packages bundle</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/l3packages">l3packages</a>
</dl>

<p class="lastedit">This answer last edited: 2012-02-07</p>

<p>
[[[Question]]][Q-mathml][[[LBRACE]]]Future WWW technologies and (La)TeX[[[RBRACE]]]

<p>
An earlier answer 
(<a class="FAnumber.html" href="FAQ-LaTeX2HTML.html">&ldquo;converting to HTML&rdquo;</a>)
addresses the issue of converting existing (La)TeX documents for
viewing on the Web as HTML.  All the present techniques are
somewhat flawed: the answer explains why.

<p>
However, things are changing, with
better font availability, cunning HTML programming and the
support for new Web standards.
<dl>
<dt class="description">Font technologies</dt><dd> Direct representation of mathematics in
  browsers has been hampered up to now by the limited range of symbols
  in the fonts whose availability designers can count on.  Some existing
  (La)TeX to HTML converters provide maths symbols by
  hitching them to alternate font face specifications for standard
  code points in a non-standard way.  This does nothing for the
  universality of the HTML so generated.

<p>
  Now, however, free Unicode-encoded OpenType fonts, with coverage of
  mathematical symbols, are starting to appear.  The much-heralded
  <a href="http://www.stixfonts.org/"><i class="fontname">STIX</i> fonts</a> are now
  available on CTAN, and a tweaked version
  (<i class="fontname">XITS</i>) and <i class="fontname">Asana Math</i> are also
  available.  The STIX project has still not released macros
  for using the fonts, but the <i class="package">unicode-math</i> package will do
  what is necessary under XeTeX and LuaTeX, and the fonts can of
  course be used in browsers.



<dt class="description">XML</dt><dd> The core of the range of new standards is
  XML, which provides a framework for better structured markup;
  limited support for it has already appeared in some browsers.

<p>
  Conversion of (La)TeX source to XML is already available
  (through TeX4ht at least), and work continues in that arena.  The
  alternative, authoring in XML (thus producing documents that
  are immediately Web-friendly, if not ready) and using (La)TeX to
  typeset is also well advanced.  One useful technique is
  <a href="FAQ-SGML2TeX.html"><em>transforming</em> the XML to LaTeX</a>,
  using an XSLT stylesheet or code for an XML library,
  and then simply using LaTeX; alternatively, one may
  <a href="FAQ-readML.html">typeset direct from the XML source</a>.
<dt class="description">Direct representation of mathematics</dt><dd>
  MathML is a standard for representing maths on the Web; its
  original version was distinctly limited, but version 2 of MathML
  has had major browser support since 2002 with richness of mathematical
  content for online purposes approaching that of TeX for print.
  Browser support for MathML is provided by <i class="progname">amaya</i>, the
  &lsquo;Open Source&rsquo; browser <i class="progname">mozilla</i> (and its derivatives
  including <i class="progname">NetScape</i>, <i class="progname">Firefox</i> and <i class="progname">Galeon</i>) and
  <i class="progname">Internet Explorer</i> when equipped with a suitable plug-in
  such as <i class="progname">MathPlayer</i>.
  There&rsquo;s evidence that (La)TeX users are starting to use such
  browsers.  Some believe that XHTML+MathML now provides
  better online viewing than PDF.
  Work to produce XHTML+MathML is well advanced in both the
  TeX4ht and <i class="progname">TtH</i> projects for (La)TeX conversion.




<p>
  The <a href="http://www.mathjax.org"><i class="progname">MathJax</i></a> engine will process the
  content of LaTeX <code>&#x5c;[</code> &hellip;&nbsp;<code>&#x5c;]</code> and <code>&#x5c;(</code> &hellip;&nbsp;<code>&#x5c;)</code>
  &lsquo;environments&rsquo; in an HTML document, to produce mathematical
  output that may (for example) be cut-and-pasted into other programs.

<p>
  Incorporation into your document can be

  as simple as incorporating:
<pre>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
</script>
</pre>
  into the header of your HTML document,







  though the <a href="http://www.mathjax.org/">MathJax project&rsquo;s site</a>
  also allows you to download your own copy and install it on one of
  <em>your</em> servers.  <i class="progname">MathJax</i> is open source software, so
  you could, in principle, extend it to do even more eccentric tasks.

<p>
  An approach different from (La)TeX conversion is taken by
  the <a href="http://www.albany.edu/~hammond/gellmu/"><em>GELLMU</em> Project</a>.
  Its <em>article</em> XML document type, which has a markup vocabulary
  close to LaTeX that can be edited using LaTeX-like markup
  (even though it is not LaTeX&nbsp;&mdash; so far), comes with translators
  that make both PDF (via <em>pdflatex</em>) and
  XHTML+MathML.  Such an approach avoids the inherent
  limitations of the &ldquo;traditional&rdquo; (La)TeX translation processes,
  which have traps that can be sprung by unfettered use of (La)TeX
  markup.
<dt class="description">Graphics</dt><dd> 
  SVG is a standard for graphics representation on the web.
  While the natural use is for converting existing figures,
  representations of formulas are also possible, in place of the separate
  bitmaps that have been used in the past (and while we wait for the
  wider deployment of MathML).

<p>
  Browser plug-ins, that deal with SVG are already available
  (Adobe offer one, for example).  More recently, the open source
  graphics editor <a href="http://www.inkscape.org/"><i class="progname">Inkscape</i></a>
  has appeared, and has been reported to be useful for
  SVG-related work in at least one TeX-related project.  Be
  aware that the developers of <i class="progname">Inkscape</i> have no illusions
  about being able to replace commercial software, yet&hellip;
<dt class="description">Direct use of TeX markup</dt><dd>
  Some time back, IBM developed a browser plug-in called
  TechExplorer, which would display (La)TeX documents direct in a
  browser.  Over the years, it developed into a MathML browser
  plug-in, while still retaining its (La)TeX abilities, but it&rsquo;s now
  distributed (free for Linux and Windows platforms) by
  <a href="http://www.integretechpub.com/">Integre Technical Publishing</a>.

<p>
  The disadvantage of the TechExplorer approach is that it places the
  onus on the browser user; and however technically proficient
  <em>you</em> are, it&rsquo;s never safe to assume too much of your readers.
  An interesting alternative is
  <a href="http://www.forkosh.com/mathtex.html">MathTeX</a>, which sits
  on your server as a CGI script, and you use it to include
  your TeX, in your HTML, as if it were an image:
<blockquote>

<pre>
<img src="/cgi-bin/mathtex.cgi?f(x)=\int\limits_{-\infty}^xe^{-t^2}dt">
</pre>


<pre>
<img src="/cgi-bin/mathtex.cgi?f(x)=
   \int\limits_{-\infty}^xe^{-t^2}dt">
</pre>

</blockquote>
(<i class="package">Mathtex</i> supersedes the author&rsquo;s earlier <i class="package">mimetex</i>.)
</dl>
<dl>
<dt class="ctanref">Asana Math fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/asana-math">asana-math</a>
<dt class="ctanref">GELLMU</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/gellmu">gellmu</a>
<dt class="ctanref">MathTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/MathTeX">MathTeX</a>
<dt class="ctanref">MimeTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/MimeTeX">MimeTeX</a>
<dt class="ctanref">STIX fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/stix">stix</a>
<dt class="ctanref">tex4ht</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/tex4ht">tex4ht</a> (but see <a href="http://tug.org/tex4ht/">http://tug.org/tex4ht/</a>)
<dt class="ctanref">unicode-math.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/unicode-math">unicode-math</a>
<dt class="ctanref">XITS fonts</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xits">xits</a>
</dl>

<p class="lastedit">This answer last edited: 2011-10-17</p>

<p>
[[[Question]]][Q-textrace][[[LBRACE]]]Making outline fonts from MetaFont[[[RBRACE]]]

<p>
<i class="progname">TeXtrace</i>, originally developed by  P&eacute;ter Szab&oacute;, is a
bundle of Unix scripts that use  Martin Weber&rsquo;s freeware boundary
tracing package
<a href="http://autotrace.sourceforge.net"><i class="progname">autotrace</i></a> to 
generate Type&nbsp;1 outline fonts from MetaFont bitmap 
font outputs.  The result is unlikely ever to be of the quality of
the commercially-produced Type&nbsp;1 font, but there&rsquo;s always the
<a href="http://fontforge.sourceforge.net/"><i class="progname">FontForge</i></a> font
editor to tidy things.  Whatever, there
remain fonts which many people find useful and which fail to attract
the paid experts, and auto-tracing is providing a useful service here.
Notable sets of
fonts generated using <i class="progname">TeXtrace</i> are P&eacute;ter Szab&oacute;&rsquo;s own
EC/TC font set <i class="fontname">tt2001</i> and Vladimir Volovich&rsquo;s
CM-Super set, which covers the EC, TC, and the
Cyrillic LH font sets (for details of both of which sets, see
<a class="FAanswer.html" href="FAQ-type1T1.html">&ldquo;8-bit&rdquo; type 1 fonts</a>).

<p>
Another system, which arrived slightly later, is 
<a href="http://www.cs.uu.nl/~hanwen/mftrace/"><i class="progname">mftrace</i></a>:
this is a small <i class="progname">Python</i> program that does the same job.
<i class="progname">Mftrace</i> may use either <i class="progname">autotrace</i> (like
<i class="progname">TeXtrace</i>) or Peter Selinger&rsquo;s
<a href="http://potrace.sourceforge.net"><i class="progname">potrace</i></a> to produce
the initial outlines to process.  <i class="progname">Mftrace</i> is said to be
more flexible, and easier to use, than is <i class="progname">TeXtrace</i>, but both systems
are increasingly being used to provide Type&nbsp;1 fonts to the public domain.

<p>
The <i class="progname">MetaType1</i> system aims to use MetaFont font sources, by way
of MetaPost and a bunch of scripts and so on, to produce high-quality
Type&nbsp;1 fonts.  The first results, the 
<a href="FAQ-type1T1.html"><i class="package">Latin Modern</i> fonts</a>, are now
well-established, and a bunch of existing designs have been reworked
in MetaType1 format.

<p>
<i class="package">Mf2pt1</i> is another translator of MetaFont font sources by way of
MetaPost; in addition,
available, <i class="package">mf2pt1</i> will use
<a href="http://fontforge.sourceforge.net/"><i class="progname">fontforge</i></a> (if it&rsquo;s
available) to auto-hint the result of its conversion.
(<i class="package">Mf2pt1</i> is also written in <i class="progname">perl</i>.)
<dl>
<dt class="ctanref">MetaType1</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/metatype1">metatype1</a>
<dt class="ctanref">mf2pt1</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/mf2pt1">mf2pt1</a>
</dl>

<p>
[[[Question]]][Q-WYGexpts][[[LBRACE]]]The TeX document preparation environment[[[RBRACE]]]

<p>
&ldquo;<a href="FAQ-notWYSIWYG.html">Why TeX is not WYSIWYG</a>&rdquo;
outlines the reasons (or excuses) for the huge disparity of user
interface between &ldquo;typical&rdquo; TeX environments and commercial word
processors.

<p>
Nowadays, at last, there is a range of tools available that try either
to bridge or to close the gap.  One range modestly focuses on
providing the user with a legible source document.  At the other
extreme we have <a href="http://www.texmacs.org"><i class="progname">TeXmacs</i></a>,
a&nbsp;document processor using
TeX&rsquo;s algorithms and fonts for both editor display and printing.
<i class="progname">TeXmacs</i> does not use the TeX
language itself (though among other formats, LaTeX may be exported
and imported).  A bit closer to LaTeX is
<a href="http://www.lyx.org/">LyX</a>, which has its own
editor display and file formats as well, but does its print output by
exporting to LaTeX.  The editor display merely resembles the
printed output, but you have the possibility of entering arbitrary
LaTeX code.  If you use constructs that LyX does not
understand, it will just display them as source text marked red, but
will properly export them.

<p>
Since a lot of work is needed to create an editor from scratch that
actually is good at editing (as well as catering for TeX), it is
perhaps no accident that several approaches have been implemented
using the extensible <i class="progname">emacs</i> editor.  The low end of the
prettifying range is occupied by syntax highlighting: marking TeX
tokens, comments and other stuff with special colours.
Many free editors (including <i class="progname">emacs</i>) can cater for TeX in
this way.  Under Windows, one of the more popular editors with such
support is the
Shareware product <a href="http://www.winedt.com/"><i class="progname">winedt</i></a>.
Continuing the range of
tools prettifying your input, we have the <i class="progname">emacs</i> package
<a href="http://x-symbol.sourceforge.net"><i class="package">x-symbol</i></a>, which does
the WYSIWYG part of its work by replacing single TeX tokens and
accented letter sequences with appropriate-looking characters on the
screen.

<p>
A different type of tool focuses on making update and access to
previews of the typeset document more immediate.  A recent addition
in several viewers, editors and TeX executables are so-called
&lsquo;source specials&rsquo; for cross-navigation.  When TeX compiles a
document, it will upon request insert special markers for every input
line into the typeset output.  The markers are interpreted by the DVI
previewer which can be made to let its display track the page
corresponding to the editor input position, or to let the editor jump
to a source line corresponding to a click in the preview window.

<p>
An <i class="progname">emacs</i> package that combines this sort of editor movement
tracking with automatic fast recompilations (through the use of dumped
formats) is
<a href="http://pauillac.inria.fr/whizzytex/"><i class="package">WhizzyTeX</i></a>
 which is best used with a previewer by the
same author.

<p>
Another <i class="progname">emacs</i> package called
<a href="http://preview-latex.sourceforge.net"><i class="package">preview-latex</i></a>
tries to solve
the problem of visual correlation between source and previews in a
more direct way: it uses a LaTeX package to chop the document source
into interesting fragments (like figures, text or display math) which
it runs through LaTeX and replaces the source text of those
fragments with the corresponding rendered output images.  Since it
does not know about the structure of the images, at the actual cursor
position the source text is displayed while editing rather than the
preview.  This approach is more or less a hybrid of the source
prettifying and fast preview approaches since it works in the source
buffer but uses actual previews rendered by LaTeX.

<p>
A more ambitious contender is called TeXlite.  This
system is only available on request from its author;
it continuously updates its screen with the help of a special version
of TeX dumping its state in a compressed format at each page and
using hooks into TeX&rsquo;s line breaking mechanism for reformatting
paragraphs on the fly.  That way, it can render the output from the
edited TeX code with interactive speed on-screen, and it offers the
possibility of editing directly in the preview window.

<p>
That many of these systems occupy slightly different niches can be
seen by comparing the range of the
<i class="progname">emacs</i>-based solutions ranging from syntax highlighting to instant
previewing: all of them can be activated at the same time without
actually interfering in their respective tasks.

<p>
The different approaches offer various choices differing in the
immediacy of their response, the screen area they work on (source or
separate window), degree of correspondence of the display to the final
output, and the balance they strike between visual aid and visual
distraction.
<dl>
<dt class="ctanref">preview-latex</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/preview-latex">auctex</a>
<dt class="ctanref">texmacs</dt><dd>Browse <a class="ctan" href="https://www.ctan.org/pkg/texmacs">texmacs</a>
</dl>

<p>
[[[Question]]][Q-omegaleph][[[LBRACE]]]Omega and Aleph[[[RBRACE]]]

<p>
Omega was developed as an extension of
TeX, to use with multilingual texts, expressed in a variety of
input encodings.  Omega uses 16-bit, Unicode-encoded, characters.  It
provides many innovative concepts, notably including the &ldquo;translation
process&rdquo; that takes a character stream and transforms it according to
various processes that may be internally specified, or be a separate
program.

<p>
While Omega showed a lot of promise at its mid-1990s announcement,
progress was slow, and development was essentially dead by the time
that one of the original developers withdrew (taking with him a bunch
of research students).

<p>
Before that distressing event, a separate thread of development had
started, to produce a program 
called Aleph, which merged the facilities of
<a href="FAQ-etex.html">e-TeX</a> into a stable Omega codebase and added other
extensions.  Aleph also proved an attractive platform for many people;
but its development, too, has dried up.

<p>
A presentation at EuroTeX 2006 claimed that development of Omega
was picking up again, in parallel with research into what the (new)
developers consider a rational scheme for supporting TeX-style
typesetting.  The new system was to be known as Omega-2
(Omega subscript 2), and was to be
designed in a modular fashion so that support of new facilities (such
as use of advanced OpenType fonts) could be added in a relatively
straightforward fashion.  A quick web search leads to a recommendation
that potential users consider <a href="FAQ-luatex.html">LuaTeX</a> instead;
fortunately, lessons learned in Aleph project have been carried
forward in the development of LuaTeX.

<p>
[[[Question]]][Q-xetex][[[LBRACE]]]XeTeX[[[RBRACE]]]

<p>
<a href="http://scripts.sil.org/xetex">XeTeX</a>, by Jonathan Kew, is a
successor to the shareware TeX/GX program for Macintoshes.  It was
developed as a WEB &lsquo;change file&rsquo; applied to the original source
of TeX; the main changes include:
<dl>
<dt class="description">The input stage</dt><dd> XeTeX by default reads Unicode (UTF-8, for
  instance), although it&rsquo;s also capable of interpreting differently
  encoded files (for backwards compatibility).  Multibyte characters
  are reduced to a single internal character upon reading, so they are
  considered as a unique entity when tokenization is performed.  (So,
  for example, you can have command names in cyrillic, if you must,
  but such a practice is not recommended.)
<dt class="description">The font management</dt><dd> a substantial revision has added support
  for OpenType and TrueType fonts, delegating some parts to
  third-party libraries.
<dt class="description">The maths font set up</dt><dd> XeTeX introduces new primitives for
  extending the <code>&#x5c;mathcode</code> and <code>&#x5c;mathchardef</code> commands in TeX,
  allowing the user to specify characters in the whole Unicode set and
  in 256 &lsquo;math families&rsquo; (TeX only has 16, which limits some maths
  coding techniques).
<dt class="description">&ldquo;Post-processing&rdquo; features (A)</dt><dd> XeTeX links to the
  <i class="progname">teckit</i> library so it can apply a <code class="extension">map</code> file
  that allows transformation of characters in already formed token
  lists, before they are processed in the &ldquo;stomach&rdquo; for typesetting.
  In this way, a declaration &ldquo;<tt>Ligatures=TeX</tt>&rdquo; is provided,
  which attaches a map directive to the font that transforms the
  character combinations (familiar to TeX users) into a single
  character; for instance <tt>---</tt> is transformed into
  &ldquo;&mdash;&rdquo;.
<dt class="description">&ldquo;Post-processing&rdquo; features (B)</dt><dd> Characters can be assigned to
  an &ldquo;interchar token class&rdquo; and it is possible to specify tokens to
  be added when there is a transition from one class to another.  The
  packages <i class="package">polyglossia</i>, <i class="package">xeCJK</i> and
  <i class="package">ucharclasses</i> exploit this feature.
</dl>
Otherwise, the process of typesetting is essentially the same as
TeX&rsquo;s.  (However some changes have also been made in the
hyphenation stage that may give slightly different results if the same
document is compiled with PDFTeX or XeTeX.)
<dl>
<dt class="ctanref">polyglossia.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/polyglossia">polyglossia</a>
<dt class="ctanref">xeCJK.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/xecjk">xecjk</a>
<dt class="ctanref">ucharclasses.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ucharclasses">ucharclasses</a>
</dl>

<p class="lastedit">This answer last edited: 2013-02-21</p>

<p>

<p>
[[[Question]]][Q-luatex][[[LBRACE]]]PDFTeX and LuaTeX[[[RBRACE]]]

<p>
Elsewhere in these FAQs, we learn that development of
<a href="FAQ-whatpdftex.html">PDFTeX</a> is &ldquo;in essence&rdquo; complete&nbsp;&mdash; no new
facilities are being developed at the time of writing.  The PDFTeX
team has announced that they have frozen PDFTeX&rsquo;s specification in
its current state (version 1.40.11), and that nothing but bug
corrections will be provided up to the time of the final release,
PDFTeX 1.50.0.  (The interpretation of the statement seems to allow
sensible changes that are beyond any reasonable definition of
<em>bug</em>&hellip;)

<p>
As PDFTeX development ran down,
development of a new system, LuaTeX was started.
<a href="http://www.lua.org/"><i class="progname">Lua</i></a> is a interpreter designed
to be incorporated into other applications.  LuaTeX consists of a
TeX-like engine with a <i class="progname">lua</i> interpreter &lsquo;embedded&rsquo; in it;
the <i class="progname">lua</i> interpreter has access to many of the data
structures used for typesetting, so that the programmer may also
interpolate chunks of <i class="progname">lua</i> code into their (La)TeX macros,
or as &lsquo;call-backs&rsquo; for use when the TeX-like engine does certain
operations.

<p>
This arrangement offers the prospect of a &ldquo;semi-soft&rdquo; typesetting
engine: it will have its basic behaviour, but the user gets to
redefine functionality if an idea occurs&nbsp;&mdash; there will be no need to
persuade the world first, and then find a willing developer to work on
the sources of of the distribution.

<p>
The <a href="http://www.luatex.org/">LuaTeX project</a> is (with monetary
support from various sources) pursuing avenues that many of the other
current projects have in their sights, notably Unicode character
representations and support for OpenType fonts.  The intention is
to integrate the extensions pioneered by <a href="FAQ-omegaleph.html">Aleph</a>.
Users may also care to view the 
<a href="http://www.luatex.org/documentation.html">LuaTeX documentation page</a>
or the <a href="http://wiki.luatex.org">LuaTeX WIKI</a>

<p>
texlive (2013) holds version 0.76.0 of LuaTeX.  This version
demonstrates the &ldquo;final functionality&rdquo;, though the project
remains a &beta;-release.  Functional stability was first
declared for version 0.50.0, released near the end of December 2009.

<p>
CONTeXT &lsquo;Mark 4&rsquo; can already make use of LuaTeX; much of its
code already appears in two forms&nbsp;&mdash; a TeX-based version
(<code class="extension">mkii</code>) and a &lsquo;<code class="extension">mkiv</code>&rsquo; version (new functionality
typically <em>only</em> appears in &lsquo;<code class="extension">mkiv</code>&rsquo; form), which uses
LuaTeX extensions (including <i class="progname">lua</i> scripting).  LaTeX
packages that support its use are appearing (some of them providing
re-implementations of existing Context code).

<p>
LaTeX running over LuaTeX (commonly known as LuaLaTeX) is not
an &ldquo;official&rdquo; entity (yet), but useful packages are
appearing (i.e., the CTAN path <tt class="path">macros/luatex/latex</tt> holds
several items).
<dl>
<dt class="ctanref">LuaTeX snapshot</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/luatex">luatex</a>
<dt class="ctanref">PDFTeX distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pdftex">pdftex</a>
</dl>

<p class="lastedit">This answer last edited: 2013-05-21</p>

<p>
[[[Question]]][Q-ant][[[LBRACE]]]The <span class="sans">ANT</span> typesetting system[[[RBRACE]]]

<p>
Achim Blumensath&rsquo;s <a href="http://ant.berlios.de"><span class="sans">ANT</span></a> project
aims not to replicate TeX with a different implementation
technique, but rather to provide a replacement for TeX which uses
TeX-like typesetting algorithms in a very different programming
environment.  <span class="sans">ANT</span> remains under development, but it is now
approaching the status of a usable typesetting system.

<p>
<span class="sans">ANT</span>&rsquo;s markup language is immediately recognisable to the
(La)TeX user, but the scheme of implementing design in
<span class="sans">ANT</span>&rsquo;s own implementation language (presently
<i class="progname">OCaml</i>) comes as a pleasant surprise to the jaded FAQ
writer.  This architecture holds the promise of a system that avoids a
set of serious problems with TeX&rsquo;s user interface: those that
derive from the design language being the same as the markup language.
<dl>
<dt class="ctanref"><span class="sans">ANT</span></dt><dd><a class="ctan" href="https://www.ctan.org/pkg/ant">ant</a>
</dl>

<p>
[[[Question]]][Q-extex][[[LBRACE]]]The ExTeX project[[[RBRACE]]]

<p>
<a href="http://www.extex.org/">The ExTeX project</a> is
building on the experience of the many existing TeX development and
extension projects, to develop a new TeX-like system.  The system
is to be developed in Java (like the ill-fated NTS project).

<p>
While ExTeX will implement all of TeX&rsquo;s primitives, some may be
marked as obsolete, and &ldquo;modern&rdquo; alternatives provided (an obvious
example is the primitive <code>&#x5c;input</code> command, whose syntax inevitably
makes life difficult for users of modern operating system file
paths).  Desirable extensions from <a href="FAQ-etex.html">e-TeX</a>,
<a href="FAQ-whatpdftex.html">PDFTeX</a> and <a href="FAQ-omegaleph.html">&Omega;</a>
have been identified.

<p>
Usability will be another focus of the work: debugging support and log
filtering mechanisms will please those who have long struggled with
TeX macros.

<p>
ExTeX will accept Unicode input, from the start.  In the longer
term, drawing primitives are to be considered.

<p>
[[[Question]]][Q-biblatex][[[LBRACE]]]Replacing the BibTeX&ndash;LaTeX mechanism[[[RBRACE]]]

<p>
Producing a successor to BibTeX has long been a favoured activity
among a certain class of TeX-users; the author has seen reports of
progress (on several projects), over the years, but few that claim to
be ready for &ldquo;real-world&rdquo; use.

<p>
Few would deny that BibTeX is ripe for renewal: as originally
conceived, it was a program for creating bibliographies for technical
documents, in English.  People have contributed mechanisms for a
degree of multilingual use (whose techniques are arcane, and quite
likely inextensible), while an extension (<i class="progname">bibtex8</i>) allows
use with 8-bit character codes, thus providing some multilingual
capabilities.  In addition, specialist BibTeX style files are
available for use in non-technical papers.

<p>
BibTeX uses a style language whose mechanisms are unfamiliar to
most current programmers: it&rsquo;s difficult to learn, but since there are
few opportunities to write the language, it&rsquo;s also difficult to become
fluent (in the way that so many people fluently write the equally
arcane TeX macro language).

<p>
Oren Patashnik (the author of BibTeX) summarises the issues as he
sees them, in a 
<a href="http://tug.org/TUGboat/Articles/tb24-1/patashnik.pdf">TUG conference paper from 2003</a>
that seems to suggest that we might expect a
BibTeX&nbsp;1.0 &hellip; which hasn&rsquo;t (yet) appeared.

<p>
In the absence of BibTeX&nbsp;1.0, what do we need from the bibliography
system of the future?&nbsp;&mdash; simple: a superset of what BibTeX does
(or can be made to do), preferably implementing a simpler style
language, and with coherent multilingual capabilities.

<p>
There are two parts to a bibliography system; processing the database
of citations, and typesetting the results.  The existing BibTeX
system provides a means of processing the database, and there are
macros built into LaTeX, as well as many LaTeX packages, that
process the results.

<p>
Of the direct BibTeX replacements, only two have been submitted to
CTAN: CrossTeX and <i class="progname">biber</i>.

<p>
CrossTeX&rsquo;s language feels familiar to the existing user of
BibTeX, but it&rsquo;s redesigned in an object-oriented style, and looks
(to a non-user) as if it may well be adequately flexible.  It is said
to operate as a BibTeX replacement.

<p>
CrossTeX&rsquo;s team respond to queries, and seem well aware of the
need for multilingual support, though it isn&rsquo;t currently offered.

<p>
<i class="progname">Biber</i> is intimately associated with the LaTeX package
<i class="package">biblatex</i>; it is logically a BibTeX replacement, but is also
capable of using bibliography databases in its own
<i class="progname">biblatexml</i> (XML-based) format.  <i class="package">Biblatex</i>
can also use BibTeX, but <i class="progname">biber</i> opens up a far wider
range of possibilities, including full Unicode support.

<p>
<i class="package">Biblatex</i> is a processor for the output of an application
such as <i class="progname">biber</i> or BibTeX; the style of citations and of
the bibliography itself (in your document) is determined by the way
your <i class="package">biblatex</i> style has been set up, not on some
BibTeX-LaTeX package combination.  <i class="package">Biblatex</i>&rsquo;s
structure thus eliminates the collections of BibTeX styles, at a
stroke; it comes with a basic set of styles, and details are
determined by options, set at package loading time.  The author,
Philipp Lehman, evaluated the whole field of bibliography software
before starting, and as a result the package provides answers to
many of the questions asked in the bibliography sections of these
FAQs.

<p>
<i class="package">Biblatex</i> was released as experimental software, but it&rsquo;s
clear that many users are already using it happily; Lehman is
responsive to problem reports, at the moment, but a <em>de facto</em>
set of expert users is already establishing itself.  A set of
contributed styles has appeared, which cover some of the trickier
bibliography styles.  The road map of the project shows that we are
now working on the final <em>beta</em> releases before the &ldquo;stable&rdquo;
<i class="package">biblatex</i>&nbsp;1.0.

<p>
Finally, <i class="package">Amsrefs</i> uses a transformed <code class="extension">bib</code> file,
which is expressed as LaTeX macros.  (The package provides a
BibTeX style that performs the transformation, so that a LaTeX
source containing a <code>&#x5c;nocite</code><code>&#x7b;*&#x7d;</code> command enables BibTeX to
produce a usable <i class="package">amsrefs</i> bibliography database.)

<p>
<i class="package">Amsrefs</i> is maintained by the AMS as part of its author
support programme,
<dl>
<dt class="ctanref">amsrefs.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/amsrefs">amsrefs</a>
<dt class="ctanref">biber</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biber">biber</a>
<dt class="ctanref">biblatex.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex">biblatex</a>
<dt class="ctanref">bibtex8</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/bibtex8">bibtex8</a>
<dt class="ctanref">biblatex contributions</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/biblatex-contrib">biblatex-contrib</a>
<dt class="ctanref">CrossTeX</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/crosstex">crosstex</a>
</dl>

<p>


<p>

<p>

<p>
[[[Question]]][Q-noans][[[LBRACE]]]You don&rsquo;t understand the answer[[[RBRACE]]]

<p>
While the FAQ maintainers don&rsquo;t offer a &lsquo;help&rsquo; service, they&rsquo;re
very keen that you understand the answers they&rsquo;ve already written.
They&rsquo;re (almost) written &ldquo;in a vacuum&rdquo;, to provide something to
cover a set of questions that have arisen; it&rsquo;s always possible that
they&rsquo;re written in a way that a novice won&rsquo;t understand them.

<p>
Which is where you can help the community.  Mail the 

  <a href="mailto:faq-devel@tex.ac.uk">maintainers</a>




to report the answer that you find unclear, and (if you can) suggest
what we need to clarify.  Time permitting (the team is small and all
its members are busy), we&rsquo;ll try and clarify the answer.  This way,
with a bit of luck, we can together improve the value of this resource
to the whole community.

<p>
Note that the FAQ development email address is not for
answering questions: it&rsquo;s for you to suggest which questions we should
work on, or new questions we should answer in future editions.

<p>
Those who simply ask questions at that address will be referred to
<a href="mailto:texhax@tug.org">texhax@tug.org</a> or to <i class="newsgroup">comp.text.tex</i>.

<p>
[[[Question]]][Q-newans][[[LBRACE]]]Submitting new material for the FAQ[[[RBRACE]]]

<p>
The FAQ will never be complete, and we always expect that
there will be people out there who know better than we do about
something or other.  We always need to be put right about whatever
we&rsquo;ve got wrong, and suggestions for improvements, particularly
covering areas we&rsquo;ve missed, are always needed: mail anything you have
to the

  <a href="mailto:faq-devel@tex.ac.uk">maintainers</a>





<p>
If you have actual material to submit, your contribution is more than
ever welcome.  Submission in plain text is entirely acceptable, but
if you&rsquo;re really willing, you may feel free to mark up your submission
in the form needed for the FAQ itself.  The markup is a
strongly-constrained version of LaTeX&nbsp;&mdash; the constraints come from
the need to translate the marked-up text to HTML on the fly
(and hence pretty efficiently).  There is a file <i class="filename">markup-syntax</i>
in the FAQ distribution that describes the structure of the
markup, but there&rsquo;s no real substitute for reading at least some of
the source (<i class="filename">faqbody.tex</i>) of the FAQ itself.  If you
understand <i class="progname">Perl</i>, you may also care to look at the
translation code in <i class="filename">texfaq2file</i> and <i class="filename">sanitize.pl</i> in the
distribution: this isn&rsquo;t the code actually used on the Web site, but
it&rsquo;s a close relation and is kept
up to date for development purposes.
<dl>
<dt class="ctanref">FAQ distribution</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/faq">faq</a>
</dl>

<p>
[[[Question]]][Q-bug][[[LBRACE]]]What to do if you find a bug[[[RBRACE]]]

<p>
For a start, make entirely sure you <em>have</em> found a bug.
Double-check with books about TeX, LaTeX, or whatever you&rsquo;re using;
compare what you&rsquo;re seeing against the other answers above; ask every
possible person you know who has any TeX-related expertise.
The reasons for all this caution are various.

<p>
If you&rsquo;ve found a bug in TeX itself, you&rsquo;re a rare animal indeed.
Don Knuth is so sure of the quality of his code that he offers real
money prizes to finders of bugs; the cheques he writes are
such rare items that they are seldom cashed. If <em>you</em>
think you have found a genuine fault in TeX itself (or MetaFont, or the
CM fonts, or the TeXbook), don&rsquo;t immediately write to Knuth,
however. He only looks at bugs infrequently, and even then
only after they are agreed as bugs by a small vetting team. In the
first instance, contact Barbara Beeton at the AMS
(<a href="mailto:bnb@ams.org">bnb@ams.org</a>), or contact
<a href="FAQ-TUG*.html">TUG</a>.

<p>
If you&rsquo;ve found a bug in LaTeX 2e, <a href="FAQ-latexbug.html">report it</a>
using mechanisms supplied by the LaTeX team.  (Please be
careful to ensure you&rsquo;ve got a LaTeX bug, or a bug in one of the
&ldquo;required&rdquo;  packages distributed by the LaTeX team.)

<p>
If you&rsquo;ve found a bug in a contributed LaTeX package, the best
starting place is usually to ask in the &ldquo;usual places for 
<a href="FAQ-gethelp.html">help on-line</a>, or just possibly one of the 
<a href="FAQ-maillists*.html">specialised mailing lists</a>.
The author of the package may well answer on-line, but if no-one
offers any help, you may stand a chance if you mail the author
(presuming that you can find an address&hellip;).

<p>
If you&rsquo;ve found a bug in LaTeX 2.09, or some other such unsupported
software, your only real hope is <a href="FAQ-gethelp.html">help on-line</a>.

<p>
Failing all else, you may need to pay for
help&nbsp;&mdash; TUG maintains a 
<a href="http://www.tug.org/consultants.html">register of TeX consultants</a>.
(This of course requires that you have the resources&nbsp;&mdash; and a
pressing  enough need&nbsp;&mdash; to hire someone.)

<p>

<p>



[[[Question]]][Q-latexbug][[[LBRACE]]]Reporting a LaTeX bug[[[RBRACE]]]







<p>
The LaTeX team supports LaTeX, and will deal with

<em>bona fide</em> bug reports.  Note that the LaTeX team does
<em>not</em> deal with contributed packages&nbsp;&mdash; just the software that
is part of the LaTeX distribution itself: LaTeX and the
&ldquo;required&rdquo; packages.
Furthermore, you need to be slightly
careful to produce a bug report that is usable by the team.  The steps
are:

<p>
<b>1.</b> Are you still using current LaTeX?  Maintenance is only
available for sufficiently up-to-date versions of LaTeX&nbsp;&mdash; if your
LaTeX is more than two versions out of date, the bug reporting
mechanisms may reject your report.

<p>
<b>2.</b> Has your bug already been reported?  Browse the

<a href="http://www.latex-project.org/cgi-bin/ltxbugs2html?introduction=yes">LaTeX bugs database</a>,
to find any earlier instance of your bug.  In many cases, the database
will list a work-around.

<p>
<b>3.</b> Prepare a 
<a href="FAQ-minxampl.html">&ldquo;minimum&rdquo; file</a> that exhibits the problem.
Ideally, such a file should contain no contributed packages&nbsp;&mdash; the
LaTeX team as a whole takes no responsibility for such packages (if
they&rsquo;re supported at all, they&rsquo;re supported by their authors).  The
&ldquo;minimum&rdquo; file should be self-sufficient: if a member of the team
runs it in a clean directory, on a system with no contributed
packages, it should replicate your problem.

<p>
<b>4.</b> Run your file through LaTeX: the bug
system needs the <code class="extension">log</code> file that this process creates.

<p>
<b>5.</b> Connect to the 
<a href="http://www.latex-project.org/bugs-upload.html">latex bugs processing web page</a>
and enter details of your bug&nbsp;&mdash; category, summary and full
description, and the two important files (source and log file).

<p>
The personal details are <em>not</em> optional: the members of the
LaTeX team may need to contact to discuss the bug with you, or to
advise you of a work-around.  Your details will not appear in the
public view of the database.

<p>




